!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r(r.s=358)}([function(e,t,r){"use strict";e.exports=r(60)},function(e,t,r){"use strict";var n,o,i,a,s,l,u,c,p,h,f,d,m,y,v,g,_,b=r(22),x=r(0),w=r.n(x),E=r(277),S=r(133),C=r(5),k=r(20),T=r(18),O=r(47),P=r(15),A=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function I(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function M(e,t,r,n,o){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var R=(n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),I(this,"activeFeature",o,this),I(this,"activeGroup",i,this),I(this,"editMode",a,this),I(this,"ready",s,this),I(this,"state",l,this),I(this,"changed",u,this),I(this,"saving",c,this),I(this,"scrollToIndex",p,this),I(this,"editableState",h,this),I(this,"panelSize",f,this),I(this,"pointDragging",d,this),I(this,"itemTreeUpdateNr",m,this),I(this,"itemTreeDragging",y,this),I(this,"mobile",v,this),I(this,"maxPanelSize",g,this),I(this,"hasCyrillicData",_,this),this.selectedMap=b.m.map(),this.isIE11=!!window.MSInputMethodContext&&!!document.documentMode,this.searchVisible=!1,this.popupWidth=0,this.popupHeight=0,this.previouslyExpandedGroupIds=[]}return A(e,[{key:"setSelected",value:function(e){e?this.selectedMap.replace(e):this.selectedMap.clear()}},{key:"activateFeature",value:function(e,t){if(t=Object.assign({setViewToFeature:!1,openPopup:!0,scrollTo:!0,skipDrawWarning:!1},t),Object(C.a)("activateFeature.1 "+e.title,t),e)if(T.a.featureMap.has(e.id))if(!this.draw||t.skipDrawWarning){if(e.visible||e.setVisible(!0),e.group&&(e.group.visible||e.group.setVisible(!0),e.group.expanded||e.group.setExpanded(!0)),this.setPanelState("item"),this.activeFeature===e)return Object(C.a)("activateFeature.3 activeFeature === feature"),t.openPopup&&e.openPopup({}),void(t.scrollTo&&(Object(C.a)("activateFeature.9 scrollToIndex"),this.scrollToFeature(e)));t.prevFeature=this.activeFeature,Object(C.a)("activateFeature.4 deactivateAll"),this.deactivateAll(),Object(C.a)("activateFeature.5 activeFeature"),this.activeFeature=e,Object(C.a)("activateFeature.6"),t.setViewToFeature&&(Object(C.a)("activateFeature.7 setViewToFeature"),Object(S.c)(e,t)),t.openPopup&&!t.setViewToFeature&&(Object(C.a)("activateFeature.8 openPopup"),e.openPopup({})),t.scrollTo&&(Object(C.a)("activateFeature.9 scrollToIndex"),this.scrollToFeature(e)),Object(C.a)("activateFeature.10 "+e.title)}else P.a.showText("Please finish drawing");else Object(C.b)("activateFeature.2 cannot activate feature, not in store")}},{key:"activateFeatureId",value:function(e,t){if(!T.a.featureMap.has(e))return Object(C.a)("activateFeatureId: "+e),void Object(C.b)("cannot activate feature id, not in store");this.activateFeature(T.a.featureMap.get(e),t)}},{key:"setScrollToIndex",value:function(e){this.scrollToIndex=e}},{key:"scrollToFeature",value:function(e){var t=this;this.itemTreeIndexMap&&(this.setScrollToIndex(void 0),window.setTimeout(function(){t.itemTreeIndexMap.has(e.id)?(t.setScrollToIndex(t.itemTreeIndexMap.get(e.id)),window.setTimeout(function(){t.setScrollToIndex(void 0)},0)):Object(C.a)("scrollToFeature.index_map_item_missing "+e.title+" "+e.id)},0))}},{key:"deactivateFeature",value:function(){this.activeFeature&&(Object(C.a)("deactivateFeature"),this.activeFeature.disableEdit(),this.activeFeature.closePopup(),this.activeFeature=null)}},{key:"activateGroup",value:function(e){Object(C.a)("activateGroup.1 "+e.title),e&&(O.a.groupMap.has(e.id)?(this.deactivateAll(),this.activeGroup=e,Object(C.a)("activateGroup.6"),this.setPanelState("item"),Object(C.a)("activateGroup.10 "+e.title)):Object(C.b)("activateGroup.2 cannot activate group, not in store"))}},{key:"activateGroupId",value:function(e,t){if(!O.a.groupMap.has(e))return Object(C.a)("activateGroupId: "+e),void Object(C.b)("cannot activate group id, not in store");this.activateGroup(O.a.groupMap.get(e),t)}},{key:"deactivateGroup",value:function(){this.activeGroup&&(Object(C.a)("deactivateGroup"),this.activeGroup=null)}},{key:"deactivateAll",value:function(){this.deactivateFeature(),this.deactivateGroup(),Object(E.a)(),this.setEditorTool("select")}},{key:"setReady",value:function(e){this.ready=e}},{key:"setPanelState",value:function(e){L.includes(e)||alert("wrong state: "+e),this.state=e}},{key:"setPanelSize",value:function(e,t){t&&(this.panelSize+=t),null!==e&&(this.panelSize=e),this.panelSize=Math.min(Math.max(this.panelSize,0),this.maxPanelSize),this.activeFeature&&this.scrollToFeature(this.activeFeature)}},{key:"saveOn",value:function(){Object(C.a)("saveOn"),this.changed=!0}},{key:"saveOff",value:function(){Object(C.a)("saveOff"),this.changed=!1,this.saving=!1}},{key:"setSaving",value:function(e){this.saving=e}},{key:"setEditorTool",value:function(e){this.editMode&&(this.editableState=e)}},{key:"updateTree",value:function(){this.itemTreeUpdateNr=Object(k.e)(1,4294967296)}},{key:"setItemTreeDragging",value:function(e){this.itemTreeDragging=e}},{key:"setMobile",value:function(e){this.mobile=e}},{key:"setHasCyrillicData",value:function(e){this.hasCyrillicData=!!e}},{key:"deleteActiveFeature",value:function(){var e=this;this.activeFeature&&P.a.showCustom(w.a.createElement("div",null,w.a.createElement("p",{className:"overlay-title"},"Delete item"),w.a.createElement("p",null,"Are you sure you want to delete this item?")),function(){T.a.removeFeature(e.activeFeature),e.deactivateAll(),e.saveOn()},"Delete","Cancel")}},{key:"deleteActiveGroup",value:function(){var e=this;this.activeGroup&&P.a.showCustom(w.a.createElement("div",null,w.a.createElement("p",{className:"overlay-title"},"Delete group"),w.a.createElement("p",null,"Are you sure you want to delete this group?")),function(){if(e.activeGroup){var t=e.activeGroup.id,r=T.a.featureArray.filter(function(e){return e.group_id===t});O.a.removeGroup(e.activeGroup),e.deactivateAll();var n=!0,o=!1,i=void 0;try{for(var a,s=r[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){a.value.setGroup(null)}}catch(e){o=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}e.saveOn(),r.length&&P.a.showCustom(w.a.createElement("div",null,w.a.createElement("p",{className:"overlay-title"},"Delete items"),w.a.createElement("p",{className:"text-center"},"Also delete included items?")),function(){var e=!0,t=!1,n=void 0;try{for(var o,i=r[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var a=o.value;T.a.removeFeature(a)}}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}},"Yes","No")}},"Delete","Cancel")}},{key:"closeAllPopups",value:function(){var e=!0,t=!1,r=void 0;try{for(var n,o=T.a.featureArray[Symbol.iterator]();!(e=(n=o.next()).done);e=!0){n.value.closePopup()}}catch(e){t=!0,r=e}finally{try{!e&&o.return&&o.return()}finally{if(t)throw r}}}},{key:"hasSelected",get:function(){return!!this.selectedMap.size}},{key:"selectedArray",get:function(){var e=this;if(this.hasSelected)return T.a.featureArray.filter(function(t){return e.selectedMap.has(t.id)})}},{key:"paddingSize",get:function(){return this.captureMode?.1*document.documentElement.clientHeight:this.mobile?10:50}}]),e}(),o=M(n.prototype,"activeFeature",[b.m],{enumerable:!0,initializer:null}),i=M(n.prototype,"activeGroup",[b.m],{enumerable:!0,initializer:null}),a=M(n.prototype,"editMode",[b.m],{enumerable:!0,initializer:null}),s=M(n.prototype,"ready",[b.m],{enumerable:!0,initializer:function(){return!0}}),l=M(n.prototype,"state",[b.m],{enumerable:!0,initializer:function(){return"map_info"}}),u=M(n.prototype,"changed",[b.m],{enumerable:!0,initializer:function(){return!1}}),c=M(n.prototype,"saving",[b.m],{enumerable:!0,initializer:function(){return!1}}),p=M(n.prototype,"scrollToIndex",[b.m],{enumerable:!0,initializer:null}),h=M(n.prototype,"editableState",[b.m],{enumerable:!0,initializer:function(){return"select"}}),f=M(n.prototype,"panelSize",[b.m],{enumerable:!0,initializer:null}),d=M(n.prototype,"pointDragging",[b.m],{enumerable:!0,initializer:function(){return!1}}),m=M(n.prototype,"itemTreeUpdateNr",[b.m],{enumerable:!0,initializer:function(){return 0}}),y=M(n.prototype,"itemTreeDragging",[b.m],{enumerable:!0,initializer:function(){return!1}}),v=M(n.prototype,"mobile",[b.m],{enumerable:!0,initializer:null}),g=M(n.prototype,"maxPanelSize",[b.m],{enumerable:!0,initializer:null}),_=M(n.prototype,"hasCyrillicData",[b.m],{enumerable:!0,initializer:function(){return!1}}),M(n.prototype,"hasSelected",[b.f],Object.getOwnPropertyDescriptor(n.prototype,"hasSelected"),n.prototype),M(n.prototype,"selectedArray",[b.f],Object.getOwnPropertyDescriptor(n.prototype,"selectedArray"),n.prototype),M(n.prototype,"paddingSize",[b.f],Object.getOwnPropertyDescriptor(n.prototype,"paddingSize"),n.prototype),M(n.prototype,"setSelected",[b.d],Object.getOwnPropertyDescriptor(n.prototype,"setSelected"),n.prototype),M(n.prototype,"activateFeature",[b.d],Object.getOwnPropertyDescriptor(n.prototype,"activateFeature"),n.prototype),M(n.prototype,"setScrollToIndex",[b.d],Object.getOwnPropertyDescriptor(n.prototype,"setScrollToIndex"),n.prototype),M(n.prototype,"scrollToFeature",[b.d],Object.getOwnPropertyDescriptor(n.prototype,"scrollToFeature"),n.prototype),M(n.prototype,"deactivateFeature",[b.d],Object.getOwnPropertyDescriptor(n.prototype,"deactivateFeature"),n.prototype),M(n.prototype,"activateGroup",[b.d],Object.getOwnPropertyDescriptor(n.prototype,"activateGroup"),n.prototype),M(n.prototype,"deactivateGroup",[b.d],Object.getOwnPropertyDescriptor(n.prototype,"deactivateGroup"),n.prototype),M(n.prototype,"setReady",[b.d],Object.getOwnPropertyDescriptor(n.prototype,"setReady"),n.prototype),M(n.prototype,"setPanelState",[b.d],Object.getOwnPropertyDescriptor(n.prototype,"setPanelState"),n.prototype),M(n.prototype,"setPanelSize",[b.d],Object.getOwnPropertyDescriptor(n.prototype,"setPanelSize"),n.prototype),M(n.prototype,"saveOn",[b.d],Object.getOwnPropertyDescriptor(n.prototype,"saveOn"),n.prototype),M(n.prototype,"saveOff",[b.d],Object.getOwnPropertyDescriptor(n.prototype,"saveOff"),n.prototype),M(n.prototype,"setSaving",[b.d],Object.getOwnPropertyDescriptor(n.prototype,"setSaving"),n.prototype),M(n.prototype,"setEditorTool",[b.d],Object.getOwnPropertyDescriptor(n.prototype,"setEditorTool"),n.prototype),M(n.prototype,"updateTree",[b.d],Object.getOwnPropertyDescriptor(n.prototype,"updateTree"),n.prototype),M(n.prototype,"setItemTreeDragging",[b.d],Object.getOwnPropertyDescriptor(n.prototype,"setItemTreeDragging"),n.prototype),M(n.prototype,"setMobile",[b.d],Object.getOwnPropertyDescriptor(n.prototype,"setMobile"),n.prototype),M(n.prototype,"setHasCyrillicData",[b.d],Object.getOwnPropertyDescriptor(n.prototype,"setHasCyrillicData"),n.prototype),n);t.a=new R;var L=["map_info","item","basemaps","share","import"]},function(e,t,r){"use strict";var n=function(e){};e.exports=function(e,t,r,o,i,a,s,l){if(n(t),!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,o,i,a,s,l],p=0;(u=new Error(t.replace(/%s/g,function(){return c[p++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(e,t,r){"use strict";r.d(t,"a",function(){return pe});var n=r(22),o=r(0),i=r.n(o),a=r(37);r.n(a);function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e,t){return e(t={exports:{}},t.exports),t.exports}var v,g=y(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r="function"===typeof Symbol&&Symbol.for,n=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,i=r?Symbol.for("react.fragment"):60107,a=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,u=r?Symbol.for("react.context"):60110,c=r?Symbol.for("react.async_mode"):60111,p=r?Symbol.for("react.concurrent_mode"):60111,h=r?Symbol.for("react.forward_ref"):60112,f=r?Symbol.for("react.suspense"):60113,d=r?Symbol.for("react.memo"):60115,m=r?Symbol.for("react.lazy"):60116;function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case c:case p:case i:case s:case a:return e;default:switch(e=e&&e.$$typeof){case u:case h:case l:return e;default:return t}}case o:return t}}}function v(e){return y(e)===p}t.typeOf=y,t.AsyncMode=c,t.ConcurrentMode=p,t.ContextConsumer=u,t.ContextProvider=l,t.Element=n,t.ForwardRef=h,t.Fragment=i,t.Profiler=s,t.Portal=o,t.StrictMode=a,t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===p||e===s||e===a||e===f||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===d||e.$$typeof===l||e.$$typeof===u||e.$$typeof===h)},t.isAsyncMode=function(e){return v(e)||y(e)===c},t.isConcurrentMode=v,t.isContextConsumer=function(e){return y(e)===u},t.isContextProvider=function(e){return y(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return y(e)===h},t.isFragment=function(e){return y(e)===i},t.isProfiler=function(e){return y(e)===s},t.isPortal=function(e){return y(e)===o},t.isStrictMode=function(e){return y(e)===a}});(v=g)&&v.__esModule&&Object.prototype.hasOwnProperty.call(v,"default")&&v.default;g.typeOf,g.AsyncMode,g.ConcurrentMode,g.ContextConsumer,g.ContextProvider,g.Element,g.ForwardRef,g.Fragment,g.Profiler,g.Portal,g.StrictMode,g.isValidElementType,g.isAsyncMode,g.isConcurrentMode,g.isContextConsumer,g.isContextProvider,g.isElement,g.isForwardRef,g.isFragment,g.isProfiler,g.isPortal,g.isStrictMode;var _=y(function(e){e.exports=g}),b={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},x={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},w={};w[_.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var E=Object.defineProperty,S=Object.getOwnPropertyNames,C=Object.getOwnPropertySymbols,k=Object.getOwnPropertyDescriptor,T=Object.getPrototypeOf,O=Object.prototype;var P=function e(t,r,n){if("string"!==typeof r){if(O){var o=T(r);o&&o!==O&&e(t,o,n)}var i=S(r);C&&(i=i.concat(C(r)));for(var a=w[t.$$typeof]||b,s=w[r.$$typeof]||b,l=0;l<i.length;++l){var u=i[l];if(!x[u]&&(!n||!n[u])&&(!s||!s[u])&&(!a||!a[u])){var c=k(r,u);try{E(t,u,c)}catch(e){}}}return t}return t},A=function(){function e(){l(this,e),this.listeners=[]}return c(e,[{key:"on",value:function(e){var t=this;return this.listeners.push(e),function(){var r=t.listeners.indexOf(e);-1!==r&&t.listeners.splice(r,1)}}},{key:"emit",value:function(e){this.listeners.forEach(function(t){return t(e)})}}]),e}();function I(e){function t(t,r,o,i,a,s){for(var l=arguments.length,u=new Array(l>6?l-6:0),c=6;c<l;c++)u[c-6]=arguments[c];return Object(n.p)(function(){if(i=i||"<<anonymous>>",s=s||o,null==r[o]){if(t){var n=null===r[o]?"null":"undefined";return new Error("The "+a+" `"+s+"` is marked as required in `"+i+"`, but its value is `"+n+"`.")}return null}return e.apply(void 0,[r,o,i,a,s].concat(u))})}var r=t.bind(null,!1);return r.isRequired=t.bind(null,!0),r}function M(e){var t=s(e);return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||"Symbol"===t["@@toStringTag"]||"function"===typeof Symbol&&t instanceof Symbol}(t,e)?"symbol":t}function R(e,t){return I(function(r,o,i,a,s){return Object(n.p)(function(){if(e&&M(r[o])===t.toLowerCase())return null;var a;switch(t){case"Array":a=n.j;break;case"Object":a=n.l;break;case"Map":a=n.k;break;default:throw new Error("Unexpected mobxType: ".concat(t))}var l=r[o];if(!a(l)){var u=function(e){var t=M(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}(l),c=e?" or javascript `"+t.toLowerCase()+"`":"";return new Error("Invalid prop `"+s+"` of type `"+u+"` supplied to `"+i+"`, expected `mobx.Observable"+t+"`"+c+".")}return null})})}function L(e,t){return I(function(r,o,i,a,s){for(var l=arguments.length,u=new Array(l>5?l-5:0),c=5;c<l;c++)u[c-5]=arguments[c];return Object(n.p)(function(){if("function"!==typeof t)return new Error("Property `"+s+"` of component `"+i+"` has invalid PropType notation.");var n=R(e,"Array")(r,o,i);if(n instanceof Error)return n;for(var l=r[o],c=0;c<l.length;c++)if((n=t.apply(void 0,[l,c,i,a,s+"["+c+"]"].concat(u)))instanceof Error)return n;return null})})}R(!1,"Array"),L.bind(null,!1),R(!1,"Map"),R(!1,"Object"),R(!0,"Array"),L.bind(null,!0);var D=R(!0,"Object");var j=0;function z(e){if("function"===typeof Symbol)return Symbol(e);var t="__$mobx-react ".concat(e," (").concat(j,")");return j++,t}var F=z("patchMixins"),N=z("patchedDefinition");function B(e,t){for(var r=this,n=arguments.length,o=new Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];t.locks++;try{var a;return void 0!==e&&null!==e&&(a=e.apply(this,o)),a}finally{t.locks--,0===t.locks&&t.methods.forEach(function(e){e.apply(r,o)})}}function U(e,t){return function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];B.call.apply(B,[this,e,t].concat(n))}}function V(e,t){for(var r=function(e,t){var r=e[F]=e[F]||{},n=r[t]=r[t]||{};return n.locks=n.locks||0,n.methods=n.methods||[],n}(e,t),n=arguments.length,o=new Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];for(var a=0;a<o.length;a++){var s=o[a];r.methods.indexOf(s)<0&&r.methods.push(s)}var l=Object.getOwnPropertyDescriptor(e,t);if(!l||!l[N]){var u=e[t],c=function e(t,r,n,o,i){var a;var s=U(i,o);return a={},p(a,N,!0),p(a,"get",function(){return s}),p(a,"set",function(i){if(this===t)s=U(i,o);else{var a=e(this,r,n,o,i);Object.defineProperty(this,r,a)}}),p(a,"configurable",!0),p(a,"enumerable",n),a}(e,t,l?l.enumerable:void 0,r,u);Object.defineProperty(e,t,c)}}var G={mobxStores:D};Object.seal(G);var q={contextTypes:{get:function(){return G},set:function(e){console.warn("Mobx Injector: you are trying to attach `contextTypes` on an component decorated with `inject` (or `observer`) HOC. Please specify the contextTypes on the wrapped component instead. It is accessible through the `wrappedComponent`")},configurable:!0,enumerable:!1},isMobxInjector:{value:!0,writable:!0,configurable:!0,enumerable:!0}};function H(e,t,r){var n="inject-"+(t.displayName||t.name||t.constructor&&t.constructor.name||"Unknown");r&&(n+="-with-"+r);var i=function(r){function n(){var e,t;l(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=m(this,(e=f(n)).call.apply(e,[this].concat(o)))).storeRef=function(e){t.wrappedInstance=e},t}return h(n,o["Component"]),c(n,[{key:"render",value:function(){var r={};for(var n in this.props)this.props.hasOwnProperty(n)&&(r[n]=this.props[n]);var i=e(this.context.mobxStores||{},r,this.context)||{};for(var a in i)r[a]=i[a];return function(e){return!(e.prototype&&e.prototype.render)}(t)||(r.ref=this.storeRef),Object(o.createElement)(t,r)}}]),n}();return i.displayName=n,P(i,t),i.wrappedComponent=t,Object.defineProperties(i,q),i}function W(){var e;if("function"===typeof arguments[0])return e=arguments[0],function(t){var r=H(e,t);return r.isMobxInjector=!1,(r=pe(r)).isMobxInjector=!0,r};for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e=function(e){return function(t,r){return e.forEach(function(e){if(!(e in r)){if(!(e in t))throw new Error("MobX injector: Store '"+e+"' is not available! Make sure it is provided by some Provider");r[e]=t[e]}}),r}}(t),function(r){return H(e,r,t.join("-"))}}var X=n.a||"$mobx",Z=z("isUnmounted"),Y=!1,K=!1,$=!1,J="undefined"!==typeof WeakMap?new WeakMap:void 0,Q=new A,ee=z("skipRender"),te=z("isForcingUpdate"),re="function"===typeof o.forwardRef&&Object(o.forwardRef)(function(e,t){}).$$typeof;function ne(e,t,r){Object.hasOwnProperty.call(e,t)?e[t]=r:Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!0,value:r})}function oe(e){if(a.findDOMNode)try{return Object(a.findDOMNode)(e)}catch(e){return null}return null}function ie(e){var t=oe(e);t&&J&&J.set(t,e),Q.emit({event:"render",renderTime:e.__$mobRenderEnd-e.__$mobRenderStart,totalTime:Date.now()-e.__$mobRenderStart,component:e,node:t})}var ae=new A;function se(e,t){if(le(e,t))return!0;if("object"!==s(e)||null===e||"object"!==s(t)||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var o=0;o<r.length;o++)if(!hasOwnProperty.call(t,r[o])||!le(e[r[o]],t[r[o]]))return!1;return!0}function le(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}var ue={componentWillUnmount:function(){if(!0!==K&&(this.render[X]&&this.render[X].dispose(),this[Z]=!0,Y)){var e=oe(this);e&&J&&J.delete(e),Q.emit({event:"destroy",component:this,node:e})}},componentDidMount:function(){Y&&ie(this)},componentDidUpdate:function(){Y&&ie(this)},shouldComponentUpdate:function(e,t){return K&&console.warn("[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side."),this.state!==t||!se(this.props,e)}};function ce(e,t){var r=z("reactProp_".concat(t,"_valueHolder")),o=z("reactProp_".concat(t,"_atomHolder"));function i(){return this[o]||ne(this,o,Object(n.h)("reactive "+t)),this[o]}Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){return i.call(this).reportObserved(),this[r]},set:function(e){this[te]||se(this[r],e)?ne(this,r,e):(ne(this,r,e),ne(this,ee,!0),i.call(this).reportChanged(),ne(this,ee,!1))}})}function pe(e,t){if("string"===typeof e)throw new Error("Store names should be provided as array");if(Array.isArray(e))return $||($=!0,console.warn('Mobx observer: Using observer to inject stores is deprecated since 4.0. Use `@inject("store1", "store2") @observer ComponentClass` or `inject("store1", "store2")(observer(componentClass))` instead of `@observer(["store1", "store2"]) ComponentClass`')),t?W.apply(null,e)(pe(t)):function(t){return pe(e,t)};var r=e;if(!0===r.isMobxInjector&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),r.__proto__===o.PureComponent&&console.warn("Mobx observer: You are using 'observer' on React.PureComponent. These two achieve two opposite goals and should not be used together"),re&&r.$$typeof===re){var a=r.render;if("function"!==typeof a)throw new Error("render property of ForwardRef was not a function");return Object(o.forwardRef)(function(){var e=arguments;return i.a.createElement(he,null,function(){return a.apply(void 0,e)})})}if("function"===typeof r&&(!r.prototype||!r.prototype.render)&&!r.isReactClass&&!o.Component.isPrototypeOf(r)){var s,u,p=pe((u=s=function(e){function t(){return l(this,t),m(this,f(t).apply(this,arguments))}return h(t,o["Component"]),c(t,[{key:"render",value:function(){return r.call(this,this.props,this.context)}}]),t}(),s.displayName=r.displayName||r.name,s.contextTypes=r.contextTypes,s.propTypes=r.propTypes,s.defaultProps=r.defaultProps,u));return P(p,r),p}if(!r)throw new Error("Please pass a valid component to 'observer'");var d=r.prototype||r;!function(e){["componentDidMount","componentWillUnmount","componentDidUpdate"].forEach(function(t){!function(e,t){V(e,t,ue[t])}(e,t)}),e.shouldComponentUpdate?e.shouldComponentUpdate!==ue.shouldComponentUpdate&&console.warn("Use `shouldComponentUpdate` in an `observer` based component breaks the behavior of `observer` and might lead to unexpected results. Manually implementing `sCU` should not be needed when using mobx-react."):e.shouldComponentUpdate=ue.shouldComponentUpdate}(d),r.isMobXReactObserver=!0,ce(d,"props"),ce(d,"state");var y=d.render;return d.render=function(){return function(e){var t=this;if(!0===K)return e.call(this);function r(){var e=this;l=!1;var t=void 0,r=void 0;if(u.track(function(){Y&&(e.__$mobRenderStart=Date.now());try{r=Object(n.c)(!1,s)}catch(e){t=e}Y&&(e.__$mobRenderEnd=Date.now())}),t)throw ae.emit(t),t;return r}var i=this.displayName||this.name||this.constructor&&(this.constructor.displayName||this.constructor.name)||"<component>",a=this._reactInternalInstance&&this._reactInternalInstance._rootNodeID||this._reactInternalInstance&&this._reactInternalInstance._debugID||this._reactInternalFiber&&this._reactInternalFiber._debugID;ne(this,ee,!1),ne(this,te,!1);var s=e.bind(this),l=!1,u=new n.b("".concat(i,"#").concat(a,".render()"),function(){if(!l&&(l=!0,"function"===typeof t.componentWillReact&&t.componentWillReact(),!0!==t[Z])){var e=!0;try{ne(t,te,!0),t[ee]||o.Component.prototype.forceUpdate.call(t),e=!1}finally{ne(t,te,!1),e&&u.dispose()}}});return u.reactComponent=this,r[X]=u,this.render=r,r.call(this)}.call(this,y)},r}var he=pe(function(e){var t=e.children,r=e.inject,n=e.render,o=t||n;if("undefined"===typeof o)return null;if(!r)return o();console.warn("<Observer inject=.../> is no longer supported. Please use inject on the enclosing component instead");var a=W(r)(o);return i.a.createElement(a,null)});he.displayName="Observer";var fe=function(e,t,r,n,o){var i="children"===t?"render":"children";return"function"===typeof e[t]&&"function"===typeof e[i]?new Error("Invalid prop,do not use children and render in the same time in`"+r):"function"!==typeof e[t]&&"function"!==typeof e[i]?new Error("Invalid prop `"+o+"` of type `"+s(e[t])+"` supplied to `"+r+"`, expected `function`."):void 0};function de(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function me(e){this.setState(function(t){var r=this.constructor.getDerivedStateFromProps(e,t);return null!==r&&void 0!==r?r:null}.bind(this))}function ye(e,t){try{var r=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}he.propTypes={render:fe,children:fe},de.__suppressDeprecationWarning=!0,me.__suppressDeprecationWarning=!0,ye.__suppressDeprecationWarning=!0;var ve={children:!0,key:!0,ref:!0},ge=function(e){function t(e,r){var n;return l(this,t),(n=m(this,f(t).call(this,e,r))).state={},_e(e,n.state),n}return h(t,o["Component"]),c(t,[{key:"render",value:function(){return o.Children.only(this.props.children)}},{key:"getChildContext",value:function(){var e={};return _e(this.context.mobxStores,e),_e(this.props,e),{mobxStores:e}}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(!e)return null;if(!t)return e;if(Object.keys(e).filter(be).length!==Object.keys(t).filter(be).length&&console.warn("MobX Provider: The set of provided stores has changed. Please avoid changing stores as the change might not propagate to all children"),!e.suppressChangedStoreWarning)for(var r in e)be(r)&&t[r]!==e[r]&&console.warn("MobX Provider: Provided store '"+r+"' has changed. Please avoid replacing stores as the change might not propagate to all children");return e}}]),t}();function _e(e,t){if(e)for(var r in e)be(r)&&(t[r]=e[r])}function be(e){return!ve[e]&&"suppressChangedStoreWarning"!==e}ge.contextTypes={mobxStores:D},ge.childContextTypes={mobxStores:D.isRequired},function(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var r=null,n=null,o=null;if("function"===typeof t.componentWillMount?r="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(r="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?n="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(n="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?o="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(o="UNSAFE_componentWillUpdate"),null!==r||null!==n||null!==o){var i=e.displayName||e.name,a="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+i+" uses "+a+" but also contains the following legacy lifecycles:"+(null!==r?"\n  "+r:"")+(null!==n?"\n  "+n:"")+(null!==o?"\n  "+o:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=de,t.componentWillReceiveProps=me),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=ye;var s=t.componentDidUpdate;t.componentDidUpdate=function(e,t,r){var n=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:r;s.call(this,e,t,n)}}}(ge);z("disposeOnUnmount");if(!o.Component)throw new Error("mobx-react requires React to be available");if(!n.o)throw new Error("mobx-react requires mobx to be available");"function"===typeof a.unstable_batchedUpdates&&Object(n.g)({reactionScheduler:a.unstable_batchedUpdates});if("object"===("undefined"===typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__?"undefined":s(__MOBX_DEVTOOLS_GLOBAL_HOOK__))){var xe={spy:n.o,extras:{getDebugName:n.i}},we={renderReporter:Q,componentByNodeRegistry:J,componentByNodeRegistery:J,trackComponents:function(){if("undefined"===typeof WeakMap)throw new Error("[mobx-react] tracking components is not supported in this browser.");Y||(Y=!0)}};__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobxReact(we,xe)}},function(e,t,r){"use strict";var n=r(0),o=(r.n(n),r(209),r(10));r.n(o)},function(e,t,r){"use strict";t.a=o,t.b=i,t.e=function(e){window.Raven?window.Raven.setUserContext(e):n.e&&(console.log("setUserContext"),console.log(e))},t.d=function(e){window.Raven?window.Raven.setExtraContext(e):n.e&&(console.log("setExtraContext"),console.log(e))},t.c=function(e,t){n.e&&console.log(e,t)};var n=r(28);function o(e,t){window.Raven?window.Raven.captureBreadcrumb({message:e,category:"breadcrumb",data:t}):n.e&&(console.log("captureBreadcrumb: "+e),t&&console.log(t))}function i(e){window.Raven?window.Raven.captureMessage(e,{level:"error"}):n.e&&console.error("captureMessage\n"+e)}window.sentry_key&&(window.Raven=r(506),window.Raven.config(window.sentry_key,{release:window.app_version,autoBreadcrumbs:{xhr:!1}}).install()),window.captureBreadcrumb=o,window.captureMessage=i},function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty;function o(e,t){return n.call(e,t)}function i(e){return!(e>=55296&&e<=57343)&&(!(e>=64976&&e<=65007)&&(65535!==(65535&e)&&65534!==(65535&e)&&(!(e>=0&&e<=8)&&(11!==e&&(!(e>=14&&e<=31)&&(!(e>=127&&e<=159)&&!(e>1114111)))))))}function a(e){if(e>65535){var t=55296+((e-=65536)>>10),r=56320+(1023&e);return String.fromCharCode(t,r)}return String.fromCharCode(e)}var s=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,l=new RegExp(s.source+"|"+/&([a-z#][a-z0-9]{1,31});/gi.source,"gi"),u=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i,c=r(290);var p=/[&<>"]/,h=/[&<>"]/g,f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function d(e){return f[e]}var m=/[.?*+^$[\]\\(){}|-]/g;var y=r(182);t.lib={},t.lib.mdurl=r(291),t.lib.ucmicro=r(597),t.assign=function(e){return Array.prototype.slice.call(arguments,1).forEach(function(t){if(t){if("object"!==typeof t)throw new TypeError(t+"must be object");Object.keys(t).forEach(function(r){e[r]=t[r]})}}),e},t.isString=function(e){return"[object String]"===function(e){return Object.prototype.toString.call(e)}(e)},t.has=o,t.unescapeMd=function(e){return e.indexOf("\\")<0?e:e.replace(s,"$1")},t.unescapeAll=function(e){return e.indexOf("\\")<0&&e.indexOf("&")<0?e:e.replace(l,function(e,t,r){return t||function(e,t){var r=0;return o(c,t)?c[t]:35===t.charCodeAt(0)&&u.test(t)&&i(r="x"===t[1].toLowerCase()?parseInt(t.slice(2),16):parseInt(t.slice(1),10))?a(r):e}(e,r)})},t.isValidEntityCode=i,t.fromCodePoint=a,t.escapeHtml=function(e){return p.test(e)?e.replace(h,d):e},t.arrayReplaceAt=function(e,t,r){return[].concat(e.slice(0,t),r,e.slice(t+1))},t.isSpace=function(e){switch(e){case 9:case 32:return!0}return!1},t.isWhiteSpace=function(e){if(e>=8192&&e<=8202)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1},t.isMdAsciiPunct=function(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}},t.isPunctChar=function(e){return y.test(e)},t.escapeRE=function(e){return e.replace(m,"\\$&")},t.normalizeReference=function(e){return e.trim().replace(/\s+/g," ").toUpperCase()}},function(e,t,r){"use strict";e.exports=function(e){for(var t=arguments.length-1,r="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,n=0;n<t;n++)r+="&args[]="+encodeURIComponent(arguments[n+1]);r+=" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";var o=new Error(r);throw o.name="Invariant Violation",o.framesToPop=1,o}},function(e,t,r){var n;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)&&n.length){var a=o.apply(null,n);a&&e.push(a)}else if("object"===i)for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}return e.join(" ")}"undefined"!==typeof e&&e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},function(e,t,r){"use strict";var n=r(39);e.exports=n},function(e,t,r){e.exports=r(741)()},function(e,t){e.exports={classes:{CONTROL_BASE:"mapboxgl-ctrl",CONTROL_PREFIX:"mapboxgl-ctrl-",CONTROL_BUTTON:"mapbox-gl-draw_ctrl-draw-btn",CONTROL_BUTTON_LINE:"mapbox-gl-draw_line",CONTROL_BUTTON_POLYGON:"mapbox-gl-draw_polygon",CONTROL_BUTTON_POINT:"mapbox-gl-draw_point",CONTROL_BUTTON_TRASH:"mapbox-gl-draw_trash",CONTROL_BUTTON_COMBINE_FEATURES:"mapbox-gl-draw_combine",CONTROL_BUTTON_UNCOMBINE_FEATURES:"mapbox-gl-draw_uncombine",CONTROL_GROUP:"mapboxgl-ctrl-group",ATTRIBUTION:"mapboxgl-ctrl-attrib",ACTIVE_BUTTON:"active",BOX_SELECT:"mapbox-gl-draw_boxselect"},sources:{HOT:"mapbox-gl-draw-hot",COLD:"mapbox-gl-draw-cold"},cursors:{ADD:"add",MOVE:"move",DRAG:"drag",POINTER:"pointer",NONE:"none"},types:{POLYGON:"polygon",LINE:"line_string",POINT:"point"},geojsonTypes:{FEATURE:"Feature",POLYGON:"Polygon",LINE_STRING:"LineString",POINT:"Point",FEATURE_COLLECTION:"FeatureCollection",MULTI_PREFIX:"Multi",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon"},modes:{DRAW_LINE_STRING:"draw_line_string",DRAW_POLYGON:"draw_polygon",DRAW_POINT:"draw_point",SIMPLE_SELECT:"simple_select",DIRECT_SELECT:"direct_select",STATIC:"static"},events:{CREATE:"draw.create",DELETE:"draw.delete",UPDATE:"draw.update",SELECTION_CHANGE:"draw.selectionchange",MODE_CHANGE:"draw.modechange",ACTIONABLE:"draw.actionable",RENDER:"draw.render",COMBINE_FEATURES:"draw.combine",UNCOMBINE_FEATURES:"draw.uncombine"},updateActions:{MOVE:"move",CHANGE_COORDINATES:"change_coordinates"},meta:{FEATURE:"feature",MIDPOINT:"midpoint",VERTEX:"vertex"},activeStates:{ACTIVE:"true",INACTIVE:"false"},interactions:["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate"],LAT_MIN:-90,LAT_RENDERED_MIN:-85,LAT_MAX:90,LAT_RENDERED_MAX:85,LNG_MIN:-270,LNG_MAX:270}},function(e,t,r){"use strict";var n=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var r,a,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var u in r=Object(arguments[l]))o.call(r,u)&&(s[u]=r[u]);if(n){a=n(r);for(var c=0;c<a.length;c++)i.call(r,a[c])&&(s[a[c]]=r[a[c]])}}return s}},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,r){"use strict";var n=r(7),o=r(71),i=r(247),a=(r(2),o.ID_ATTRIBUTE_NAME),s=i,l="__reactInternalInstance$"+Math.random().toString(36).slice(2);function u(e,t){return 1===e.nodeType&&e.getAttribute(a)===String(t)||8===e.nodeType&&e.nodeValue===" react-text: "+t+" "||8===e.nodeType&&e.nodeValue===" react-empty: "+t+" "}function c(e){for(var t;t=e._renderedComponent;)e=t;return e}function p(e,t){var r=c(e);r._hostNode=t,t[l]=r}function h(e,t){if(!(e._flags&s.hasCachedChildNodes)){var r=e._renderedChildren,o=t.firstChild;e:for(var i in r)if(r.hasOwnProperty(i)){var a=r[i],l=c(a)._domID;if(0!==l){for(;null!==o;o=o.nextSibling)if(u(o,l)){p(a,o);continue e}n("32",l)}}e._flags|=s.hasCachedChildNodes}}function f(e){if(e[l])return e[l];for(var t,r,n=[];!e[l];){if(n.push(e),!e.parentNode)return null;e=e.parentNode}for(;e&&(r=e[l]);e=n.pop())t=r,n.length&&h(r,e);return t}var d={getClosestInstanceFromNode:f,getInstanceFromNode:function(e){var t=f(e);return null!=t&&t._hostNode===e?t:null},getNodeFromInstance:function(e){if(void 0===e._hostNode&&n("33"),e._hostNode)return e._hostNode;for(var t=[];!e._hostNode;)t.push(e),e._hostParent||n("34"),e=e._hostParent;for(;t.length;e=t.pop())h(e,e._hostNode);return e._hostNode},precacheChildNodes:h,precacheNode:p,uncacheNode:function(e){var t=e._hostNode;t&&(delete t[l],e._hostNode=null)}};e.exports=d},function(e,t,r){"use strict";var n,o,i,a,s,l,u,c,p=r(22),h=r(0),f=r.n(h),d=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function m(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function y(e,t,r,n,o){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var v=(n=p.m.ref,o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),m(this,"content",i,this),m(this,"okText",a,this),m(this,"okAction",s,this),m(this,"cancelText",l,this),m(this,"cancelAction",u,this),m(this,"width",c,this)}return d(e,[{key:"showCustom",value:function(e,t,r,n,o,i){var a=this;i=i||{},t||(t=function(){}),r||(r="OK"),this.keyboard=!0,this.content=e,this.okText=r,this.okAction=function(){a.clear(),t&&t()},this.cancelText=n,this.cancelAction=function(){a.clear(),o&&o()},this.width=i.width||null}},{key:"showText",value:function(e,t,r){this.showCustom(f.a.createElement("div",null,e&&f.a.createElement("p",{className:"overlay-title"},e),t&&f.a.createElement("p",{className:"text-center"},t)),r)}},{key:"clear",value:function(){var e=this;this.content=null,this.okText=null,this.okAction=null,this.cancelText=null,this.cancelAction=null,setTimeout(function(){e.keyboard=!1},100)}}]),e}(),i=y(o.prototype,"content",[n],{enumerable:!0,initializer:null}),a=y(o.prototype,"okText",[p.m],{enumerable:!0,initializer:null}),s=y(o.prototype,"okAction",[p.m],{enumerable:!0,initializer:null}),l=y(o.prototype,"cancelText",[p.m],{enumerable:!0,initializer:null}),u=y(o.prototype,"cancelAction",[p.m],{enumerable:!0,initializer:null}),c=y(o.prototype,"width",[p.m],{enumerable:!0,initializer:null}),y(o.prototype,"showCustom",[p.d],Object.getOwnPropertyDescriptor(o.prototype,"showCustom"),o.prototype),y(o.prototype,"showText",[p.d],Object.getOwnPropertyDescriptor(o.prototype,"showText"),o.prototype),y(o.prototype,"clear",[p.d],Object.getOwnPropertyDescriptor(o.prototype,"clear"),o.prototype),o);t.a=new v},function(e,t,r){"use strict";t.__esModule=!0;var n,o=r(312),i=(n=o)&&n.__esModule?n:{default:n};t.default=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,i.default)(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}()},function(e,t){var r=e.exports={version:"2.6.5"};"number"==typeof __e&&(__e=r)},function(e,t,r){"use strict";var n,o=r(282),i=r.n(o),a=r(22),s=r(28),l=r(176),u=r(583),c=r(5),p=r(20),h=r(47),f=r(23),d=r(1),m=r(80),y=r(99),v=r(48),g=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function _(e,t,r,n,o){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var b=new(_((n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.featureArray=a.m.array()}return g(e,[{key:"addFeature",value:function(e){var t=new u.a(e);if(!this.featureMap.has(t.id))return this.featureArray.push(t),t}},{key:"removeFeature",value:function(e){if(e){var t=this.featureArray.findIndex(function(t){return t.id===e.id});this.featureArray.splice(t,1)}}},{key:"clear",value:function(){this.featureArray.clear()}},{key:"sortTo",value:function(e){var t=this;if(Object(p.g)(e,Array.from(this.featureMap.keys()))){var r=e.map(function(e){return t.featureMap.get(e)});this.featureArray.replace(r),this.orderByGroups(),d.a.updateTree(),d.a.saveOn()}else Object(c.b)("sortTo.hasSameElements")}},{key:"orderByGroups",value:function(){console.log("orderByGroups");for(var e={null:1e5},t=0;t<h.a.groupArray.length;t++)e[h.a.groupArray[t].id]=t;var r=this.featureArray.slice().sort(function(t,r){return e[t.group_id]<e[r.group_id]?-1:e[t.group_id]>e[r.group_id]?1:0});this.featureArray.replace(r)}},{key:"loadGeoJSON",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Object(c.a)("loadGeoJSON",t),e.features){d.a.setReady(!1),d.a.deactivateAll(),d.a.closeAllPopups(),t.append||(this.clear(),h.a.clear());var r=void 0;if(e.groups&&e.groups.length){var n=!0,o=!1,i=void 0;try{for(var a,s=e.groups[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var u=a.value;h.a.addGroup(u)}}catch(e){o=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}}else if(t.newGroup){var p=h.a.addGroup({title:t.newGroup});p.setExpanded(!0),r=p.id}else if(t.groupTitle){var v=h.a.getOrCreateWithTitle(t.groupTitle);v.setExpanded(!0),r=v.id}if(e.markers&&e.markers.length){var g=!0,_=!1,b=void 0;try{for(var x,w=e.markers[Symbol.iterator]();!(g=(x=w.next()).done);g=!0){var E=x.value;E.id&&m.a.addMarker(E)}}catch(e){_=!0,b=e}finally{try{!g&&w.return&&w.return()}finally{if(_)throw b}}}var S=void 0,C=!0,k=!1,T=void 0;try{for(var O,P=e.features[Symbol.iterator]();!(C=(O=P.next()).done);C=!0){var A=O.value;(S=this.addFeature(A))&&(r&&S.setGroup(r,!0))}}catch(e){k=!0,T=e}finally{try{!C&&P.return&&P.return()}finally{if(k)throw T}}if(!1!==t.fitView){Object(c.c)("loadGeoJSON: fitting to view");var I=this.featureArray.filter(function(e){return e.geometry}).length;if(t.append){if(Object(c.c)("loadGeoJSON: append"),1===I)if(Object(c.c)("loadGeoJSON: count 1"),"point"===this.featureArray[0].type)d.a.map.jumpTo({center:this.featureArray[0].getCenter(),zoom:12});else{var M=this.getBounds();M.includes(1/0)||d.a.map.fitBounds(M,{maxZoom:17,padding:d.a.paddingSize,linear:!0,animate:!1})}if(I>=2){Object(c.c)("loadGeoJSON: count 2+");var R=this.getBounds();R.includes(1/0)||(Object(c.a)("bounds",R),d.a.map.fitBounds(R,{maxZoom:17,padding:d.a.paddingSize,linear:!0,animate:!1}))}}else{if(Object(c.c)("loadGeoJSON: not append"),0===I&&(Object(c.c)("loadGeoJSON: count 0"),t.bbox_viewport?d.a.map.fitBounds(Object(l.b)(t.bbox_viewport),{linear:!0,animate:!1}):Object(l.c)(d.a.map)),1===I)if(Object(c.c)("loadGeoJSON: count 1"),t.bbox_viewport)d.a.map.fitBounds(Object(l.b)(t.bbox_viewport),{linear:!0,animate:!1});else{var L=this.getBounds();L.includes(1/0)||d.a.map.fitBounds(L,{maxZoom:17,padding:d.a.paddingSize,linear:!0,animate:!1})}if(I>=2){Object(c.c)("loadGeoJSON: count 2+");var D=this.getBounds();D.includes(1/0)||d.a.map.fitBounds(D,{maxZoom:17,padding:d.a.paddingSize,linear:!0,animate:!1})}}}t.activateFeature&&S&&d.a.activateFeature(S,{setViewToFeature:!0}),e.properties&&e.properties.simplify&&f.a.setSimplify(e.properties.simplify,!0),e.features.length||y.a.setExpanded(!0),d.a.setReady(!0)}}},{key:"getBounds",value:function(){var e={type:"FeatureCollection",features:this.featureArray.map(function(e){return e.geojsonGeom()})};return i()(e)}},{key:"geojsonExport",value:function(){var e={};return f.a.simplify&&(e.simplify=f.a.simplify),{type:"FeatureCollection",features:this.featureArray.map(function(e){return e.geojsonExport()}),groups:h.a.groupArray.map(function(e){return e.geojsonExport()}),markers:m.a.markerArray.map(function(e){return e.geojsonExport()}),properties:e}}},{key:"featureMap",get:function(){return new Map(this.featureArray.map(function(e){return[e.id,e]}))}},{key:"count",get:function(){return this.featureArray.length}},{key:"treeNodes",get:function(){var e=[].concat.apply([],h.a.groupArray.map(function(e){return e.treeNodeArray}));return e=v.a.hasFilter?e.concat(b.featureArray.filter(function(e){return!e.group_id&&v.a.featureMap.has(e.id)}).map(function(e){return e.treeNode})):e.concat(b.featureArray.filter(function(e){return!e.group_id}).map(function(e){return e.treeNode})),d.a.itemTreeIndexMap=new Map(e.map(function(e,t){return[e.id,t]})),e}}]),e}()).prototype,"featureMap",[a.f],Object.getOwnPropertyDescriptor(n.prototype,"featureMap"),n.prototype),_(n.prototype,"count",[a.f],Object.getOwnPropertyDescriptor(n.prototype,"count"),n.prototype),_(n.prototype,"addFeature",[a.d],Object.getOwnPropertyDescriptor(n.prototype,"addFeature"),n.prototype),_(n.prototype,"removeFeature",[a.d],Object.getOwnPropertyDescriptor(n.prototype,"removeFeature"),n.prototype),_(n.prototype,"clear",[a.d],Object.getOwnPropertyDescriptor(n.prototype,"clear"),n.prototype),_(n.prototype,"sortTo",[a.d],Object.getOwnPropertyDescriptor(n.prototype,"sortTo"),n.prototype),_(n.prototype,"orderByGroups",[a.d],Object.getOwnPropertyDescriptor(n.prototype,"orderByGroups"),n.prototype),_(n.prototype,"treeNodes",[a.f],Object.getOwnPropertyDescriptor(n.prototype,"treeNodes"),n.prototype),n);Object(a.e)(function(){if(b.featureMap,d.a&&d.a.ready&&d.a.map){for(var e=new Map(s.l.map(function(e){return[e,[]]})),t=b.featureArray.length-1;t>=0;t--){var r=b.featureArray[t];r.editing||r.geometry&&(r.group&&!r.group.visible||r.visible&&(v.a.hasFilter&&!v.a.featureMap.has(r.id)||e.get(r.type).push(r.geojsonMapBox)))}var n=!0,o=!1,i=void 0;try{for(var a,l=s.l[Symbol.iterator]();!(n=(a=l.next()).done);n=!0){var u=a.value;d.a.map.getSource(u).setData({type:"FeatureCollection",features:e.get(u)})}}catch(e){o=!0,i=e}finally{try{!n&&l.return&&l.return()}finally{if(o)throw i}}}}),t.a=b},function(e,t){var r=e.exports={version:"2.5.7"};"number"==typeof __e&&(__e=r)},function(e,t,r){"use strict";t.l=function(e){return e.trim().split(/\s+/)},t.i=function(e,t){return(e%t+t)%t},t.d=function(e,t){return e<Math.pow(10,t)?e.toPrecision(t):e.toFixed(0)},t.e=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e},t.c=function(e){return JSON.parse(JSON.stringify(e))},t.g=function(e,t){return!(o()(e,t).length+o()(t,e).length)},t.m=function(e){for(var t={},r=[],n=e.length,o=0,i=0;i<n;i++){var a=e[i];1!==t[a]&&(t[a]=1,r[o++]=a)}return r},t.k=function(e,t){var r={item:"items"},n=1!==Math.abs(e);r[t]||(Object(i.b)("plural_missing: "+t),n=!1);return e+" "+(n?r[t]:t)},t.a=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},t.b=function(e,t,r){return Math.min(r,Math.max(t,e))},t.j=function(e){var t=document.createElement("a");t.target="_blank",t.href=e,t.setAttribute("rel","noopener noreferrer"),t.click()},t.h=function(e,t){return e.slice(t.length)},t.f=function(e){return a.test(e)};var n=r(523),o=r.n(n),i=r(5),a=/[\u0400-\u04FF\u0500-\u052F]/},function(e,t,r){var n=r(145)("wks"),o=r(85),i=r(36).Symbol,a="function"==typeof i;(e.exports=function(e){return n[e]||(n[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=n},function(e,t,r){"use strict";(function(e,n){r.d(t,"a",function(){return tr}),r.d(t,"b",function(){return Fe}),r.d(t,"p",function(){return Ee}),r.d(t,"h",function(){return D}),r.d(t,"o",function(){return Ke}),r.d(t,"l",function(){return Wt}),r.d(t,"j",function(){return Mt}),r.d(t,"k",function(){return Dt}),r.d(t,"m",function(){return ee}),r.d(t,"f",function(){return oe}),r.d(t,"e",function(){return tt}),r.d(t,"n",function(){return ot}),r.d(t,"d",function(){return Qe}),r.d(t,"g",function(){return at}),r.d(t,"i",function(){return Yt}),r.d(t,"c",function(){return le});var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};function i(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e};function s(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a}function l(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(s(arguments[t]));return e}var u="An invariant failed, however the error is obfuscated because this is an production build.",c=[];Object.freeze(c);var p={};function h(){return"undefined"!==typeof window?window:e}function f(){return++Ae.mobxGuid}function d(e){throw m(!1,e),"X"}function m(e,t){if(!e)throw new Error("[mobx] "+(t||u))}Object.freeze(p);function y(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var v=function(){};function g(e){return null!==e&&"object"===typeof e}function _(e){if(null===e||"object"!==typeof e)return!1;var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}function b(e,t,r){Object.defineProperty(e,t,{enumerable:!1,writable:!0,configurable:!0,value:r})}function x(e,t,r){Object.defineProperty(e,t,{enumerable:!1,writable:!1,configurable:!0,value:r})}function w(e,t){var r="isMobX"+e;return t.prototype[r]=!0,function(e){return g(e)&&!0===e[r]}}function E(e){return void 0!==h().Map&&e instanceof h().Map}function S(e){return e instanceof Set}function C(e){for(var t=[];;){var r=e.next();if(r.done)break;t.push(r.value)}return t}function k(){return"function"===typeof Symbol&&Symbol.toPrimitive||"@@toPrimitive"}function T(e){return null===e?null:"object"===typeof e?""+e:e}function O(){return"function"===typeof Symbol&&Symbol.iterator||"@@iterator"}function P(e,t){x(e,O(),t)}function A(e){return e[O()]=M,e}function I(){return"function"===typeof Symbol&&Symbol.toStringTag||"@@toStringTag"}function M(){return this}var R=function(){function e(e){void 0===e&&(e="Atom@"+f()),this.name=e,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=fe.NOT_TRACKING}return e.prototype.onBecomeUnobserved=function(){},e.prototype.onBecomeObserved=function(){},e.prototype.reportObserved=function(){return je(this)},e.prototype.reportChanged=function(){Le(),function(e){if(e.lowestObserverState===fe.STALE)return;e.lowestObserverState=fe.STALE;var t=e.observers,r=t.length;for(;r--;){var n=t[r];n.dependenciesState===fe.UP_TO_DATE&&(n.isTracing!==me.NONE&&ze(n,e),n.onBecomeStale()),n.dependenciesState=fe.STALE}}(this),De()},e.prototype.toString=function(){return this.name},e}(),L=w("Atom",R);function D(e,t,r){void 0===t&&(t=v),void 0===r&&(r=v);var n,o=new R(e);return it("onBecomeObserved",o,t,n),function(e,t,r){it("onBecomeUnobserved",e,t,r)}(o,r),o}function j(e,t){return e===t}var z={identity:j,structural:function(e,t){return $t(e,t)},default:function(e,t){return function(e,t){return"number"===typeof e&&"number"===typeof t&&isNaN(e)&&isNaN(t)}(e,t)||j(e,t)}},F={},N={};function B(e){if(!0!==e.__mobxDidRunLazyInitializers){var t=e.__mobxDecorators;if(t)for(var r in b(e,"__mobxDidRunLazyInitializers",!0),t){var n=t[r];n.propertyCreator(e,n.prop,n.descriptor,n.decoratorTarget,n.decoratorArguments)}}}function U(e,t){return function(){var r,n,o=function(n,o,i,s){if(!0===s)return t(n,o,i,n,r),null;if(!Object.prototype.hasOwnProperty.call(n,"__mobxDecorators")){var l=n.__mobxDecorators;b(n,"__mobxDecorators",a({},l))}return n.__mobxDecorators[o]={prop:o,propertyCreator:t,descriptor:i,decoratorTarget:n,decoratorArguments:r},function(e,t){var r=t?F:N;return r[e]||(r[e]={configurable:!0,enumerable:t,get:function(){return B(this),this[e]},set:function(t){B(this),this[e]=t}})}(o,e)};return(2===(n=arguments).length||3===n.length)&&"string"===typeof n[1]||4===n.length&&!0===n[3]?(r=c,o.apply(null,arguments)):(r=Array.prototype.slice.call(arguments),o)}}function V(e,t,r){return ct(e)?e:Array.isArray(e)?ee.array(e,{name:r}):_(e)?ee.object(e,void 0,{name:r}):E(e)?ee.map(e,{name:r}):S(e)?ee.set(e,{name:r}):e}function G(e){return e}function q(e){var t=U(!0,function(t,r,n,o,i){Ut(t,r,n?n.initializer?n.initializer.call(t):n.value:void 0,e)}),r=("undefined"!==typeof n&&Object({NODE_ENV:"production",PUBLIC_URL:""}),t);return r.enhancer=e,r}var H={deep:!0,name:void 0,defaultDecorator:void 0},W={deep:!1,name:void 0,defaultDecorator:void 0};function X(e){return null===e||void 0===e?H:"string"===typeof e?{name:e,deep:!0}:e}function Z(e){return e.defaultDecorator?e.defaultDecorator.enhancer:!1===e.deep?G:V}Object.freeze(H),Object.freeze(W);var Y=q(V),K=q(function(e,t,r){return void 0===e||null===e?e:Wt(e)||Mt(e)||Dt(e)||Ft(e)?e:Array.isArray(e)?ee.array(e,{name:r,deep:!1}):_(e)?ee.object(e,void 0,{name:r,deep:!1}):E(e)?ee.map(e,{name:r,deep:!1}):S(e)?ee.set(e,{name:r,deep:!1}):d(!1)}),$=q(G),J=q(function(e,t,r){return $t(e,t)?t:e});var Q={box:function(e,t){arguments.length>2&&te("box");var r=X(t);return new pe(e,Z(r),r.name,!0,r.equals)},shallowBox:function(e,t){return arguments.length>2&&te("shallowBox"),ee.box(e,{name:t,deep:!1})},array:function(e,t){arguments.length>2&&te("array");var r=X(t);return new kt(e,Z(r),r.name)},shallowArray:function(e,t){return arguments.length>2&&te("shallowArray"),ee.array(e,{name:t,deep:!1})},map:function(e,t){arguments.length>2&&te("map");var r=X(t);return new Lt(e,Z(r),r.name)},shallowMap:function(e,t){return arguments.length>2&&te("shallowMap"),ee.map(e,{name:t,deep:!1})},set:function(e,t){arguments.length>2&&te("set");var r=X(t);return new zt(e,Z(r),r.name)},object:function(e,t,r){return"string"===typeof arguments[1]&&te("object"),st({},e,t,X(r))},shallowObject:function(e,t){return"string"===typeof arguments[1]&&te("shallowObject"),ee.object(e,{},{name:t,deep:!1})},ref:$,shallow:K,deep:Y,struct:J},ee=function(e,t,r){if("string"===typeof arguments[1])return Y.apply(null,arguments);if(ct(e))return e;var n=_(e)?ee.object(e,t,r):Array.isArray(e)?ee.array(e,t):E(e)?ee.map(e,t):S(e)?ee.set(e,t):e;if(n!==e)return n;d(!1)};function te(e){d("Expected one or two arguments to observable."+e+". Did you accidentally try to use observable."+e+" as decorator?")}Object.keys(Q).forEach(function(e){return ee[e]=Q[e]});var re=U(!1,function(e,t,r,n,o){var i=r.get,s=r.set,l=o[0]||{};!function(e,t,r){var n=Bt(e);r.name=n.name+"."+t,r.context=e,n.values[t]=new he(r),Object.defineProperty(e,t,function(e){return Gt[e]||(Gt[e]={configurable:!1,enumerable:!1,get:function(){return qt(this).read(this,e)},set:function(t){qt(this).write(this,e,t)}})}(t))}(e,t,a({get:i,set:s},l))}),ne=re({equals:z.structural}),oe=function(e,t,r){if("string"===typeof t)return re.apply(null,arguments);if(null!==e&&"object"===typeof e&&1===arguments.length)return re.apply(null,arguments);var n="object"===typeof t?t:{};return n.get=e,n.set="function"===typeof t?t:n.set,n.name=n.name||e.name||"",new he(n)};function ie(e,t){var r=function(){return ae(e,t,this,arguments)};return r.isMobxAction=!0,r}function ae(e,t,r,n){var o=function(e,t,r,n){var o=He()&&!!e,i=0;if(o){i=Date.now();var a=n&&n.length||0,s=new Array(a);if(a>0)for(var l=0;l<a;l++)s[l]=n[l];Xe({type:"action",name:e,object:r,arguments:s})}var u=Se();Le();var c=ue(!0);return{prevDerivation:u,prevAllowStateChanges:c,notifySpy:o,startTime:i}}(e,0,r,n),i=!0;try{var a=t.apply(r,n);return i=!1,a}finally{i?(Ae.suppressReactionErrors=i,se(o),Ae.suppressReactionErrors=!1):se(o)}}function se(e){ce(e.prevAllowStateChanges),De(),Ce(e.prevDerivation),e.notifySpy&&Ye({time:Date.now()-e.startTime})}function le(e,t){var r,n=ue(e);try{r=t()}finally{ce(n)}return r}function ue(e){var t=Ae.allowStateChanges;return Ae.allowStateChanges=e,t}function ce(e){Ae.allowStateChanges=e}oe.struct=ne;var pe=function(e){function t(t,r,n,o,i){void 0===n&&(n="ObservableValue@"+f()),void 0===o&&(o=!0),void 0===i&&(i=z.default);var a=e.call(this,n)||this;return a.enhancer=r,a.name=n,a.equals=i,a.hasUnreportedChange=!1,a.value=r(t,void 0,n),o&&He()&&We({type:"create",name:a.name,newValue:""+a.value}),a}return i(t,e),t.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.prototype.set=function(e){var t=this.value;if((e=this.prepareNewValue(e))!==Ae.UNCHANGED){var r=He();r&&Xe({type:"update",name:this.name,newValue:e,oldValue:t}),this.setNewValue(e),r&&Ye()}},t.prototype.prepareNewValue=function(e){if(be(this),ht(this)){var t=dt(this,{object:this,type:"update",newValue:e});if(!t)return Ae.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value,this.name),this.equals(this.value,e)?Ae.UNCHANGED:e},t.prototype.setNewValue=function(e){var t=this.value;this.value=e,this.reportChanged(),mt(this)&&vt(this,{type:"update",object:this,newValue:e,oldValue:t})},t.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},t.prototype.intercept=function(e){return ft(this,e)},t.prototype.observe=function(e,t){return t&&e({object:this,type:"update",newValue:this.value,oldValue:void 0}),yt(this,e)},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.value+"]"},t.prototype.valueOf=function(){return T(this.get())},t}(R);pe.prototype[k()]=pe.prototype.valueOf;w("ObservableValue",pe);var he=function(){function e(e){this.dependenciesState=fe.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=fe.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+f(),this.value=new ve(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=me.NONE,this.derivation=e.get,this.name=e.name||"ComputedValue@"+f(),e.set&&(this.setter=ie(this.name+"-setter",e.set)),this.equals=e.equals||(e.compareStructural||e.struct?z.structural:z.default),this.scope=e.context,this.requiresReaction=!!e.requiresReaction,this.keepAlive=!!e.keepAlive}return e.prototype.onBecomeStale=function(){!function(e){if(e.lowestObserverState!==fe.UP_TO_DATE)return;e.lowestObserverState=fe.POSSIBLY_STALE;var t=e.observers,r=t.length;for(;r--;){var n=t[r];n.dependenciesState===fe.UP_TO_DATE&&(n.dependenciesState=fe.POSSIBLY_STALE,n.isTracing!==me.NONE&&ze(n,e),n.onBecomeStale())}}(this)},e.prototype.onBecomeUnobserved=function(){},e.prototype.onBecomeObserved=function(){},e.prototype.get=function(){this.isComputing&&d("Cycle detected in computation "+this.name+": "+this.derivation),0!==Ae.inBatch||0!==this.observers.length||this.keepAlive?(je(this),_e(this)&&this.trackAndCompute()&&function(e){if(e.lowestObserverState===fe.STALE)return;e.lowestObserverState=fe.STALE;var t=e.observers,r=t.length;for(;r--;){var n=t[r];n.dependenciesState===fe.POSSIBLY_STALE?n.dependenciesState=fe.STALE:n.dependenciesState===fe.UP_TO_DATE&&(e.lowestObserverState=fe.UP_TO_DATE)}}(this)):_e(this)&&(this.warnAboutUntrackedRead(),Le(),this.value=this.computeValue(!1),De());var e=this.value;if(ge(e))throw e.cause;return e},e.prototype.peek=function(){var e=this.computeValue(!1);if(ge(e))throw e.cause;return e},e.prototype.set=function(e){if(this.setter){m(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,e)}finally{this.isRunningSetter=!1}}else m(!1,!1)},e.prototype.trackAndCompute=function(){He()&&We({object:this.scope,type:"compute",name:this.name});var e=this.value,t=this.dependenciesState===fe.NOT_TRACKING,r=this.computeValue(!0),n=t||ge(e)||ge(r)||!this.equals(e,r);return n&&(this.value=r),n},e.prototype.computeValue=function(e){var t;if(this.isComputing=!0,Ae.computationDepth++,e)t=xe(this,this.derivation,this.scope);else if(!0===Ae.disableErrorBoundaries)t=this.derivation.call(this.scope);else try{t=this.derivation.call(this.scope)}catch(e){t=new ve(e)}return Ae.computationDepth--,this.isComputing=!1,t},e.prototype.suspend=function(){this.keepAlive||(we(this),this.value=void 0)},e.prototype.observe=function(e,t){var r=this,n=!0,o=void 0;return tt(function(){var i=r.get();if(!n||t){var a=Se();e({type:"update",object:r,newValue:i,oldValue:o}),Ce(a)}n=!1,o=i})},e.prototype.warnAboutUntrackedRead=function(){},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},e.prototype.valueOf=function(){return T(this.get())},e}();he.prototype[k()]=he.prototype.valueOf;var fe,de,me,ye=w("ComputedValue",he);(de=fe||(fe={}))[de.NOT_TRACKING=-1]="NOT_TRACKING",de[de.UP_TO_DATE=0]="UP_TO_DATE",de[de.POSSIBLY_STALE=1]="POSSIBLY_STALE",de[de.STALE=2]="STALE",function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(me||(me={}));var ve=function(){return function(e){this.cause=e}}();function ge(e){return e instanceof ve}function _e(e){switch(e.dependenciesState){case fe.UP_TO_DATE:return!1;case fe.NOT_TRACKING:case fe.STALE:return!0;case fe.POSSIBLY_STALE:for(var t=Se(),r=e.observing,n=r.length,o=0;o<n;o++){var i=r[o];if(ye(i)){if(Ae.disableErrorBoundaries)i.get();else try{i.get()}catch(e){return Ce(t),!0}if(e.dependenciesState===fe.STALE)return Ce(t),!0}}return ke(e),Ce(t),!1}}function be(e){var t=e.observers.length>0;Ae.computationDepth>0&&t&&d(!1),Ae.allowStateChanges||!t&&"strict"!==Ae.enforceActions||d(!1)}function xe(e,t,r){ke(e),e.newObserving=new Array(e.observing.length+100),e.unboundDepsCount=0,e.runId=++Ae.runId;var n,o=Ae.trackingDerivation;if(Ae.trackingDerivation=e,!0===Ae.disableErrorBoundaries)n=t.call(r);else try{n=t.call(r)}catch(e){n=new ve(e)}return Ae.trackingDerivation=o,function(e){for(var t=e.observing,r=e.observing=e.newObserving,n=fe.UP_TO_DATE,o=0,i=e.unboundDepsCount,a=0;a<i;a++){var s=r[a];0===s.diffValue&&(s.diffValue=1,o!==a&&(r[o]=s),o++),s.dependenciesState>n&&(n=s.dependenciesState)}r.length=o,e.newObserving=null,i=t.length;for(;i--;){var s=t[i];0===s.diffValue&&Me(s,e),s.diffValue=0}for(;o--;){var s=r[o];1===s.diffValue&&(s.diffValue=0,Ie(s,e))}n!==fe.UP_TO_DATE&&(e.dependenciesState=n,e.onBecomeStale())}(e),n}function we(e){var t=e.observing;e.observing=[];for(var r=t.length;r--;)Me(t[r],e);e.dependenciesState=fe.NOT_TRACKING}function Ee(e){var t=Se(),r=e();return Ce(t),r}function Se(){var e=Ae.trackingDerivation;return Ae.trackingDerivation=null,e}function Ce(e){Ae.trackingDerivation=e}function ke(e){if(e.dependenciesState!==fe.UP_TO_DATE){e.dependenciesState=fe.UP_TO_DATE;for(var t=e.observing,r=t.length;r--;)t[r].lowestObserverState=fe.UP_TO_DATE}}var Te=function(){return function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1}}(),Oe=!0,Pe=!1,Ae=function(){var e=h();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(Oe=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new Te).version&&(Oe=!1),Oe?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new Te):(setTimeout(function(){Pe||d("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new Te)}();function Ie(e,t){var r=e.observers.length;r&&(e.observersIndexes[t.__mapid]=r),e.observers[r]=t,e.lowestObserverState>t.dependenciesState&&(e.lowestObserverState=t.dependenciesState)}function Me(e,t){if(1===e.observers.length)e.observers.length=0,Re(e);else{var r=e.observers,n=e.observersIndexes,o=r.pop();if(o!==t){var i=n[t.__mapid]||0;i?n[o.__mapid]=i:delete n[o.__mapid],r[i]=o}delete n[t.__mapid]}}function Re(e){!1===e.isPendingUnobservation&&(e.isPendingUnobservation=!0,Ae.pendingUnobservations.push(e))}function Le(){Ae.inBatch++}function De(){if(0===--Ae.inBatch){Ue();for(var e=Ae.pendingUnobservations,t=0;t<e.length;t++){var r=e[t];r.isPendingUnobservation=!1,0===r.observers.length&&(r.isBeingObserved&&(r.isBeingObserved=!1,r.onBecomeUnobserved()),r instanceof he&&r.suspend())}Ae.pendingUnobservations=[]}}function je(e){var t=Ae.trackingDerivation;return null!==t?(t.runId!==e.lastAccessedBy&&(e.lastAccessedBy=t.runId,t.newObserving[t.unboundDepsCount++]=e,e.isBeingObserved||(e.isBeingObserved=!0,e.onBecomeObserved())),!0):(0===e.observers.length&&Ae.inBatch>0&&Re(e),!1)}function ze(e,t){if(console.log("[mobx.trace] '"+e.name+"' is invalidated due to a change in: '"+t.name+"'"),e.isTracing===me.BREAK){var r=[];!function e(t,r,n){if(r.length>=1e3)return void r.push("(and many more)");r.push(""+new Array(n).join("\t")+t.name);t.dependencies&&t.dependencies.forEach(function(t){return e(t,r,n+1)})}((n=e,lt(Xt(n,o))),r,1),new Function("debugger;\n/*\nTracing '"+e.name+"'\n\nYou are entering this break point because derivation '"+e.name+"' is being traced and '"+t.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(e instanceof he?e.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+r.join("\n")+"\n*/\n    ")()}var n,o}var Fe=function(){function e(e,t,r){void 0===e&&(e="Reaction@"+f()),this.name=e,this.onInvalidate=t,this.errorHandler=r,this.observing=[],this.newObserving=[],this.dependenciesState=fe.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+f(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=me.NONE}return e.prototype.onBecomeStale=function(){this.schedule()},e.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,Ae.pendingReactions.push(this),Ue())},e.prototype.isScheduled=function(){return this._isScheduled},e.prototype.runReaction=function(){if(!this.isDisposed){if(Le(),this._isScheduled=!1,_e(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending&&He()&&We({name:this.name,type:"scheduled-reaction"})}catch(e){this.reportExceptionInDerivation(e)}}De()}},e.prototype.track=function(e){Le();var t,r=He();r&&(t=Date.now(),Xe({name:this.name,type:"reaction"})),this._isRunning=!0;var n=xe(this,e,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&we(this),ge(n)&&this.reportExceptionInDerivation(n.cause),r&&Ye({time:Date.now()-t}),De()},e.prototype.reportExceptionInDerivation=function(e){var t=this;if(this.errorHandler)this.errorHandler(e,this);else{if(Ae.disableErrorBoundaries)throw e;var r="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";Ae.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(r,e),He()&&We({type:"error",name:this.name,message:r,error:""+e}),Ae.globalReactionErrorHandlers.forEach(function(r){return r(e,t)})}},e.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Le(),we(this),De()))},e.prototype.getDisposer=function(){var e=this.dispose.bind(this);return e.$mobx=this,e},e.prototype.toString=function(){return"Reaction["+this.name+"]"},e.prototype.trace=function(e){void 0===e&&(e=!1),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=!1;"boolean"===typeof e[e.length-1]&&(r=e.pop());var n=function(e){switch(e.length){case 0:return Ae.trackingDerivation;case 1:return Xt(e[0]);case 2:return Xt(e[0],e[1])}}(e);if(!n)return d(!1);n.isTracing===me.NONE&&console.log("[mobx.trace] '"+n.name+"' tracing enabled");n.isTracing=r?me.BREAK:me.LOG}(this,e)},e}();var Ne=100,Be=function(e){return e()};function Ue(){Ae.inBatch>0||Ae.isRunningReactions||Be(Ve)}function Ve(){Ae.isRunningReactions=!0;for(var e=Ae.pendingReactions,t=0;e.length>0;){++t===Ne&&(console.error("Reaction doesn't converge to a stable state after "+Ne+" iterations. Probably there is a cycle in the reactive function: "+e[0]),e.splice(0));for(var r=e.splice(0),n=0,o=r.length;n<o;n++)r[n].runReaction()}Ae.isRunningReactions=!1}var Ge=w("Reaction",Fe);function qe(e){var t=Be;Be=function(r){return e(function(){return t(r)})}}function He(){return!!Ae.spyListeners.length}function We(e){if(Ae.spyListeners.length)for(var t=Ae.spyListeners,r=0,n=t.length;r<n;r++)t[r](e)}function Xe(e){We(a({},e,{spyReportStart:!0}))}var Ze={spyReportEnd:!0};function Ye(e){We(e?a({},e,{spyReportEnd:!0}):Ze)}function Ke(e){return Ae.spyListeners.push(e),y(function(){Ae.spyListeners=Ae.spyListeners.filter(function(t){return t!==e})})}function $e(){d(!1)}function Je(e){return function(t,r,n){if(n){if(n.value)return{value:ie(e,n.value),enumerable:!1,configurable:!0,writable:!0};var o=n.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return ie(e,o.call(this))}}}return function(e){return function(t,r,n){Object.defineProperty(t,r,{configurable:!0,enumerable:!1,get:function(){},set:function(t){b(this,r,Qe(e,t))}})}}(e).apply(this,arguments)}}var Qe=function(e,t,r,n){return 1===arguments.length&&"function"===typeof e?ie(e.name||"<unnamed action>",e):2===arguments.length&&"function"===typeof t?ie(e,t):1===arguments.length&&"string"===typeof e?Je(e):!0!==n?Je(t).apply(null,arguments):void(e[t]=ie(e.name||t,r.value))};function et(e,t,r){b(e,t,ie(t,r.bind(e)))}function tt(e,t){void 0===t&&(t=p);var r,n=t&&t.name||e.name||"Autorun@"+f();if(!t.scheduler&&!t.delay)r=new Fe(n,function(){this.track(a)},t.onError);else{var o=nt(t),i=!1;r=new Fe(n,function(){i||(i=!0,o(function(){i=!1,r.isDisposed||r.track(a)}))},t.onError)}function a(){e(r)}return r.schedule(),r.getDisposer()}Qe.bound=function(e,t,r,n){return!0===n?(et(e,t,r.value),null):r?{configurable:!0,enumerable:!1,get:function(){return et(this,t,r.value||r.initializer.call(this)),this[t]},set:$e}:{enumerable:!1,configurable:!0,set:function(e){et(this,t,e)},get:function(){}}};var rt=function(e){return e()};function nt(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:rt}function ot(e,t,r){void 0===r&&(r=p),"boolean"===typeof r&&(r={fireImmediately:r});var n,o,i,a=r.name||"Reaction@"+f(),s=Qe(a,r.onError?(n=r.onError,o=t,function(){try{return o.apply(this,arguments)}catch(e){n.call(this,e)}}):t),l=!r.scheduler&&!r.delay,u=nt(r),c=!0,h=!1,d=r.compareStructural?z.structural:r.equals||z.default,m=new Fe(a,function(){c||l?y():h||(h=!0,u(y))},r.onError);function y(){if(h=!1,!m.isDisposed){var t=!1;m.track(function(){var r=e(m);t=c||!d(i,r),i=r}),c&&r.fireImmediately&&s(i,m),c||!0!==t||s(i,m),c&&(c=!1)}}return m.schedule(),m.getDisposer()}function it(e,t,r,n){var o="string"===typeof r?Xt(t,r):Xt(t),i="string"===typeof r?n:r,a=o[e];return"function"!==typeof a?d(!1):(o[e]=function(){a.call(this),i.call(this)},function(){o[e]=a})}function at(e){var t=e.enforceActions,r=e.computedRequiresReaction,n=e.disableErrorBoundaries,o=e.arrayBuffer,i=e.reactionScheduler;if(!0===e.isolateGlobalState&&((Ae.pendingReactions.length||Ae.inBatch||Ae.isRunningReactions)&&d("isolateGlobalState should be called before MobX is running any reactions"),Pe=!0,Oe&&(0===--h().__mobxInstanceCount&&(h().__mobxGlobals=void 0),Ae=new Te)),void 0!==t){var a=void 0;switch(t){case!0:case"observed":a=!0;break;case!1:case"never":a=!1;break;case"strict":case"always":a="strict";break;default:d("Invalid value for 'enforceActions': '"+t+"', expected 'never', 'always' or 'observed'")}Ae.enforceActions=a,Ae.allowStateChanges=!0!==a&&"strict"!==a}void 0!==r&&(Ae.computedRequiresReaction=!!r),void 0!==n&&(!0===n&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors if this is on."),Ae.disableErrorBoundaries=!!n),"number"===typeof o&&At(o),i&&qe(i)}function st(e,t,r,n){var o=(n=X(n)).defaultDecorator||(!1===n.deep?$:Y);B(e),Bt(e,n.name,o.enhancer),Le();try{for(var i in t){var a=Object.getOwnPropertyDescriptor(t,i);0;var s=r&&i in r?r[i]:a.get?re:o;0;var l=s(e,i,a,!0);l&&Object.defineProperty(e,i,l)}}finally{De()}return e}function lt(e){var t,r,n={name:e.name};return e.observing&&e.observing.length>0&&(n.dependencies=(t=e.observing,r=[],t.forEach(function(e){-1===r.indexOf(e)&&r.push(e)}),r).map(lt)),n}function ut(e,t){if(null===e||void 0===e)return!1;if(void 0!==t){if(Wt(e)){var r=e.$mobx;return r.values&&!!r.values[t]}return!1}return Wt(e)||!!e.$mobx||L(e)||Ge(e)||ye(e)}function ct(e){return 1!==arguments.length&&d(!1),ut(e)}function pt(e,t){void 0===t&&(t=void 0),Le();try{return e.apply(t)}finally{De()}}function ht(e){return void 0!==e.interceptors&&e.interceptors.length>0}function ft(e,t){var r=e.interceptors||(e.interceptors=[]);return r.push(t),y(function(){var e=r.indexOf(t);-1!==e&&r.splice(e,1)})}function dt(e,t){var r=Se();try{var n=e.interceptors;if(n)for(var o=0,i=n.length;o<i&&(m(!(t=n[o](t))||t.type,"Intercept handlers should return nothing or a change object"),t);o++);return t}finally{Ce(r)}}function mt(e){return void 0!==e.changeListeners&&e.changeListeners.length>0}function yt(e,t){var r=e.changeListeners||(e.changeListeners=[]);return r.push(t),y(function(){var e=r.indexOf(t);-1!==e&&r.splice(e,1)})}function vt(e,t){var r=Se(),n=e.changeListeners;if(n){for(var o=0,i=(n=n.slice()).length;o<i;o++)n[o](t);Ce(r)}}var gt,_t,bt,xt,wt=(gt=!1,_t={},Object.defineProperty(_t,"0",{set:function(){gt=!0}}),Object.create(_t)[0]=1,!1===gt),Et=0,St=function(){return function(){}}();bt=St,xt=Array.prototype,"undefined"!==typeof Object.setPrototypeOf?Object.setPrototypeOf(bt.prototype,xt):"undefined"!==typeof bt.prototype.__proto__?bt.prototype.__proto__=xt:bt.prototype=xt,Object.isFrozen(Array)&&["constructor","push","shift","concat","pop","unshift","replace","find","findIndex","splice","reverse","sort"].forEach(function(e){Object.defineProperty(St.prototype,e,{configurable:!0,writable:!0,value:Array.prototype[e]})});var Ct=function(){function e(e,t,r,n){this.array=r,this.owned=n,this.values=[],this.lastKnownLength=0,this.atom=new R(e||"ObservableArray@"+f()),this.enhancer=function(r,n){return t(r,n,e+"[..]")}}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.dehanceValues=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},e.prototype.intercept=function(e){return ft(this,e)},e.prototype.observe=function(e,t){return void 0===t&&(t=!1),t&&e({object:this.array,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),yt(this,e)},e.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},e.prototype.setArrayLength=function(e){if("number"!==typeof e||e<0)throw new Error("[mobx.array] Out of range: "+e);var t=this.values.length;if(e!==t)if(e>t){for(var r=new Array(e-t),n=0;n<e-t;n++)r[n]=void 0;this.spliceWithArray(t,0,r)}else this.spliceWithArray(e,t-e)},e.prototype.updateArrayLength=function(e,t){if(e!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed. Did you use peek() to change it?");this.lastKnownLength+=t,t>0&&e+t+1>Et&&At(e+t+1)},e.prototype.spliceWithArray=function(e,t,r){var n=this;be(this.atom);var o=this.values.length;if(void 0===e?e=0:e>o?e=o:e<0&&(e=Math.max(0,o+e)),t=1===arguments.length?o-e:void 0===t||null===t?0:Math.max(0,Math.min(t,o-e)),void 0===r&&(r=c),ht(this)){var i=dt(this,{object:this.array,type:"splice",index:e,removedCount:t,added:r});if(!i)return c;t=i.removedCount,r=i.added}var a=(r=0===r.length?r:r.map(function(e){return n.enhancer(e,void 0)})).length-t;this.updateArrayLength(o,a);var s=this.spliceItemsIntoValues(e,t,r);return 0===t&&0===r.length||this.notifyArraySplice(e,r,s),this.dehanceValues(s)},e.prototype.spliceItemsIntoValues=function(e,t,r){var n;if(r.length<1e4)return(n=this.values).splice.apply(n,l([e,t],r));var o=this.values.slice(e,e+t);return this.values=this.values.slice(0,e).concat(r,this.values.slice(e+t)),o},e.prototype.notifyArrayChildUpdate=function(e,t,r){var n=!this.owned&&He(),o=mt(this),i=o||n?{object:this.array,type:"update",index:e,newValue:t,oldValue:r}:null;n&&Xe(a({},i,{name:this.atom.name})),this.atom.reportChanged(),o&&vt(this,i),n&&Ye()},e.prototype.notifyArraySplice=function(e,t,r){var n=!this.owned&&He(),o=mt(this),i=o||n?{object:this.array,type:"splice",index:e,removed:r,added:t,removedCount:r.length,addedCount:t.length}:null;n&&Xe(a({},i,{name:this.atom.name})),this.atom.reportChanged(),o&&vt(this,i),n&&Ye()},e}(),kt=function(e){function t(t,r,n,o){void 0===n&&(n="ObservableArray@"+f()),void 0===o&&(o=!1);var i=e.call(this)||this,a=new Ct(n,r,i,o);if(x(i,"$mobx",a),t&&t.length){var s=ue(!0);i.spliceWithArray(0,0,t),ce(s)}return wt&&Object.defineProperty(a.array,"0",Tt),i}return i(t,e),t.prototype.intercept=function(e){return this.$mobx.intercept(e)},t.prototype.observe=function(e,t){return void 0===t&&(t=!1),this.$mobx.observe(e,t)},t.prototype.clear=function(){return this.splice(0)},t.prototype.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.$mobx.atom.reportObserved(),Array.prototype.concat.apply(this.peek(),e.map(function(e){return Mt(e)?e.peek():e}))},t.prototype.replace=function(e){return this.$mobx.spliceWithArray(0,this.$mobx.values.length,e)},t.prototype.toJS=function(){return this.slice()},t.prototype.toJSON=function(){return this.toJS()},t.prototype.peek=function(){return this.$mobx.atom.reportObserved(),this.$mobx.dehanceValues(this.$mobx.values)},t.prototype.find=function(e,t,r){void 0===r&&(r=0),arguments.length;var n=this.findIndex.apply(this,arguments);return-1===n?void 0:this.get(n)},t.prototype.findIndex=function(e,t,r){void 0===r&&(r=0),arguments.length;for(var n=this.peek(),o=n.length,i=r;i<o;i++)if(e.call(t,n[i],i,this))return i;return-1},t.prototype.splice=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];switch(arguments.length){case 0:return[];case 1:return this.$mobx.spliceWithArray(e);case 2:return this.$mobx.spliceWithArray(e,t)}return this.$mobx.spliceWithArray(e,t,r)},t.prototype.spliceWithArray=function(e,t,r){return this.$mobx.spliceWithArray(e,t,r)},t.prototype.push=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=this.$mobx;return r.spliceWithArray(r.values.length,0,e),r.values.length},t.prototype.pop=function(){return this.splice(Math.max(this.$mobx.values.length-1,0),1)[0]},t.prototype.shift=function(){return this.splice(0,1)[0]},t.prototype.unshift=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=this.$mobx;return r.spliceWithArray(0,0,e),r.values.length},t.prototype.reverse=function(){var e=this.slice();return e.reverse.apply(e,arguments)},t.prototype.sort=function(e){var t=this.slice();return t.sort.apply(t,arguments)},t.prototype.remove=function(e){var t=this.$mobx.dehanceValues(this.$mobx.values).indexOf(e);return t>-1&&(this.splice(t,1),!0)},t.prototype.move=function(e,t){function r(e){if(e<0)throw new Error("[mobx.array] Index out of bounds: "+e+" is negative");var t=this.$mobx.values.length;if(e>=t)throw new Error("[mobx.array] Index out of bounds: "+e+" is not smaller than "+t)}if(r.call(this,e),r.call(this,t),e!==t){var n,o=this.$mobx.values;n=e<t?l(o.slice(0,e),o.slice(e+1,t+1),[o[e]],o.slice(t+1)):l(o.slice(0,t),[o[e]],o.slice(t,e),o.slice(e+1)),this.replace(n)}},t.prototype.get=function(e){var t=this.$mobx;if(t){if(e<t.values.length)return t.atom.reportObserved(),t.dehanceValue(t.values[e]);console.warn("[mobx.array] Attempt to read an array index ("+e+") that is out of bounds ("+t.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},t.prototype.set=function(e,t){var r=this.$mobx,n=r.values;if(e<n.length){be(r.atom);var o=n[e];if(ht(r)){var i=dt(r,{type:"update",object:this,index:e,newValue:t});if(!i)return;t=i.newValue}(t=r.enhancer(t,o))!==o&&(n[e]=t,r.notifyArrayChildUpdate(e,t,o))}else{if(e!==n.length)throw new Error("[mobx.array] Index out of bounds, "+e+" is larger than "+n.length);r.spliceWithArray(e,0,[t])}},t}(St);P(kt.prototype,function(){this.$mobx.atom.reportObserved();var e=this,t=0;return A({next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0,value:void 0}}})}),Object.defineProperty(kt.prototype,"length",{enumerable:!1,configurable:!0,get:function(){return this.$mobx.getArrayLength()},set:function(e){this.$mobx.setArrayLength(e)}}),b(kt.prototype,I(),"Array"),["every","filter","forEach","indexOf","join","lastIndexOf","map","reduce","reduceRight","slice","some","toString","toLocaleString"].forEach(function(e){var t=Array.prototype[e];m("function"===typeof t,"Base function not defined on Array prototype: '"+e+"'"),b(kt.prototype,e,function(){return t.apply(this.peek(),arguments)})}),function(e,t){for(var r=0;r<t.length;r++)b(e,t[r],e[t[r]])}(kt.prototype,["constructor","intercept","observe","clear","concat","get","replace","toJS","toJSON","peek","find","findIndex","splice","spliceWithArray","push","pop","set","shift","unshift","reverse","sort","remove","move","toString","toLocaleString"]);var Tt=Ot(0);function Ot(e){return{enumerable:!1,configurable:!1,get:function(){return this.get(e)},set:function(t){this.set(e,t)}}}function Pt(e){Object.defineProperty(kt.prototype,""+e,Ot(e))}function At(e){for(var t=Et;t<e;t++)Pt(t);Et=e}At(1e3);var It=w("ObservableArrayAdministration",Ct);function Mt(e){return g(e)&&It(e.$mobx)}var Rt={},Lt=function(){function e(e,t,r){if(void 0===t&&(t=V),void 0===r&&(r="ObservableMap@"+f()),this.enhancer=t,this.name=r,this.$mobx=Rt,this._keys=new kt(void 0,G,this.name+".keys()",!0),"function"!==typeof Map)throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(e)}return e.prototype._has=function(e){return this._data.has(e)},e.prototype.has=function(e){return this._hasMap.has(e)?this._hasMap.get(e).get():this._updateHasMapEntry(e,!1).get()},e.prototype.set=function(e,t){var r=this._has(e);if(ht(this)){var n=dt(this,{type:r?"update":"add",object:this,newValue:t,name:e});if(!n)return this;t=n.newValue}return r?this._updateValue(e,t):this._addValue(e,t),this},e.prototype.delete=function(e){var t=this;if(ht(this)&&!(o=dt(this,{type:"delete",object:this,name:e})))return!1;if(this._has(e)){var r=He(),n=mt(this),o=n||r?{type:"delete",object:this,oldValue:this._data.get(e).value,name:e}:null;return r&&Xe(a({},o,{name:this.name,key:e})),pt(function(){t._keys.remove(e),t._updateHasMapEntry(e,!1),t._data.get(e).setNewValue(void 0),t._data.delete(e)}),n&&vt(this,o),r&&Ye(),!0}return!1},e.prototype._updateHasMapEntry=function(e,t){var r=this._hasMap.get(e);return r?r.setNewValue(t):(r=new pe(t,G,this.name+"."+e+"?",!1),this._hasMap.set(e,r)),r},e.prototype._updateValue=function(e,t){var r=this._data.get(e);if((t=r.prepareNewValue(t))!==Ae.UNCHANGED){var n=He(),o=mt(this),i=o||n?{type:"update",object:this,oldValue:r.value,name:e,newValue:t}:null;n&&Xe(a({},i,{name:this.name,key:e})),r.setNewValue(t),o&&vt(this,i),n&&Ye()}},e.prototype._addValue=function(e,t){var r=this;pt(function(){var n=new pe(t,r.enhancer,r.name+"."+e,!1);r._data.set(e,n),t=n.value,r._updateHasMapEntry(e,!0),r._keys.push(e)});var n=He(),o=mt(this),i=o||n?{type:"add",object:this,name:e,newValue:t}:null;n&&Xe(a({},i,{name:this.name,key:e})),o&&vt(this,i),n&&Ye()},e.prototype.get=function(e){return this.has(e)?this.dehanceValue(this._data.get(e).get()):this.dehanceValue(void 0)},e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.keys=function(){return this._keys[O()]()},e.prototype.values=function(){var e=this,t=0;return A({next:function(){return t<e._keys.length?{value:e.get(e._keys[t++]),done:!1}:{value:void 0,done:!0}}})},e.prototype.entries=function(){var e=this,t=0;return A({next:function(){if(t<e._keys.length){var r=e._keys[t++];return{value:[r,e.get(r)],done:!1}}return{done:!0}}})},e.prototype.forEach=function(e,t){var r=this;this._keys.forEach(function(n){return e.call(t,r.get(n),n,r)})},e.prototype.merge=function(e){var t=this;return Dt(e)&&(e=e.toJS()),pt(function(){_(e)?Object.keys(e).forEach(function(r){return t.set(r,e[r])}):Array.isArray(e)?e.forEach(function(e){var r=s(e,2),n=r[0],o=r[1];return t.set(n,o)}):E(e)?e.constructor!==Map?d("Cannot initialize from classes that inherit from Map: "+e.constructor.name):e.forEach(function(e,r){return t.set(r,e)}):null!==e&&void 0!==e&&d("Cannot initialize map from "+e)}),this},e.prototype.clear=function(){var e=this;pt(function(){Ee(function(){e._keys.slice().forEach(function(t){return e.delete(t)})})})},e.prototype.replace=function(e){var t=this;return pt(function(){var r,n=_(r=e)?Object.keys(r):Array.isArray(r)?r.map(function(e){return s(e,1)[0]}):E(r)||Dt(r)?C(r.keys()):d("Cannot get keys from '"+r+"'");t._keys.filter(function(e){return-1===n.indexOf(e)}).forEach(function(e){return t.delete(e)}),t.merge(e)}),this},Object.defineProperty(e.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),e.prototype.toPOJO=function(){var e=this,t={};return this._keys.forEach(function(r){return t[""+r]=e.get(r)}),t},e.prototype.toJS=function(){var e=this,t=new Map;return this._keys.forEach(function(r){return t.set(r,e.get(r))}),t},e.prototype.toJSON=function(){return this.toPOJO()},e.prototype.toString=function(){var e=this;return this.name+"[{ "+this._keys.map(function(t){return t+": "+e.get(t)}).join(", ")+" }]"},e.prototype.observe=function(e,t){return yt(this,e)},e.prototype.intercept=function(e){return ft(this,e)},e}();P(Lt.prototype,function(){return this.entries()}),x(Lt.prototype,I(),"Map");var Dt=w("ObservableMap",Lt),jt={},zt=function(){function e(e,t,r){if(void 0===t&&(t=V),void 0===r&&(r="ObservableSet@"+f()),this.name=r,this.$mobx=jt,this._data=new Set,this._atom=D(this.name),"function"!==typeof Set)throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(e,n){return t(e,n,r)},e&&this.replace(e)}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.clear=function(){var e=this;pt(function(){Ee(function(){e._data.forEach(function(t){e.delete(t)})})})},e.prototype.forEach=function(e,t){var r=this;this._data.forEach(function(n){e.call(t,n,n,r)})},Object.defineProperty(e.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),e.prototype.add=function(e){var t=this;if((be(this._atom),ht(this))&&!(o=dt(this,{type:"add",object:this,newValue:e})))return this;if(!this.has(e)){pt(function(){t._data.add(t.enhancer(e,void 0)),t._atom.reportChanged()});var r=He(),n=mt(this),o=n||r?{type:"add",object:this,newValue:e}:null;0,n&&vt(this,o)}return this},e.prototype.delete=function(e){var t=this;if(ht(this)&&!(o=dt(this,{type:"delete",object:this,oldValue:e})))return!1;if(this.has(e)){var r=He(),n=mt(this),o=n||r?{type:"delete",object:this,oldValue:e}:null;return pt(function(){t._atom.reportChanged(),t._data.delete(e)}),n&&vt(this,o),!0}return!1},e.prototype.has=function(e){return this._atom.reportObserved(),this._data.has(this.dehanceValue(e))},e.prototype.entries=function(){var e=0,t=Array.from(this.keys()),r=Array.from(this.values());return A({next:function(){var n=e;return e+=1,n<r.length?{value:[t[n],r[n]],done:!1}:{done:!0}}})},e.prototype.keys=function(){return this.values()},e.prototype.values=function(){this._atom.reportObserved();var e=this,t=0,r=Array.from(this._data.values());return A({next:function(){return t<r.length?{value:e.dehanceValue(r[t++]),done:!1}:{done:!0}}})},e.prototype.replace=function(e){var t=this;return Ft(e)&&(e=e.toJS()),pt(function(){Array.isArray(e)?(t.clear(),e.forEach(function(e){return t.add(e)})):S(e)?(t.clear(),e.forEach(function(e){return t.add(e)})):null!==e&&void 0!==e&&d("Cannot initialize set from "+e)}),this},e.prototype.observe=function(e,t){return yt(this,e)},e.prototype.intercept=function(e){return ft(this,e)},e.prototype.toJS=function(){return new Set(this)},e.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},e}();P(zt.prototype,function(){return this.values()}),x(zt.prototype,I(),"Set");var Ft=w("ObservableSet",zt),Nt=function(){function e(e,t,r){this.target=e,this.name=t,this.defaultEnhancer=r,this.values={}}return e.prototype.read=function(e,t){if(this.target===e||(this.illegalAccess(e,t),this.values[t]))return this.values[t].get()},e.prototype.write=function(e,t,r){var n=this.target;n!==e&&this.illegalAccess(e,t);var o=this.values[t];if(o instanceof he)o.set(r);else{if(ht(this)){if(!(l=dt(this,{type:"update",object:n,name:t,newValue:r})))return;r=l.newValue}if((r=o.prepareNewValue(r))!==Ae.UNCHANGED){var i=mt(this),s=He(),l=i||s?{type:"update",object:n,oldValue:o.value,name:t,newValue:r}:null;s&&Xe(a({},l,{name:this.name,key:t})),o.setNewValue(r),i&&vt(this,l),s&&Ye()}}},e.prototype.remove=function(e){if(this.values[e]){var t=this.target;if(ht(this))if(!(i=dt(this,{object:t,name:e,type:"remove"})))return;try{Le();var r=mt(this),n=He(),o=this.values[e].get();this.keys&&this.keys.remove(e),delete this.values[e],delete this.target[e];var i=r||n?{type:"remove",object:t,oldValue:o,name:e}:null;n&&Xe(a({},i,{name:this.name,key:e})),r&&vt(this,i),n&&Ye()}finally{De()}}},e.prototype.illegalAccess=function(e,t){console.warn("Property '"+t+"' of '"+e+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},e.prototype.observe=function(e,t){return yt(this,e)},e.prototype.intercept=function(e){return ft(this,e)},e.prototype.getKeys=function(){var e=this;return void 0===this.keys&&(this.keys=new kt(Object.keys(this.values).filter(function(t){return e.values[t]instanceof pe}),G,"keys("+this.name+")",!0)),this.keys.slice()},e}();function Bt(e,t,r){void 0===t&&(t=""),void 0===r&&(r=V);var n=e.$mobx;return n||(_(e)||(t=(e.constructor.name||"ObservableObject")+"@"+f()),t||(t="ObservableObject@"+f()),x(e,"$mobx",n=new Nt(e,t,r)),n)}function Ut(e,t,r,n){var o=Bt(e);if(ht(o)){var i=dt(o,{object:e,name:t,type:"add",newValue:r});if(!i)return;r=i.newValue}r=(o.values[t]=new pe(r,n,o.name+"."+t,!1)).value,Object.defineProperty(e,t,function(e){return Vt[e]||(Vt[e]={configurable:!0,enumerable:!0,get:function(){return this.$mobx.read(this,e)},set:function(t){this.$mobx.write(this,e,t)}})}(t)),o.keys&&o.keys.push(t),function(e,t,r,n){var o=mt(e),i=He(),s=o||i?{type:"add",object:t,name:r,newValue:n}:null;i&&Xe(a({},s,{name:e.name,key:r}));o&&vt(e,s);i&&Ye()}(o,e,t,r)}var Vt=Object.create(null),Gt=Object.create(null);function qt(e){var t=e.$mobx;return t||(B(e),e.$mobx)}var Ht=w("ObservableObjectAdministration",Nt);function Wt(e){return!!g(e)&&(B(e),Ht(e.$mobx))}function Xt(e,t){if("object"===typeof e&&null!==e){if(Mt(e))return void 0!==t&&d(!1),e.$mobx.atom;if(Ft(e))return e.$mobx;if(Dt(e)){var r=e;return void 0===t?Xt(r._keys):((n=r._data.get(t)||r._hasMap.get(t))||d(!1),n)}var n;if(B(e),t&&!e.$mobx&&e[t],Wt(e))return t?((n=e.$mobx.values[t])||d(!1),n):d(!1);if(L(e)||ye(e)||Ge(e))return e}else if("function"===typeof e&&Ge(e.$mobx))return e.$mobx;return d(!1)}function Zt(e,t){return e||d("Expecting some object"),void 0!==t?Zt(Xt(e,t)):L(e)||ye(e)||Ge(e)?e:Dt(e)||Ft(e)?e:(B(e),e.$mobx?e.$mobx:void d(!1))}function Yt(e,t){return(void 0!==t?Xt(e,t):Wt(e)||Dt(e)||Ft(e)?Zt(e):Xt(e)).name}var Kt=Object.prototype.toString;function $t(e,t){return Jt(e,t)}function Jt(e,t,r,n){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return!1;if(e!==e)return t!==t;var o=typeof e;return("function"===o||"object"===o||"object"==typeof t)&&function(e,t,r,n){e=Qt(e),t=Qt(t);var o=Kt.call(e);if(o!==Kt.call(t))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+e===""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t;case"[object Symbol]":return"undefined"!==typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t)}var i="[object Array]"===o;if(!i){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,s=t.constructor;if(a!==s&&!("function"===typeof a&&a instanceof a&&"function"===typeof s&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}r=r||[],n=n||[];var l=r.length;for(;l--;)if(r[l]===e)return n[l]===t;if(r.push(e),n.push(t),i){if((l=e.length)!==t.length)return!1;for(;l--;)if(!Jt(e[l],t[l],r,n))return!1}else{var u,c=Object.keys(e);if(l=c.length,Object.keys(t).length!==l)return!1;for(;l--;)if(u=c[l],!er(t,u)||!Jt(e[u],t[u],r,n))return!1}return r.pop(),n.pop(),!0}(e,t,r,n)}function Qt(e){return Mt(e)?e.peek():E(e)||Dt(e)?C(e.entries()):S(e)||Ft(e)?Array.from(e.entries()):e}function er(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var tr="$mobx";"object"===typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Ke,extras:{getDebugName:Yt},$mobx:tr})}).call(t,r(32),r(69))},function(e,t,r){"use strict";var n,o,i,a,s,l,u,c,p,h,f,d=r(22),m=r(28),y=r(589),v=r(289),g=r(1),_=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function b(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function x(e,t,r,n,o){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var w=(n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),b(this,"id",o,this),b(this,"title",i,this),b(this,"description",a,this),b(this,"slug",s,this),b(this,"public",l,this),b(this,"basemap_slug",u,this),b(this,"mapUserName",c,this),b(this,"simplify",p,this),b(this,"disableDownload",h,this),b(this,"disableEmbed",f,this)}return _(e,[{key:"setTitle",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.title=e||"",t||g.a.saveOn()}},{key:"setDescription",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.description=e||"",t||g.a.saveOn()}},{key:"setSlug",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.slug=e||"",t||g.a.saveOn()}},{key:"setPublic",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.public=Boolean(e),t||g.a.saveOn()}},{key:"setBasemap",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.basemap_slug=e||m.a,Object(y.a)(e),t||g.a.saveOn()}},{key:"setId",value:function(e){e&&(this.id=e)}},{key:"setMapUserName",value:function(e){this.mapUserName=e}},{key:"setSimplify",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];"number"===typeof e&&isFinite(e)&&(this.simplify=Math.max(0,Math.floor(e)),t||g.a.saveOn())}},{key:"setDisableDownload",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.disableDownload=!!e,t||g.a.saveOn()}},{key:"setDisableEmbed",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.disableEmbed=!!e,t||g.a.saveOn()}},{key:"titleHTML",get:function(){return this.title.replace(/\n/g,"<br>")}},{key:"descriptionHTML",get:function(){return Object(v.a)(this.description)}}]),e}(),o=x(n.prototype,"id",[d.m],{enumerable:!0,initializer:function(){return null}}),i=x(n.prototype,"title",[d.m],{enumerable:!0,initializer:function(){return""}}),a=x(n.prototype,"description",[d.m],{enumerable:!0,initializer:function(){return""}}),s=x(n.prototype,"slug",[d.m],{enumerable:!0,initializer:null}),l=x(n.prototype,"public",[d.m],{enumerable:!0,initializer:null}),u=x(n.prototype,"basemap_slug",[d.m],{enumerable:!0,initializer:null}),c=x(n.prototype,"mapUserName",[d.m],{enumerable:!0,initializer:null}),p=x(n.prototype,"simplify",[d.m],{enumerable:!0,initializer:function(){return 0}}),h=x(n.prototype,"disableDownload",[d.m],{enumerable:!0,initializer:function(){return!1}}),f=x(n.prototype,"disableEmbed",[d.m],{enumerable:!0,initializer:function(){return!1}}),x(n.prototype,"titleHTML",[d.f],Object.getOwnPropertyDescriptor(n.prototype,"titleHTML"),n.prototype),x(n.prototype,"descriptionHTML",[d.f],Object.getOwnPropertyDescriptor(n.prototype,"descriptionHTML"),n.prototype),x(n.prototype,"setTitle",[d.d],Object.getOwnPropertyDescriptor(n.prototype,"setTitle"),n.prototype),x(n.prototype,"setDescription",[d.d],Object.getOwnPropertyDescriptor(n.prototype,"setDescription"),n.prototype),x(n.prototype,"setSlug",[d.d],Object.getOwnPropertyDescriptor(n.prototype,"setSlug"),n.prototype),x(n.prototype,"setPublic",[d.d],Object.getOwnPropertyDescriptor(n.prototype,"setPublic"),n.prototype),x(n.prototype,"setBasemap",[d.d],Object.getOwnPropertyDescriptor(n.prototype,"setBasemap"),n.prototype),x(n.prototype,"setId",[d.d],Object.getOwnPropertyDescriptor(n.prototype,"setId"),n.prototype),x(n.prototype,"setMapUserName",[d.d],Object.getOwnPropertyDescriptor(n.prototype,"setMapUserName"),n.prototype),x(n.prototype,"setSimplify",[d.d],Object.getOwnPropertyDescriptor(n.prototype,"setSimplify"),n.prototype),x(n.prototype,"setDisableDownload",[d.d],Object.getOwnPropertyDescriptor(n.prototype,"setDisableDownload"),n.prototype),x(n.prototype,"setDisableEmbed",[d.d],Object.getOwnPropertyDescriptor(n.prototype,"setDisableEmbed"),n.prototype),n);t.a=new w},function(e,t,r){e.exports={default:r(744),__esModule:!0}},function(e,t,r){"use strict";t.__esModule=!0;var n,o=r(313),i=(n=o)&&n.__esModule?n:{default:n};t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"===typeof t?"undefined":(0,i.default)(t))&&"function"!==typeof t?e:t}},function(e,t,r){"use strict";t.__esModule=!0;var n=a(r(767)),o=a(r(771)),i=a(r(313));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"===typeof t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(n.default?(0,n.default)(e,t):e.__proto__=t)}},function(e,t,r){"use strict";var n=!("undefined"===typeof window||!window.document||!window.document.createElement),o={canUseDOM:n,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:n&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:n&&!!window.screen,isInWorker:!n};e.exports=o},function(e,t,r){"use strict";r.d(t,"f",function(){return n}),r.d(t,"e",function(){return o}),r.d(t,"d",function(){return i}),r.d(t,"b",function(){return a}),r.d(t,"c",function(){return s}),r.d(t,"a",function(){return l}),r.d(t,"k",function(){return u}),r.d(t,"j",function(){return c}),r.d(t,"i",function(){return p}),r.d(t,"g",function(){return h}),r.d(t,"l",function(){return f}),r.d(t,"h",function(){return d});var n=!0,o=!1,i=4,a="#3c77d4",s="default",l="maphub-classic",u="Unlocated Images",c="Images",p=window.devicePixelRatio>1.3,h=[a,"#2a4ea1","#482d9e","#b63681","#e32c31","#cc1b15","#fb6033","#f18729","#f1ae29","#ffcc00","#3cc954","#1b8893","#005e38","#444444"],f=["point","polyline","polygon","label","search"],d=[{w:544,h:400},{w:768,h:576},{w:1024,h:768},{w:1344,h:1008},{w:1856,h:1392}]},function(e,t){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(e,t,r){var n=r(198)("wks"),o=r(135),i=r(29).Symbol,a="function"==typeof i;(e.exports=function(e){return n[e]||(n[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=n},function(e,t,r){"use strict";var n=r(322);r.d(t,"b",function(){return n.a});var o=r(801);r.d(t,"a",function(){return o.a});r(325),r(324),r(4)},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"===typeof window&&(r=window)}e.exports=r},function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},function(e,t,r){var n=r(36),o=r(19),i=r(57),a=r(56),s=r(68),l=function(e,t,r){var u,c,p,h,f=e&l.F,d=e&l.G,m=e&l.S,y=e&l.P,v=e&l.B,g=d?n:m?n[t]||(n[t]={}):(n[t]||{}).prototype,_=d?o:o[t]||(o[t]={}),b=_.prototype||(_.prototype={});for(u in d&&(r=t),r)p=((c=!f&&g&&void 0!==g[u])?g:r)[u],h=v&&c?s(p,n):y&&"function"==typeof p?s(Function.call,p):p,g&&a(g,u,p,e&l.U),_[u]!=p&&i(_,u,h),y&&b[u]!=p&&(b[u]=p)};n.core=o,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t,r){"use strict";var n=null;e.exports={debugTool:n}},function(e,t){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(e,t,r){"use strict";e.exports=r(429)},function(e,t,r){"use strict";var n=r(7),o=r(12),i=r(252),a=r(61),s=r(253),l=r(62),u=r(112),c=r(2),p=[],h=0,f=i.getPooled(),d=!1,m=null;function y(){w.ReactReconcileTransaction&&m||n("123")}var v=[{initialize:function(){this.dirtyComponentsLength=p.length},close:function(){this.dirtyComponentsLength!==p.length?(p.splice(0,this.dirtyComponentsLength),x()):p.length=0}},{initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}}];function g(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=i.getPooled(),this.reconcileTransaction=w.ReactReconcileTransaction.getPooled(!0)}function _(e,t){return e._mountOrder-t._mountOrder}function b(e){var t=e.dirtyComponentsLength;t!==p.length&&n("124",t,p.length),p.sort(_),h++;for(var r=0;r<t;r++){var o,i=p[r],a=i._pendingCallbacks;if(i._pendingCallbacks=null,s.logTopLevelRenders){var u=i;i._currentElement.type.isReactTopLevelWrapper&&(u=i._renderedComponent),o="React update: "+u.getName(),console.time(o)}if(l.performUpdateIfNecessary(i,e.reconcileTransaction,h),o&&console.timeEnd(o),a)for(var c=0;c<a.length;c++)e.callbackQueue.enqueue(a[c],i.getPublicInstance())}}o(g.prototype,u,{getTransactionWrappers:function(){return v},destructor:function(){this.dirtyComponentsLength=null,i.release(this.callbackQueue),this.callbackQueue=null,w.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(e,t,r){return u.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,e,t,r)}}),a.addPoolingTo(g);var x=function(){for(;p.length||d;){if(p.length){var e=g.getPooled();e.perform(b,null,e),g.release(e)}if(d){d=!1;var t=f;f=i.getPooled(),t.notifyAll(),i.release(t)}}};var w={ReactReconcileTransaction:null,batchedUpdates:function(e,t,r,n,o,i){return y(),m.batchedUpdates(e,t,r,n,o,i)},enqueueUpdate:function e(t){y(),m.isBatchingUpdates?(p.push(t),null==t._updateBatchNumber&&(t._updateBatchNumber=h+1)):m.batchedUpdates(e,t)},flushBatchedUpdates:x,injection:{injectReconcileTransaction:function(e){e||n("126"),w.ReactReconcileTransaction=e},injectBatchingStrategy:function(e){e||n("127"),"function"!==typeof e.batchedUpdates&&n("128"),"boolean"!==typeof e.isBatchingUpdates&&n("129"),m=e}},asap:function(e,t){c(m.isBatchingUpdates,"ReactUpdates.asap: Can't enqueue an asap callback in a context whereupdates are not being batched."),f.enqueue(e,t),d=!0}};e.exports=w},function(e,t,r){"use strict";function n(e){return function(){return e}}var o=function(){};o.thatReturns=n,o.thatReturnsFalse=n(!1),o.thatReturnsTrue=n(!0),o.thatReturnsNull=n(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},e.exports=o},function(e,t,r){"use strict";r.d(t,"a",function(){return p});var n=r(0),o=r.n(n),i=r(8),a=r.n(i),s=r(124),l=r.n(s),u=r(5),c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["Component"]),c(t,[{key:"render",value:function(){var e=this.props,t=e.iconValue,r=e.iconName,n=e.style,i=t||l.a[r]||"";return i||Object(u.b)("icon not found: iconValue: "+t+" iconName: "+r),o.a.createElement("span",{className:a()("icon","icon-"+i,this.props.additionalClasses),onClick:this.props.onClick,title:this.props.title,style:n})}}]),t}()},function(e,t,r){var n=r(29),o=r(17),i=r(101),a=r(65),s=r(64),l=function(e,t,r){var u,c,p,h=e&l.F,f=e&l.G,d=e&l.S,m=e&l.P,y=e&l.B,v=e&l.W,g=f?o:o[t]||(o[t]={}),_=g.prototype,b=f?n:d?n[t]:(n[t]||{}).prototype;for(u in f&&(r=t),r)(c=!h&&b&&void 0!==b[u])&&s(g,u)||(p=c?b[u]:r[u],g[u]=f&&"function"!=typeof b[u]?r[u]:y&&c?i(p,n):v&&b[u]==p?function(e){var t=function(t,r,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,n)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(p):m&&"function"==typeof p?i(Function.call,p):p,m&&((g.virtual||(g.virtual={}))[u]=p,e&l.R&&_&&!_[u]&&a(_,u,p)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t,r){var n=r(54);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t,r){"use strict";t.__esModule=!0;var n,o=r(323),i=(n=o)&&n.__esModule?n:{default:n};t.default=i.default||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}},function(e,t,r){var n=r(58),o=r(219),i=r(146),a=Object.defineProperty;t.f=r(49)?Object.defineProperty:function(e,t,r){if(n(e),t=i(t,!0),n(r),o)try{return a(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},function(e,t,r){"use strict";e.exports={current:null}},function(e,t,r){"use strict";var n=r(12),o=r(61),i=r(39),a=(r(9),["dispatchConfig","_targetInst","nativeEvent","isDefaultPrevented","isPropagationStopped","_dispatchListeners","_dispatchInstances"]),s={type:null,target:null,currentTarget:i.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};function l(e,t,r,n){this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=r;var o=this.constructor.Interface;for(var a in o)if(o.hasOwnProperty(a)){0;var s=o[a];s?this[a]=s(r):"target"===a?this.target=n:this[a]=r[a]}var l=null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue;return this.isDefaultPrevented=l?i.thatReturnsTrue:i.thatReturnsFalse,this.isPropagationStopped=i.thatReturnsFalse,this}n(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=i.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=i.thatReturnsTrue)},persist:function(){this.isPersistent=i.thatReturnsTrue},isPersistent:i.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var t in e)this[t]=null;for(var r=0;r<a.length;r++)this[a[r]]=null}}),l.Interface=s,l.augmentClass=function(e,t){var r=function(){};r.prototype=this.prototype;var i=new r;n(i,e.prototype),e.prototype=i,e.prototype.constructor=e,e.Interface=n({},this.Interface,t),e.augmentClass=this.augmentClass,o.addPoolingTo(e,o.fourArgumentPooler)},o.addPoolingTo(l,o.fourArgumentPooler),e.exports=l},function(e,t,r){"use strict";var n,o=r(22),i=r(718),a=r(5),s=r(20),l=r(18),u=r(1),c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function p(e,t,r,n,o){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var h=new(p((n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.groupArray=o.m.array()}return c(e,[{key:"addGroup",value:function(e){var t=e.generateName,r=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["generateName"]);if(r=r||{},t){for(var n=this.groupArray.map(function(e){return e.title}),o=void 0,a=1;a<=100&&(o="Group "+a,-1!==n.indexOf(o));a++);r.title=o}var s=new i.a(r);if(!this.groupMap.has(s.id))return this.groupArray.push(s),s}},{key:"removeGroup",value:function(e){if(e){var t=this.groupArray.findIndex(function(t){return t.id===e.id});this.groupArray.splice(t,1)}}},{key:"clear",value:function(){this.groupArray.clear()}},{key:"sortTo",value:function(e){var t=this;Object(s.g)(e,Array.from(this.groupMap.keys()))?(this.groupArray.replace(e.map(function(e){return t.groupMap.get(e)})),l.a.orderByGroups(),u.a.updateTree(),u.a.saveOn()):Object(a.b)("sortTo.hasSameElements")}},{key:"getWithTitle",value:function(e){var t=this.groupArray.filter(function(t){return t.title===e});return t.length?t[0]:null}},{key:"getOrCreateWithTitle",value:function(e){var t=this.groupArray.filter(function(t){return t.title===e});return t.length?t[0]:h.addGroup({title:e})}},{key:"groupMap",get:function(){return new Map(this.groupArray.map(function(e){return[e.id,e]}))}},{key:"count",get:function(){return this.groupArray.length}}]),e}()).prototype,"groupMap",[o.f],Object.getOwnPropertyDescriptor(n.prototype,"groupMap"),n.prototype),p(n.prototype,"count",[o.f],Object.getOwnPropertyDescriptor(n.prototype,"count"),n.prototype),p(n.prototype,"addGroup",[o.d],Object.getOwnPropertyDescriptor(n.prototype,"addGroup"),n.prototype),p(n.prototype,"removeGroup",[o.d],Object.getOwnPropertyDescriptor(n.prototype,"removeGroup"),n.prototype),p(n.prototype,"clear",[o.d],Object.getOwnPropertyDescriptor(n.prototype,"clear"),n.prototype),p(n.prototype,"sortTo",[o.d],Object.getOwnPropertyDescriptor(n.prototype,"sortTo"),n.prototype),n);t.a=h},function(e,t,r){"use strict";var n,o,i,a=r(22),s=r(18),l=r(1),u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function c(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function p(e,t,r,n,o){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var h=(n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.featureMap=a.m.map(),c(this,"searchText",o,this),c(this,"expanded",i,this)}return u(e,[{key:"setExpanded",value:function(e){this.expanded=e}},{key:"reset",value:function(){this.expanded=!1,this.searchText="",this.featureMap.clear()}},{key:"updateFilter",value:function(e){if(this.expanded=!!e,this.searchText=e,this.featureMap.clear(),l.a.deactivateAll(),e){l.a.setPanelState("item");var t=e.toLowerCase(),r=!0,n=!1,o=void 0;try{for(var i,a=s.a.featureArray[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var u=i.value;-1!==u.title.toLowerCase().indexOf(t)&&this.featureMap.set(u.id,1)}}catch(e){n=!0,o=e}finally{try{!r&&a.return&&a.return()}finally{if(n)throw o}}}}},{key:"hasFilter",get:function(){return!!this.searchText}}]),e}(),o=p(n.prototype,"searchText",[a.m],{enumerable:!0,initializer:function(){return""}}),i=p(n.prototype,"expanded",[a.m],{enumerable:!0,initializer:function(){return!1}}),p(n.prototype,"hasFilter",[a.f],Object.getOwnPropertyDescriptor(n.prototype,"hasFilter"),n.prototype),p(n.prototype,"setExpanded",[a.d],Object.getOwnPropertyDescriptor(n.prototype,"setExpanded"),n.prototype),p(n.prototype,"reset",[a.d],Object.getOwnPropertyDescriptor(n.prototype,"reset"),n.prototype),p(n.prototype,"updateFilter",[a.d],Object.getOwnPropertyDescriptor(n.prototype,"updateFilter"),n.prototype),n);t.a=new h},function(e,t,r){e.exports=!r(67)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,r){var n=r(150),o=r(109);e.exports=function(e){return n(o(e))}},function(e,t,r){"use strict";var n=r(283),o=r.n(n),i=r(15),a=r(5);t.a=function e(t,r,n){o.a.post(t.url).set({"X-CSRF-Token":window.csrfToken||"","X-Requested-With":"XMLHttpRequest"}).send(t.data).end(function(o,s){r&&(s&&s.ok&&s.body?s.body.success?r(s.body):s.body.error?s.body.warning?"not_logged_in"===s.body.error?i.a.showText("Error: Not logged in","Please reload the page and log in.",function(){return r(null,s.body.error)}):"not_authorized"===s.body.error?i.a.showText("Error: Not authorized","Please reload the page and log in with the right user.",function(){return r(null,s.body.error)}):"csrf_error"===s.body.error?i.a.showText("Cookie error","Please make sure your browser is not blocking cookies, then reload the page.",function(){return r(null,s.body.error)}):r(null,s.body.error):(Object(a.b)("Error with AJAX call (no warning)\n"+t.url+"\nerror: "+s.body.error),r(null,s.body.error)):(Object(a.b)("Error with AJAX call (no error)\n"+t.url+"\nerror: "+JSON.stringify(s.body)),r(null,"Unknown error")):n?i.a.showText("Connection error","If you keep experiencing this error, please reload the page.",function(){r(null,"connection_error")}):setTimeout(function(){Object(a.a)("Retrying AJAX call: "+t.url),e(t,r,!0)},500))})}},function(e,t,r){var n=r(11);e.exports={isOfMetaType:function(e){return function(t){var r=t.featureTarget;return!!r&&(!!r.properties&&r.properties.meta===e)}},isShiftMousedown:function(e){return!!e.originalEvent&&(!!e.originalEvent.shiftKey&&0===e.originalEvent.button)},isActiveFeature:function(e){return!!e.featureTarget&&(!!e.featureTarget.properties&&(e.featureTarget.properties.active===n.activeStates.ACTIVE&&e.featureTarget.properties.meta===n.meta.FEATURE))},isInactiveFeature:function(e){return!!e.featureTarget&&(!!e.featureTarget.properties&&(e.featureTarget.properties.active===n.activeStates.INACTIVE&&e.featureTarget.properties.meta===n.meta.FEATURE))},noTarget:function(e){return void 0===e.featureTarget},isFeature:function(e){return!!e.featureTarget&&(!!e.featureTarget.properties&&e.featureTarget.properties.meta===n.meta.FEATURE)},isVertex:function(e){var t=e.featureTarget;return!!t&&(!!t.properties&&t.properties.meta===n.meta.VERTEX)},isShiftDown:function(e){return!!e.originalEvent&&!0===e.originalEvent.shiftKey},isEscapeKey:function(e){return 27===e.keyCode},isEnterKey:function(e){return 13===e.keyCode},true:function(){return!0}}},function(e,t,r){var n=r(42),o=r(311),i=r(201),a=Object.defineProperty;t.f=r(55)?Object.defineProperty:function(e,t,r){if(n(e),t=i(t,!0),n(r),o)try{return a(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},function(e,t,r){e.exports=!r(82)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,r){var n=r(36),o=r(57),i=r(59),a=r(85)("src"),s=Function.toString,l=(""+s).split("toString");r(19).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,r,s){var u="function"==typeof r;u&&(i(r,"name")||o(r,"name",t)),e[t]!==r&&(u&&(i(r,a)||o(r,a,e[t]?""+e[t]:l.join(String(t)))),e===n?e[t]=r:s?e[t]?e[t]=r:o(e,t,r):(delete e[t],o(e,t,r)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||s.call(this)})},function(e,t,r){var n=r(44),o=r(86);e.exports=r(49)?function(e,t,r){return n.f(e,t,o(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t,r){var n=r(33);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t,r){"use strict";var n=r(12),o=r(241),i=r(414),a=r(419),s=r(70),l=r(420),u=r(425),c=r(426),p=r(428),h=s.createElement,f=s.createFactory,d=s.cloneElement,m=n,y=function(e){return e},v={Children:{map:i.map,forEach:i.forEach,count:i.count,toArray:i.toArray,only:p},Component:o.Component,PureComponent:o.PureComponent,createElement:h,cloneElement:d,isValidElement:s.isValidElement,PropTypes:l,createClass:c,createFactory:f,createMixin:y,DOM:a,version:u,__spread:m};e.exports=v},function(e,t,r){"use strict";var n=r(7),o=(r(2),function(e){if(this.instancePool.length){var t=this.instancePool.pop();return this.call(t,e),t}return new this(e)}),i=function(e){e instanceof this||n("25"),e.destructor(),this.instancePool.length<this.poolSize&&this.instancePool.push(e)},a=o,s={addPoolingTo:function(e,t){var r=e;return r.instancePool=[],r.getPooled=t||a,r.poolSize||(r.poolSize=10),r.release=i,r},oneArgumentPooler:o,twoArgumentPooler:function(e,t){if(this.instancePool.length){var r=this.instancePool.pop();return this.call(r,e,t),r}return new this(e,t)},threeArgumentPooler:function(e,t,r){if(this.instancePool.length){var n=this.instancePool.pop();return this.call(n,e,t,r),n}return new this(e,t,r)},fourArgumentPooler:function(e,t,r,n){if(this.instancePool.length){var o=this.instancePool.pop();return this.call(o,e,t,r,n),o}return new this(e,t,r,n)}};e.exports=s},function(e,t,r){"use strict";var n=r(436);r(35),r(9);function o(){n.attachRefs(this,this._currentElement)}var i={mountComponent:function(e,t,r,n,i,a){var s=e.mountComponent(t,r,n,i,a);return e._currentElement&&null!=e._currentElement.ref&&t.getReactMountReady().enqueue(o,e),s},getHostNode:function(e){return e.getHostNode()},unmountComponent:function(e,t){n.detachRefs(e,e._currentElement),e.unmountComponent(t)},receiveComponent:function(e,t,r,i){var a=e._currentElement;if(t!==a||i!==e._context){0;var s=n.shouldUpdateRefs(a,t);s&&n.detachRefs(e,a),e.receiveComponent(t,r,i),s&&e._currentElement&&null!=e._currentElement.ref&&r.getReactMountReady().enqueue(o,e)}},performUpdateIfNecessary:function(e,t,r){e._updateBatchNumber===r&&e.performUpdateIfNecessary(t)}};e.exports=i},function(e,t,r){"use strict";t.c=function(e,t){t=t||{};var r=document.createElement(e),n=!0,o=!1,a=void 0;try{for(var s,l=["className","id","innerHTML","value","title","checked","onclick","textContent"][Symbol.iterator]();!(n=(s=l.next()).done);n=!0){var u=s.value;t[u]&&(r[u]=t[u])}}catch(e){o=!0,a=e}finally{try{!n&&l.return&&l.return()}finally{if(o)throw a}}t.container&&t.container.appendChild(r);if(t.attrs){var c=!0,p=!1,h=void 0;try{for(var f,d=Object.entries(t.attrs)[Symbol.iterator]();!(c=(f=d.next()).done);c=!0){var m=f.value,y=i(m,2),v=y[0],g=y[1];r.setAttribute(v,g)}}catch(e){p=!0,h=e}finally{try{!c&&d.return&&d.return()}finally{if(p)throw h}}}if(t.children){var _=!0,b=!1,x=void 0;try{for(var w,E=t.children[Symbol.iterator]();!(_=(w=E.next()).done);_=!0){var S=w.value;S&&r.appendChild(S)}}catch(e){b=!0,x=e}finally{try{!_&&E.return&&E.return()}finally{if(b)throw x}}}t.reference&&(t.reference[0][t.reference[1]]=r);return r},t.a=a,t.f=s,t.g=function(e,t,r){r?a(e,t):s(e,t)},t.b=function(e,t,r){a(e,t),setTimeout(function(){s(e,t)},r)},t.d=function(){document.documentElement.className="no-elastic"},t.e=function(){Object(n.a)(window.document,"touchmove",function(e){e.scale&&1!==e.scale&&e.preventDefault()},{passive:!1})};var n=r(177),o=r(20),i=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function a(e,t){if(e){var r=!0,n=!1,i=void 0;try{for(var a,s=Object(o.l)(t)[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;e.classList.add(l)}}catch(e){n=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(n)throw i}}}}function s(e,t){if(e){var r=!0,n=!1,i=void 0;try{for(var a,s=Object(o.l)(t)[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;e.classList.remove(l)}}catch(e){n=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(n)throw i}}}}},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t,r){var n=r(53),o=r(137);e.exports=r(55)?function(e,t,r){return n.f(e,t,o(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t,r){var n=r(317),o=r(196);e.exports=function(e){return n(o(e))}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,r){var n=r(367);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,o){return e.call(t,r,n,o)}}return function(){return e.apply(t,arguments)}}},function(e,t){var r,n,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"===typeof setTimeout?setTimeout:i}catch(e){r=i}try{n="function"===typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var l,u=[],c=!1,p=-1;function h(){c&&l&&(c=!1,l.length?u=l.concat(u):p=-1,u.length&&f())}function f(){if(!c){var e=s(h);c=!0;for(var t=u.length;t;){for(l=u,u=[];++p<t;)l&&l[p].run();p=-1,t=u.length}l=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new d(e,t)),1!==u.length||c||s(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,r){"use strict";var n=r(12),o=r(45),i=(r(9),r(243),Object.prototype.hasOwnProperty),a=r(244),s={key:!0,ref:!0,__self:!0,__source:!0};function l(e){return void 0!==e.ref}function u(e){return void 0!==e.key}var c=function(e,t,r,n,o,i,s){var l={$$typeof:a,type:e,key:t,ref:r,props:s,_owner:i};return l};c.createElement=function(e,t,r){var n,a={},p=null,h=null;if(null!=t)for(n in l(t)&&(h=t.ref),u(t)&&(p=""+t.key),void 0===t.__self?null:t.__self,void 0===t.__source?null:t.__source,t)i.call(t,n)&&!s.hasOwnProperty(n)&&(a[n]=t[n]);var f=arguments.length-2;if(1===f)a.children=r;else if(f>1){for(var d=Array(f),m=0;m<f;m++)d[m]=arguments[m+2];0,a.children=d}if(e&&e.defaultProps){var y=e.defaultProps;for(n in y)void 0===a[n]&&(a[n]=y[n])}return c(e,p,h,0,0,o.current,a)},c.createFactory=function(e){var t=c.createElement.bind(null,e);return t.type=e,t},c.cloneAndReplaceKey=function(e,t){return c(e.type,t,e.ref,e._self,e._source,e._owner,e.props)},c.cloneElement=function(e,t,r){var a,p,h=n({},e.props),f=e.key,d=e.ref,m=(e._self,e._source,e._owner);if(null!=t)for(a in l(t)&&(d=t.ref,m=o.current),u(t)&&(f=""+t.key),e.type&&e.type.defaultProps&&(p=e.type.defaultProps),t)i.call(t,a)&&!s.hasOwnProperty(a)&&(void 0===t[a]&&void 0!==p?h[a]=p[a]:h[a]=t[a]);var y=arguments.length-2;if(1===y)h.children=r;else if(y>1){for(var v=Array(y),g=0;g<y;g++)v[g]=arguments[g+2];h.children=v}return c(e.type,f,d,0,0,m,h)},c.isValidElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===a},e.exports=c},function(e,t,r){"use strict";var n=r(7);r(2);function o(e,t){return(e&t)===t}var i={MUST_USE_PROPERTY:1,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,injectDOMPropertyConfig:function(e){var t=i,r=e.Properties||{},a=e.DOMAttributeNamespaces||{},l=e.DOMAttributeNames||{},u=e.DOMPropertyNames||{},c=e.DOMMutationMethods||{};for(var p in e.isCustomAttribute&&s._isCustomAttributeFunctions.push(e.isCustomAttribute),r){s.properties.hasOwnProperty(p)&&n("48",p);var h=p.toLowerCase(),f=r[p],d={attributeName:h,attributeNamespace:null,propertyName:p,mutationMethod:null,mustUseProperty:o(f,t.MUST_USE_PROPERTY),hasBooleanValue:o(f,t.HAS_BOOLEAN_VALUE),hasNumericValue:o(f,t.HAS_NUMERIC_VALUE),hasPositiveNumericValue:o(f,t.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:o(f,t.HAS_OVERLOADED_BOOLEAN_VALUE)};if(d.hasBooleanValue+d.hasNumericValue+d.hasOverloadedBooleanValue<=1||n("50",p),l.hasOwnProperty(p)){var m=l[p];d.attributeName=m}a.hasOwnProperty(p)&&(d.attributeNamespace=a[p]),u.hasOwnProperty(p)&&(d.propertyName=u[p]),c.hasOwnProperty(p)&&(d.mutationMethod=c[p]),s.properties[p]=d}}},a=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",s={ID_ATTRIBUTE_NAME:"data-reactid",ROOT_ATTRIBUTE_NAME:"data-reactroot",ATTRIBUTE_NAME_START_CHAR:a,ATTRIBUTE_NAME_CHAR:a+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",properties:{},getPossibleStandardName:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(e){for(var t=0;t<s._isCustomAttributeFunctions.length;t++){if((0,s._isCustomAttributeFunctions[t])(e))return!0}return!1},injection:i};e.exports=s},function(e,t,r){"use strict";var n=r(163),o=r(114),i=r(164),a=r(257),s="undefined"!==typeof document&&"number"===typeof document.documentMode||"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent&&/\bEdge\/\d/.test(navigator.userAgent);function l(e){if(s){var t=e.node,r=e.children;if(r.length)for(var n=0;n<r.length;n++)u(t,r[n],null);else null!=e.html?o(t,e.html):null!=e.text&&a(t,e.text)}}var u=i(function(e,t,r){11===t.node.nodeType||1===t.node.nodeType&&"object"===t.node.nodeName.toLowerCase()&&(null==t.node.namespaceURI||t.node.namespaceURI===n.html)?(l(t),e.insertBefore(t.node,r)):(e.insertBefore(t.node,r),l(t))});function c(){return this.node.nodeName}function p(e){return{node:e,children:[],html:null,text:null,toString:c}}p.insertTreeBefore=u,p.replaceChildWithTree=function(e,t){e.parentNode.replaceChild(t.node,e),l(t)},p.queueChild=function(e,t){s?e.children.push(t):e.node.appendChild(t.node)},p.queueHTML=function(e,t){s?e.html=t:o(e.node,t)},p.queueText=function(e,t){s?e.text=t:a(e.node,t)},e.exports=p},function(e,t,r){var n;n=function(){"use strict";var e,t,r;function n(n,o){if(e)if(t){var i="var sharedChunk = {}; ("+e+")(sharedChunk); ("+t+")(sharedChunk);",a={};e(a),(r=o(a)).workerUrl=window.URL.createObjectURL(new Blob([i],{type:"text/javascript"}))}else t=o;else e=o}return n(0,function(e){function t(e,t){return e(t={exports:{}},t.exports),t.exports}var r=n;function n(e,t,r,n){this.cx=3*e,this.bx=3*(r-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(n-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=n,this.p2x=r,this.p2y=n}n.prototype.sampleCurveX=function(e){return((this.ax*e+this.bx)*e+this.cx)*e},n.prototype.sampleCurveY=function(e){return((this.ay*e+this.by)*e+this.cy)*e},n.prototype.sampleCurveDerivativeX=function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},n.prototype.solveCurveX=function(e,t){var r,n,o,i,a;for("undefined"===typeof t&&(t=1e-6),o=e,a=0;a<8;a++){if(i=this.sampleCurveX(o)-e,Math.abs(i)<t)return o;var s=this.sampleCurveDerivativeX(o);if(Math.abs(s)<1e-6)break;o-=i/s}if(n=1,(o=e)<(r=0))return r;if(o>n)return n;for(;r<n;){if(i=this.sampleCurveX(o),Math.abs(i-e)<t)return o;e>i?r=o:n=o,o=.5*(n-r)+r}return o},n.prototype.solve=function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))};var o=i;function i(e,t){this.x=e,this.y=t}function a(e,t){if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!a(e[r],t[r]))return!1;return!0}if("object"===typeof e&&null!==e&&null!==t){if("object"!==typeof t)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(!a(e[n],t[n]))return!1;return!0}return e===t}function s(e,t,n,o){var i=new r(e,t,n,o);return function(e){return i.solve(e)}}i.prototype={clone:function(){return new i(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,r=e.y-this.y;return t*t+r*r},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[0]*this.x+e[1]*this.y,r=e[2]*this.x+e[3]*this.y;return this.x=t,this.y=r,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),r=Math.sin(e),n=t*this.x-r*this.y,o=r*this.x+t*this.y;return this.x=n,this.y=o,this},_rotateAround:function(e,t){var r=Math.cos(e),n=Math.sin(e),o=t.x+r*(this.x-t.x)-n*(this.y-t.y),i=t.y+n*(this.x-t.x)+r*(this.y-t.y);return this.x=o,this.y=i,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},i.convert=function(e){return e instanceof i?e:Array.isArray(e)?new i(e[0],e[1]):e};var l=s(.25,.1,.25,1);function u(e,t,r){return Math.min(r,Math.max(t,e))}function c(e,t,r){var n=r-t,o=((e-t)%n+n)%n+t;return o===t?r:o}function p(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];for(var n=0,o=t;n<o.length;n+=1){var i=o[n];for(var a in i)e[a]=i[a]}return e}var h=1;function f(){return h++}function d(){return function e(t){return t?(t^16*Math.random()>>t/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,e)}()}function m(e){return!!e&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)}function y(e,t){e.forEach(function(e){t[e]&&(t[e]=t[e].bind(t))})}function v(e,t){return-1!==e.indexOf(t,e.length-t.length)}function g(e,t,r){var n={};for(var o in e)n[o]=t.call(r||this,e[o],o,e);return n}function _(e,t,r){var n={};for(var o in e)t.call(r||this,e[o],o,e)&&(n[o]=e[o]);return n}function b(e){return Array.isArray(e)?e.map(b):"object"===typeof e&&e?g(e,b):e}var x={};function w(e){x[e]||("undefined"!==typeof console&&console.warn(e),x[e]=!0)}function E(e,t,r){return(r.y-e.y)*(t.x-e.x)>(t.y-e.y)*(r.x-e.x)}function S(e){for(var t=0,r=0,n=e.length,o=n-1,i=void 0,a=void 0;r<n;o=r++)i=e[r],t+=((a=e[o]).x-i.x)*(i.y+a.y);return t}function C(e){try{var t=self[e];return t.setItem("_mapbox_test_",1),t.removeItem("_mapbox_test_"),!0}catch(e){return!1}}var k,T,O=self.performance&&self.performance.now?self.performance.now.bind(self.performance):Date.now.bind(Date),P=self.requestAnimationFrame||self.mozRequestAnimationFrame||self.webkitRequestAnimationFrame||self.msRequestAnimationFrame,A=self.cancelAnimationFrame||self.mozCancelAnimationFrame||self.webkitCancelAnimationFrame||self.msCancelAnimationFrame,I={now:O,frame:function(e){var t=P(e);return{cancel:function(){return A(t)}}},getImageData:function(e){var t=self.document.createElement("canvas"),r=t.getContext("2d");if(!r)throw new Error("failed to create canvas 2d context");return t.width=e.width,t.height=e.height,r.drawImage(e,0,0,e.width,e.height),r.getImageData(0,0,e.width,e.height)},resolveURL:function(e){var t=self.document.createElement("a");return t.href=e,t.href},hardwareConcurrency:self.navigator.hardwareConcurrency||4,get devicePixelRatio(){return self.devicePixelRatio}},M={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},R={supported:!1,testSupport:function(e){if(L||!T)return;D?j(e):k=e}},L=!1,D=!1;function j(e){var t=e.createTexture();e.bindTexture(e.TEXTURE_2D,t);try{if(e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,T),e.isContextLost())return;R.supported=!0}catch(e){}e.deleteTexture(t),L=!0}self.document&&((T=self.document.createElement("img")).onload=function(){k&&j(k),k=null,D=!0},T.onerror=function(){L=!0,k=null},T.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var z="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes";function F(e,t){var r=W(M.API_URL);if(e.protocol=r.protocol,e.authority=r.authority,"/"!==r.path&&(e.path=""+r.path+e.path),!M.REQUIRE_ACCESS_TOKEN)return X(e);if(!(t=t||M.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+z);if("s"===t[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+z);return e.params.push("access_token="+t),X(e)}function N(e){return 0===e.indexOf("mapbox:")}var B=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function U(e){return B.test(e)}var V=/(\.(png|jpg)\d*)(?=$)/,G=/\.[\w]+$/,q=function(e){var t=W(e);if(!t.path.match(/(^\/v4\/)/)||!t.path.match(G))return e;var r="mapbox://tiles/";r+=t.path.replace("/v4/","");var n=t.params.filter(function(e){return!e.match(/^access_token=/)});return n.length&&(r+="?"+n.join("&")),r},H=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function W(e){var t=e.match(H);if(!t)throw new Error("Unable to parse URL object");return{protocol:t[1],authority:t[2],path:t[3]||"/",params:t[4]?t[4].split("&"):[]}}function X(e){var t=e.params.length?"?"+e.params.join("&"):"";return e.protocol+"://"+e.authority+e.path+t}function Z(e){if(!e)return null;var t,r=e.split(".");if(!r||3!==r.length)return null;try{return JSON.parse((t=r[1],decodeURIComponent(self.atob(t).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""))))}catch(e){return null}}var Y=function(e){this.type=e,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};Y.prototype.getStorageKey=function(e){var t,r=Z(M.ACCESS_TOKEN),n="";return r&&r.u?(t=r.u,n=self.btoa(encodeURIComponent(t).replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode(Number("0x"+t))}))):n=M.ACCESS_TOKEN||"",e?"mapbox.eventData."+e+":"+n:"mapbox.eventData:"+n},Y.prototype.fetchEventData=function(){var e=C("localStorage"),t=this.getStorageKey(),r=this.getStorageKey("uuid");if(e)try{var n=self.localStorage.getItem(t);n&&(this.eventData=JSON.parse(n));var o=self.localStorage.getItem(r);o&&(this.anonId=o)}catch(e){w("Unable to read from LocalStorage")}},Y.prototype.saveEventData=function(){var e=C("localStorage"),t=this.getStorageKey(),r=this.getStorageKey("uuid");if(e)try{self.localStorage.setItem(r,this.anonId),Object.keys(this.eventData).length>=1&&self.localStorage.setItem(t,JSON.stringify(this.eventData))}catch(e){w("Unable to write to LocalStorage")}},Y.prototype.processRequests=function(){},Y.prototype.postEvent=function(e,t,r){var n=this;if(M.EVENTS_URL){var o=W(M.EVENTS_URL);o.params.push("access_token="+(M.ACCESS_TOKEN||""));var i={event:this.type,created:new Date(e).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:"0.53.1",userId:this.anonId},a=t?p(i,t):i,s={url:X(o),headers:{"Content-Type":"text/plain"},body:JSON.stringify([a])};this.pendingRequest=se(s,function(e){n.pendingRequest=null,r(e),n.saveEventData(),n.processRequests()})}},Y.prototype.queueRequest=function(e){this.queue.push(e),this.processRequests()};var K=function(e){function t(){e.call(this,"map.load"),this.success={}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.postMapLoadEvent=function(e,t){M.EVENTS_URL&&M.ACCESS_TOKEN&&Array.isArray(e)&&e.some(function(e){return N(e)||U(e)})&&this.queueRequest({id:t,timestamp:Date.now()})},t.prototype.processRequests=function(){var e=this;if(!this.pendingRequest&&0!==this.queue.length){var t=this.queue.shift(),r=t.id,n=t.timestamp;r&&this.success[r]||(this.anonId||this.fetchEventData(),m(this.anonId)||(this.anonId=d()),this.postEvent(n,{},function(t){t||r&&(e.success[r]=!0)}))}},t}(Y),$=new(function(e){function t(){e.call(this,"appUserTurnstile")}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.postTurnstileEvent=function(e){M.EVENTS_URL&&M.ACCESS_TOKEN&&Array.isArray(e)&&e.some(function(e){return N(e)||U(e)})&&this.queueRequest(Date.now())},t.prototype.processRequests=function(){var e=this;if(!this.pendingRequest&&0!==this.queue.length){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var t=Z(M.ACCESS_TOKEN),r=t?t.u:M.ACCESS_TOKEN,n=r!==this.eventData.tokenU;m(this.anonId)||(this.anonId=d(),n=!0);var o=this.queue.shift();if(this.eventData.lastSuccess){var i=new Date(this.eventData.lastSuccess),a=new Date(o),s=(o-this.eventData.lastSuccess)/864e5;n=n||s>=1||s<-1||i.getDate()!==a.getDate()}else n=!0;if(!n)return this.processRequests();this.postEvent(o,{"enabled.telemetry":!1},function(t){t||(e.eventData.lastSuccess=o,e.eventData.tokenU=r)})}},t}(Y)),J=$.postTurnstileEvent.bind($),Q=new K,ee=Q.postMapLoadEvent.bind(Q),te={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(te);var re=function(e){function t(t,r,n){401===r&&U(n)&&(t+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),e.call(this,t),this.status=r,this.url=n,this.name=this.constructor.name,this.message=t}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},t}(Error);function ne(){return"undefined"!==typeof WorkerGlobalScope&&"undefined"!==typeof self&&self instanceof WorkerGlobalScope}var oe=ne()?function(){return self.worker&&self.worker.referrer}:function(){var e=self.location.origin;if(e&&"null"!==e&&"file://"!==e)return e+self.location.pathname};var ie=function(e,t){if(!/^file:/.test(e.url)){if(self.fetch&&self.Request&&self.AbortController)return function(e,t){var r=new self.AbortController,n=new self.Request(e.url,{method:e.method||"GET",body:e.body,credentials:e.credentials,headers:e.headers,referrer:oe(),signal:r.signal});return"json"===e.type&&n.headers.set("Accept","application/json"),self.fetch(n).then(function(r){r.ok?r[e.type||"text"]().then(function(e){t(null,e,r.headers.get("Cache-Control"),r.headers.get("Expires"))}).catch(function(e){return t(new Error(e.message))}):t(new re(r.statusText,r.status,e.url))}).catch(function(e){20!==e.code&&t(new Error(e.message))}),{cancel:function(){return r.abort()}}}(e,t);if(ne()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",e,t)}return function(e,t){var r=new self.XMLHttpRequest;for(var n in r.open(e.method||"GET",e.url,!0),"arrayBuffer"===e.type&&(r.responseType="arraybuffer"),e.headers)r.setRequestHeader(n,e.headers[n]);return"json"===e.type&&r.setRequestHeader("Accept","application/json"),r.withCredentials="include"===e.credentials,r.onerror=function(){t(new Error(r.statusText))},r.onload=function(){if((r.status>=200&&r.status<300||0===r.status)&&null!==r.response){var n=r.response;if("json"===e.type)try{n=JSON.parse(r.response)}catch(e){return t(e)}t(null,n,r.getResponseHeader("Cache-Control"),r.getResponseHeader("Expires"))}else t(new re(r.statusText,r.status,e.url))},r.send(e.body),{cancel:function(){return r.abort()}}}(e,t)},ae=function(e,t){return ie(p(e,{type:"arrayBuffer"}),t)},se=function(e,t){return ie(p(e,{method:"POST"}),t)};var le,ue;le=[],ue=0;var ce=function(e,t){if(ue>=M.MAX_PARALLEL_IMAGE_REQUESTS){var r={requestParameters:e,callback:t,cancelled:!1,cancel:function(){this.cancelled=!0}};return le.push(r),r}ue++;var n=!1,o=function(){if(!n)for(n=!0,ue--;le.length&&ue<M.MAX_PARALLEL_IMAGE_REQUESTS;){var e=le.shift(),t=e.requestParameters,r=e.callback;e.cancelled||(e.cancel=ce(t,r).cancel)}},i=ae(e,function(e,r,n,i){if(o(),e)t(e);else if(r){var a=new self.Image,s=self.URL||self.webkitURL;a.onload=function(){t(null,a),s.revokeObjectURL(a.src)},a.onerror=function(){return t(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var l=new self.Blob([new Uint8Array(r)],{type:"image/png"});a.cacheControl=n,a.expires=i,a.src=r.byteLength?s.createObjectURL(l):"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII="}});return{cancel:function(){i.cancel(),o()}}};function pe(e,t,r){r[e]&&-1!==r[e].indexOf(t)||(r[e]=r[e]||[],r[e].push(t))}function he(e,t,r){if(r&&r[e]){var n=r[e].indexOf(t);-1!==n&&r[e].splice(n,1)}}var fe=function(e,t){void 0===t&&(t={}),p(this,t),this.type=e},de=function(e){function t(t,r){void 0===r&&(r={}),e.call(this,"error",p({error:t},r))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(fe),me=function(){};me.prototype.on=function(e,t){return this._listeners=this._listeners||{},pe(e,t,this._listeners),this},me.prototype.off=function(e,t){return he(e,t,this._listeners),he(e,t,this._oneTimeListeners),this},me.prototype.once=function(e,t){return this._oneTimeListeners=this._oneTimeListeners||{},pe(e,t,this._oneTimeListeners),this},me.prototype.fire=function(e,t){"string"===typeof e&&(e=new fe(e,t||{}));var r=e.type;if(this.listens(r)){e.target=this;for(var n=0,o=this._listeners&&this._listeners[r]?this._listeners[r].slice():[];n<o.length;n+=1){o[n].call(this,e)}for(var i=0,a=this._oneTimeListeners&&this._oneTimeListeners[r]?this._oneTimeListeners[r].slice():[];i<a.length;i+=1){var s=a[i];he(r,s,this._oneTimeListeners),s.call(this,e)}var l=this._eventedParent;l&&(p(e,"function"===typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),l.fire(e))}else e instanceof de&&console.error(e.error);return this},me.prototype.listens=function(e){return this._listeners&&this._listeners[e]&&this._listeners[e].length>0||this._oneTimeListeners&&this._oneTimeListeners[e]&&this._oneTimeListeners[e].length>0||this._eventedParent&&this._eventedParent.listens(e)},me.prototype.setEventedParent=function(e,t){return this._eventedParent=e,this._eventedParentData=t,this};var ye={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"string",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:22,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},"number-format":{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Zoom"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Feature data"},accumulated:{group:"Feature data"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"string",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"string",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"string",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"string",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}}},ve=function(e,t,r,n){this.message=(e?e+": ":"")+r,n&&(this.identifier=n),null!==t&&void 0!==t&&t.__line__&&(this.line=t.__line__)};function ge(e){var t=e.key,r=e.value;return r?[new ve(t,r,"constants have been deprecated as of v8")]:[]}function _e(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];for(var n=0,o=t;n<o.length;n+=1){var i=o[n];for(var a in i)e[a]=i[a]}return e}function be(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}function xe(e){return Array.isArray(e)?e.map(xe):be(e)}var we=function(e){function t(t,r){e.call(this,r),this.message=r,this.key=t}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Error),Ee=function(e,t){void 0===t&&(t=[]),this.parent=e,this.bindings={};for(var r=0,n=t;r<n.length;r+=1){var o=n[r],i=o[0],a=o[1];this.bindings[i]=a}};Ee.prototype.concat=function(e){return new Ee(this,e)},Ee.prototype.get=function(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(e+" not found in scope.")},Ee.prototype.has=function(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)};var Se={kind:"null"},Ce={kind:"number"},ke={kind:"string"},Te={kind:"boolean"},Oe={kind:"color"},Pe={kind:"object"},Ae={kind:"value"},Ie={kind:"collator"},Me={kind:"formatted"};function Re(e,t){return{kind:"array",itemType:e,N:t}}function Le(e){if("array"===e.kind){var t=Le(e.itemType);return"number"===typeof e.N?"array<"+t+", "+e.N+">":"value"===e.itemType.kind?"array":"array<"+t+">"}return e.kind}var De=[Se,Ce,ke,Te,Oe,Me,Pe,Re(Ae)];function je(e,t){if("error"===t.kind)return null;if("array"===e.kind){if("array"===t.kind&&(0===t.N&&"value"===t.itemType.kind||!je(e.itemType,t.itemType))&&("number"!==typeof e.N||e.N===t.N))return null}else{if(e.kind===t.kind)return null;if("value"===e.kind)for(var r=0,n=De;r<n.length;r+=1){if(!je(n[r],t))return null}}return"Expected "+Le(e)+" but found "+Le(t)+" instead."}var ze=t(function(e,t){var r={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function n(e){return(e=Math.round(e))<0?0:e>255?255:e}function o(e){return e<0?0:e>1?1:e}function i(e){return"%"===e[e.length-1]?n(parseFloat(e)/100*255):n(parseInt(e))}function a(e){return"%"===e[e.length-1]?o(parseFloat(e)/100):o(parseFloat(e))}function s(e,t,r){return r<0?r+=1:r>1&&(r-=1),6*r<1?e+(t-e)*r*6:2*r<1?t:3*r<2?e+(t-e)*(2/3-r)*6:e}try{t.parseCSSColor=function(e){var t,o=e.replace(/ /g,"").toLowerCase();if(o in r)return r[o].slice();if("#"===o[0])return 4===o.length?(t=parseInt(o.substr(1),16))>=0&&t<=4095?[(3840&t)>>4|(3840&t)>>8,240&t|(240&t)>>4,15&t|(15&t)<<4,1]:null:7===o.length&&(t=parseInt(o.substr(1),16))>=0&&t<=16777215?[(16711680&t)>>16,(65280&t)>>8,255&t,1]:null;var l=o.indexOf("("),u=o.indexOf(")");if(-1!==l&&u+1===o.length){var c=o.substr(0,l),p=o.substr(l+1,u-(l+1)).split(","),h=1;switch(c){case"rgba":if(4!==p.length)return null;h=a(p.pop());case"rgb":return 3!==p.length?null:[i(p[0]),i(p[1]),i(p[2]),h];case"hsla":if(4!==p.length)return null;h=a(p.pop());case"hsl":if(3!==p.length)return null;var f=(parseFloat(p[0])%360+360)%360/360,d=a(p[1]),m=a(p[2]),y=m<=.5?m*(d+1):m+d-m*d,v=2*m-y;return[n(255*s(v,y,f+1/3)),n(255*s(v,y,f)),n(255*s(v,y,f-1/3)),h];default:return null}}return null}}catch(e){}}).parseCSSColor,Fe=function(e,t,r,n){void 0===n&&(n=1),this.r=e,this.g=t,this.b=r,this.a=n};Fe.parse=function(e){if(e){if(e instanceof Fe)return e;if("string"===typeof e){var t=ze(e);if(t)return new Fe(t[0]/255*t[3],t[1]/255*t[3],t[2]/255*t[3],t[3])}}},Fe.prototype.toString=function(){var e=this.toArray(),t=e[0],r=e[1],n=e[2],o=e[3];return"rgba("+Math.round(t)+","+Math.round(r)+","+Math.round(n)+","+o+")"},Fe.prototype.toArray=function(){var e=this.r,t=this.g,r=this.b,n=this.a;return 0===n?[0,0,0,0]:[255*e/n,255*t/n,255*r/n,n]},Fe.black=new Fe(0,0,0,1),Fe.white=new Fe(1,1,1,1),Fe.transparent=new Fe(0,0,0,0),Fe.red=new Fe(1,0,0,1);var Ne=function(e,t,r){this.sensitivity=e?t?"variant":"case":t?"accent":"base",this.locale=r,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};Ne.prototype.compare=function(e,t){return this.collator.compare(e,t)},Ne.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var Be=function(e,t,r){this.text=e,this.scale=t,this.fontStack=r},Ue=function(e){this.sections=e};function Ve(e,t,r,n){return"number"===typeof e&&e>=0&&e<=255&&"number"===typeof t&&t>=0&&t<=255&&"number"===typeof r&&r>=0&&r<=255?"undefined"===typeof n||"number"===typeof n&&n>=0&&n<=1?null:"Invalid rgba value ["+[e,t,r,n].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"===typeof n?[e,t,r,n]:[e,t,r]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function Ge(e){if(null===e)return Se;if("string"===typeof e)return ke;if("boolean"===typeof e)return Te;if("number"===typeof e)return Ce;if(e instanceof Fe)return Oe;if(e instanceof Ne)return Ie;if(e instanceof Ue)return Me;if(Array.isArray(e)){for(var t,r=e.length,n=0,o=e;n<o.length;n+=1){var i=Ge(o[n]);if(t){if(t===i)continue;t=Ae;break}t=i}return Re(t||Ae,r)}return Pe}function qe(e){var t=typeof e;return null===e?"":"string"===t||"number"===t||"boolean"===t?String(e):e instanceof Fe||e instanceof Ue?e.toString():JSON.stringify(e)}Ue.fromString=function(e){return new Ue([new Be(e,null,null)])},Ue.prototype.toString=function(){return this.sections.map(function(e){return e.text}).join("")},Ue.prototype.serialize=function(){for(var e=["format"],t=0,r=this.sections;t<r.length;t+=1){var n=r[t];e.push(n.text);var o={};n.fontStack&&(o["text-font"]=["literal",n.fontStack.split(",")]),n.scale&&(o["font-scale"]=n.scale),e.push(o)}return e};var He=function(e,t){this.type=e,this.value=t};He.parse=function(e,t){if(2!==e.length)return t.error("'literal' expression requires exactly one argument, but found "+(e.length-1)+" instead.");if(!function e(t){if(null===t)return!0;if("string"===typeof t)return!0;if("boolean"===typeof t)return!0;if("number"===typeof t)return!0;if(t instanceof Fe)return!0;if(t instanceof Ne)return!0;if(t instanceof Ue)return!0;if(Array.isArray(t)){for(var r=0,n=t;r<n.length;r+=1)if(!e(n[r]))return!1;return!0}if("object"===typeof t){for(var o in t)if(!e(t[o]))return!1;return!0}return!1}(e[1]))return t.error("invalid value");var r=e[1],n=Ge(r),o=t.expectedType;return"array"!==n.kind||0!==n.N||!o||"array"!==o.kind||"number"===typeof o.N&&0!==o.N||(n=o),new He(n,r)},He.prototype.evaluate=function(){return this.value},He.prototype.eachChild=function(){},He.prototype.possibleOutputs=function(){return[this.value]},He.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof Fe?["rgba"].concat(this.value.toArray()):this.value instanceof Ue?this.value.serialize():this.value};var We=function(e){this.name="ExpressionEvaluationError",this.message=e};We.prototype.toJSON=function(){return this.message};var Xe={string:ke,number:Ce,boolean:Te,object:Pe},Ze=function(e,t){this.type=e,this.args=t};Ze.parse=function(e,t){if(e.length<2)return t.error("Expected at least one argument.");var r,n=1,o=e[0];if("array"===o){var i,a;if(e.length>2){var s=e[1];if("string"!==typeof s||!(s in Xe)||"object"===s)return t.error('The item type argument of "array" must be one of string, number, boolean',1);i=Xe[s],n++}else i=Ae;if(e.length>3){if(null!==e[2]&&("number"!==typeof e[2]||e[2]<0||e[2]!==Math.floor(e[2])))return t.error('The length argument to "array" must be a positive integer literal',2);a=e[2],n++}r=Re(i,a)}else r=Xe[o];for(var l=[];n<e.length;n++){var u=t.parse(e[n],n,Ae);if(!u)return null;l.push(u)}return new Ze(r,l)},Ze.prototype.evaluate=function(e){for(var t=0;t<this.args.length;t++){var r=this.args[t].evaluate(e);if(!je(this.type,Ge(r)))return r;if(t===this.args.length-1)throw new We("Expected value to be of type "+Le(this.type)+", but found "+Le(Ge(r))+" instead.")}return null},Ze.prototype.eachChild=function(e){this.args.forEach(e)},Ze.prototype.possibleOutputs=function(){var e;return(e=[]).concat.apply(e,this.args.map(function(e){return e.possibleOutputs()}))},Ze.prototype.serialize=function(){var e=this.type,t=[e.kind];if("array"===e.kind){var r=e.itemType;if("string"===r.kind||"number"===r.kind||"boolean"===r.kind){t.push(r.kind);var n=e.N;("number"===typeof n||this.args.length>1)&&t.push(n)}}return t.concat(this.args.map(function(e){return e.serialize()}))};var Ye=function(e){this.type=Me,this.sections=e};Ye.parse=function(e,t){if(e.length<3)return t.error("Expected at least two arguments.");if((e.length-1)%2!==0)return t.error("Expected an even number of arguments.");for(var r=[],n=1;n<e.length-1;n+=2){var o=t.parse(e[n],1,Ae);if(!o)return null;var i=o.type.kind;if("string"!==i&&"value"!==i&&"null"!==i)return t.error("Formatted text type must be 'string', 'value', or 'null'.");var a=e[n+1];if("object"!==typeof a||Array.isArray(a))return t.error("Format options argument must be an object.");var s=null;if(a["font-scale"]&&!(s=t.parse(a["font-scale"],1,Ce)))return null;var l=null;if(a["text-font"]&&!(l=t.parse(a["text-font"],1,Re(ke))))return null;r.push({text:o,scale:s,font:l})}return new Ye(r)},Ye.prototype.evaluate=function(e){return new Ue(this.sections.map(function(t){return new Be(qe(t.text.evaluate(e)),t.scale?t.scale.evaluate(e):null,t.font?t.font.evaluate(e).join(","):null)}))},Ye.prototype.eachChild=function(e){for(var t=0,r=this.sections;t<r.length;t+=1){var n=r[t];e(n.text),n.scale&&e(n.scale),n.font&&e(n.font)}},Ye.prototype.possibleOutputs=function(){return[void 0]},Ye.prototype.serialize=function(){for(var e=["format"],t=0,r=this.sections;t<r.length;t+=1){var n=r[t];e.push(n.text.serialize());var o={};n.scale&&(o["font-scale"]=n.scale.serialize()),n.font&&(o["text-font"]=n.font.serialize()),e.push(o)}return e};var Ke={"to-boolean":Te,"to-color":Oe,"to-number":Ce,"to-string":ke},$e=function(e,t){this.type=e,this.args=t};$e.parse=function(e,t){if(e.length<2)return t.error("Expected at least one argument.");var r=e[0];if(("to-boolean"===r||"to-string"===r)&&2!==e.length)return t.error("Expected one argument.");for(var n=Ke[r],o=[],i=1;i<e.length;i++){var a=t.parse(e[i],i,Ae);if(!a)return null;o.push(a)}return new $e(n,o)},$e.prototype.evaluate=function(e){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(e));if("color"===this.type.kind){for(var t,r,n=0,o=this.args;n<o.length;n+=1){if(r=null,(t=o[n].evaluate(e))instanceof Fe)return t;if("string"===typeof t){var i=e.parseColor(t);if(i)return i}else if(Array.isArray(t)&&!(r=t.length<3||t.length>4?"Invalid rbga value "+JSON.stringify(t)+": expected an array containing either three or four numeric values.":Ve(t[0],t[1],t[2],t[3])))return new Fe(t[0]/255,t[1]/255,t[2]/255,t[3])}throw new We(r||"Could not parse color from value '"+("string"===typeof t?t:JSON.stringify(t))+"'")}if("number"===this.type.kind){for(var a=null,s=0,l=this.args;s<l.length;s+=1){if(null===(a=l[s].evaluate(e)))return 0;var u=Number(a);if(!isNaN(u))return u}throw new We("Could not convert "+JSON.stringify(a)+" to number.")}return"formatted"===this.type.kind?Ue.fromString(qe(this.args[0].evaluate(e))):qe(this.args[0].evaluate(e))},$e.prototype.eachChild=function(e){this.args.forEach(e)},$e.prototype.possibleOutputs=function(){var e;return(e=[]).concat.apply(e,this.args.map(function(e){return e.possibleOutputs()}))},$e.prototype.serialize=function(){if("formatted"===this.type.kind)return new Ye([{text:this.args[0],scale:null,font:null}]).serialize();var e=["to-"+this.type.kind];return this.eachChild(function(t){e.push(t.serialize())}),e};var Je=["Unknown","Point","LineString","Polygon"],Qe=function(){this.globals=null,this.feature=null,this.featureState=null,this._parseColorCache={}};Qe.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},Qe.prototype.geometryType=function(){return this.feature?"number"===typeof this.feature.type?Je[this.feature.type]:this.feature.type:null},Qe.prototype.properties=function(){return this.feature&&this.feature.properties||{}},Qe.prototype.parseColor=function(e){var t=this._parseColorCache[e];return t||(t=this._parseColorCache[e]=Fe.parse(e)),t};var et=function(e,t,r,n){this.name=e,this.type=t,this._evaluate=r,this.args=n};et.prototype.evaluate=function(e){return this._evaluate(e,this.args)},et.prototype.eachChild=function(e){this.args.forEach(e)},et.prototype.possibleOutputs=function(){return[void 0]},et.prototype.serialize=function(){return[this.name].concat(this.args.map(function(e){return e.serialize()}))},et.parse=function(e,t){var r,n=e[0],o=et.definitions[n];if(!o)return t.error('Unknown expression "'+n+'". If you wanted a literal array, use ["literal", [...]].',0);for(var i=Array.isArray(o)?o[0]:o.type,a=Array.isArray(o)?[[o[1],o[2]]]:o.overloads,s=a.filter(function(t){var r=t[0];return!Array.isArray(r)||r.length===e.length-1}),l=null,u=0,c=s;u<c.length;u+=1){var p=c[u],h=p[0],f=p[1];l=new at(t.registry,t.path,null,t.scope);for(var d=[],m=!1,y=1;y<e.length;y++){var v=e[y],g=Array.isArray(h)?h[y-1]:h.type,_=l.parse(v,1+d.length,g);if(!_){m=!0;break}d.push(_)}if(!m)if(Array.isArray(h)&&h.length!==d.length)l.error("Expected "+h.length+" arguments, but found "+d.length+" instead.");else{for(var b=0;b<d.length;b++){var x=Array.isArray(h)?h[b]:h.type,w=d[b];l.concat(b+1).checkSubtype(x,w.type)}if(0===l.errors.length)return new et(n,i,f,d)}}if(1===s.length)(r=t.errors).push.apply(r,l.errors);else{for(var E=(s.length?s:a).map(function(e){var t,r=e[0];return t=r,Array.isArray(t)?"("+t.map(Le).join(", ")+")":"("+Le(t.type)+"...)"}).join(" | "),S=[],C=1;C<e.length;C++){var k=t.parse(e[C],1+S.length);if(!k)return null;S.push(Le(k.type))}t.error("Expected arguments of type "+E+", but found ("+S.join(", ")+") instead.")}return null},et.register=function(e,t){for(var r in et.definitions=t,t)e[r]=et};var tt=function(e,t,r){this.type=Ie,this.locale=r,this.caseSensitive=e,this.diacriticSensitive=t};function rt(e){if(e instanceof et){if("get"===e.name&&1===e.args.length)return!1;if("feature-state"===e.name)return!1;if("has"===e.name&&1===e.args.length)return!1;if("properties"===e.name||"geometry-type"===e.name||"id"===e.name)return!1;if(/^filter-/.test(e.name))return!1}var t=!0;return e.eachChild(function(e){t&&!rt(e)&&(t=!1)}),t}function nt(e){if(e instanceof et&&"feature-state"===e.name)return!1;var t=!0;return e.eachChild(function(e){t&&!nt(e)&&(t=!1)}),t}function ot(e,t){if(e instanceof et&&t.indexOf(e.name)>=0)return!1;var r=!0;return e.eachChild(function(e){r&&!ot(e,t)&&(r=!1)}),r}tt.parse=function(e,t){if(2!==e.length)return t.error("Expected one argument.");var r=e[1];if("object"!==typeof r||Array.isArray(r))return t.error("Collator options argument must be an object.");var n=t.parse(void 0!==r["case-sensitive"]&&r["case-sensitive"],1,Te);if(!n)return null;var o=t.parse(void 0!==r["diacritic-sensitive"]&&r["diacritic-sensitive"],1,Te);if(!o)return null;var i=null;return r.locale&&!(i=t.parse(r.locale,1,ke))?null:new tt(n,o,i)},tt.prototype.evaluate=function(e){return new Ne(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)},tt.prototype.eachChild=function(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)},tt.prototype.possibleOutputs=function(){return[void 0]},tt.prototype.serialize=function(){var e={};return e["case-sensitive"]=this.caseSensitive.serialize(),e["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(e.locale=this.locale.serialize()),["collator",e]};var it=function(e,t){this.type=t.type,this.name=e,this.boundExpression=t};it.parse=function(e,t){if(2!==e.length||"string"!==typeof e[1])return t.error("'var' expression requires exactly one string literal argument.");var r=e[1];return t.scope.has(r)?new it(r,t.scope.get(r)):t.error('Unknown variable "'+r+'". Make sure "'+r+'" has been bound in an enclosing "let" expression before using it.',1)},it.prototype.evaluate=function(e){return this.boundExpression.evaluate(e)},it.prototype.eachChild=function(){},it.prototype.possibleOutputs=function(){return[void 0]},it.prototype.serialize=function(){return["var",this.name]};var at=function(e,t,r,n,o){void 0===t&&(t=[]),void 0===n&&(n=new Ee),void 0===o&&(o=[]),this.registry=e,this.path=t,this.key=t.map(function(e){return"["+e+"]"}).join(""),this.scope=n,this.errors=o,this.expectedType=r};function st(e,t){for(var r,n,o=0,i=e.length-1,a=0;o<=i;){if(r=e[a=Math.floor((o+i)/2)],n=e[a+1],t===r||t>r&&t<n)return a;if(r<t)o=a+1;else{if(!(r>t))throw new We("Input is not a number.");i=a-1}}return Math.max(a-1,0)}at.prototype.parse=function(e,t,r,n,o){return void 0===o&&(o={}),t?this.concat(t,r,n)._parse(e,o):this._parse(e,o)},at.prototype._parse=function(e,t){function r(e,t,r){return"assert"===r?new Ze(t,[e]):"coerce"===r?new $e(t,[e]):e}if(null!==e&&"string"!==typeof e&&"boolean"!==typeof e&&"number"!==typeof e||(e=["literal",e]),Array.isArray(e)){if(0===e.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var n=e[0];if("string"!==typeof n)return this.error("Expression name must be a string, but found "+typeof n+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var o=this.registry[n];if(o){var i=o.parse(e,this);if(!i)return null;if(this.expectedType){var a=this.expectedType,s=i.type;if("string"!==a.kind&&"number"!==a.kind&&"boolean"!==a.kind&&"object"!==a.kind&&"array"!==a.kind||"value"!==s.kind)if("color"!==a.kind&&"formatted"!==a.kind||"value"!==s.kind&&"string"!==s.kind){if(this.checkSubtype(a,s))return null}else i=r(i,a,t.typeAnnotation||"coerce");else i=r(i,a,t.typeAnnotation||"assert")}if(!(i instanceof He)&&function e(t){if(t instanceof it)return e(t.boundExpression);if(t instanceof et&&"error"===t.name)return!1;if(t instanceof tt)return!1;var r=t instanceof $e||t instanceof Ze;var n=!0;t.eachChild(function(t){n=r?n&&e(t):n&&t instanceof He});if(!n)return!1;return rt(t)&&ot(t,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}(i)){var l=new Qe;try{i=new He(i.type,i.evaluate(l))}catch(e){return this.error(e.message),null}}return i}return this.error('Unknown expression "'+n+'". If you wanted a literal array, use ["literal", [...]].',0)}return"undefined"===typeof e?this.error("'undefined' value invalid. Use null instead."):"object"===typeof e?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof e+" instead.")},at.prototype.concat=function(e,t,r){var n="number"===typeof e?this.path.concat(e):this.path,o=r?this.scope.concat(r):this.scope;return new at(this.registry,n,t||null,o,this.errors)},at.prototype.error=function(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];var n=""+this.key+t.map(function(e){return"["+e+"]"}).join("");this.errors.push(new we(n,e))},at.prototype.checkSubtype=function(e,t){var r=je(e,t);return r&&this.error(r),r};var lt=function(e,t,r){this.type=e,this.input=t,this.labels=[],this.outputs=[];for(var n=0,o=r;n<o.length;n+=1){var i=o[n],a=i[0],s=i[1];this.labels.push(a),this.outputs.push(s)}};function ut(e,t,r){return e*(1-r)+t*r}lt.parse=function(e,t){var r=e[1],n=e.slice(2);if(e.length-1<4)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if((e.length-1)%2!==0)return t.error("Expected an even number of arguments.");if(!(r=t.parse(r,1,Ce)))return null;var o=[],i=null;t.expectedType&&"value"!==t.expectedType.kind&&(i=t.expectedType),n.unshift(-1/0);for(var a=0;a<n.length;a+=2){var s=n[a],l=n[a+1],u=a+1,c=a+2;if("number"!==typeof s)return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',u);if(o.length&&o[o.length-1][0]>=s)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',u);var p=t.parse(l,c,i);if(!p)return null;i=i||p.type,o.push([s,p])}return new lt(i,r,o)},lt.prototype.evaluate=function(e){var t=this.labels,r=this.outputs;if(1===t.length)return r[0].evaluate(e);var n=this.input.evaluate(e);if(n<=t[0])return r[0].evaluate(e);var o=t.length;return n>=t[o-1]?r[o-1].evaluate(e):r[st(t,n)].evaluate(e)},lt.prototype.eachChild=function(e){e(this.input);for(var t=0,r=this.outputs;t<r.length;t+=1){e(r[t])}},lt.prototype.possibleOutputs=function(){var e;return(e=[]).concat.apply(e,this.outputs.map(function(e){return e.possibleOutputs()}))},lt.prototype.serialize=function(){for(var e=["step",this.input.serialize()],t=0;t<this.labels.length;t++)t>0&&e.push(this.labels[t]),e.push(this.outputs[t].serialize());return e};var ct=Object.freeze({number:ut,color:function(e,t,r){return new Fe(ut(e.r,t.r,r),ut(e.g,t.g,r),ut(e.b,t.b,r),ut(e.a,t.a,r))},array:function(e,t,r){return e.map(function(e,n){return ut(e,t[n],r)})}}),pt=.95047,ht=1,ft=1.08883,dt=4/29,mt=6/29,yt=3*mt*mt,vt=mt*mt*mt,gt=Math.PI/180,_t=180/Math.PI;function bt(e){return e>vt?Math.pow(e,1/3):e/yt+dt}function xt(e){return e>mt?e*e*e:yt*(e-dt)}function wt(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Et(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function St(e){var t=Et(e.r),r=Et(e.g),n=Et(e.b),o=bt((.4124564*t+.3575761*r+.1804375*n)/pt),i=bt((.2126729*t+.7151522*r+.072175*n)/ht);return{l:116*i-16,a:500*(o-i),b:200*(i-bt((.0193339*t+.119192*r+.9503041*n)/ft)),alpha:e.a}}function Ct(e){var t=(e.l+16)/116,r=isNaN(e.a)?t:t+e.a/500,n=isNaN(e.b)?t:t-e.b/200;return t=ht*xt(t),r=pt*xt(r),n=ft*xt(n),new Fe(wt(3.2404542*r-1.5371385*t-.4985314*n),wt(-.969266*r+1.8760108*t+.041556*n),wt(.0556434*r-.2040259*t+1.0572252*n),e.alpha)}var kt={forward:St,reverse:Ct,interpolate:function(e,t,r){return{l:ut(e.l,t.l,r),a:ut(e.a,t.a,r),b:ut(e.b,t.b,r),alpha:ut(e.alpha,t.alpha,r)}}},Tt={forward:function(e){var t=St(e),r=t.l,n=t.a,o=t.b,i=Math.atan2(o,n)*_t;return{h:i<0?i+360:i,c:Math.sqrt(n*n+o*o),l:r,alpha:e.a}},reverse:function(e){var t=e.h*gt,r=e.c;return Ct({l:e.l,a:Math.cos(t)*r,b:Math.sin(t)*r,alpha:e.alpha})},interpolate:function(e,t,r){return{h:function(e,t,r){var n=t-e;return e+r*(n>180||n<-180?n-360*Math.round(n/360):n)}(e.h,t.h,r),c:ut(e.c,t.c,r),l:ut(e.l,t.l,r),alpha:ut(e.alpha,t.alpha,r)}}},Ot=Object.freeze({lab:kt,hcl:Tt}),Pt=function(e,t,r,n,o){this.type=e,this.operator=t,this.interpolation=r,this.input=n,this.labels=[],this.outputs=[];for(var i=0,a=o;i<a.length;i+=1){var s=a[i],l=s[0],u=s[1];this.labels.push(l),this.outputs.push(u)}};function At(e,t,r,n){var o=n-r,i=e-r;return 0===o?0:1===t?i/o:(Math.pow(t,i)-1)/(Math.pow(t,o)-1)}Pt.interpolationFactor=function(e,t,n,o){var i=0;if("exponential"===e.name)i=At(t,e.base,n,o);else if("linear"===e.name)i=At(t,1,n,o);else if("cubic-bezier"===e.name){var a=e.controlPoints;i=new r(a[0],a[1],a[2],a[3]).solve(At(t,1,n,o))}return i},Pt.parse=function(e,t){var r=e[0],n=e[1],o=e[2],i=e.slice(3);if(!Array.isArray(n)||0===n.length)return t.error("Expected an interpolation type expression.",1);if("linear"===n[0])n={name:"linear"};else if("exponential"===n[0]){var a=n[1];if("number"!==typeof a)return t.error("Exponential interpolation requires a numeric base.",1,1);n={name:"exponential",base:a}}else{if("cubic-bezier"!==n[0])return t.error("Unknown interpolation type "+String(n[0]),1,0);var s=n.slice(1);if(4!==s.length||s.some(function(e){return"number"!==typeof e||e<0||e>1}))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);n={name:"cubic-bezier",controlPoints:s}}if(e.length-1<4)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if((e.length-1)%2!==0)return t.error("Expected an even number of arguments.");if(!(o=t.parse(o,2,Ce)))return null;var l=[],u=null;"interpolate-hcl"===r||"interpolate-lab"===r?u=Oe:t.expectedType&&"value"!==t.expectedType.kind&&(u=t.expectedType);for(var c=0;c<i.length;c+=2){var p=i[c],h=i[c+1],f=c+3,d=c+4;if("number"!==typeof p)return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',f);if(l.length&&l[l.length-1][0]>=p)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',f);var m=t.parse(h,d,u);if(!m)return null;u=u||m.type,l.push([p,m])}return"number"===u.kind||"color"===u.kind||"array"===u.kind&&"number"===u.itemType.kind&&"number"===typeof u.N?new Pt(u,r,n,o,l):t.error("Type "+Le(u)+" is not interpolatable.")},Pt.prototype.evaluate=function(e){var t=this.labels,r=this.outputs;if(1===t.length)return r[0].evaluate(e);var n=this.input.evaluate(e);if(n<=t[0])return r[0].evaluate(e);var o=t.length;if(n>=t[o-1])return r[o-1].evaluate(e);var i=st(t,n),a=t[i],s=t[i+1],l=Pt.interpolationFactor(this.interpolation,n,a,s),u=r[i].evaluate(e),c=r[i+1].evaluate(e);return"interpolate"===this.operator?ct[this.type.kind.toLowerCase()](u,c,l):"interpolate-hcl"===this.operator?Tt.reverse(Tt.interpolate(Tt.forward(u),Tt.forward(c),l)):kt.reverse(kt.interpolate(kt.forward(u),kt.forward(c),l))},Pt.prototype.eachChild=function(e){e(this.input);for(var t=0,r=this.outputs;t<r.length;t+=1){e(r[t])}},Pt.prototype.possibleOutputs=function(){var e;return(e=[]).concat.apply(e,this.outputs.map(function(e){return e.possibleOutputs()}))},Pt.prototype.serialize=function(){var e;e="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var t=[this.operator,e,this.input.serialize()],r=0;r<this.labels.length;r++)t.push(this.labels[r],this.outputs[r].serialize());return t};var It=function(e,t){this.type=e,this.args=t};It.parse=function(e,t){if(e.length<2)return t.error("Expectected at least one argument.");var r=null,n=t.expectedType;n&&"value"!==n.kind&&(r=n);for(var o=[],i=0,a=e.slice(1);i<a.length;i+=1){var s=a[i],l=t.parse(s,1+o.length,r,void 0,{typeAnnotation:"omit"});if(!l)return null;r=r||l.type,o.push(l)}var u=n&&o.some(function(e){return je(n,e.type)});return new It(u?Ae:r,o)},It.prototype.evaluate=function(e){for(var t=null,r=0,n=this.args;r<n.length;r+=1){if(null!==(t=n[r].evaluate(e)))break}return t},It.prototype.eachChild=function(e){this.args.forEach(e)},It.prototype.possibleOutputs=function(){var e;return(e=[]).concat.apply(e,this.args.map(function(e){return e.possibleOutputs()}))},It.prototype.serialize=function(){var e=["coalesce"];return this.eachChild(function(t){e.push(t.serialize())}),e};var Mt=function(e,t){this.type=t.type,this.bindings=[].concat(e),this.result=t};Mt.prototype.evaluate=function(e){return this.result.evaluate(e)},Mt.prototype.eachChild=function(e){for(var t=0,r=this.bindings;t<r.length;t+=1){e(r[t][1])}e(this.result)},Mt.parse=function(e,t){if(e.length<4)return t.error("Expected at least 3 arguments, but found "+(e.length-1)+" instead.");for(var r=[],n=1;n<e.length-1;n+=2){var o=e[n];if("string"!==typeof o)return t.error("Expected string, but found "+typeof o+" instead.",n);if(/[^a-zA-Z0-9_]/.test(o))return t.error("Variable names must contain only alphanumeric characters or '_'.",n);var i=t.parse(e[n+1],n+1);if(!i)return null;r.push([o,i])}var a=t.parse(e[e.length-1],e.length-1,t.expectedType,r);return a?new Mt(r,a):null},Mt.prototype.possibleOutputs=function(){return this.result.possibleOutputs()},Mt.prototype.serialize=function(){for(var e=["let"],t=0,r=this.bindings;t<r.length;t+=1){var n=r[t],o=n[0],i=n[1];e.push(o,i.serialize())}return e.push(this.result.serialize()),e};var Rt=function(e,t,r){this.type=e,this.index=t,this.input=r};Rt.parse=function(e,t){if(3!==e.length)return t.error("Expected 2 arguments, but found "+(e.length-1)+" instead.");var r=t.parse(e[1],1,Ce),n=t.parse(e[2],2,Re(t.expectedType||Ae));if(!r||!n)return null;var o=n.type;return new Rt(o.itemType,r,n)},Rt.prototype.evaluate=function(e){var t=this.index.evaluate(e),r=this.input.evaluate(e);if(t<0)throw new We("Array index out of bounds: "+t+" < 0.");if(t>=r.length)throw new We("Array index out of bounds: "+t+" > "+(r.length-1)+".");if(t!==Math.floor(t))throw new We("Array index must be an integer, but found "+t+" instead.");return r[t]},Rt.prototype.eachChild=function(e){e(this.index),e(this.input)},Rt.prototype.possibleOutputs=function(){return[void 0]},Rt.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var Lt=function(e,t,r,n,o,i){this.inputType=e,this.type=t,this.input=r,this.cases=n,this.outputs=o,this.otherwise=i};Lt.parse=function(e,t){if(e.length<5)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if(e.length%2!==1)return t.error("Expected an even number of arguments.");var r,n;t.expectedType&&"value"!==t.expectedType.kind&&(n=t.expectedType);for(var o={},i=[],a=2;a<e.length-1;a+=2){var s=e[a],l=e[a+1];Array.isArray(s)||(s=[s]);var u=t.concat(a);if(0===s.length)return u.error("Expected at least one branch label.");for(var c=0,p=s;c<p.length;c+=1){var h=p[c];if("number"!==typeof h&&"string"!==typeof h)return u.error("Branch labels must be numbers or strings.");if("number"===typeof h&&Math.abs(h)>Number.MAX_SAFE_INTEGER)return u.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"===typeof h&&Math.floor(h)!==h)return u.error("Numeric branch labels must be integer values.");if(r){if(u.checkSubtype(r,Ge(h)))return null}else r=Ge(h);if("undefined"!==typeof o[String(h)])return u.error("Branch labels must be unique.");o[String(h)]=i.length}var f=t.parse(l,a,n);if(!f)return null;n=n||f.type,i.push(f)}var d=t.parse(e[1],1,Ae);if(!d)return null;var m=t.parse(e[e.length-1],e.length-1,n);return m?"value"!==d.type.kind&&t.concat(1).checkSubtype(r,d.type)?null:new Lt(r,n,d,o,i,m):null},Lt.prototype.evaluate=function(e){var t=this.input.evaluate(e);return(Ge(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)},Lt.prototype.eachChild=function(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)},Lt.prototype.possibleOutputs=function(){var e;return(e=[]).concat.apply(e,this.outputs.map(function(e){return e.possibleOutputs()})).concat(this.otherwise.possibleOutputs())},Lt.prototype.serialize=function(){for(var e=this,t=["match",this.input.serialize()],r=[],n={},o=0,i=Object.keys(this.cases).sort();o<i.length;o+=1){var a=i[o];void 0===(p=n[this.cases[a]])?(n[this.cases[a]]=r.length,r.push([this.cases[a],[a]])):r[p][1].push(a)}for(var s=function(t){return"number"===e.inputType.kind?Number(t):t},l=0,u=r;l<u.length;l+=1){var c=u[l],p=c[0],h=c[1];1===h.length?t.push(s(h[0])):t.push(h.map(s)),t.push(this.outputs[outputIndex$1].serialize())}return t.push(this.otherwise.serialize()),t};var Dt=function(e,t,r){this.type=e,this.branches=t,this.otherwise=r};function jt(e,t){return"=="===e||"!="===e?"boolean"===t.kind||"string"===t.kind||"number"===t.kind||"null"===t.kind||"value"===t.kind:"string"===t.kind||"number"===t.kind||"value"===t.kind}function zt(e,t,r,n){return 0===n.compare(t,r)}function Ft(e,t,r){var n="=="!==e&&"!="!==e;return function(){function o(e,t,r){this.type=Te,this.lhs=e,this.rhs=t,this.collator=r,this.hasUntypedArgument="value"===e.type.kind||"value"===t.type.kind}return o.parse=function(e,t){if(3!==e.length&&4!==e.length)return t.error("Expected two or three arguments.");var r=e[0],i=t.parse(e[1],1,Ae);if(!i)return null;if(!jt(r,i.type))return t.concat(1).error('"'+r+"\" comparisons are not supported for type '"+Le(i.type)+"'.");var a=t.parse(e[2],2,Ae);if(!a)return null;if(!jt(r,a.type))return t.concat(2).error('"'+r+"\" comparisons are not supported for type '"+Le(a.type)+"'.");if(i.type.kind!==a.type.kind&&"value"!==i.type.kind&&"value"!==a.type.kind)return t.error("Cannot compare types '"+Le(i.type)+"' and '"+Le(a.type)+"'.");n&&("value"===i.type.kind&&"value"!==a.type.kind?i=new Ze(a.type,[i]):"value"!==i.type.kind&&"value"===a.type.kind&&(a=new Ze(i.type,[a])));var s=null;if(4===e.length){if("string"!==i.type.kind&&"string"!==a.type.kind&&"value"!==i.type.kind&&"value"!==a.type.kind)return t.error("Cannot use collator to compare non-string types.");if(!(s=t.parse(e[3],3,Ie)))return null}return new o(i,a,s)},o.prototype.evaluate=function(o){var i=this.lhs.evaluate(o),a=this.rhs.evaluate(o);if(n&&this.hasUntypedArgument){var s=Ge(i),l=Ge(a);if(s.kind!==l.kind||"string"!==s.kind&&"number"!==s.kind)throw new We('Expected arguments for "'+e+'" to be (string, string) or (number, number), but found ('+s.kind+", "+l.kind+") instead.")}if(this.collator&&!n&&this.hasUntypedArgument){var u=Ge(i),c=Ge(a);if("string"!==u.kind||"string"!==c.kind)return t(o,i,a)}return this.collator?r(o,i,a,this.collator.evaluate(o)):t(o,i,a)},o.prototype.eachChild=function(e){e(this.lhs),e(this.rhs),this.collator&&e(this.collator)},o.prototype.possibleOutputs=function(){return[!0,!1]},o.prototype.serialize=function(){var t=[e];return this.eachChild(function(e){t.push(e.serialize())}),t},o}()}Dt.parse=function(e,t){if(e.length<4)return t.error("Expected at least 3 arguments, but found only "+(e.length-1)+".");if(e.length%2!==0)return t.error("Expected an odd number of arguments.");var r;t.expectedType&&"value"!==t.expectedType.kind&&(r=t.expectedType);for(var n=[],o=1;o<e.length-1;o+=2){var i=t.parse(e[o],o,Te);if(!i)return null;var a=t.parse(e[o+1],o+1,r);if(!a)return null;n.push([i,a]),r=r||a.type}var s=t.parse(e[e.length-1],e.length-1,r);return s?new Dt(r,n,s):null},Dt.prototype.evaluate=function(e){for(var t=0,r=this.branches;t<r.length;t+=1){var n=r[t],o=n[0],i=n[1];if(o.evaluate(e))return i.evaluate(e)}return this.otherwise.evaluate(e)},Dt.prototype.eachChild=function(e){for(var t=0,r=this.branches;t<r.length;t+=1){var n=r[t],o=n[0],i=n[1];e(o),e(i)}e(this.otherwise)},Dt.prototype.possibleOutputs=function(){var e;return(e=[]).concat.apply(e,this.branches.map(function(e){e[0];return e[1].possibleOutputs()})).concat(this.otherwise.possibleOutputs())},Dt.prototype.serialize=function(){var e=["case"];return this.eachChild(function(t){e.push(t.serialize())}),e};var Nt=Ft("==",function(e,t,r){return t===r},zt),Bt=Ft("!=",function(e,t,r){return t!==r},function(e,t,r,n){return!zt(0,t,r,n)}),Ut=Ft("<",function(e,t,r){return t<r},function(e,t,r,n){return n.compare(t,r)<0}),Vt=Ft(">",function(e,t,r){return t>r},function(e,t,r,n){return n.compare(t,r)>0}),Gt=Ft("<=",function(e,t,r){return t<=r},function(e,t,r,n){return n.compare(t,r)<=0}),qt=Ft(">=",function(e,t,r){return t>=r},function(e,t,r,n){return n.compare(t,r)>=0}),Ht=function(e,t,r,n,o){this.type=ke,this.number=e,this.locale=t,this.currency=r,this.minFractionDigits=n,this.maxFractionDigits=o};Ht.parse=function(e,t){if(3!==e.length)return t.error("Expected two arguments.");var r=t.parse(e[1],1,Ce);if(!r)return null;var n=e[2];if("object"!==typeof n||Array.isArray(n))return t.error("NumberFormat options argument must be an object.");var o=null;if(n.locale&&!(o=t.parse(n.locale,1,ke)))return null;var i=null;if(n.currency&&!(i=t.parse(n.currency,1,ke)))return null;var a=null;if(n["min-fraction-digits"]&&!(a=t.parse(n["min-fraction-digits"],1,Ce)))return null;var s=null;return n["max-fraction-digits"]&&!(s=t.parse(n["max-fraction-digits"],1,Ce))?null:new Ht(r,o,i,a,s)},Ht.prototype.evaluate=function(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))},Ht.prototype.eachChild=function(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)},Ht.prototype.possibleOutputs=function(){return[void 0]},Ht.prototype.serialize=function(){var e={};return this.locale&&(e.locale=this.locale.serialize()),this.currency&&(e.currency=this.currency.serialize()),this.minFractionDigits&&(e["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(e["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),e]};var Wt=function(e){this.type=Ce,this.input=e};Wt.parse=function(e,t){if(2!==e.length)return t.error("Expected 1 argument, but found "+(e.length-1)+" instead.");var r=t.parse(e[1],1);return r?"array"!==r.type.kind&&"string"!==r.type.kind&&"value"!==r.type.kind?t.error("Expected argument of type string or array, but found "+Le(r.type)+" instead."):new Wt(r):null},Wt.prototype.evaluate=function(e){var t=this.input.evaluate(e);if("string"===typeof t)return t.length;if(Array.isArray(t))return t.length;throw new We("Expected value to be of type string or array, but found "+Le(Ge(t))+" instead.")},Wt.prototype.eachChild=function(e){e(this.input)},Wt.prototype.possibleOutputs=function(){return[void 0]},Wt.prototype.serialize=function(){var e=["length"];return this.eachChild(function(t){e.push(t.serialize())}),e};var Xt={"==":Nt,"!=":Bt,">":Vt,"<":Ut,">=":qt,"<=":Gt,array:Ze,at:Rt,boolean:Ze,case:Dt,coalesce:It,collator:tt,format:Ye,interpolate:Pt,"interpolate-hcl":Pt,"interpolate-lab":Pt,length:Wt,let:Mt,literal:He,match:Lt,number:Ze,"number-format":Ht,object:Ze,step:lt,string:Ze,"to-boolean":$e,"to-color":$e,"to-number":$e,"to-string":$e,var:it};function Zt(e,t){var r=t[0],n=t[1],o=t[2],i=t[3];r=r.evaluate(e),n=n.evaluate(e),o=o.evaluate(e);var a=i?i.evaluate(e):1,s=Ve(r,n,o,a);if(s)throw new We(s);return new Fe(r/255*a,n/255*a,o/255*a,a)}function Yt(e,t){return e in t}function Kt(e,t){var r=t[e];return"undefined"===typeof r?null:r}function $t(e){return{type:e}}function Jt(e){return{result:"success",value:e}}function Qt(e){return{result:"error",value:e}}function er(e){return"data-driven"===e["property-type"]||"cross-faded-data-driven"===e["property-type"]}function tr(e){return!!e.expression&&e.expression.parameters.indexOf("zoom")>-1}function rr(e){return!!e.expression&&e.expression.interpolated}function nr(e){return e instanceof Number?"number":e instanceof String?"string":e instanceof Boolean?"boolean":Array.isArray(e)?"array":null===e?"null":typeof e}function or(e){return"object"===typeof e&&null!==e&&!Array.isArray(e)}function ir(e){return e}function ar(e,t,r){return void 0!==e?e:void 0!==t?t:void 0!==r?r:void 0}function sr(e,t,r,n,o){return ar(typeof r===o?n[r]:void 0,e.default,t.default)}function lr(e,t,r){if("number"!==nr(r))return ar(e.default,t.default);var n=e.stops.length;if(1===n)return e.stops[0][1];if(r<=e.stops[0][0])return e.stops[0][1];if(r>=e.stops[n-1][0])return e.stops[n-1][1];var o=pr(e.stops,r);return e.stops[o][1]}function ur(e,t,r){var n=void 0!==e.base?e.base:1;if("number"!==nr(r))return ar(e.default,t.default);var o=e.stops.length;if(1===o)return e.stops[0][1];if(r<=e.stops[0][0])return e.stops[0][1];if(r>=e.stops[o-1][0])return e.stops[o-1][1];var i=pr(e.stops,r),a=function(e,t,r,n){var o=n-r,i=e-r;return 0===o?0:1===t?i/o:(Math.pow(t,i)-1)/(Math.pow(t,o)-1)}(r,n,e.stops[i][0],e.stops[i+1][0]),s=e.stops[i][1],l=e.stops[i+1][1],u=ct[t.type]||ir;if(e.colorSpace&&"rgb"!==e.colorSpace){var c=Ot[e.colorSpace];u=function(e,t){return c.reverse(c.interpolate(c.forward(e),c.forward(t),a))}}return"function"===typeof s.evaluate?{evaluate:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var r=s.evaluate.apply(void 0,e),n=l.evaluate.apply(void 0,e);if(void 0!==r&&void 0!==n)return u(r,n,a)}}:u(s,l,a)}function cr(e,t,r){return"color"===t.type?r=Fe.parse(r):"formatted"===t.type?r=Ue.fromString(r.toString()):nr(r)===t.type||"enum"===t.type&&t.values[r]||(r=void 0),ar(r,e.default,t.default)}function pr(e,t){for(var r,n,o=0,i=e.length-1,a=0;o<=i;){if(r=e[a=Math.floor((o+i)/2)][0],n=e[a+1][0],t===r||t>r&&t<n)return a;r<t?o=a+1:r>t&&(i=a-1)}return Math.max(a-1,0)}et.register(Xt,{error:[{kind:"error"},[ke],function(e,t){var r=t[0];throw new We(r.evaluate(e))}],typeof:[ke,[Ae],function(e,t){return Le(Ge(t[0].evaluate(e)))}],"to-rgba":[Re(Ce,4),[Oe],function(e,t){return t[0].evaluate(e).toArray()}],rgb:[Oe,[Ce,Ce,Ce],Zt],rgba:[Oe,[Ce,Ce,Ce,Ce],Zt],has:{type:Te,overloads:[[[ke],function(e,t){return Yt(t[0].evaluate(e),e.properties())}],[[ke,Pe],function(e,t){var r=t[0],n=t[1];return Yt(r.evaluate(e),n.evaluate(e))}]]},get:{type:Ae,overloads:[[[ke],function(e,t){return Kt(t[0].evaluate(e),e.properties())}],[[ke,Pe],function(e,t){var r=t[0],n=t[1];return Kt(r.evaluate(e),n.evaluate(e))}]]},"feature-state":[Ae,[ke],function(e,t){return Kt(t[0].evaluate(e),e.featureState||{})}],properties:[Pe,[],function(e){return e.properties()}],"geometry-type":[ke,[],function(e){return e.geometryType()}],id:[Ae,[],function(e){return e.id()}],zoom:[Ce,[],function(e){return e.globals.zoom}],"heatmap-density":[Ce,[],function(e){return e.globals.heatmapDensity||0}],"line-progress":[Ce,[],function(e){return e.globals.lineProgress||0}],accumulated:[Ae,[],function(e){return void 0===e.globals.accumulated?null:e.globals.accumulated}],"+":[Ce,$t(Ce),function(e,t){for(var r=0,n=0,o=t;n<o.length;n+=1){r+=o[n].evaluate(e)}return r}],"*":[Ce,$t(Ce),function(e,t){for(var r=1,n=0,o=t;n<o.length;n+=1){r*=o[n].evaluate(e)}return r}],"-":{type:Ce,overloads:[[[Ce,Ce],function(e,t){var r=t[0],n=t[1];return r.evaluate(e)-n.evaluate(e)}],[[Ce],function(e,t){return-t[0].evaluate(e)}]]},"/":[Ce,[Ce,Ce],function(e,t){var r=t[0],n=t[1];return r.evaluate(e)/n.evaluate(e)}],"%":[Ce,[Ce,Ce],function(e,t){var r=t[0],n=t[1];return r.evaluate(e)%n.evaluate(e)}],ln2:[Ce,[],function(){return Math.LN2}],pi:[Ce,[],function(){return Math.PI}],e:[Ce,[],function(){return Math.E}],"^":[Ce,[Ce,Ce],function(e,t){var r=t[0],n=t[1];return Math.pow(r.evaluate(e),n.evaluate(e))}],sqrt:[Ce,[Ce],function(e,t){var r=t[0];return Math.sqrt(r.evaluate(e))}],log10:[Ce,[Ce],function(e,t){var r=t[0];return Math.log(r.evaluate(e))/Math.LN10}],ln:[Ce,[Ce],function(e,t){var r=t[0];return Math.log(r.evaluate(e))}],log2:[Ce,[Ce],function(e,t){var r=t[0];return Math.log(r.evaluate(e))/Math.LN2}],sin:[Ce,[Ce],function(e,t){var r=t[0];return Math.sin(r.evaluate(e))}],cos:[Ce,[Ce],function(e,t){var r=t[0];return Math.cos(r.evaluate(e))}],tan:[Ce,[Ce],function(e,t){var r=t[0];return Math.tan(r.evaluate(e))}],asin:[Ce,[Ce],function(e,t){var r=t[0];return Math.asin(r.evaluate(e))}],acos:[Ce,[Ce],function(e,t){var r=t[0];return Math.acos(r.evaluate(e))}],atan:[Ce,[Ce],function(e,t){var r=t[0];return Math.atan(r.evaluate(e))}],min:[Ce,$t(Ce),function(e,t){return Math.min.apply(Math,t.map(function(t){return t.evaluate(e)}))}],max:[Ce,$t(Ce),function(e,t){return Math.max.apply(Math,t.map(function(t){return t.evaluate(e)}))}],abs:[Ce,[Ce],function(e,t){var r=t[0];return Math.abs(r.evaluate(e))}],round:[Ce,[Ce],function(e,t){var r=t[0].evaluate(e);return r<0?-Math.round(-r):Math.round(r)}],floor:[Ce,[Ce],function(e,t){var r=t[0];return Math.floor(r.evaluate(e))}],ceil:[Ce,[Ce],function(e,t){var r=t[0];return Math.ceil(r.evaluate(e))}],"filter-==":[Te,[ke,Ae],function(e,t){var r=t[0],n=t[1];return e.properties()[r.value]===n.value}],"filter-id-==":[Te,[Ae],function(e,t){var r=t[0];return e.id()===r.value}],"filter-type-==":[Te,[ke],function(e,t){var r=t[0];return e.geometryType()===r.value}],"filter-<":[Te,[ke,Ae],function(e,t){var r=t[0],n=t[1],o=e.properties()[r.value],i=n.value;return typeof o===typeof i&&o<i}],"filter-id-<":[Te,[Ae],function(e,t){var r=t[0],n=e.id(),o=r.value;return typeof n===typeof o&&n<o}],"filter->":[Te,[ke,Ae],function(e,t){var r=t[0],n=t[1],o=e.properties()[r.value],i=n.value;return typeof o===typeof i&&o>i}],"filter-id->":[Te,[Ae],function(e,t){var r=t[0],n=e.id(),o=r.value;return typeof n===typeof o&&n>o}],"filter-<=":[Te,[ke,Ae],function(e,t){var r=t[0],n=t[1],o=e.properties()[r.value],i=n.value;return typeof o===typeof i&&o<=i}],"filter-id-<=":[Te,[Ae],function(e,t){var r=t[0],n=e.id(),o=r.value;return typeof n===typeof o&&n<=o}],"filter->=":[Te,[ke,Ae],function(e,t){var r=t[0],n=t[1],o=e.properties()[r.value],i=n.value;return typeof o===typeof i&&o>=i}],"filter-id->=":[Te,[Ae],function(e,t){var r=t[0],n=e.id(),o=r.value;return typeof n===typeof o&&n>=o}],"filter-has":[Te,[Ae],function(e,t){return t[0].value in e.properties()}],"filter-has-id":[Te,[],function(e){return null!==e.id()}],"filter-type-in":[Te,[Re(ke)],function(e,t){return t[0].value.indexOf(e.geometryType())>=0}],"filter-id-in":[Te,[Re(Ae)],function(e,t){return t[0].value.indexOf(e.id())>=0}],"filter-in-small":[Te,[ke,Re(Ae)],function(e,t){var r=t[0];return t[1].value.indexOf(e.properties()[r.value])>=0}],"filter-in-large":[Te,[ke,Re(Ae)],function(e,t){var r=t[0],n=t[1];return function(e,t,r,n){for(;r<=n;){var o=r+n>>1;if(t[o]===e)return!0;t[o]>e?n=o-1:r=o+1}return!1}(e.properties()[r.value],n.value,0,n.value.length-1)}],all:{type:Te,overloads:[[[Te,Te],function(e,t){var r=t[0],n=t[1];return r.evaluate(e)&&n.evaluate(e)}],[$t(Te),function(e,t){for(var r=0,n=t;r<n.length;r+=1){if(!n[r].evaluate(e))return!1}return!0}]]},any:{type:Te,overloads:[[[Te,Te],function(e,t){var r=t[0],n=t[1];return r.evaluate(e)||n.evaluate(e)}],[$t(Te),function(e,t){for(var r=0,n=t;r<n.length;r+=1){if(n[r].evaluate(e))return!0}return!1}]]},"!":[Te,[Te],function(e,t){return!t[0].evaluate(e)}],"is-supported-script":[Te,[ke],function(e,t){var r=t[0],n=e.globals&&e.globals.isSupportedScript;return!n||n(r.evaluate(e))}],upcase:[ke,[ke],function(e,t){return t[0].evaluate(e).toUpperCase()}],downcase:[ke,[ke],function(e,t){return t[0].evaluate(e).toLowerCase()}],concat:[ke,$t(Ae),function(e,t){return t.map(function(t){return qe(t.evaluate(e))}).join("")}],"resolved-locale":[ke,[Ie],function(e,t){return t[0].evaluate(e).resolvedLocale()}]});var hr=function(e,t){var r;this.expression=e,this._warningHistory={},this._evaluator=new Qe,this._defaultValue=t?"color"===(r=t).type&&or(r.default)?new Fe(0,0,0,0):"color"===r.type?Fe.parse(r.default)||null:void 0===r.default?null:r.default:null,this._enumValues=t&&"enum"===t.type?t.values:null};function fr(e){return Array.isArray(e)&&e.length>0&&"string"===typeof e[0]&&e[0]in Xt}function dr(e,t){var r=new at(Xt,[],t?function(e){var t={color:Oe,string:ke,number:Ce,enum:ke,boolean:Te,formatted:Me};if("array"===e.type)return Re(t[e.value]||Ae,e.length);return t[e.type]}(t):void 0),n=r.parse(e,void 0,void 0,void 0,t&&"string"===t.type?{typeAnnotation:"coerce"}:void 0);return n?Jt(new hr(n,t)):Qt(r.errors)}hr.prototype.evaluateWithoutErrorHandling=function(e,t,r){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=r,this.expression.evaluate(this._evaluator)},hr.prototype.evaluate=function(e,t,r){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=r||null;try{var n=this.expression.evaluate(this._evaluator);if(null===n||void 0===n)return this._defaultValue;if(this._enumValues&&!(n in this._enumValues))throw new We("Expected value to be one of "+Object.keys(this._enumValues).map(function(e){return JSON.stringify(e)}).join(", ")+", but found "+JSON.stringify(n)+" instead.");return n}catch(e){return this._warningHistory[e.message]||(this._warningHistory[e.message]=!0,"undefined"!==typeof console&&console.warn(e.message)),this._defaultValue}};var mr=function(e,t){this.kind=e,this._styleExpression=t,this.isStateDependent="constant"!==e&&!nt(t.expression)};mr.prototype.evaluateWithoutErrorHandling=function(e,t,r){return this._styleExpression.evaluateWithoutErrorHandling(e,t,r)},mr.prototype.evaluate=function(e,t,r){return this._styleExpression.evaluate(e,t,r)};var yr=function(e,t,r){this.kind=e,this.zoomStops=r.labels,this._styleExpression=t,this.isStateDependent="camera"!==e&&!nt(t.expression),r instanceof Pt&&(this._interpolationType=r.interpolation)};function vr(e,t){if("error"===(e=dr(e,t)).result)return e;var r=e.value.expression,n=rt(r);if(!n&&!er(t))return Qt([new we("","data expressions not supported")]);var o=ot(r,["zoom"]);if(!o&&!tr(t))return Qt([new we("","zoom expressions not supported")]);var i=function e(t){var r=null;if(t instanceof Mt)r=e(t.result);else if(t instanceof It)for(var n=0,o=t.args;n<o.length;n+=1){var i=o[n];if(r=e(i))break}else(t instanceof lt||t instanceof Pt)&&t.input instanceof et&&"zoom"===t.input.name&&(r=t);if(r instanceof we)return r;t.eachChild(function(t){var n=e(t);n instanceof we?r=n:!r&&n?r=new we("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):r&&n&&r!==n&&(r=new we("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))});return r}(r);return i||o?i instanceof we?Qt([i]):i instanceof Pt&&!rr(t)?Qt([new we("",'"interpolate" expressions cannot be used with this property')]):Jt(i?new yr(n?"camera":"composite",e.value,i):new mr(n?"constant":"source",e.value)):Qt([new we("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}yr.prototype.evaluateWithoutErrorHandling=function(e,t,r){return this._styleExpression.evaluateWithoutErrorHandling(e,t,r)},yr.prototype.evaluate=function(e,t,r){return this._styleExpression.evaluate(e,t,r)},yr.prototype.interpolationFactor=function(e,t,r){return this._interpolationType?Pt.interpolationFactor(this._interpolationType,e,t,r):0};var gr=function(e,t){this._parameters=e,this._specification=t,_e(this,function e(t,r){var n,o,i,a="color"===r.type,s=t.stops&&"object"===typeof t.stops[0][0],l=s||void 0!==t.property,u=s||!l,c=t.type||(rr(r)?"exponential":"interval");if(a&&((t=_e({},t)).stops&&(t.stops=t.stops.map(function(e){return[e[0],Fe.parse(e[1])]})),t.default?t.default=Fe.parse(t.default):t.default=Fe.parse(r.default)),t.colorSpace&&"rgb"!==t.colorSpace&&!Ot[t.colorSpace])throw new Error("Unknown color space: "+t.colorSpace);if("exponential"===c)n=ur;else if("interval"===c)n=lr;else if("categorical"===c){n=sr,o=Object.create(null);for(var p=0,h=t.stops;p<h.length;p+=1){var f=h[p];o[f[0]]=f[1]}i=typeof t.stops[0][0]}else{if("identity"!==c)throw new Error('Unknown function type "'+c+'"');n=cr}if(s){for(var d={},m=[],y=0;y<t.stops.length;y++){var v=t.stops[y],g=v[0].zoom;void 0===d[g]&&(d[g]={zoom:g,type:t.type,property:t.property,default:t.default,stops:[]},m.push(g)),d[g].stops.push([v[0].value,v[1]])}for(var _=[],b=0,x=m;b<x.length;b+=1){var w=x[b];_.push([d[w].zoom,e(d[w],r)])}return{kind:"composite",interpolationFactor:Pt.interpolationFactor.bind(void 0,{name:"linear"}),zoomStops:_.map(function(e){return e[0]}),evaluate:function(e,n){var o=e.zoom;return ur({stops:_,base:t.base},r,o).evaluate(o,n)}}}return u?{kind:"camera",interpolationFactor:"exponential"===c?Pt.interpolationFactor.bind(void 0,{name:"exponential",base:void 0!==t.base?t.base:1}):function(){return 0},zoomStops:t.stops.map(function(e){return e[0]}),evaluate:function(e){var a=e.zoom;return n(t,r,a,o,i)}}:{kind:"source",evaluate:function(e,a){var s=a&&a.properties?a.properties[t.property]:void 0;return void 0===s?ar(t.default,r.default):n(t,r,s,o,i)}}}(this._parameters,this._specification))};function _r(e,t){if(or(e))return new gr(e,t);if(fr(e)){var r=vr(e,t);if("error"===r.result)throw new Error(r.value.map(function(e){return e.key+": "+e.message}).join(", "));return r.value}var n=e;return"string"===typeof e&&"color"===t.type&&(n=Fe.parse(e)),{kind:"constant",evaluate:function(){return n}}}function br(e){var t=e.key,r=e.value,n=e.valueSpec||{},o=e.objectElementValidators||{},i=e.style,a=e.styleSpec,s=[],l=nr(r);if("object"!==l)return[new ve(t,r,"object expected, "+l+" found")];for(var u in r){var c=u.split(".")[0],p=n[c]||n["*"],h=void 0;if(o[c])h=o[c];else if(n[c])h=qr;else if(o["*"])h=o["*"];else{if(!n["*"]){s.push(new ve(t,r[u],'unknown property "'+u+'"'));continue}h=qr}s=s.concat(h({key:(t?t+".":t)+u,value:r[u],valueSpec:p,style:i,styleSpec:a,object:r,objectKey:u},r))}for(var f in n)o[f]||n[f].required&&void 0===n[f].default&&void 0===r[f]&&s.push(new ve(t,r,'missing required property "'+f+'"'));return s}function xr(e){var t=e.value,r=e.valueSpec,n=e.style,o=e.styleSpec,i=e.key,a=e.arrayElementValidator||qr;if("array"!==nr(t))return[new ve(i,t,"array expected, "+nr(t)+" found")];if(r.length&&t.length!==r.length)return[new ve(i,t,"array length "+r.length+" expected, length "+t.length+" found")];if(r["min-length"]&&t.length<r["min-length"])return[new ve(i,t,"array length at least "+r["min-length"]+" expected, length "+t.length+" found")];var s={type:r.value};o.$version<7&&(s.function=r.function),"object"===nr(r.value)&&(s=r.value);for(var l=[],u=0;u<t.length;u++)l=l.concat(a({array:t,arrayIndex:u,value:t[u],valueSpec:s,style:n,styleSpec:o,key:i+"["+u+"]"}));return l}function wr(e){var t=e.key,r=e.value,n=e.valueSpec,o=nr(r);return"number"!==o?[new ve(t,r,"number expected, "+o+" found")]:"minimum"in n&&r<n.minimum?[new ve(t,r,r+" is less than the minimum value "+n.minimum)]:"maximum"in n&&r>n.maximum?[new ve(t,r,r+" is greater than the maximum value "+n.maximum)]:[]}function Er(e){var t,r,n,o=e.valueSpec,i=be(e.value.type),a={},s="categorical"!==i&&void 0===e.value.property,l=!s,u="array"===nr(e.value.stops)&&"array"===nr(e.value.stops[0])&&"object"===nr(e.value.stops[0][0]),c=br({key:e.key,value:e.value,valueSpec:e.styleSpec.function,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{stops:function(e){if("identity"===i)return[new ve(e.key,e.value,'identity function may not have a "stops" property')];var t=[],r=e.value;t=t.concat(xr({key:e.key,value:r,valueSpec:e.valueSpec,style:e.style,styleSpec:e.styleSpec,arrayElementValidator:p})),"array"===nr(r)&&0===r.length&&t.push(new ve(e.key,r,"array must have at least one stop"));return t},default:function(e){return qr({key:e.key,value:e.value,valueSpec:o,style:e.style,styleSpec:e.styleSpec})}}});return"identity"===i&&s&&c.push(new ve(e.key,e.value,'missing required property "property"')),"identity"===i||e.value.stops||c.push(new ve(e.key,e.value,'missing required property "stops"')),"exponential"===i&&e.valueSpec.expression&&!rr(e.valueSpec)&&c.push(new ve(e.key,e.value,"exponential functions not supported")),e.styleSpec.$version>=8&&(l&&!er(e.valueSpec)?c.push(new ve(e.key,e.value,"property functions not supported")):s&&!tr(e.valueSpec)&&c.push(new ve(e.key,e.value,"zoom functions not supported"))),"categorical"!==i&&!u||void 0!==e.value.property||c.push(new ve(e.key,e.value,'"property" property is required')),c;function p(e){var t=[],i=e.value,s=e.key;if("array"!==nr(i))return[new ve(s,i,"array expected, "+nr(i)+" found")];if(2!==i.length)return[new ve(s,i,"array length 2 expected, length "+i.length+" found")];if(u){if("object"!==nr(i[0]))return[new ve(s,i,"object expected, "+nr(i[0])+" found")];if(void 0===i[0].zoom)return[new ve(s,i,"object stop key must have zoom")];if(void 0===i[0].value)return[new ve(s,i,"object stop key must have value")];if(n&&n>be(i[0].zoom))return[new ve(s,i[0].zoom,"stop zoom values must appear in ascending order")];be(i[0].zoom)!==n&&(n=be(i[0].zoom),r=void 0,a={}),t=t.concat(br({key:s+"[0]",value:i[0],valueSpec:{zoom:{}},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{zoom:wr,value:h}}))}else t=t.concat(h({key:s+"[0]",value:i[0],valueSpec:{},style:e.style,styleSpec:e.styleSpec},i));return fr(xe(i[1]))?t.concat([new ve(s+"[1]",i[1],"expressions are not allowed in function stops.")]):t.concat(qr({key:s+"[1]",value:i[1],valueSpec:o,style:e.style,styleSpec:e.styleSpec}))}function h(e,n){var s=nr(e.value),l=be(e.value),u=null!==e.value?e.value:n;if(t){if(s!==t)return[new ve(e.key,u,s+" stop domain type must match previous stop domain type "+t)]}else t=s;if("number"!==s&&"string"!==s&&"boolean"!==s)return[new ve(e.key,u,"stop domain value must be a number, string, or boolean")];if("number"!==s&&"categorical"!==i){var c="number expected, "+s+" found";return er(o)&&void 0===i&&(c+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new ve(e.key,u,c)]}return"categorical"!==i||"number"!==s||isFinite(l)&&Math.floor(l)===l?"categorical"!==i&&"number"===s&&void 0!==r&&l<r?[new ve(e.key,u,"stop domain values must appear in ascending order")]:(r=l,"categorical"===i&&l in a?[new ve(e.key,u,"stop domain values must be unique")]:(a[l]=!0,[])):[new ve(e.key,u,"integer expected, found "+l)]}}function Sr(e){var t=("property"===e.expressionContext?vr:dr)(xe(e.value),e.valueSpec);if("error"===t.result)return t.value.map(function(t){return new ve(""+e.key+t.key,e.value,t.message)});var r=t.value.expression||t.value._styleExpression.expression;if("property"===e.expressionContext&&"text-font"===e.propertyKey&&-1!==r.possibleOutputs().indexOf(void 0))return[new ve(e.key,e.value,'Invalid data expression for "'+e.propertyKey+'". Output values must be contained as literals within the expression.')];if("property"===e.expressionContext&&"layout"===e.propertyType&&!nt(r))return[new ve(e.key,e.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===e.expressionContext&&!nt(r))return[new ve(e.key,e.value,'"feature-state" data expressions are not supported with filters.')];if(e.expressionContext&&0===e.expressionContext.indexOf("cluster")){if(!ot(r,["zoom","feature-state"]))return[new ve(e.key,e.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===e.expressionContext&&!rt(r))return[new ve(e.key,e.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Cr(e){var t=e.key,r=e.value,n=e.valueSpec,o=[];return Array.isArray(n.values)?-1===n.values.indexOf(be(r))&&o.push(new ve(t,r,"expected one of ["+n.values.join(", ")+"], "+JSON.stringify(r)+" found")):-1===Object.keys(n.values).indexOf(be(r))&&o.push(new ve(t,r,"expected one of ["+Object.keys(n.values).join(", ")+"], "+JSON.stringify(r)+" found")),o}function kr(e){if(!0===e||!1===e)return!0;if(!Array.isArray(e)||0===e.length)return!1;switch(e[0]){case"has":return e.length>=2&&"$id"!==e[1]&&"$type"!==e[1];case"in":case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==e.length||Array.isArray(e[1])||Array.isArray(e[2]);case"any":case"all":for(var t=0,r=e.slice(1);t<r.length;t+=1){var n=r[t];if(!kr(n)&&"boolean"!==typeof n)return!1}return!0;default:return!0}}gr.deserialize=function(e){return new gr(e._parameters,e._specification)},gr.serialize=function(e){return{_parameters:e._parameters,_specification:e._specification}};var Tr={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Or(e){if(null===e||void 0===e)return function(){return!0};kr(e)||(e=Ar(e));var t=dr(e,Tr);if("error"===t.result)throw new Error(t.value.map(function(e){return e.key+": "+e.message}).join(", "));return function(e,r){return t.value.evaluate(e,r)}}function Pr(e,t){return e<t?-1:e>t?1:0}function Ar(e){if(!e)return!0;var t,r=e[0];return e.length<=1?"any"!==r:"=="===r?Ir(e[1],e[2],"=="):"!="===r?Lr(Ir(e[1],e[2],"==")):"<"===r||">"===r||"<="===r||">="===r?Ir(e[1],e[2],r):"any"===r?(t=e.slice(1),["any"].concat(t.map(Ar))):"all"===r?["all"].concat(e.slice(1).map(Ar)):"none"===r?["all"].concat(e.slice(1).map(Ar).map(Lr)):"in"===r?Mr(e[1],e.slice(2)):"!in"===r?Lr(Mr(e[1],e.slice(2))):"has"===r?Rr(e[1]):"!has"!==r||Lr(Rr(e[1]))}function Ir(e,t,r){switch(e){case"$type":return["filter-type-"+r,t];case"$id":return["filter-id-"+r,t];default:return["filter-"+r,e,t]}}function Mr(e,t){if(0===t.length)return!1;switch(e){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some(function(e){return typeof e!==typeof t[0]})?["filter-in-large",e,["literal",t.sort(Pr)]]:["filter-in-small",e,["literal",t]]}}function Rr(e){switch(e){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",e]}}function Lr(e){return["!",e]}function Dr(e){return kr(xe(e.value))?Sr(_e({},e,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function e(t){var r=t.value;var n=t.key;if("array"!==nr(r))return[new ve(n,r,"array expected, "+nr(r)+" found")];var o=t.styleSpec;var i;var a=[];if(r.length<1)return[new ve(n,r,"filter array must have at least 1 element")];a=a.concat(Cr({key:n+"[0]",value:r[0],valueSpec:o.filter_operator,style:t.style,styleSpec:t.styleSpec}));switch(be(r[0])){case"<":case"<=":case">":case">=":r.length>=2&&"$type"===be(r[1])&&a.push(new ve(n,r,'"$type" cannot be use with operator "'+r[0]+'"'));case"==":case"!=":3!==r.length&&a.push(new ve(n,r,'filter array for operator "'+r[0]+'" must have 3 elements'));case"in":case"!in":r.length>=2&&"string"!==(i=nr(r[1]))&&a.push(new ve(n+"[1]",r[1],"string expected, "+i+" found"));for(var s=2;s<r.length;s++)i=nr(r[s]),"$type"===be(r[1])?a=a.concat(Cr({key:n+"["+s+"]",value:r[s],valueSpec:o.geometry_type,style:t.style,styleSpec:t.styleSpec})):"string"!==i&&"number"!==i&&"boolean"!==i&&a.push(new ve(n+"["+s+"]",r[s],"string, number, or boolean expected, "+i+" found"));break;case"any":case"all":case"none":for(var l=1;l<r.length;l++)a=a.concat(e({key:n+"["+l+"]",value:r[l],style:t.style,styleSpec:t.styleSpec}));break;case"has":case"!has":i=nr(r[1]),2!==r.length?a.push(new ve(n,r,'filter array for "'+r[0]+'" operator must have 2 elements')):"string"!==i&&a.push(new ve(n+"[1]",r[1],"string expected, "+i+" found"))}return a}(e)}function jr(e,t){var r=e.key,n=e.style,o=e.styleSpec,i=e.value,a=e.objectKey,s=o[t+"_"+e.layerType];if(!s)return[];var l=a.match(/^(.*)-transition$/);if("paint"===t&&l&&s[l[1]]&&s[l[1]].transition)return qr({key:r,value:i,valueSpec:o.transition,style:n,styleSpec:o});var u,c=e.valueSpec||s[a];if(!c)return[new ve(r,i,'unknown property "'+a+'"')];if("string"===nr(i)&&er(c)&&!c.tokens&&(u=/^{([^}]+)}$/.exec(i)))return[new ve(r,i,'"'+a+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(u[1])+" }`.")];var p=[];return"symbol"===e.layerType&&("text-field"===a&&n&&!n.glyphs&&p.push(new ve(r,i,'use of "text-field" requires a style "glyphs" property')),"text-font"===a&&or(xe(i))&&"identity"===be(i.type)&&p.push(new ve(r,i,'"text-font" does not support identity functions'))),p.concat(qr({key:e.key,value:i,valueSpec:c,style:n,styleSpec:o,expressionContext:"property",propertyType:t,propertyKey:a}))}function zr(e){return jr(e,"paint")}function Fr(e){return jr(e,"layout")}function Nr(e){var t=[],r=e.value,n=e.key,o=e.style,i=e.styleSpec;r.type||r.ref||t.push(new ve(n,r,'either "type" or "ref" is required'));var a,s=be(r.type),l=be(r.ref);if(r.id)for(var u=be(r.id),c=0;c<e.arrayIndex;c++){var p=o.layers[c];be(p.id)===u&&t.push(new ve(n,r.id,'duplicate layer id "'+r.id+'", previously used at line '+p.id.__line__))}if("ref"in r)["type","source","source-layer","filter","layout"].forEach(function(e){e in r&&t.push(new ve(n,r[e],'"'+e+'" is prohibited for ref layers'))}),o.layers.forEach(function(e){be(e.id)===l&&(a=e)}),a?a.ref?t.push(new ve(n,r.ref,"ref cannot reference another ref layer")):s=be(a.type):t.push(new ve(n,r.ref,'ref layer "'+l+'" not found'));else if("background"!==s)if(r.source){var h=o.sources&&o.sources[r.source],f=h&&be(h.type);h?"vector"===f&&"raster"===s?t.push(new ve(n,r.source,'layer "'+r.id+'" requires a raster source')):"raster"===f&&"raster"!==s?t.push(new ve(n,r.source,'layer "'+r.id+'" requires a vector source')):"vector"!==f||r["source-layer"]?"raster-dem"===f&&"hillshade"!==s?t.push(new ve(n,r.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==s||!r.paint||!r.paint["line-gradient"]||"geojson"===f&&h.lineMetrics||t.push(new ve(n,r,'layer "'+r.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):t.push(new ve(n,r,'layer "'+r.id+'" must specify a "source-layer"')):t.push(new ve(n,r.source,'source "'+r.source+'" not found'))}else t.push(new ve(n,r,'missing required property "source"'));return t=t.concat(br({key:n,value:r,valueSpec:i.layer,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return qr({key:n+".type",value:r.type,valueSpec:i.layer.type,style:e.style,styleSpec:e.styleSpec,object:r,objectKey:"type"})},filter:Dr,layout:function(e){return br({layer:r,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(e){return Fr(_e({layerType:s},e))}}})},paint:function(e){return br({layer:r,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(e){return zr(_e({layerType:s},e))}}})}}}))}function Br(e){var t=e.value,r=e.key,n=e.styleSpec,o=e.style;if(!t.type)return[new ve(r,t,'"type" is required')];var i,a=be(t.type);switch(a){case"vector":case"raster":case"raster-dem":if(i=br({key:r,value:t,valueSpec:n["source_"+a.replace("-","_")],style:e.style,styleSpec:n}),"url"in t)for(var s in t)["type","url","tileSize"].indexOf(s)<0&&i.push(new ve(r+"."+s,t[s],'a source with a "url" property may not include a "'+s+'" property'));return i;case"geojson":if(i=br({key:r,value:t,valueSpec:n.source_geojson,style:o,styleSpec:n}),t.cluster)for(var l in t.clusterProperties){var u=t.clusterProperties[l],c=u[0],p=u[1],h="string"===typeof c?[c,["accumulated"],["get",l]]:c;i.push.apply(i,Sr({key:r+"."+l+".map",value:p,expressionContext:"cluster-map"})),i.push.apply(i,Sr({key:r+"."+l+".reduce",value:h,expressionContext:"cluster-reduce"}))}return i;case"video":return br({key:r,value:t,valueSpec:n.source_video,style:o,styleSpec:n});case"image":return br({key:r,value:t,valueSpec:n.source_image,style:o,styleSpec:n});case"canvas":return[new ve(r,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Cr({key:r+".type",value:t.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:o,styleSpec:n})}}function Ur(e){var t=e.value,r=e.styleSpec,n=r.light,o=e.style,i=[],a=nr(t);if(void 0===t)return i;if("object"!==a)return i=i.concat([new ve("light",t,"object expected, "+a+" found")]);for(var s in t){var l=s.match(/^(.*)-transition$/);i=l&&n[l[1]]&&n[l[1]].transition?i.concat(qr({key:s,value:t[s],valueSpec:r.transition,style:o,styleSpec:r})):n[s]?i.concat(qr({key:s,value:t[s],valueSpec:n[s],style:o,styleSpec:r})):i.concat([new ve(s,t[s],'unknown property "'+s+'"')])}return i}function Vr(e){var t=e.value,r=e.key,n=nr(t);return"string"!==n?[new ve(r,t,"string expected, "+n+" found")]:[]}var Gr={"*":function(){return[]},array:xr,boolean:function(e){var t=e.value,r=e.key,n=nr(t);return"boolean"!==n?[new ve(r,t,"boolean expected, "+n+" found")]:[]},number:wr,color:function(e){var t=e.key,r=e.value,n=nr(r);return"string"!==n?[new ve(t,r,"color expected, "+n+" found")]:null===ze(r)?[new ve(t,r,'color expected, "'+r+'" found')]:[]},constants:ge,enum:Cr,filter:Dr,function:Er,layer:Nr,object:br,source:Br,light:Ur,string:Vr,formatted:function(e){return 0===Vr(e).length?[]:Sr(e)}};function qr(e){var t=e.value,r=e.valueSpec,n=e.styleSpec;return r.expression&&or(be(t))?Er(e):r.expression&&fr(xe(t))?Sr(e):r.type&&Gr[r.type]?Gr[r.type](e):br(_e({},e,{valueSpec:r.type?n[r.type]:r}))}function Hr(e){var t=e.value,r=e.key,n=Vr(e);return n.length?n:(-1===t.indexOf("{fontstack}")&&n.push(new ve(r,t,'"glyphs" url must include a "{fontstack}" token')),-1===t.indexOf("{range}")&&n.push(new ve(r,t,'"glyphs" url must include a "{range}" token')),n)}function Wr(e,t){t=t||ye;var r=[];return r=r.concat(qr({key:"",value:e,valueSpec:t.$root,styleSpec:t,style:e,objectElementValidators:{glyphs:Hr,"*":function(){return[]}}})),e.constants&&(r=r.concat(ge({key:"constants",value:e.constants,style:e,styleSpec:t}))),Xr(r)}function Xr(e){return[].concat(e).sort(function(e,t){return e.line-t.line})}function Zr(e){return function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return Xr(e.apply(this,t))}}Wr.source=Zr(Br),Wr.light=Zr(Ur),Wr.layer=Zr(Nr),Wr.filter=Zr(Dr),Wr.paintProperty=Zr(zr),Wr.layoutProperty=Zr(Fr);var Yr=Wr,Kr=Wr.light,$r=Wr.paintProperty,Jr=Wr.layoutProperty;function Qr(e,t){var r=!1;if(t&&t.length)for(var n=0,o=t;n<o.length;n+=1){var i=o[n];e.fire(new de(new Error(i.message))),r=!0}return r}var en=rn,tn=3;function rn(e,t,r){var n=this.cells=[];if(e instanceof ArrayBuffer){this.arrayBuffer=e;var o=new Int32Array(this.arrayBuffer);e=o[0],t=o[1],r=o[2],this.d=t+2*r;for(var i=0;i<this.d*this.d;i++){var a=o[tn+i],s=o[tn+i+1];n.push(a===s?null:o.subarray(a,s))}var l=o[tn+n.length],u=o[tn+n.length+1];this.keys=o.subarray(l,u),this.bboxes=o.subarray(u),this.insert=this._insertReadonly}else{this.d=t+2*r;for(var c=0;c<this.d*this.d;c++)n.push([]);this.keys=[],this.bboxes=[]}this.n=t,this.extent=e,this.padding=r,this.scale=t/e,this.uid=0;var p=r/t*e;this.min=-p,this.max=e+p}rn.prototype.insert=function(e,t,r,n,o){this._forEachCell(t,r,n,o,this._insertCell,this.uid++),this.keys.push(e),this.bboxes.push(t),this.bboxes.push(r),this.bboxes.push(n),this.bboxes.push(o)},rn.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},rn.prototype._insertCell=function(e,t,r,n,o,i){this.cells[o].push(i)},rn.prototype.query=function(e,t,r,n,o){var i=this.min,a=this.max;if(e<=i&&t<=i&&a<=r&&a<=n&&!o)return Array.prototype.slice.call(this.keys);var s=[];return this._forEachCell(e,t,r,n,this._queryCell,s,{},o),s},rn.prototype._queryCell=function(e,t,r,n,o,i,a,s){var l=this.cells[o];if(null!==l)for(var u=this.keys,c=this.bboxes,p=0;p<l.length;p++){var h=l[p];if(void 0===a[h]){var f=4*h;(s?s(c[f+0],c[f+1],c[f+2],c[f+3]):e<=c[f+2]&&t<=c[f+3]&&r>=c[f+0]&&n>=c[f+1])?(a[h]=!0,i.push(u[h])):a[h]=!1}}},rn.prototype._forEachCell=function(e,t,r,n,o,i,a,s){for(var l=this._convertToCellCoord(e),u=this._convertToCellCoord(t),c=this._convertToCellCoord(r),p=this._convertToCellCoord(n),h=l;h<=c;h++)for(var f=u;f<=p;f++){var d=this.d*f+h;if((!s||s(this._convertFromCellCoord(h),this._convertFromCellCoord(f),this._convertFromCellCoord(h+1),this._convertFromCellCoord(f+1)))&&o.call(this,e,t,r,n,d,i,a,s))return}},rn.prototype._convertFromCellCoord=function(e){return(e-this.padding)/this.scale},rn.prototype._convertToCellCoord=function(e){return Math.max(0,Math.min(this.d-1,Math.floor(e*this.scale)+this.padding))},rn.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var e=this.cells,t=tn+this.cells.length+1+1,r=0,n=0;n<this.cells.length;n++)r+=this.cells[n].length;var o=new Int32Array(t+r+this.keys.length+this.bboxes.length);o[0]=this.extent,o[1]=this.n,o[2]=this.padding;for(var i=t,a=0;a<e.length;a++){var s=e[a];o[tn+a]=i,o.set(s,i),i+=s.length}return o[tn+e.length]=i,o.set(this.keys,i),i+=this.keys.length,o[tn+e.length+1]=i,o.set(this.bboxes,i),i+=this.bboxes.length,o.buffer};var nn=self.ImageData,on={};function an(e,t,r){void 0===r&&(r={}),Object.defineProperty(t,"_classRegistryKey",{value:e,writeable:!1}),on[e]={klass:t,omit:r.omit||[],shallow:r.shallow||[]}}for(var sn in an("Object",Object),en.serialize=function(e,t){var r=e.toArrayBuffer();return t&&t.push(r),{buffer:r}},en.deserialize=function(e){return new en(e.buffer)},an("Grid",en),an("Color",Fe),an("Error",Error),an("StylePropertyFunction",gr),an("StyleExpression",hr,{omit:["_evaluator"]}),an("ZoomDependentExpression",yr),an("ZoomConstantExpression",mr),an("CompoundExpression",et,{omit:["_evaluate"]}),Xt)Xt[sn]._classRegistryKey||an("Expression_"+sn,Xt[sn]);function ln(e,t){if(null===e||void 0===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp)return e;if(e instanceof ArrayBuffer)return t&&t.push(e),e;if(ArrayBuffer.isView(e)){var r=e;return t&&t.push(r.buffer),r}if(e instanceof nn)return t&&t.push(e.data.buffer),e;if(Array.isArray(e)){for(var n=[],o=0,i=e;o<i.length;o+=1){var a=i[o];n.push(ln(a,t))}return n}if("object"===typeof e){var s=e.constructor,l=s._classRegistryKey;if(!l)throw new Error("can't serialize object of unregistered class");var u=s.serialize?s.serialize(e,t):{};if(!s.serialize){for(var c in e)if(e.hasOwnProperty(c)&&!(on[l].omit.indexOf(c)>=0)){var p=e[c];u[c]=on[l].shallow.indexOf(c)>=0?p:ln(p,t)}e instanceof Error&&(u.message=e.message)}if(u.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==l&&(u.$name=l),u}throw new Error("can't serialize object of type "+typeof e)}function un(e){if(null===e||void 0===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp||e instanceof ArrayBuffer||ArrayBuffer.isView(e)||e instanceof nn)return e;if(Array.isArray(e))return e.map(un);if("object"===typeof e){var t=e.$name||"Object",r=on[t].klass;if(!r)throw new Error("can't deserialize unregistered class "+t);if(r.deserialize)return r.deserialize(e);for(var n=Object.create(r.prototype),o=0,i=Object.keys(e);o<i.length;o+=1){var a=i[o];if("$name"!==a){var s=e[a];n[a]=on[t].shallow.indexOf(a)>=0?s:un(s)}}return n}throw new Error("can't deserialize object of type "+typeof e)}var cn=function(){this.first=!0};cn.prototype.update=function(e,t){var r=Math.floor(e);return this.first?(this.first=!1,this.lastIntegerZoom=r,this.lastIntegerZoomTime=0,this.lastZoom=e,this.lastFloorZoom=r,!0):(this.lastFloorZoom>r?(this.lastIntegerZoom=r+1,this.lastIntegerZoomTime=t):this.lastFloorZoom<r&&(this.lastIntegerZoom=r,this.lastIntegerZoomTime=t),e!==this.lastZoom&&(this.lastZoom=e,this.lastFloorZoom=r,!0))};var pn={"Latin-1 Supplement":function(e){return e>=128&&e<=255},Arabic:function(e){return e>=1536&&e<=1791},"Arabic Supplement":function(e){return e>=1872&&e<=1919},"Arabic Extended-A":function(e){return e>=2208&&e<=2303},"Hangul Jamo":function(e){return e>=4352&&e<=4607},"Unified Canadian Aboriginal Syllabics":function(e){return e>=5120&&e<=5759},Khmer:function(e){return e>=6016&&e<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(e){return e>=6320&&e<=6399},"General Punctuation":function(e){return e>=8192&&e<=8303},"Letterlike Symbols":function(e){return e>=8448&&e<=8527},"Number Forms":function(e){return e>=8528&&e<=8591},"Miscellaneous Technical":function(e){return e>=8960&&e<=9215},"Control Pictures":function(e){return e>=9216&&e<=9279},"Optical Character Recognition":function(e){return e>=9280&&e<=9311},"Enclosed Alphanumerics":function(e){return e>=9312&&e<=9471},"Geometric Shapes":function(e){return e>=9632&&e<=9727},"Miscellaneous Symbols":function(e){return e>=9728&&e<=9983},"Miscellaneous Symbols and Arrows":function(e){return e>=11008&&e<=11263},"CJK Radicals Supplement":function(e){return e>=11904&&e<=12031},"Kangxi Radicals":function(e){return e>=12032&&e<=12255},"Ideographic Description Characters":function(e){return e>=12272&&e<=12287},"CJK Symbols and Punctuation":function(e){return e>=12288&&e<=12351},Hiragana:function(e){return e>=12352&&e<=12447},Katakana:function(e){return e>=12448&&e<=12543},Bopomofo:function(e){return e>=12544&&e<=12591},"Hangul Compatibility Jamo":function(e){return e>=12592&&e<=12687},Kanbun:function(e){return e>=12688&&e<=12703},"Bopomofo Extended":function(e){return e>=12704&&e<=12735},"CJK Strokes":function(e){return e>=12736&&e<=12783},"Katakana Phonetic Extensions":function(e){return e>=12784&&e<=12799},"Enclosed CJK Letters and Months":function(e){return e>=12800&&e<=13055},"CJK Compatibility":function(e){return e>=13056&&e<=13311},"CJK Unified Ideographs Extension A":function(e){return e>=13312&&e<=19903},"Yijing Hexagram Symbols":function(e){return e>=19904&&e<=19967},"CJK Unified Ideographs":function(e){return e>=19968&&e<=40959},"Yi Syllables":function(e){return e>=40960&&e<=42127},"Yi Radicals":function(e){return e>=42128&&e<=42191},"Hangul Jamo Extended-A":function(e){return e>=43360&&e<=43391},"Hangul Syllables":function(e){return e>=44032&&e<=55215},"Hangul Jamo Extended-B":function(e){return e>=55216&&e<=55295},"Private Use Area":function(e){return e>=57344&&e<=63743},"CJK Compatibility Ideographs":function(e){return e>=63744&&e<=64255},"Arabic Presentation Forms-A":function(e){return e>=64336&&e<=65023},"Vertical Forms":function(e){return e>=65040&&e<=65055},"CJK Compatibility Forms":function(e){return e>=65072&&e<=65103},"Small Form Variants":function(e){return e>=65104&&e<=65135},"Arabic Presentation Forms-B":function(e){return e>=65136&&e<=65279},"Halfwidth and Fullwidth Forms":function(e){return e>=65280&&e<=65519}};function hn(e){for(var t=0,r=e;t<r.length;t+=1){if(dn(r[t].charCodeAt(0)))return!0}return!1}function fn(e){return!pn.Arabic(e)&&(!pn["Arabic Supplement"](e)&&(!pn["Arabic Extended-A"](e)&&(!pn["Arabic Presentation Forms-A"](e)&&!pn["Arabic Presentation Forms-B"](e))))}function dn(e){return 746===e||747===e||!(e<4352)&&(!!pn["Bopomofo Extended"](e)||(!!pn.Bopomofo(e)||(!(!pn["CJK Compatibility Forms"](e)||e>=65097&&e<=65103)||(!!pn["CJK Compatibility Ideographs"](e)||(!!pn["CJK Compatibility"](e)||(!!pn["CJK Radicals Supplement"](e)||(!!pn["CJK Strokes"](e)||(!(!pn["CJK Symbols and Punctuation"](e)||e>=12296&&e<=12305||e>=12308&&e<=12319||12336===e)||(!!pn["CJK Unified Ideographs Extension A"](e)||(!!pn["CJK Unified Ideographs"](e)||(!!pn["Enclosed CJK Letters and Months"](e)||(!!pn["Hangul Compatibility Jamo"](e)||(!!pn["Hangul Jamo Extended-A"](e)||(!!pn["Hangul Jamo Extended-B"](e)||(!!pn["Hangul Jamo"](e)||(!!pn["Hangul Syllables"](e)||(!!pn.Hiragana(e)||(!!pn["Ideographic Description Characters"](e)||(!!pn.Kanbun(e)||(!!pn["Kangxi Radicals"](e)||(!!pn["Katakana Phonetic Extensions"](e)||(!(!pn.Katakana(e)||12540===e)||(!(!pn["Halfwidth and Fullwidth Forms"](e)||65288===e||65289===e||65293===e||e>=65306&&e<=65310||65339===e||65341===e||65343===e||e>=65371&&e<=65503||65507===e||e>=65512&&e<=65519)||(!(!pn["Small Form Variants"](e)||e>=65112&&e<=65118||e>=65123&&e<=65126)||(!!pn["Unified Canadian Aboriginal Syllabics"](e)||(!!pn["Unified Canadian Aboriginal Syllabics Extended"](e)||(!!pn["Vertical Forms"](e)||(!!pn["Yijing Hexagram Symbols"](e)||(!!pn["Yi Syllables"](e)||!!pn["Yi Radicals"](e))))))))))))))))))))))))))))))}function mn(e){return!(dn(e)||function(e){return!(!pn["Latin-1 Supplement"](e)||167!==e&&169!==e&&174!==e&&177!==e&&188!==e&&189!==e&&190!==e&&215!==e&&247!==e)||!(!pn["General Punctuation"](e)||8214!==e&&8224!==e&&8225!==e&&8240!==e&&8241!==e&&8251!==e&&8252!==e&&8258!==e&&8263!==e&&8264!==e&&8265!==e&&8273!==e)||!!pn["Letterlike Symbols"](e)||!!pn["Number Forms"](e)||!(!pn["Miscellaneous Technical"](e)||!(e>=8960&&e<=8967||e>=8972&&e<=8991||e>=8996&&e<=9e3||9003===e||e>=9085&&e<=9114||e>=9150&&e<=9165||9167===e||e>=9169&&e<=9179||e>=9186&&e<=9215))||!(!pn["Control Pictures"](e)||9251===e)||!!pn["Optical Character Recognition"](e)||!!pn["Enclosed Alphanumerics"](e)||!!pn["Geometric Shapes"](e)||!(!pn["Miscellaneous Symbols"](e)||e>=9754&&e<=9759)||!(!pn["Miscellaneous Symbols and Arrows"](e)||!(e>=11026&&e<=11055||e>=11088&&e<=11097||e>=11192&&e<=11243))||!!pn["CJK Symbols and Punctuation"](e)||!!pn.Katakana(e)||!!pn["Private Use Area"](e)||!!pn["CJK Compatibility Forms"](e)||!!pn["Small Form Variants"](e)||!!pn["Halfwidth and Fullwidth Forms"](e)||8734===e||8756===e||8757===e||e>=9984&&e<=10087||e>=10102&&e<=10131||65532===e||65533===e}(e))}function yn(e,t){return!(!t&&(e>=1424&&e<=2303||pn["Arabic Presentation Forms-A"](e)||pn["Arabic Presentation Forms-B"](e)))&&!(e>=2304&&e<=3583||e>=3840&&e<=4255||pn.Khmer(e))}var vn,gn=!1,_n=null,bn=!1,xn=new me,wn={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return bn||null!=wn.applyArabicShaping}},En=function(e,t){this.zoom=e,t?(this.now=t.now,this.fadeDuration=t.fadeDuration,this.zoomHistory=t.zoomHistory,this.transition=t.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new cn,this.transition={})};En.prototype.isSupportedScript=function(e){return function(e,t){for(var r=0,n=e;r<n.length;r+=1)if(!yn(n[r].charCodeAt(0),t))return!1;return!0}(e,wn.isLoaded())},En.prototype.crossFadingFactor=function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},En.prototype.getCrossfadeParameters=function(){var e=this.zoom,t=e-Math.floor(e),r=this.crossFadingFactor();return e>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:t+(1-t)*r}:{fromScale:.5,toScale:1,t:1-(1-r)*t}};var Sn=function(e,t){this.property=e,this.value=t,this.expression=_r(void 0===t?e.specification.default:t,e.specification)};Sn.prototype.isDataDriven=function(){return"source"===this.expression.kind||"composite"===this.expression.kind},Sn.prototype.possiblyEvaluate=function(e){return this.property.possiblyEvaluate(this,e)};var Cn=function(e){this.property=e,this.value=new Sn(e,void 0)};Cn.prototype.transitioned=function(e,t){return new Tn(this.property,this.value,t,p({},e.transition,this.transition),e.now)},Cn.prototype.untransitioned=function(){return new Tn(this.property,this.value,null,{},0)};var kn=function(e){this._properties=e,this._values=Object.create(e.defaultTransitionablePropertyValues)};kn.prototype.getValue=function(e){return b(this._values[e].value.value)},kn.prototype.setValue=function(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new Cn(this._values[e].property)),this._values[e].value=new Sn(this._values[e].property,null===t?void 0:b(t))},kn.prototype.getTransition=function(e){return b(this._values[e].transition)},kn.prototype.setTransition=function(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new Cn(this._values[e].property)),this._values[e].transition=b(t)||void 0},kn.prototype.serialize=function(){for(var e={},t=0,r=Object.keys(this._values);t<r.length;t+=1){var n=r[t],o=this.getValue(n);void 0!==o&&(e[n]=o);var i=this.getTransition(n);void 0!==i&&(e[n+"-transition"]=i)}return e},kn.prototype.transitioned=function(e,t){for(var r=new On(this._properties),n=0,o=Object.keys(this._values);n<o.length;n+=1){var i=o[n];r._values[i]=this._values[i].transitioned(e,t._values[i])}return r},kn.prototype.untransitioned=function(){for(var e=new On(this._properties),t=0,r=Object.keys(this._values);t<r.length;t+=1){var n=r[t];e._values[n]=this._values[n].untransitioned()}return e};var Tn=function(e,t,r,n,o){this.property=e,this.value=t,this.begin=o+n.delay||0,this.end=this.begin+n.duration||0,e.specification.transition&&(n.delay||n.duration)&&(this.prior=r)};Tn.prototype.possiblyEvaluate=function(e){var t=e.now||0,r=this.value.possiblyEvaluate(e),n=this.prior;if(n){if(t>this.end)return this.prior=null,r;if(this.value.isDataDriven())return this.prior=null,r;if(t<this.begin)return n.possiblyEvaluate(e);var o=(t-this.begin)/(this.end-this.begin);return this.property.interpolate(n.possiblyEvaluate(e),r,function(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,r=t*e;return 4*(e<.5?r:3*(e-t)+r-.75)}(o))}return r};var On=function(e){this._properties=e,this._values=Object.create(e.defaultTransitioningPropertyValues)};On.prototype.possiblyEvaluate=function(e){for(var t=new In(this._properties),r=0,n=Object.keys(this._values);r<n.length;r+=1){var o=n[r];t._values[o]=this._values[o].possiblyEvaluate(e)}return t},On.prototype.hasTransition=function(){for(var e=0,t=Object.keys(this._values);e<t.length;e+=1){var r=t[e];if(this._values[r].prior)return!0}return!1};var Pn=function(e){this._properties=e,this._values=Object.create(e.defaultPropertyValues)};Pn.prototype.getValue=function(e){return b(this._values[e].value)},Pn.prototype.setValue=function(e,t){this._values[e]=new Sn(this._values[e].property,null===t?void 0:b(t))},Pn.prototype.serialize=function(){for(var e={},t=0,r=Object.keys(this._values);t<r.length;t+=1){var n=r[t],o=this.getValue(n);void 0!==o&&(e[n]=o)}return e},Pn.prototype.possiblyEvaluate=function(e){for(var t=new In(this._properties),r=0,n=Object.keys(this._values);r<n.length;r+=1){var o=n[r];t._values[o]=this._values[o].possiblyEvaluate(e)}return t};var An=function(e,t,r){this.property=e,this.value=t,this.parameters=r};An.prototype.isConstant=function(){return"constant"===this.value.kind},An.prototype.constantOr=function(e){return"constant"===this.value.kind?this.value.value:e},An.prototype.evaluate=function(e,t){return this.property.evaluate(this.value,this.parameters,e,t)};var In=function(e){this._properties=e,this._values=Object.create(e.defaultPossiblyEvaluatedValues)};In.prototype.get=function(e){return this._values[e]};var Mn=function(e){this.specification=e};Mn.prototype.possiblyEvaluate=function(e,t){return e.expression.evaluate(t)},Mn.prototype.interpolate=function(e,t,r){var n=ct[this.specification.type];return n?n(e,t,r):e};var Rn=function(e){this.specification=e};Rn.prototype.possiblyEvaluate=function(e,t){return"constant"===e.expression.kind||"camera"===e.expression.kind?new An(this,{kind:"constant",value:e.expression.evaluate(t)},t):new An(this,e.expression,t)},Rn.prototype.interpolate=function(e,t,r){if("constant"!==e.value.kind||"constant"!==t.value.kind)return e;if(void 0===e.value.value||void 0===t.value.value)return new An(this,{kind:"constant",value:void 0},e.parameters);var n=ct[this.specification.type];return n?new An(this,{kind:"constant",value:n(e.value.value,t.value.value,r)},e.parameters):e},Rn.prototype.evaluate=function(e,t,r,n){return"constant"===e.kind?e.value:e.evaluate(t,r,n)};var Ln=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.possiblyEvaluate=function(e,t){if(void 0===e.value)return new An(this,{kind:"constant",value:void 0},t);if("constant"===e.expression.kind){var r=e.expression.evaluate(t),n=this._calculate(r,r,r,t);return new An(this,{kind:"constant",value:n},t)}if("camera"===e.expression.kind){var o=this._calculate(e.expression.evaluate({zoom:t.zoom-1}),e.expression.evaluate({zoom:t.zoom}),e.expression.evaluate({zoom:t.zoom+1}),t);return new An(this,{kind:"constant",value:o},t)}return new An(this,e.expression,t)},t.prototype.evaluate=function(e,t,r,n){if("source"===e.kind){var o=e.evaluate(t,r,n);return this._calculate(o,o,o,t)}return"composite"===e.kind?this._calculate(e.evaluate({zoom:Math.floor(t.zoom)-1},r,n),e.evaluate({zoom:Math.floor(t.zoom)},r,n),e.evaluate({zoom:Math.floor(t.zoom)+1},r,n),t):e.value},t.prototype._calculate=function(e,t,r,n){return n.zoom>n.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:r,to:t}},t.prototype.interpolate=function(e){return e},t}(Rn),Dn=function(e){this.specification=e};Dn.prototype.possiblyEvaluate=function(e,t){if(void 0!==e.value){if("constant"===e.expression.kind){var r=e.expression.evaluate(t);return this._calculate(r,r,r,t)}return this._calculate(e.expression.evaluate(new En(Math.floor(t.zoom-1),t)),e.expression.evaluate(new En(Math.floor(t.zoom),t)),e.expression.evaluate(new En(Math.floor(t.zoom+1),t)),t)}},Dn.prototype._calculate=function(e,t,r,n){return n.zoom>n.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:r,to:t}},Dn.prototype.interpolate=function(e){return e};var jn=function(e){this.specification=e};jn.prototype.possiblyEvaluate=function(e,t){return!!e.expression.evaluate(t)},jn.prototype.interpolate=function(){return!1};var zn=function(e){for(var t in this.properties=e,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},e){var r=e[t],n=this.defaultPropertyValues[t]=new Sn(r,void 0),o=this.defaultTransitionablePropertyValues[t]=new Cn(r);this.defaultTransitioningPropertyValues[t]=o.untransitioned(),this.defaultPossiblyEvaluatedValues[t]=n.possiblyEvaluate({})}};an("DataDrivenProperty",Rn),an("DataConstantProperty",Mn),an("CrossFadedDataDrivenProperty",Ln),an("CrossFadedProperty",Dn),an("ColorRampProperty",jn);var Fn=function(e){function t(t,r){if(e.call(this),this.id=t.id,this.type=t.type,this.visibility="visible",this._featureFilter=function(){return!0},"custom"!==t.type&&(t=t,this.metadata=t.metadata,this.minzoom=t.minzoom,this.maxzoom=t.maxzoom,"background"!==t.type&&(this.source=t.source,this.sourceLayer=t["source-layer"],this.filter=t.filter),r.layout&&(this._unevaluatedLayout=new Pn(r.layout)),r.paint)){for(var n in this._transitionablePaint=new kn(r.paint),t.paint)this.setPaintProperty(n,t.paint[n],{validate:!1});for(var o in t.layout)this.setLayoutProperty(o,t.layout[o],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned()}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},t.prototype.getLayoutProperty=function(e){return"visibility"===e?this.visibility:this._unevaluatedLayout.getValue(e)},t.prototype.setLayoutProperty=function(e,t,r){if(void 0===r&&(r={}),null!==t&&void 0!==t){var n="layers."+this.id+".layout."+e;if(this._validate(Jr,n,e,t,r))return}"visibility"!==e?this._unevaluatedLayout.setValue(e,t):this.visibility="none"===t?t:"visible"},t.prototype.getPaintProperty=function(e){return v(e,"-transition")?this._transitionablePaint.getTransition(e.slice(0,-"-transition".length)):this._transitionablePaint.getValue(e)},t.prototype.setPaintProperty=function(e,t,r){if(void 0===r&&(r={}),null!==t&&void 0!==t){var n="layers."+this.id+".paint."+e;if(this._validate($r,n,e,t,r))return!1}if(v(e,"-transition"))return this._transitionablePaint.setTransition(e.slice(0,-"-transition".length),t||void 0),!1;var o=this._transitionablePaint._values[e],i="cross-faded-data-driven"===o.property.specification["property-type"]&&!o.value.value&&t,a=this._transitionablePaint._values[e].value.isDataDriven();this._transitionablePaint.setValue(e,t);var s=this._transitionablePaint._values[e].value.isDataDriven();return this._handleSpecialPaintPropertyUpdate(e),s||a||i},t.prototype._handleSpecialPaintPropertyUpdate=function(e){},t.prototype.isHidden=function(e){return!!(this.minzoom&&e<this.minzoom)||(!!(this.maxzoom&&e>=this.maxzoom)||"none"===this.visibility)},t.prototype.updateTransitions=function(e){this._transitioningPaint=this._transitionablePaint.transitioned(e,this._transitioningPaint)},t.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},t.prototype.recalculate=function(e){e.getCrossfadeParameters&&(this._crossfadeParameters=e.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(e)),this.paint=this._transitioningPaint.possiblyEvaluate(e)},t.prototype.serialize=function(){var e={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return"none"===this.visibility&&(e.layout=e.layout||{},e.layout.visibility="none"),_(e,function(e,t){return void 0!==e&&!("layout"===t&&!Object.keys(e).length)&&!("paint"===t&&!Object.keys(e).length)})},t.prototype._validate=function(e,t,r,n,o){return void 0===o&&(o={}),(!o||!1!==o.validate)&&Qr(this,e.call(Yr,{key:t,layerType:this.type,objectKey:r,value:n,styleSpec:ye,style:{glyphs:!0,sprite:!0}}))},t.prototype.hasOffscreenPass=function(){return!1},t.prototype.resize=function(){},t.prototype.isStateDependent=function(){for(var e in this.paint._values){var t=this.paint.get(e);if(t instanceof An&&er(t.property.specification)&&(("source"===t.value.kind||"composite"===t.value.kind)&&t.value.isStateDependent))return!0}return!1},t}(me),Nn={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},Bn=function(e,t){this._structArray=e,this._pos1=t*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},Un=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function Vn(e,t){void 0===t&&(t=1);var r=0,n=0;return{members:e.map(function(e){var o,i=(o=e.type,Nn[o].BYTES_PER_ELEMENT),a=r=Gn(r,Math.max(t,i)),s=e.components||1;return n=Math.max(n,i),r+=i*s,{name:e.name,type:e.type,components:s,offset:a}}),size:Gn(r,Math.max(n,t)),alignment:t}}function Gn(e,t){return Math.ceil(e/t)*t}Un.serialize=function(e,t){return e._trim(),t&&(e.isTransferred=!0,t.push(e.arrayBuffer)),{length:e.length,arrayBuffer:e.arrayBuffer}},Un.deserialize=function(e){var t=Object.create(this.prototype);return t.arrayBuffer=e.arrayBuffer,t.length=e.length,t.capacity=e.arrayBuffer.byteLength/t.bytesPerElement,t._refreshViews(),t},Un.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},Un.prototype.clear=function(){this.length=0},Un.prototype.resize=function(e){this.reserve(e),this.length=e},Un.prototype.reserve=function(e){if(e>this.capacity){this.capacity=Math.max(e,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var t=this.uint8;this._refreshViews(),t&&this.uint8.set(t)}},Un.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var qn=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t){var r=this.length;return this.resize(r+1),this.emplace(r,e,t)},t.prototype.emplace=function(e,t,r){var n=2*e;return this.int16[n+0]=t,this.int16[n+1]=r,e},t}(Un);qn.prototype.bytesPerElement=4,an("StructArrayLayout2i4",qn);var Hn=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n){var o=this.length;return this.resize(o+1),this.emplace(o,e,t,r,n)},t.prototype.emplace=function(e,t,r,n,o){var i=4*e;return this.int16[i+0]=t,this.int16[i+1]=r,this.int16[i+2]=n,this.int16[i+3]=o,e},t}(Un);Hn.prototype.bytesPerElement=8,an("StructArrayLayout4i8",Hn);var Wn=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n,o,i){var a=this.length;return this.resize(a+1),this.emplace(a,e,t,r,n,o,i)},t.prototype.emplace=function(e,t,r,n,o,i,a){var s=6*e;return this.int16[s+0]=t,this.int16[s+1]=r,this.int16[s+2]=n,this.int16[s+3]=o,this.int16[s+4]=i,this.int16[s+5]=a,e},t}(Un);Wn.prototype.bytesPerElement=12,an("StructArrayLayout2i4i12",Wn);var Xn=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n,o,i,a,s){var l=this.length;return this.resize(l+1),this.emplace(l,e,t,r,n,o,i,a,s)},t.prototype.emplace=function(e,t,r,n,o,i,a,s,l){var u=6*e,c=12*e;return this.int16[u+0]=t,this.int16[u+1]=r,this.int16[u+2]=n,this.int16[u+3]=o,this.uint8[c+8]=i,this.uint8[c+9]=a,this.uint8[c+10]=s,this.uint8[c+11]=l,e},t}(Un);Xn.prototype.bytesPerElement=12,an("StructArrayLayout4i4ub12",Xn);var Zn=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n,o,i,a,s){var l=this.length;return this.resize(l+1),this.emplace(l,e,t,r,n,o,i,a,s)},t.prototype.emplace=function(e,t,r,n,o,i,a,s,l){var u=8*e;return this.uint16[u+0]=t,this.uint16[u+1]=r,this.uint16[u+2]=n,this.uint16[u+3]=o,this.uint16[u+4]=i,this.uint16[u+5]=a,this.uint16[u+6]=s,this.uint16[u+7]=l,e},t}(Un);Zn.prototype.bytesPerElement=16,an("StructArrayLayout8ui16",Zn);var Yn=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n,o,i,a,s){var l=this.length;return this.resize(l+1),this.emplace(l,e,t,r,n,o,i,a,s)},t.prototype.emplace=function(e,t,r,n,o,i,a,s,l){var u=8*e;return this.int16[u+0]=t,this.int16[u+1]=r,this.int16[u+2]=n,this.int16[u+3]=o,this.uint16[u+4]=i,this.uint16[u+5]=a,this.uint16[u+6]=s,this.uint16[u+7]=l,e},t}(Un);Yn.prototype.bytesPerElement=16,an("StructArrayLayout4i4ui16",Yn);var Kn=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r){var n=this.length;return this.resize(n+1),this.emplace(n,e,t,r)},t.prototype.emplace=function(e,t,r,n){var o=3*e;return this.float32[o+0]=t,this.float32[o+1]=r,this.float32[o+2]=n,e},t}(Un);Kn.prototype.bytesPerElement=12,an("StructArrayLayout3f12",Kn);var $n=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)},t.prototype.emplace=function(e,t){var r=1*e;return this.uint32[r+0]=t,e},t}(Un);$n.prototype.bytesPerElement=4,an("StructArrayLayout1ul4",$n);var Jn=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n,o,i,a,s,l,u,c){var p=this.length;return this.resize(p+1),this.emplace(p,e,t,r,n,o,i,a,s,l,u,c)},t.prototype.emplace=function(e,t,r,n,o,i,a,s,l,u,c,p){var h=12*e,f=6*e;return this.int16[h+0]=t,this.int16[h+1]=r,this.int16[h+2]=n,this.int16[h+3]=o,this.int16[h+4]=i,this.int16[h+5]=a,this.uint32[f+3]=s,this.uint16[h+8]=l,this.uint16[h+9]=u,this.int16[h+10]=c,this.int16[h+11]=p,e},t}(Un);Jn.prototype.bytesPerElement=24,an("StructArrayLayout6i1ul2ui2i24",Jn);var Qn=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n,o,i){var a=this.length;return this.resize(a+1),this.emplace(a,e,t,r,n,o,i)},t.prototype.emplace=function(e,t,r,n,o,i,a){var s=6*e;return this.int16[s+0]=t,this.int16[s+1]=r,this.int16[s+2]=n,this.int16[s+3]=o,this.int16[s+4]=i,this.int16[s+5]=a,e},t}(Un);Qn.prototype.bytesPerElement=12,an("StructArrayLayout2i2i2i12",Qn);var eo=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t){var r=this.length;return this.resize(r+1),this.emplace(r,e,t)},t.prototype.emplace=function(e,t,r){var n=4*e;return this.uint8[n+0]=t,this.uint8[n+1]=r,e},t}(Un);eo.prototype.bytesPerElement=4,an("StructArrayLayout2ub4",eo);var to=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n,o,i,a,s,l,u,c,p,h,f){var d=this.length;return this.resize(d+1),this.emplace(d,e,t,r,n,o,i,a,s,l,u,c,p,h,f)},t.prototype.emplace=function(e,t,r,n,o,i,a,s,l,u,c,p,h,f,d){var m=20*e,y=10*e,v=40*e;return this.int16[m+0]=t,this.int16[m+1]=r,this.uint16[m+2]=n,this.uint16[m+3]=o,this.uint32[y+2]=i,this.uint32[y+3]=a,this.uint32[y+4]=s,this.uint16[m+10]=l,this.uint16[m+11]=u,this.uint16[m+12]=c,this.float32[y+7]=p,this.float32[y+8]=h,this.uint8[v+36]=f,this.uint8[v+37]=d,e},t}(Un);to.prototype.bytesPerElement=40,an("StructArrayLayout2i2ui3ul3ui2f2ub40",to);var ro=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n,o,i,a,s,l,u,c,p,h,f){var d=this.length;return this.resize(d+1),this.emplace(d,e,t,r,n,o,i,a,s,l,u,c,p,h,f)},t.prototype.emplace=function(e,t,r,n,o,i,a,s,l,u,c,p,h,f,d){var m=16*e,y=8*e;return this.int16[m+0]=t,this.int16[m+1]=r,this.int16[m+2]=n,this.int16[m+3]=o,this.uint16[m+4]=i,this.uint16[m+5]=a,this.uint16[m+6]=s,this.uint16[m+7]=l,this.uint16[m+8]=u,this.uint16[m+9]=c,this.uint16[m+10]=p,this.uint16[m+11]=h,this.uint16[m+12]=f,this.uint32[y+7]=d,e},t}(Un);ro.prototype.bytesPerElement=32,an("StructArrayLayout4i9ui1ul32",ro);var no=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)},t.prototype.emplace=function(e,t){var r=1*e;return this.float32[r+0]=t,e},t}(Un);no.prototype.bytesPerElement=4,an("StructArrayLayout1f4",no);var oo=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r){var n=this.length;return this.resize(n+1),this.emplace(n,e,t,r)},t.prototype.emplace=function(e,t,r,n){var o=3*e;return this.int16[o+0]=t,this.int16[o+1]=r,this.int16[o+2]=n,e},t}(Un);oo.prototype.bytesPerElement=6,an("StructArrayLayout3i6",oo);var io=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r){var n=this.length;return this.resize(n+1),this.emplace(n,e,t,r)},t.prototype.emplace=function(e,t,r,n){var o=2*e,i=4*e;return this.uint32[o+0]=t,this.uint16[i+2]=r,this.uint16[i+3]=n,e},t}(Un);io.prototype.bytesPerElement=8,an("StructArrayLayout1ul2ui8",io);var ao=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r){var n=this.length;return this.resize(n+1),this.emplace(n,e,t,r)},t.prototype.emplace=function(e,t,r,n){var o=3*e;return this.uint16[o+0]=t,this.uint16[o+1]=r,this.uint16[o+2]=n,e},t}(Un);ao.prototype.bytesPerElement=6,an("StructArrayLayout3ui6",ao);var so=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t){var r=this.length;return this.resize(r+1),this.emplace(r,e,t)},t.prototype.emplace=function(e,t,r){var n=2*e;return this.uint16[n+0]=t,this.uint16[n+1]=r,e},t}(Un);so.prototype.bytesPerElement=4,an("StructArrayLayout2ui4",so);var lo=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)},t.prototype.emplace=function(e,t){var r=1*e;return this.uint16[r+0]=t,e},t}(Un);lo.prototype.bytesPerElement=2,an("StructArrayLayout1ui2",lo);var uo=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t){var r=this.length;return this.resize(r+1),this.emplace(r,e,t)},t.prototype.emplace=function(e,t,r){var n=2*e;return this.float32[n+0]=t,this.float32[n+1]=r,e},t}(Un);uo.prototype.bytesPerElement=8,an("StructArrayLayout2f8",uo);var co=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,r,n){var o=this.length;return this.resize(o+1),this.emplace(o,e,t,r,n)},t.prototype.emplace=function(e,t,r,n,o){var i=4*e;return this.float32[i+0]=t,this.float32[i+1]=r,this.float32[i+2]=n,this.float32[i+3]=o,e},t}(Un);co.prototype.bytesPerElement=16,an("StructArrayLayout4f16",co);var po=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},radius:{configurable:!0},signedDistanceFromAnchor:{configurable:!0},anchorPoint:{configurable:!0}};return r.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},r.anchorPointX.set=function(e){this._structArray.int16[this._pos2+0]=e},r.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},r.anchorPointY.set=function(e){this._structArray.int16[this._pos2+1]=e},r.x1.get=function(){return this._structArray.int16[this._pos2+2]},r.x1.set=function(e){this._structArray.int16[this._pos2+2]=e},r.y1.get=function(){return this._structArray.int16[this._pos2+3]},r.y1.set=function(e){this._structArray.int16[this._pos2+3]=e},r.x2.get=function(){return this._structArray.int16[this._pos2+4]},r.x2.set=function(e){this._structArray.int16[this._pos2+4]=e},r.y2.get=function(){return this._structArray.int16[this._pos2+5]},r.y2.set=function(e){this._structArray.int16[this._pos2+5]=e},r.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},r.featureIndex.set=function(e){this._structArray.uint32[this._pos4+3]=e},r.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},r.sourceLayerIndex.set=function(e){this._structArray.uint16[this._pos2+8]=e},r.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},r.bucketIndex.set=function(e){this._structArray.uint16[this._pos2+9]=e},r.radius.get=function(){return this._structArray.int16[this._pos2+10]},r.radius.set=function(e){this._structArray.int16[this._pos2+10]=e},r.signedDistanceFromAnchor.get=function(){return this._structArray.int16[this._pos2+11]},r.signedDistanceFromAnchor.set=function(e){this._structArray.int16[this._pos2+11]=e},r.anchorPoint.get=function(){return new o(this.anchorPointX,this.anchorPointY)},Object.defineProperties(t.prototype,r),t}(Bn);po.prototype.size=24;var ho=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e){return new po(this,e)},t}(Jn);an("CollisionBoxArray",ho);var fo=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},hidden:{configurable:!0}};return r.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},r.anchorX.set=function(e){this._structArray.int16[this._pos2+0]=e},r.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},r.anchorY.set=function(e){this._structArray.int16[this._pos2+1]=e},r.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},r.glyphStartIndex.set=function(e){this._structArray.uint16[this._pos2+2]=e},r.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},r.numGlyphs.set=function(e){this._structArray.uint16[this._pos2+3]=e},r.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},r.vertexStartIndex.set=function(e){this._structArray.uint32[this._pos4+2]=e},r.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},r.lineStartIndex.set=function(e){this._structArray.uint32[this._pos4+3]=e},r.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},r.lineLength.set=function(e){this._structArray.uint32[this._pos4+4]=e},r.segment.get=function(){return this._structArray.uint16[this._pos2+10]},r.segment.set=function(e){this._structArray.uint16[this._pos2+10]=e},r.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},r.lowerSize.set=function(e){this._structArray.uint16[this._pos2+11]=e},r.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},r.upperSize.set=function(e){this._structArray.uint16[this._pos2+12]=e},r.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},r.lineOffsetX.set=function(e){this._structArray.float32[this._pos4+7]=e},r.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},r.lineOffsetY.set=function(e){this._structArray.float32[this._pos4+8]=e},r.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},r.writingMode.set=function(e){this._structArray.uint8[this._pos1+36]=e},r.hidden.get=function(){return this._structArray.uint8[this._pos1+37]},r.hidden.set=function(e){this._structArray.uint8[this._pos1+37]=e},Object.defineProperties(t.prototype,r),t}(Bn);fo.prototype.size=40;var mo=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e){return new fo(this,e)},t}(to);an("PlacedSymbolArray",mo);var yo=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={anchorX:{configurable:!0},anchorY:{configurable:!0},horizontalPlacedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},crossTileID:{configurable:!0}};return r.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},r.anchorX.set=function(e){this._structArray.int16[this._pos2+0]=e},r.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},r.anchorY.set=function(e){this._structArray.int16[this._pos2+1]=e},r.horizontalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},r.horizontalPlacedTextSymbolIndex.set=function(e){this._structArray.int16[this._pos2+2]=e},r.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},r.verticalPlacedTextSymbolIndex.set=function(e){this._structArray.int16[this._pos2+3]=e},r.key.get=function(){return this._structArray.uint16[this._pos2+4]},r.key.set=function(e){this._structArray.uint16[this._pos2+4]=e},r.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+5]},r.textBoxStartIndex.set=function(e){this._structArray.uint16[this._pos2+5]=e},r.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+6]},r.textBoxEndIndex.set=function(e){this._structArray.uint16[this._pos2+6]=e},r.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+7]},r.iconBoxStartIndex.set=function(e){this._structArray.uint16[this._pos2+7]=e},r.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+8]},r.iconBoxEndIndex.set=function(e){this._structArray.uint16[this._pos2+8]=e},r.featureIndex.get=function(){return this._structArray.uint16[this._pos2+9]},r.featureIndex.set=function(e){this._structArray.uint16[this._pos2+9]=e},r.numGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+10]},r.numGlyphVertices.set=function(e){this._structArray.uint16[this._pos2+10]=e},r.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+11]},r.numVerticalGlyphVertices.set=function(e){this._structArray.uint16[this._pos2+11]=e},r.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+12]},r.numIconVertices.set=function(e){this._structArray.uint16[this._pos2+12]=e},r.crossTileID.get=function(){return this._structArray.uint32[this._pos4+7]},r.crossTileID.set=function(e){this._structArray.uint32[this._pos4+7]=e},Object.defineProperties(t.prototype,r),t}(Bn);yo.prototype.size=32;var vo=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e){return new yo(this,e)},t}(ro);an("SymbolInstanceArray",vo);var go=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={offsetX:{configurable:!0}};return r.offsetX.get=function(){return this._structArray.float32[this._pos4+0]},r.offsetX.set=function(e){this._structArray.float32[this._pos4+0]=e},Object.defineProperties(t.prototype,r),t}(Bn);go.prototype.size=4;var _o=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getoffsetX=function(e){return this.float32[1*e+0]},t.prototype.get=function(e){return new go(this,e)},t}(no);an("GlyphOffsetArray",_o);var bo=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={x:{configurable:!0},y:{configurable:!0},tileUnitDistanceFromAnchor:{configurable:!0}};return r.x.get=function(){return this._structArray.int16[this._pos2+0]},r.x.set=function(e){this._structArray.int16[this._pos2+0]=e},r.y.get=function(){return this._structArray.int16[this._pos2+1]},r.y.set=function(e){this._structArray.int16[this._pos2+1]=e},r.tileUnitDistanceFromAnchor.get=function(){return this._structArray.int16[this._pos2+2]},r.tileUnitDistanceFromAnchor.set=function(e){this._structArray.int16[this._pos2+2]=e},Object.defineProperties(t.prototype,r),t}(Bn);bo.prototype.size=6;var xo=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getx=function(e){return this.int16[3*e+0]},t.prototype.gety=function(e){return this.int16[3*e+1]},t.prototype.gettileUnitDistanceFromAnchor=function(e){return this.int16[3*e+2]},t.prototype.get=function(e){return new bo(this,e)},t}(oo);an("SymbolLineVertexArray",xo);var wo=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return r.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},r.featureIndex.set=function(e){this._structArray.uint32[this._pos4+0]=e},r.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},r.sourceLayerIndex.set=function(e){this._structArray.uint16[this._pos2+2]=e},r.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},r.bucketIndex.set=function(e){this._structArray.uint16[this._pos2+3]=e},Object.defineProperties(t.prototype,r),t}(Bn);wo.prototype.size=8;var Eo=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e){return new wo(this,e)},t}(io);an("FeatureIndexArray",Eo);var So=Vn([{name:"a_pos",components:2,type:"Int16"}],4),Co=So.members,ko=(So.size,So.alignment,function(e){void 0===e&&(e=[]),this.segments=e});function To(e,t){return 256*(e=u(Math.floor(e),0,255))+(t=u(Math.floor(t),0,255))}ko.prototype.prepareSegment=function(e,t,r,n){var o=this.segments[this.segments.length-1];return e>ko.MAX_VERTEX_ARRAY_LENGTH&&w("Max vertices per segment is "+ko.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+e),(!o||o.vertexLength+e>ko.MAX_VERTEX_ARRAY_LENGTH||o.sortKey!==n)&&(o={vertexOffset:t.length,primitiveOffset:r.length,vertexLength:0,primitiveLength:0},void 0!==n&&(o.sortKey=n),this.segments.push(o)),o},ko.prototype.get=function(){return this.segments},ko.prototype.destroy=function(){for(var e=0,t=this.segments;e<t.length;e+=1){var r=t[e];for(var n in r.vaos)r.vaos[n].destroy()}},ko.simpleSegment=function(e,t,r,n){return new ko([{vertexOffset:e,primitiveOffset:t,vertexLength:r,primitiveLength:n,vaos:{},sortKey:0}])},ko.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,an("SegmentVector",ko);var Oo=function(){this.ids=[],this.positions=[],this.indexed=!1};function Po(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}Oo.prototype.add=function(e,t,r,n){this.ids.push(e),this.positions.push(t,r,n)},Oo.prototype.getPositions=function(e){for(var t=0,r=this.ids.length-1;t<r;){var n=t+r>>1;this.ids[n]>=e?r=n:t=n+1}for(var o=[];this.ids[t]===e;){var i=this.positions[3*t],a=this.positions[3*t+1],s=this.positions[3*t+2];o.push({index:i,start:a,end:s}),t++}return o},Oo.serialize=function(e,t){var r=new Float64Array(e.ids),n=new Uint32Array(e.positions);return function e(t,r,n,o){if(n>=o)return;var i=t[n+o>>1];var a=n-1;var s=o+1;for(;;){do{a++}while(t[a]<i);do{s--}while(t[s]>i);if(a>=s)break;Po(t,a,s),Po(r,3*a,3*s),Po(r,3*a+1,3*s+1),Po(r,3*a+2,3*s+2)}e(t,r,n,s);e(t,r,s+1,o)}(r,n,0,r.length-1),t.push(r.buffer,n.buffer),{ids:r,positions:n}},Oo.deserialize=function(e){var t=new Oo;return t.ids=e.ids,t.positions=e.positions,t.indexed=!0,t},an("FeaturePositionMap",Oo);var Ao=function(e,t){this.gl=e.gl,this.location=t},Io=function(e){function t(t,r){e.call(this,t,r),this.current=0}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){this.current!==e&&(this.current=e,this.gl.uniform1i(this.location,e))},t}(Ao),Mo=function(e){function t(t,r){e.call(this,t,r),this.current=0}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){this.current!==e&&(this.current=e,this.gl.uniform1f(this.location,e))},t}(Ao),Ro=function(e){function t(t,r){e.call(this,t,r),this.current=[0,0]}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){e[0]===this.current[0]&&e[1]===this.current[1]||(this.current=e,this.gl.uniform2f(this.location,e[0],e[1]))},t}(Ao),Lo=function(e){function t(t,r){e.call(this,t,r),this.current=[0,0,0]}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]||(this.current=e,this.gl.uniform3f(this.location,e[0],e[1],e[2]))},t}(Ao),Do=function(e){function t(t,r){e.call(this,t,r),this.current=[0,0,0,0]}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]&&e[3]===this.current[3]||(this.current=e,this.gl.uniform4f(this.location,e[0],e[1],e[2],e[3]))},t}(Ao),jo=function(e){function t(t,r){e.call(this,t,r),this.current=Fe.transparent}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){e.r===this.current.r&&e.g===this.current.g&&e.b===this.current.b&&e.a===this.current.a||(this.current=e,this.gl.uniform4f(this.location,e.r,e.g,e.b,e.a))},t}(Ao),zo=new Float32Array(16),Fo=function(e){function t(t,r){e.call(this,t,r),this.current=zo}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){if(e[12]!==this.current[12]||e[0]!==this.current[0])return this.current=e,void this.gl.uniformMatrix4fv(this.location,!1,e);for(var t=1;t<16;t++)if(e[t]!==this.current[t]){this.current=e,this.gl.uniformMatrix4fv(this.location,!1,e);break}},t}(Ao);function No(e){return[To(255*e.r,255*e.g),To(255*e.b,255*e.a)]}var Bo=function(e,t,r){this.value=e,this.names=t,this.uniformNames=this.names.map(function(e){return"u_"+e}),this.type=r,this.maxValue=-1/0};Bo.prototype.defines=function(){return this.names.map(function(e){return"#define HAS_UNIFORM_u_"+e})},Bo.prototype.setConstantPatternPositions=function(){},Bo.prototype.populatePaintArray=function(){},Bo.prototype.updatePaintArray=function(){},Bo.prototype.upload=function(){},Bo.prototype.destroy=function(){},Bo.prototype.setUniforms=function(e,t,r,n){t.set(n.constantOr(this.value))},Bo.prototype.getBinding=function(e,t){return"color"===this.type?new jo(e,t):new Mo(e,t)},Bo.serialize=function(e){var t=e.value,r=e.names,n=e.type;return{value:ln(t),names:r,type:n}},Bo.deserialize=function(e){var t=e.value,r=e.names,n=e.type;return new Bo(un(t),r,n)};var Uo=function(e,t,r){this.value=e,this.names=t,this.uniformNames=this.names.map(function(e){return"u_"+e}),this.type=r,this.maxValue=-1/0,this.patternPositions={patternTo:null,patternFrom:null}};Uo.prototype.defines=function(){return this.names.map(function(e){return"#define HAS_UNIFORM_u_"+e})},Uo.prototype.populatePaintArray=function(){},Uo.prototype.updatePaintArray=function(){},Uo.prototype.upload=function(){},Uo.prototype.destroy=function(){},Uo.prototype.setConstantPatternPositions=function(e,t){this.patternPositions.patternTo=e.tlbr,this.patternPositions.patternFrom=t.tlbr},Uo.prototype.setUniforms=function(e,t,r,n,o){var i=this.patternPositions;"u_pattern_to"===o&&i.patternTo&&t.set(i.patternTo),"u_pattern_from"===o&&i.patternFrom&&t.set(i.patternFrom)},Uo.prototype.getBinding=function(e,t){return new Do(e,t)};var Vo=function(e,t,r,n){this.expression=e,this.names=t,this.type=r,this.uniformNames=this.names.map(function(e){return"a_"+e}),this.maxValue=-1/0,this.paintVertexAttributes=t.map(function(e){return{name:"a_"+e,type:"Float32",components:"color"===r?2:1,offset:0}}),this.paintVertexArray=new n};Vo.prototype.defines=function(){return[]},Vo.prototype.setConstantPatternPositions=function(){},Vo.prototype.populatePaintArray=function(e,t){var r=this.paintVertexArray,n=r.length;r.reserve(e);var o=this.expression.evaluate(new En(0),t,{});if("color"===this.type)for(var i=No(o),a=n;a<e;a++)r.emplaceBack(i[0],i[1]);else{for(var s=n;s<e;s++)r.emplaceBack(o);this.maxValue=Math.max(this.maxValue,o)}},Vo.prototype.updatePaintArray=function(e,t,r,n){var o=this.paintVertexArray,i=this.expression.evaluate({zoom:0},r,n);if("color"===this.type)for(var a=No(i),s=e;s<t;s++)o.emplace(s,a[0],a[1]);else{for(var l=e;l<t;l++)o.emplace(l,i);this.maxValue=Math.max(this.maxValue,i)}},Vo.prototype.upload=function(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Vo.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Vo.prototype.setUniforms=function(e,t){t.set(0)},Vo.prototype.getBinding=function(e,t){return new Mo(e,t)};var Go=function(e,t,r,n,o,i){this.expression=e,this.names=t,this.uniformNames=this.names.map(function(e){return"a_"+e+"_t"}),this.type=r,this.useIntegerZoom=n,this.zoom=o,this.maxValue=-1/0;var a=i;this.paintVertexAttributes=t.map(function(e){return{name:"a_"+e,type:"Float32",components:"color"===r?4:2,offset:0}}),this.paintVertexArray=new a};Go.prototype.defines=function(){return[]},Go.prototype.setConstantPatternPositions=function(){},Go.prototype.populatePaintArray=function(e,t){var r=this.paintVertexArray,n=r.length;r.reserve(e);var o=this.expression.evaluate(new En(this.zoom),t,{}),i=this.expression.evaluate(new En(this.zoom+1),t,{});if("color"===this.type)for(var a=No(o),s=No(i),l=n;l<e;l++)r.emplaceBack(a[0],a[1],s[0],s[1]);else{for(var u=n;u<e;u++)r.emplaceBack(o,i);this.maxValue=Math.max(this.maxValue,o,i)}},Go.prototype.updatePaintArray=function(e,t,r,n){var o=this.paintVertexArray,i=this.expression.evaluate({zoom:this.zoom},r,n),a=this.expression.evaluate({zoom:this.zoom+1},r,n);if("color"===this.type)for(var s=No(i),l=No(a),u=e;u<t;u++)o.emplace(u,s[0],s[1],l[0],l[1]);else{for(var c=e;c<t;c++)o.emplace(c,i,a);this.maxValue=Math.max(this.maxValue,i,a)}},Go.prototype.upload=function(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Go.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Go.prototype.interpolationFactor=function(e){return this.useIntegerZoom?this.expression.interpolationFactor(Math.floor(e),this.zoom,this.zoom+1):this.expression.interpolationFactor(e,this.zoom,this.zoom+1)},Go.prototype.setUniforms=function(e,t,r){t.set(this.interpolationFactor(r.zoom))},Go.prototype.getBinding=function(e,t){return new Mo(e,t)};var qo=function(e,t,r,n,o,i,a){this.expression=e,this.names=t,this.type=r,this.uniformNames=this.names.map(function(e){return"a_"+e+"_t"}),this.useIntegerZoom=n,this.zoom=o,this.maxValue=-1/0,this.layerId=a,this.paintVertexAttributes=t.map(function(e){return{name:"a_"+e,type:"Uint16",components:4,offset:0}}),this.zoomInPaintVertexArray=new i,this.zoomOutPaintVertexArray=new i};qo.prototype.defines=function(){return[]},qo.prototype.setConstantPatternPositions=function(){},qo.prototype.populatePaintArray=function(e,t,r){var n=this.zoomInPaintVertexArray,o=this.zoomOutPaintVertexArray,i=this.layerId,a=n.length;if(n.reserve(e),o.reserve(e),r&&t.patterns&&t.patterns[i]){var s=t.patterns[i],l=s.min,u=s.mid,c=s.max,p=r[l],h=r[u],f=r[c];if(!p||!h||!f)return;for(var d=a;d<e;d++)n.emplaceBack(h.tl[0],h.tl[1],h.br[0],h.br[1],p.tl[0],p.tl[1],p.br[0],p.br[1]),o.emplaceBack(h.tl[0],h.tl[1],h.br[0],h.br[1],f.tl[0],f.tl[1],f.br[0],f.br[1])}},qo.prototype.updatePaintArray=function(e,t,r,n,o){var i=this.zoomInPaintVertexArray,a=this.zoomOutPaintVertexArray,s=this.layerId;if(o&&r.patterns&&r.patterns[s]){var l=r.patterns[s],u=l.min,c=l.mid,p=l.max,h=o[u],f=o[c],d=o[p];if(!h||!f||!d)return;for(var m=e;m<t;m++)i.emplace(m,f.tl[0],f.tl[1],f.br[0],f.br[1],h.tl[0],h.tl[1],h.br[0],h.br[1]),a.emplace(m,f.tl[0],f.tl[1],f.br[0],f.br[1],d.tl[0],d.tl[1],d.br[0],d.br[1])}},qo.prototype.upload=function(e){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=e.createVertexBuffer(this.zoomInPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=e.createVertexBuffer(this.zoomOutPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},qo.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()},qo.prototype.setUniforms=function(e,t){t.set(0)},qo.prototype.getBinding=function(e,t){return new Mo(e,t)};var Ho=function(){this.binders={},this.cacheKey="",this._buffers=[],this._featureMap=new Oo,this._bufferOffset=0};Ho.createDynamic=function(e,t,r){var n=new Ho,o=[];for(var i in e.paint._values)if(r(i)){var a=e.paint.get(i);if(a instanceof An&&er(a.property.specification)){var s=Xo(i,e.type),l=a.property.specification.type,u=a.property.useIntegerZoom;if("cross-faded"===a.property.specification["property-type"]||"cross-faded-data-driven"===a.property.specification["property-type"])if("constant"===a.value.kind)n.binders[i]=new Uo(a.value.value,s,l),o.push("/u_"+i);else{var c=Zo(i,l,"source");n.binders[i]=new qo(a.value,s,l,u,t,c,e.id),o.push("/a_"+i)}else if("constant"===a.value.kind)n.binders[i]=new Bo(a.value.value,s,l),o.push("/u_"+i);else if("source"===a.value.kind){var p=Zo(i,l,"source");n.binders[i]=new Vo(a.value,s,l,p),o.push("/a_"+i)}else{var h=Zo(i,l,"composite");n.binders[i]=new Go(a.value,s,l,u,t,h),o.push("/z_"+i)}}}return n.cacheKey=o.sort().join(""),n},Ho.prototype.populatePaintArrays=function(e,t,r,n){for(var o in this.binders){this.binders[o].populatePaintArray(e,t,n)}void 0!==t.id&&this._featureMap.add(+t.id,r,this._bufferOffset,e),this._bufferOffset=e},Ho.prototype.setConstantPatternPositions=function(e,t){for(var r in this.binders){this.binders[r].setConstantPatternPositions(e,t)}},Ho.prototype.updatePaintArrays=function(e,t,r,n){var o=!1;for(var i in e)for(var a=0,s=this._featureMap.getPositions(+i);a<s.length;a+=1){var l=s[a],u=t.feature(l.index);for(var c in this.binders){var p=this.binders[c];if(!(p instanceof Bo||p instanceof Uo)&&!0===p.expression.isStateDependent){var h=r.paint.get(c);p.expression=h.value,p.updatePaintArray(l.start,l.end,u,e[i],n),o=!0}}}return o},Ho.prototype.defines=function(){var e=[];for(var t in this.binders)e.push.apply(e,this.binders[t].defines());return e},Ho.prototype.getPaintVertexBuffers=function(){return this._buffers},Ho.prototype.getUniforms=function(e,t){var r={};for(var n in this.binders)for(var o=this.binders[n],i=0,a=o.uniformNames;i<a.length;i+=1){var s=a[i];r[s]=o.getBinding(e,t[s])}return r},Ho.prototype.setUniforms=function(e,t,r,n){for(var o in this.binders)for(var i=this.binders[o],a=0,s=i.uniformNames;a<s.length;a+=1){var l=s[a];i.setUniforms(e,t[l],n,r.get(o),l)}},Ho.prototype.updatePatternPaintBuffers=function(e){var t=[];for(var r in this.binders){var n=this.binders[r];if(n instanceof qo){var o=2===e.fromScale?n.zoomInPaintVertexBuffer:n.zoomOutPaintVertexBuffer;o&&t.push(o)}else(n instanceof Vo||n instanceof Go)&&n.paintVertexBuffer&&t.push(n.paintVertexBuffer)}this._buffers=t},Ho.prototype.upload=function(e){for(var t in this.binders)this.binders[t].upload(e);var r=[];for(var n in this.binders){var o=this.binders[n];(o instanceof Vo||o instanceof Go)&&o.paintVertexBuffer&&r.push(o.paintVertexBuffer)}this._buffers=r},Ho.prototype.destroy=function(){for(var e in this.binders)this.binders[e].destroy()};var Wo=function(e,t,r,n){void 0===n&&(n=function(){return!0}),this.programConfigurations={};for(var o=0,i=t;o<i.length;o+=1){var a=i[o];this.programConfigurations[a.id]=Ho.createDynamic(a,r,n),this.programConfigurations[a.id].layoutAttributes=e}this.needsUpload=!1};function Xo(e,t){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from"],"fill-pattern":["pattern_to","pattern_from"],"fill-extrusion-pattern":["pattern_to","pattern_from"]}[e]||[e.replace(t+"-","").replace(/-/g,"_")]}function Zo(e,t,r){var n={color:{source:uo,composite:co},number:{source:no,composite:uo}},o=function(e){return{"line-pattern":{source:Zn,composite:Zn},"fill-pattern":{source:Zn,composite:Zn},"fill-extrusion-pattern":{source:Zn,composite:Zn}}[e]}(e);return o&&o[r]||n[t][r]}Wo.prototype.populatePaintArrays=function(e,t,r,n){for(var o in this.programConfigurations)this.programConfigurations[o].populatePaintArrays(e,t,r,n);this.needsUpload=!0},Wo.prototype.updatePaintArrays=function(e,t,r,n){for(var o=0,i=r;o<i.length;o+=1){var a=i[o];this.needsUpload=this.programConfigurations[a.id].updatePaintArrays(e,t,a,n)||this.needsUpload}},Wo.prototype.get=function(e){return this.programConfigurations[e]},Wo.prototype.upload=function(e){if(this.needsUpload){for(var t in this.programConfigurations)this.programConfigurations[t].upload(e);this.needsUpload=!1}},Wo.prototype.destroy=function(){for(var e in this.programConfigurations)this.programConfigurations[e].destroy()},an("ConstantBinder",Bo),an("CrossFadedConstantBinder",Uo),an("SourceExpressionBinder",Vo),an("CrossFadedCompositeBinder",qo),an("CompositeExpressionBinder",Go),an("ProgramConfiguration",Ho,{omit:["_buffers"]}),an("ProgramConfigurationSet",Wo);var Yo=8192;var Ko,$o=(Ko=16,{min:-1*Math.pow(2,Ko-1),max:Math.pow(2,Ko-1)-1});function Jo(e){for(var t=Yo/e.extent,r=e.loadGeometry(),n=0;n<r.length;n++)for(var o=r[n],i=0;i<o.length;i++){var a=o[i];a.x=Math.round(a.x*t),a.y=Math.round(a.y*t),(a.x<$o.min||a.x>$o.max||a.y<$o.min||a.y>$o.max)&&w("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return r}function Qo(e,t,r,n,o){e.emplaceBack(2*t+(n+1)/2,2*r+(o+1)/2)}var ei=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(function(e){return e.id}),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new qn,this.indexArray=new ao,this.segments=new ko,this.programConfigurations=new Wo(Co,e.layers,e.zoom),this.stateDependentLayerIds=this.layers.filter(function(e){return e.isStateDependent()}).map(function(e){return e.id})};function ti(e,t){for(var r=0;r<e.length;r++)if(ci(t,e[r]))return!0;for(var n=0;n<t.length;n++)if(ci(e,t[n]))return!0;return!!ii(e,t)}function ri(e,t,r){return!!ci(e,t)||!!si(t,e,r)}function ni(e,t){if(1===e.length)return ui(t,e[0]);for(var r=0;r<t.length;r++)for(var n=t[r],o=0;o<n.length;o++)if(ci(e,n[o]))return!0;for(var i=0;i<e.length;i++)if(ui(t,e[i]))return!0;for(var a=0;a<t.length;a++)if(ii(e,t[a]))return!0;return!1}function oi(e,t,r){if(e.length>1){if(ii(e,t))return!0;for(var n=0;n<t.length;n++)if(si(t[n],e,r))return!0}for(var o=0;o<e.length;o++)if(si(e[o],t,r))return!0;return!1}function ii(e,t){if(0===e.length||0===t.length)return!1;for(var r=0;r<e.length-1;r++)for(var n=e[r],o=e[r+1],i=0;i<t.length-1;i++){if(ai(n,o,t[i],t[i+1]))return!0}return!1}function ai(e,t,r,n){return E(e,r,n)!==E(t,r,n)&&E(e,t,r)!==E(e,t,n)}function si(e,t,r){var n=r*r;if(1===t.length)return e.distSqr(t[0])<n;for(var o=1;o<t.length;o++){if(li(e,t[o-1],t[o])<n)return!0}return!1}function li(e,t,r){var n=t.distSqr(r);if(0===n)return e.distSqr(t);var o=((e.x-t.x)*(r.x-t.x)+(e.y-t.y)*(r.y-t.y))/n;return o<0?e.distSqr(t):o>1?e.distSqr(r):e.distSqr(r.sub(t)._mult(o)._add(t))}function ui(e,t){for(var r,n,o,i=!1,a=0;a<e.length;a++)for(var s=0,l=(r=e[a]).length-1;s<r.length;l=s++)n=r[s],o=r[l],n.y>t.y!==o.y>t.y&&t.x<(o.x-n.x)*(t.y-n.y)/(o.y-n.y)+n.x&&(i=!i);return i}function ci(e,t){for(var r=!1,n=0,o=e.length-1;n<e.length;o=n++){var i=e[n],a=e[o];i.y>t.y!==a.y>t.y&&t.x<(a.x-i.x)*(t.y-i.y)/(a.y-i.y)+i.x&&(r=!r)}return r}function pi(e,t,r){var n=r[0],o=r[2];if(e.x<n.x&&t.x<n.x||e.x>o.x&&t.x>o.x||e.y<n.y&&t.y<n.y||e.y>o.y&&t.y>o.y)return!1;var i=E(e,t,r[0]);return i!==E(e,t,r[1])||i!==E(e,t,r[2])||i!==E(e,t,r[3])}function hi(e,t,r){var n=t.paint.get(e).value;return"constant"===n.kind?n.value:r.programConfigurations.get(t.id).binders[e].maxValue}function fi(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function di(e,t,r,n,i){if(!t[0]&&!t[1])return e;var a=o.convert(t)._mult(i);"viewport"===r&&a._rotate(-n);for(var s=[],l=0;l<e.length;l++){var u=e[l];s.push(u.sub(a))}return s}ei.prototype.populate=function(e,t){for(var r=0,n=e;r<n.length;r+=1){var o=n[r],i=o.feature,a=o.index,s=o.sourceLayerIndex;if(this.layers[0]._featureFilter(new En(this.zoom),i)){var l=Jo(i);this.addFeature(i,l,a),t.featureIndex.insert(i,l,a,s,this.index)}}},ei.prototype.update=function(e,t,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,r)},ei.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},ei.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},ei.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Co),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0},ei.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},ei.prototype.addFeature=function(e,t,r){for(var n=0,o=t;n<o.length;n+=1)for(var i=0,a=o[n];i<a.length;i+=1){var s=a[i],l=s.x,u=s.y;if(!(l<0||l>=Yo||u<0||u>=Yo)){var c=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),p=c.vertexLength;Qo(this.layoutVertexArray,l,u,-1,-1),Qo(this.layoutVertexArray,l,u,1,-1),Qo(this.layoutVertexArray,l,u,1,1),Qo(this.layoutVertexArray,l,u,-1,1),this.indexArray.emplaceBack(p,p+1,p+2),this.indexArray.emplaceBack(p,p+3,p+2),c.vertexLength+=4,c.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,r,{})},an("CircleBucket",ei,{omit:["layers"]});var mi={paint:new zn({"circle-radius":new Rn(ye.paint_circle["circle-radius"]),"circle-color":new Rn(ye.paint_circle["circle-color"]),"circle-blur":new Rn(ye.paint_circle["circle-blur"]),"circle-opacity":new Rn(ye.paint_circle["circle-opacity"]),"circle-translate":new Mn(ye.paint_circle["circle-translate"]),"circle-translate-anchor":new Mn(ye.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Mn(ye.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Mn(ye.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Rn(ye.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Rn(ye.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Rn(ye.paint_circle["circle-stroke-opacity"])})},yi=1e-6,vi="undefined"!==typeof Float32Array?Float32Array:Array;Math.PI;function gi(){var e=new vi(9);return vi!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function _i(){var e=new vi(3);return vi!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function bi(e,t,r){var n=new vi(3);return n[0]=e,n[1]=t,n[2]=r,n}function xi(e,t,r){var n=t[0],o=t[1],i=t[2],a=r[0],s=r[1],l=r[2];return e[0]=o*l-i*s,e[1]=i*a-n*l,e[2]=n*s-o*a,e}var wi,Ei=function(e){var t=e[0],r=e[1],n=e[2];return Math.sqrt(t*t+r*r+n*n)};wi=_i();function Si(e,t,r){var n=t[0],o=t[1],i=t[2],a=t[3];return e[0]=r[0]*n+r[4]*o+r[8]*i+r[12]*a,e[1]=r[1]*n+r[5]*o+r[9]*i+r[13]*a,e[2]=r[2]*n+r[6]*o+r[10]*i+r[14]*a,e[3]=r[3]*n+r[7]*o+r[11]*i+r[15]*a,e}!function(){var e,t=(e=new vi(4),vi!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e)}();function Ci(){var e=new vi(4);return vi!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function ki(e,t,r,n){var o,i,a,s,l,u=t[0],c=t[1],p=t[2],h=t[3],f=r[0],d=r[1],m=r[2],y=r[3];return u*f+c*d+p*m+h*y<0&&(-i,-f,-d,-m,-y),1-i>yi?(Math.acos(i),Math.sin(o),Math.sin((1-n)*o)/a,Math.sin(n*o)/a):(1-n,n),e[0]=s*u+l*f,e[1]=s*c+l*d,e[2]=s*p+l*m,e[3]=s*h+l*y,e}var Ti,Oi,Pi,Ai,Ii,Mi,Ri=function(e,t){var r=t[0],n=t[1],o=t[2],i=t[3],a=r*r+n*n+o*o+i*i;return a>0&&(a=1/Math.sqrt(a)),e[0]=r*a,e[1]=n*a,e[2]=o*a,e[3]=i*a,e};Ti=_i(),Oi=bi(1,0,0),Pi=bi(0,1,0),Ai=Ci(),Ii=Ci(),Mi=gi();!function(){var e,t=(e=new vi(2),vi!=Float32Array&&(e[0]=0,e[1]=0),e)}();var Li=function(e){function t(t){e.call(this,t,mi)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createBucket=function(e){return new ei(e)},t.prototype.queryRadius=function(e){var t=e;return hi("circle-radius",this,t)+hi("circle-stroke-width",this,t)+fi(this.paint.get("circle-translate"))},t.prototype.queryIntersectsFeature=function(e,t,r,n,o,i,a,s){for(var l=di(e,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),i.angle,a),u=this.paint.get("circle-radius").evaluate(t,r)+this.paint.get("circle-stroke-width").evaluate(t,r),c="map"===this.paint.get("circle-pitch-alignment"),p=c?l:function(e,t){return e.map(function(e){return Di(e,t)})}(l,s),h=c?u*a:u,f=0,d=n;f<d.length;f+=1)for(var m=0,y=d[f];m<y.length;m+=1){var v=y[m],g=c?v:Di(v,s),_=h,b=Si([],[v.x,v.y,0,1],s);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?_*=b[3]/i.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(_*=i.cameraToCenterDistance/b[3]),ri(p,g,_))return!0}return!1},t}(Fn);function Di(e,t){var r=Si([],[e.x,e.y,0,1],t);return new o(r[0]/r[3],r[1]/r[3])}var ji=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(ei);function zi(e,t,r,n){var o=t.width,i=t.height;if(n){if(n.length!==o*i*r)throw new RangeError("mismatched image size")}else n=new Uint8Array(o*i*r);return e.width=o,e.height=i,e.data=n,e}function Fi(e,t,r){var n=t.width,o=t.height;if(n!==e.width||o!==e.height){var i=zi({},{width:n,height:o},r);Ni(e,i,{x:0,y:0},{x:0,y:0},{width:Math.min(e.width,n),height:Math.min(e.height,o)},r),e.width=n,e.height=o,e.data=i.data}}function Ni(e,t,r,n,o,i){if(0===o.width||0===o.height)return t;if(o.width>e.width||o.height>e.height||r.x>e.width-o.width||r.y>e.height-o.height)throw new RangeError("out of range source coordinates for image copy");if(o.width>t.width||o.height>t.height||n.x>t.width-o.width||n.y>t.height-o.height)throw new RangeError("out of range destination coordinates for image copy");for(var a=e.data,s=t.data,l=0;l<o.height;l++)for(var u=((r.y+l)*e.width+r.x)*i,c=((n.y+l)*t.width+n.x)*i,p=0;p<o.width*i;p++)s[c+p]=a[u+p];return t}an("HeatmapBucket",ji,{omit:["layers"]});var Bi=function(e,t){zi(this,e,1,t)};Bi.prototype.resize=function(e){Fi(this,e,1)},Bi.prototype.clone=function(){return new Bi({width:this.width,height:this.height},new Uint8Array(this.data))},Bi.copy=function(e,t,r,n,o){Ni(e,t,r,n,o,1)};var Ui=function(e,t){zi(this,e,4,t)};Ui.prototype.resize=function(e){Fi(this,e,4)},Ui.prototype.clone=function(){return new Ui({width:this.width,height:this.height},new Uint8Array(this.data))},Ui.copy=function(e,t,r,n,o){Ni(e,t,r,n,o,4)},an("AlphaImage",Bi),an("RGBAImage",Ui);var Vi={paint:new zn({"heatmap-radius":new Rn(ye.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Rn(ye.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Mn(ye.paint_heatmap["heatmap-intensity"]),"heatmap-color":new jn(ye.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Mn(ye.paint_heatmap["heatmap-opacity"])})};function Gi(e,t){for(var r=new Uint8Array(1024),n={},o=0,i=0;o<256;o++,i+=4){n[t]=o/255;var a=e.evaluate(n);r[i+0]=Math.floor(255*a.r/a.a),r[i+1]=Math.floor(255*a.g/a.a),r[i+2]=Math.floor(255*a.b/a.a),r[i+3]=Math.floor(255*a.a)}return new Ui({width:256,height:1},r)}var qi=function(e){function t(t){e.call(this,t,Vi),this._updateColorRamp()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createBucket=function(e){return new ji(e)},t.prototype._handleSpecialPaintPropertyUpdate=function(e){"heatmap-color"===e&&this._updateColorRamp()},t.prototype._updateColorRamp=function(){var e=this._transitionablePaint._values["heatmap-color"].value.expression;this.colorRamp=Gi(e,"heatmapDensity"),this.colorRampTexture=null},t.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},t.prototype.queryRadius=function(){return 0},t.prototype.queryIntersectsFeature=function(){return!1},t.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility},t}(Fn),Hi={paint:new zn({"hillshade-illumination-direction":new Mn(ye.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Mn(ye.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Mn(ye.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Mn(ye.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Mn(ye.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Mn(ye.paint_hillshade["hillshade-accent-color"])})},Wi=function(e){function t(t){e.call(this,t,Hi)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility},t}(Fn),Xi=Vn([{name:"a_pos",components:2,type:"Int16"}],4),Zi=Xi.members,Yi=(Xi.size,Xi.alignment,$i),Ki=$i;function $i(e,t,r){r=r||2;var n,o,i,a,s,l,u,c=t&&t.length,p=c?t[0]*r:e.length,h=Ji(e,0,p,r,!0),f=[];if(!h||h.next===h.prev)return f;if(c&&(h=function(e,t,r,n){var o,i,a,s,l,u=[];for(o=0,i=t.length;o<i;o++)a=t[o]*n,s=o<i-1?t[o+1]*n:e.length,(l=Ji(e,a,s,n,!1))===l.next&&(l.steiner=!0),u.push(la(l));for(u.sort(ia),o=0;o<u.length;o++)aa(u[o],r),r=Qi(r,r.next);return r}(e,t,h,r)),e.length>80*r){n=i=e[0],o=a=e[1];for(var d=r;d<p;d+=r)s=e[d],l=e[d+1],s<n&&(n=s),l<o&&(o=l),s>i&&(i=s),l>a&&(a=l);u=0!==(u=Math.max(i-n,a-o))?1/u:0}return ea(h,f,r,n,o,u),f}function Ji(e,t,r,n,o){var i,a;if(o===_a(e,t,r,n)>0)for(i=t;i<r;i+=n)a=ya(i,e[i],e[i+1],a);else for(i=r-n;i>=t;i-=n)a=ya(i,e[i],e[i+1],a);return a&&ha(a,a.next)&&(va(a),a=a.next),a}function Qi(e,t){if(!e)return e;t||(t=e);var r,n=e;do{if(r=!1,n.steiner||!ha(n,n.next)&&0!==pa(n.prev,n,n.next))n=n.next;else{if(va(n),(n=t=n.prev)===n.next)break;r=!0}}while(r||n!==t);return t}function ea(e,t,r,n,o,i,a){if(e){!a&&i&&function(e,t,r,n){var o=e;do{null===o.z&&(o.z=sa(o.x,o.y,t,r,n)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next}while(o!==e);o.prevZ.nextZ=null,o.prevZ=null,function(e){var t,r,n,o,i,a,s,l,u=1;do{for(r=e,e=null,i=null,a=0;r;){for(a++,n=r,s=0,t=0;t<u&&(s++,n=n.nextZ);t++);for(l=u;s>0||l>0&&n;)0!==s&&(0===l||!n||r.z<=n.z)?(o=r,r=r.nextZ,s--):(o=n,n=n.nextZ,l--),i?i.nextZ=o:e=o,o.prevZ=i,i=o;r=n}i.nextZ=null,u*=2}while(a>1)}(o)}(e,n,o,i);for(var s,l,u=e;e.prev!==e.next;)if(s=e.prev,l=e.next,i?ra(e,n,o,i):ta(e))t.push(s.i/r),t.push(e.i/r),t.push(l.i/r),va(e),e=l.next,u=l.next;else if((e=l)===u){a?1===a?ea(e=na(e,t,r),t,r,n,o,i,2):2===a&&oa(e,t,r,n,o,i):ea(Qi(e),t,r,n,o,i,1);break}}}function ta(e){var t=e.prev,r=e,n=e.next;if(pa(t,r,n)>=0)return!1;for(var o=e.next.next;o!==e.prev;){if(ua(t.x,t.y,r.x,r.y,n.x,n.y,o.x,o.y)&&pa(o.prev,o,o.next)>=0)return!1;o=o.next}return!0}function ra(e,t,r,n){var o=e.prev,i=e,a=e.next;if(pa(o,i,a)>=0)return!1;for(var s=o.x<i.x?o.x<a.x?o.x:a.x:i.x<a.x?i.x:a.x,l=o.y<i.y?o.y<a.y?o.y:a.y:i.y<a.y?i.y:a.y,u=o.x>i.x?o.x>a.x?o.x:a.x:i.x>a.x?i.x:a.x,c=o.y>i.y?o.y>a.y?o.y:a.y:i.y>a.y?i.y:a.y,p=sa(s,l,t,r,n),h=sa(u,c,t,r,n),f=e.prevZ,d=e.nextZ;f&&f.z>=p&&d&&d.z<=h;){if(f!==e.prev&&f!==e.next&&ua(o.x,o.y,i.x,i.y,a.x,a.y,f.x,f.y)&&pa(f.prev,f,f.next)>=0)return!1;if(f=f.prevZ,d!==e.prev&&d!==e.next&&ua(o.x,o.y,i.x,i.y,a.x,a.y,d.x,d.y)&&pa(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(;f&&f.z>=p;){if(f!==e.prev&&f!==e.next&&ua(o.x,o.y,i.x,i.y,a.x,a.y,f.x,f.y)&&pa(f.prev,f,f.next)>=0)return!1;f=f.prevZ}for(;d&&d.z<=h;){if(d!==e.prev&&d!==e.next&&ua(o.x,o.y,i.x,i.y,a.x,a.y,d.x,d.y)&&pa(d.prev,d,d.next)>=0)return!1;d=d.nextZ}return!0}function na(e,t,r){var n=e;do{var o=n.prev,i=n.next.next;!ha(o,i)&&fa(o,n,n.next,i)&&da(o,i)&&da(i,o)&&(t.push(o.i/r),t.push(n.i/r),t.push(i.i/r),va(n),va(n.next),n=e=i),n=n.next}while(n!==e);return n}function oa(e,t,r,n,o,i){var a=e;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&ca(a,s)){var l=ma(a,s);return a=Qi(a,a.next),l=Qi(l,l.next),ea(a,t,r,n,o,i),void ea(l,t,r,n,o,i)}s=s.next}a=a.next}while(a!==e)}function ia(e,t){return e.x-t.x}function aa(e,t){if(t=function(e,t){var r,n=t,o=e.x,i=e.y,a=-1/0;do{if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){var s=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=o&&s>a){if(a=s,s===o){if(i===n.y)return n;if(i===n.next.y)return n.next}r=n.x<n.next.x?n:n.next}}n=n.next}while(n!==t);if(!r)return null;if(o===a)return r.prev;var l,u=r,c=r.x,p=r.y,h=1/0;n=r.next;for(;n!==u;)o>=n.x&&n.x>=c&&o!==n.x&&ua(i<p?o:a,i,c,p,i<p?a:o,i,n.x,n.y)&&((l=Math.abs(i-n.y)/(o-n.x))<h||l===h&&n.x>r.x)&&da(n,e)&&(r=n,h=l),n=n.next;return r}(e,t)){var r=ma(t,e);Qi(r,r.next)}}function sa(e,t,r,n,o){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*o)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*o)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function la(e){var t=e,r=e;do{(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next}while(t!==e);return r}function ua(e,t,r,n,o,i,a,s){return(o-a)*(t-s)-(e-a)*(i-s)>=0&&(e-a)*(n-s)-(r-a)*(t-s)>=0&&(r-a)*(i-s)-(o-a)*(n-s)>=0}function ca(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&fa(r,r.next,e,t))return!0;r=r.next}while(r!==e);return!1}(e,t)&&da(e,t)&&da(t,e)&&function(e,t){var r=e,n=!1,o=(e.x+t.x)/2,i=(e.y+t.y)/2;do{r.y>i!==r.next.y>i&&r.next.y!==r.y&&o<(r.next.x-r.x)*(i-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==e);return n}(e,t)}function pa(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function ha(e,t){return e.x===t.x&&e.y===t.y}function fa(e,t,r,n){return!!(ha(e,t)&&ha(r,n)||ha(e,n)&&ha(r,t))||pa(e,t,r)>0!==pa(e,t,n)>0&&pa(r,n,e)>0!==pa(r,n,t)>0}function da(e,t){return pa(e.prev,e,e.next)<0?pa(e,t,e.next)>=0&&pa(e,e.prev,t)>=0:pa(e,t,e.prev)<0||pa(e,e.next,t)<0}function ma(e,t){var r=new ga(e.i,e.x,e.y),n=new ga(t.i,t.x,t.y),o=e.next,i=t.prev;return e.next=t,t.prev=e,r.next=o,o.prev=r,n.next=r,r.prev=n,i.next=n,n.prev=i,n}function ya(e,t,r,n){var o=new ga(e,t,r);return n?(o.next=n.next,o.prev=n,n.next.prev=o,n.next=o):(o.prev=o,o.next=o),o}function va(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function ga(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function _a(e,t,r,n){for(var o=0,i=t,a=r-n;i<r;i+=n)o+=(e[a]-e[i])*(e[i+1]+e[a+1]),a=i;return o}function ba(e,t,r,n,o){!function e(t,r,n,o,i){for(;o>n;){if(o-n>600){var a=o-n+1,s=r-n+1,l=Math.log(a),u=.5*Math.exp(2*l/3),c=.5*Math.sqrt(l*u*(a-u)/a)*(s-a/2<0?-1:1),p=Math.max(n,Math.floor(r-s*u/a+c)),h=Math.min(o,Math.floor(r+(a-s)*u/a+c));e(t,r,p,h,i)}var f=t[r],d=n,m=o;for(xa(t,n,r),i(t[o],f)>0&&xa(t,n,o);d<m;){for(xa(t,d,m),d++,m--;i(t[d],f)<0;)d++;for(;i(t[m],f)>0;)m--}0===i(t[n],f)?xa(t,n,m):xa(t,++m,o),m<=r&&(n=m+1),r<=m&&(o=m-1)}}(e,t,r||0,n||e.length-1,o||wa)}function xa(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function wa(e,t){return e<t?-1:e>t?1:0}function Ea(e,t){var r=e.length;if(r<=1)return[e];for(var n,o,i=[],a=0;a<r;a++){var s=S(e[a]);0!==s&&(e[a].area=Math.abs(s),void 0===o&&(o=s<0),o===s<0?(n&&i.push(n),n=[e[a]]):n.push(e[a]))}if(n&&i.push(n),t>1)for(var l=0;l<i.length;l++)i[l].length<=t||(ba(i[l],t,1,i[l].length-1,Sa),i[l]=i[l].slice(0,t));return i}function Sa(e,t){return t.area-e.area}function Ca(e,t,r){for(var n=r.patternDependencies,o=!1,i=0,a=t;i<a.length;i+=1){var s=a[i].paint.get(e+"-pattern");s.isConstant()||(o=!0);var l=s.constantOr(null);l&&(o=!0,n[l.to]=!0,n[l.from]=!0)}return o}function ka(e,t,r,n,o){for(var i=o.patternDependencies,a=0,s=t;a<s.length;a+=1){var l=s[a],u=l.paint.get(e+"-pattern").value;if("constant"!==u.kind){var c=u.evaluate({zoom:n-1},r,{}),p=u.evaluate({zoom:n},r,{}),h=u.evaluate({zoom:n+1},r,{});i[c]=!0,i[p]=!0,i[h]=!0,r.patterns[l.id]={min:c,mid:p,max:h}}}return r}$i.deviation=function(e,t,r,n){var o=t&&t.length,i=o?t[0]*r:e.length,a=Math.abs(_a(e,0,i,r));if(o)for(var s=0,l=t.length;s<l;s++){var u=t[s]*r,c=s<l-1?t[s+1]*r:e.length;a-=Math.abs(_a(e,u,c,r))}var p=0;for(s=0;s<n.length;s+=3){var h=n[s]*r,f=n[s+1]*r,d=n[s+2]*r;p+=Math.abs((e[h]-e[d])*(e[f+1]-e[h+1])-(e[h]-e[f])*(e[d+1]-e[h+1]))}return 0===a&&0===p?0:Math.abs((p-a)/a)},$i.flatten=function(e){for(var t=e[0][0].length,r={vertices:[],holes:[],dimensions:t},n=0,o=0;o<e.length;o++){for(var i=0;i<e[o].length;i++)for(var a=0;a<t;a++)r.vertices.push(e[o][i][a]);o>0&&(n+=e[o-1].length,r.holes.push(n))}return r},Yi.default=Ki;var Ta=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(function(e){return e.id}),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new qn,this.indexArray=new ao,this.indexArray2=new so,this.programConfigurations=new Wo(Zi,e.layers,e.zoom),this.segments=new ko,this.segments2=new ko,this.stateDependentLayerIds=this.layers.filter(function(e){return e.isStateDependent()}).map(function(e){return e.id})};Ta.prototype.populate=function(e,t){this.features=[],this.hasPattern=Ca("fill",this.layers,t);for(var r=0,n=e;r<n.length;r+=1){var o=n[r],i=o.feature,a=o.index,s=o.sourceLayerIndex;if(this.layers[0]._featureFilter(new En(this.zoom),i)){var l=Jo(i),u={sourceLayerIndex:s,index:a,geometry:l,properties:i.properties,type:i.type,patterns:{}};"undefined"!==typeof i.id&&(u.id=i.id),this.hasPattern?this.features.push(ka("fill",this.layers,u,this.zoom,t)):this.addFeature(u,l,a,{}),t.featureIndex.insert(i,l,a,s,this.index)}}},Ta.prototype.update=function(e,t,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,r)},Ta.prototype.addFeatures=function(e,t){for(var r=0,n=this.features;r<n.length;r+=1){var o=n[r],i=o.geometry;this.addFeature(o,i,o.index,t)}},Ta.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Ta.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ta.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Zi),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.indexBuffer2=e.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(e),this.uploaded=!0},Ta.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},Ta.prototype.addFeature=function(e,t,r,n){for(var o=0,i=Ea(t,500);o<i.length;o+=1){for(var a=i[o],s=0,l=0,u=a;l<u.length;l+=1){s+=u[l].length}for(var c=this.segments.prepareSegment(s,this.layoutVertexArray,this.indexArray),p=c.vertexLength,h=[],f=[],d=0,m=a;d<m.length;d+=1){var y=m[d];if(0!==y.length){y!==a[0]&&f.push(h.length/2);var v=this.segments2.prepareSegment(y.length,this.layoutVertexArray,this.indexArray2),g=v.vertexLength;this.layoutVertexArray.emplaceBack(y[0].x,y[0].y),this.indexArray2.emplaceBack(g+y.length-1,g),h.push(y[0].x),h.push(y[0].y);for(var _=1;_<y.length;_++)this.layoutVertexArray.emplaceBack(y[_].x,y[_].y),this.indexArray2.emplaceBack(g+_-1,g+_),h.push(y[_].x),h.push(y[_].y);v.vertexLength+=y.length,v.primitiveLength+=y.length}}for(var b=Yi(h,f),x=0;x<b.length;x+=3)this.indexArray.emplaceBack(p+b[x],p+b[x+1],p+b[x+2]);c.vertexLength+=s,c.primitiveLength+=b.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,r,n)},an("FillBucket",Ta,{omit:["layers","features"]});var Oa={paint:new zn({"fill-antialias":new Mn(ye.paint_fill["fill-antialias"]),"fill-opacity":new Rn(ye.paint_fill["fill-opacity"]),"fill-color":new Rn(ye.paint_fill["fill-color"]),"fill-outline-color":new Rn(ye.paint_fill["fill-outline-color"]),"fill-translate":new Mn(ye.paint_fill["fill-translate"]),"fill-translate-anchor":new Mn(ye.paint_fill["fill-translate-anchor"]),"fill-pattern":new Ln(ye.paint_fill["fill-pattern"])})},Pa=function(e){function t(t){e.call(this,t,Oa)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.recalculate=function(t){e.prototype.recalculate.call(this,t);var r=this.paint._values["fill-outline-color"];"constant"===r.value.kind&&void 0===r.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},t.prototype.createBucket=function(e){return new Ta(e)},t.prototype.queryRadius=function(){return fi(this.paint.get("fill-translate"))},t.prototype.queryIntersectsFeature=function(e,t,r,n,o,i,a){return ni(di(e,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),i.angle,a),n)},t}(Fn),Aa=Vn([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),Ia=Aa.members,Ma=(Aa.size,Aa.alignment,Math.pow(2,13));function Ra(e,t,r,n,o,i,a,s){e.emplaceBack(t,r,2*Math.floor(n*Ma)+a,o*Ma*2,i*Ma*2,Math.round(s))}var La=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(function(e){return e.id}),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new Wn,this.indexArray=new ao,this.programConfigurations=new Wo(Ia,e.layers,e.zoom),this.segments=new ko,this.stateDependentLayerIds=this.layers.filter(function(e){return e.isStateDependent()}).map(function(e){return e.id})};function Da(e,t){return e.x===t.x&&(e.x<0||e.x>Yo)||e.y===t.y&&(e.y<0||e.y>Yo)}function ja(e){return e.every(function(e){return e.x<0})||e.every(function(e){return e.x>Yo})||e.every(function(e){return e.y<0})||e.every(function(e){return e.y>Yo})}La.prototype.populate=function(e,t){this.features=[],this.hasPattern=Ca("fill-extrusion",this.layers,t);for(var r=0,n=e;r<n.length;r+=1){var o=n[r],i=o.feature,a=o.index,s=o.sourceLayerIndex;if(this.layers[0]._featureFilter(new En(this.zoom),i)){var l=Jo(i),u={sourceLayerIndex:s,index:a,geometry:l,properties:i.properties,type:i.type,patterns:{}};"undefined"!==typeof i.id&&(u.id=i.id),this.hasPattern?this.features.push(ka("fill-extrusion",this.layers,u,this.zoom,t)):this.addFeature(u,l,a,{}),t.featureIndex.insert(i,l,a,s,this.index,!0)}}},La.prototype.addFeatures=function(e,t){for(var r=0,n=this.features;r<n.length;r+=1){var o=n[r],i=o.geometry;this.addFeature(o,i,o.index,t)}},La.prototype.update=function(e,t,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,r)},La.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},La.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},La.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Ia),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0},La.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},La.prototype.addFeature=function(e,t,r,n){for(var o=0,i=Ea(t,500);o<i.length;o+=1){for(var a=i[o],s=0,l=0,u=a;l<u.length;l+=1){s+=u[l].length}for(var c=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),p=0,h=a;p<h.length;p+=1){var f=h[p];if(0!==f.length&&!ja(f))for(var d=0,m=0;m<f.length;m++){var y=f[m];if(m>=1){var v=f[m-1];if(!Da(y,v)){c.vertexLength+4>ko.MAX_VERTEX_ARRAY_LENGTH&&(c=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var g=y.sub(v)._perp()._unit(),_=v.dist(y);d+_>32768&&(d=0),Ra(this.layoutVertexArray,y.x,y.y,g.x,g.y,0,0,d),Ra(this.layoutVertexArray,y.x,y.y,g.x,g.y,0,1,d),d+=_,Ra(this.layoutVertexArray,v.x,v.y,g.x,g.y,0,0,d),Ra(this.layoutVertexArray,v.x,v.y,g.x,g.y,0,1,d);var b=c.vertexLength;this.indexArray.emplaceBack(b,b+2,b+1),this.indexArray.emplaceBack(b+1,b+2,b+3),c.vertexLength+=4,c.primitiveLength+=2}}}}c.vertexLength+s>ko.MAX_VERTEX_ARRAY_LENGTH&&(c=this.segments.prepareSegment(s,this.layoutVertexArray,this.indexArray));for(var x=[],w=[],E=c.vertexLength,S=0,C=a;S<C.length;S+=1){var k=C[S];if(0!==k.length){k!==a[0]&&w.push(x.length/2);for(var T=0;T<k.length;T++){var O=k[T];Ra(this.layoutVertexArray,O.x,O.y,0,0,1,1,0),x.push(O.x),x.push(O.y)}}}for(var P=Yi(x,w),A=0;A<P.length;A+=3)this.indexArray.emplaceBack(E+P[A],E+P[A+2],E+P[A+1]);c.primitiveLength+=P.length/3,c.vertexLength+=s}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,r,n)},an("FillExtrusionBucket",La,{omit:["layers","features"]});var za={paint:new zn({"fill-extrusion-opacity":new Mn(ye["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Rn(ye["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Mn(ye["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Mn(ye["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Ln(ye["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Rn(ye["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Rn(ye["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Mn(ye["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},Fa=function(e){function t(t){e.call(this,t,za)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createBucket=function(e){return new La(e)},t.prototype.queryRadius=function(){return fi(this.paint.get("fill-extrusion-translate"))},t.prototype.queryIntersectsFeature=function(e,t,r,n,i,a,s,l){var u=di(e,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),a.angle,s),c=this.paint.get("fill-extrusion-height").evaluate(t,r),p=this.paint.get("fill-extrusion-base").evaluate(t,r),h=function(e,t,r,n){for(var i=[],a=0,s=e;a<s.length;a+=1){var l=s[a],u=[l.x,l.y,n,1];Si(u,u,t),i.push(new o(u[0]/u[3],u[1]/u[3]))}return i}(u,l,0,0),f=function(e,t,r,n){for(var i=[],a=[],s=n[8]*t,l=n[9]*t,u=n[10]*t,c=n[11]*t,p=n[8]*r,h=n[9]*r,f=n[10]*r,d=n[11]*r,m=0,y=e;m<y.length;m+=1){for(var v=y[m],g=[],_=[],b=0,x=v;b<x.length;b+=1){var w=x[b],E=w.x,S=w.y,C=n[0]*E+n[4]*S+n[12],k=n[1]*E+n[5]*S+n[13],T=n[2]*E+n[6]*S+n[14],O=n[3]*E+n[7]*S+n[15],P=C+s,A=k+l,I=T+u,M=O+c,R=C+p,L=k+h,D=T+f,j=O+d,z=new o(P/M,A/M);z.z=I/M,g.push(z);var F=new o(R/j,L/j);F.z=D/j,_.push(F)}i.push(g),a.push(_)}return[i,a]}(n,p,c,l);return function(e,t,r){var n=1/0;ni(r,t)&&(n=Ba(r,t[0]));for(var o=0;o<t.length;o++)for(var i=t[o],a=e[o],s=0;s<i.length-1;s++){var l=i[s],u=i[s+1],c=a[s],p=a[s+1],h=[l,u,p,c,l];ti(r,h)&&(n=Math.min(n,Ba(r,h)))}return n!==1/0&&n}(f[0],f[1],h)},t.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("fill-extrusion-opacity")&&"none"!==this.visibility},t.prototype.resize=function(){this.viewportFrame&&(this.viewportFrame.destroy(),this.viewportFrame=null)},t}(Fn);function Na(e,t){return e.x*t.x+e.y*t.y}function Ba(e,t){if(1===e.length){var r=t[0],n=t[1],o=t[3],i=e[0],a=n.sub(r),s=o.sub(r),l=i.sub(r),u=Na(a,a),c=Na(a,s),p=Na(s,s),h=Na(l,a),f=Na(l,s),d=u*p-c*c,m=(p*h-c*f)/d,y=(u*f-c*h)/d,v=1-m-y;return r.z*v+n.z*m+o.z*y}for(var g=1/0,_=0,b=t;_<b.length;_+=1){var x=b[_];g=Math.min(g,x.z)}return g}var Ua=Vn([{name:"a_pos_normal",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),Va=Ua.members,Ga=(Ua.size,Ua.alignment,qa);function qa(e,t,r,n,o){this.properties={},this.extent=r,this.type=0,this._pbf=e,this._geometry=-1,this._keys=n,this._values=o,e.readFields(Ha,this,t)}function Ha(e,t,r){1==e?t.id=r.readVarint():2==e?function(e,t){var r=e.readVarint()+e.pos;for(;e.pos<r;){var n=t._keys[e.readVarint()],o=t._values[e.readVarint()];t.properties[n]=o}}(r,t):3==e?t.type=r.readVarint():4==e&&(t._geometry=r.pos)}function Wa(e){for(var t,r,n=0,o=0,i=e.length,a=i-1;o<i;a=o++)t=e[o],n+=((r=e[a]).x-t.x)*(t.y+r.y);return n}qa.types=["Unknown","Point","LineString","Polygon"],qa.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var t,r=e.readVarint()+e.pos,n=1,i=0,a=0,s=0,l=[];e.pos<r;){if(i<=0){var u=e.readVarint();n=7&u,i=u>>3}if(i--,1===n||2===n)a+=e.readSVarint(),s+=e.readSVarint(),1===n&&(t&&l.push(t),t=[]),t.push(new o(a,s));else{if(7!==n)throw new Error("unknown command "+n);t&&t.push(t[0].clone())}}return t&&l.push(t),l},qa.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,r=1,n=0,o=0,i=0,a=1/0,s=-1/0,l=1/0,u=-1/0;e.pos<t;){if(n<=0){var c=e.readVarint();r=7&c,n=c>>3}if(n--,1===r||2===r)o+=e.readSVarint(),i+=e.readSVarint(),o<a&&(a=o),o>s&&(s=o),i<l&&(l=i),i>u&&(u=i);else if(7!==r)throw new Error("unknown command "+r)}return[a,l,s,u]},qa.prototype.toGeoJSON=function(e,t,r){var n,o,i=this.extent*Math.pow(2,r),a=this.extent*e,s=this.extent*t,l=this.loadGeometry(),u=qa.types[this.type];function c(e){for(var t=0;t<e.length;t++){var r=e[t],n=180-360*(r.y+s)/i;e[t]=[360*(r.x+a)/i-180,360/Math.PI*Math.atan(Math.exp(n*Math.PI/180))-90]}}switch(this.type){case 1:var p=[];for(n=0;n<l.length;n++)p[n]=l[n][0];c(l=p);break;case 2:for(n=0;n<l.length;n++)c(l[n]);break;case 3:for(l=function(e){var t=e.length;if(t<=1)return[e];for(var r,n,o=[],i=0;i<t;i++){var a=Wa(e[i]);0!==a&&(void 0===n&&(n=a<0),n===a<0?(r&&o.push(r),r=[e[i]]):r.push(e[i]))}r&&o.push(r);return o}(l),n=0;n<l.length;n++)for(o=0;o<l[n].length;o++)c(l[n][o])}1===l.length?l=l[0]:u="Multi"+u;var h={type:"Feature",geometry:{type:u,coordinates:l},properties:this.properties};return"id"in this&&(h.id=this.id),h};var Xa=Za;function Za(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(Ya,this,t),this.length=this._features.length}function Ya(e,t,r){15===e?t.version=r.readVarint():1===e?t.name=r.readString():5===e?t.extent=r.readVarint():2===e?t._features.push(r.pos):3===e?t._keys.push(r.readString()):4===e&&t._values.push(function(e){var t=null,r=e.readVarint()+e.pos;for(;e.pos<r;){var n=e.readVarint()>>3;t=1===n?e.readString():2===n?e.readFloat():3===n?e.readDouble():4===n?e.readVarint64():5===n?e.readVarint():6===n?e.readSVarint():7===n?e.readBoolean():null}return t}(r))}function Ka(e,t,r){if(3===e){var n=new Xa(r,r.readVarint()+r.pos);n.length&&(t[n.name]=n)}}Za.prototype.feature=function(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new Ga(this._pbf,t,this.extent,this._keys,this._values)};var $a={VectorTile:function(e,t){this.layers=e.readFields(Ka,{},t)},VectorTileFeature:Ga,VectorTileLayer:Xa},Ja=$a.VectorTileFeature.types,Qa=63,es=Math.cos(Math.PI/180*37.5),ts=.5,rs=Math.pow(2,14)/ts;function ns(e,t,r,n,o,i,a){e.emplaceBack(t.x,t.y,n?1:0,o?1:-1,Math.round(Qa*r.x)+128,Math.round(Qa*r.y)+128,1+(0===i?0:i<0?-1:1)|(a*ts&63)<<2,a*ts>>6)}var os=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(function(e){return e.id}),this.index=e.index,this.features=[],this.hasPattern=!1,this.layoutVertexArray=new Xn,this.indexArray=new ao,this.programConfigurations=new Wo(Va,e.layers,e.zoom),this.segments=new ko,this.stateDependentLayerIds=this.layers.filter(function(e){return e.isStateDependent()}).map(function(e){return e.id})};function is(e,t){return(e/t.tileTotal*(t.end-t.start)+t.start)*(rs-1)}os.prototype.populate=function(e,t){this.features=[],this.hasPattern=Ca("line",this.layers,t);for(var r=0,n=e;r<n.length;r+=1){var o=n[r],i=o.feature,a=o.index,s=o.sourceLayerIndex;if(this.layers[0]._featureFilter(new En(this.zoom),i)){var l=Jo(i),u={sourceLayerIndex:s,index:a,geometry:l,properties:i.properties,type:i.type,patterns:{}};"undefined"!==typeof i.id&&(u.id=i.id),this.hasPattern?this.features.push(ka("line",this.layers,u,this.zoom,t)):this.addFeature(u,l,a,{}),t.featureIndex.insert(i,l,a,s,this.index)}}},os.prototype.update=function(e,t,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,r)},os.prototype.addFeatures=function(e,t){for(var r=0,n=this.features;r<n.length;r+=1){var o=n[r],i=o.geometry;this.addFeature(o,i,o.index,t)}},os.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},os.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},os.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Va),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0},os.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},os.prototype.addFeature=function(e,t,r,n){for(var o=this.layers[0].layout,i=o.get("line-join").evaluate(e,{}),a=o.get("line-cap"),s=o.get("line-miter-limit"),l=o.get("line-round-limit"),u=0,c=t;u<c.length;u+=1){var p=c[u];this.addLine(p,e,i,a,s,l,r,n)}},os.prototype.addLine=function(e,t,r,n,o,i,a,s){var l=null;t.properties&&t.properties.hasOwnProperty("mapbox_clip_start")&&t.properties.hasOwnProperty("mapbox_clip_end")&&(l={start:t.properties.mapbox_clip_start,end:t.properties.mapbox_clip_end,tileTotal:void 0});for(var u="Polygon"===Ja[t.type],c=e.length;c>=2&&e[c-1].equals(e[c-2]);)c--;for(var p=0;p<c-1&&e[p].equals(e[p+1]);)p++;if(!(c<(u?3:2))){l&&(l.tileTotal=function(e,t,r){for(var n,o,i=0,a=t;a<r-1;a++)n=e[a],o=e[a+1],i+=n.dist(o);return i}(e,p,c)),"bevel"===r&&(o=1.05);var h=Yo/(512*this.overscaling)*15,f=e[p],d=this.segments.prepareSegment(10*c,this.layoutVertexArray,this.indexArray);this.distance=0;var m,y,v,g=n,_=u?"butt":n,b=!0,x=void 0,w=void 0,E=void 0,S=void 0;this.e1=this.e2=this.e3=-1,u&&(m=e[c-2],S=f.sub(m)._unit()._perp());for(var C=p;C<c;C++)if(!(w=u&&C===c-1?e[p+1]:e[C+1])||!e[C].equals(w)){S&&(E=S),m&&(x=m),m=e[C],S=w?w.sub(m)._unit()._perp():E;var k=(E=E||S).add(S);0===k.x&&0===k.y||k._unit();var T=k.x*S.x+k.y*S.y,O=0!==T?1/T:1/0,P=T<es&&x&&w;if(P&&C>p){var A=m.dist(x);if(A>2*h){var I=m.sub(m.sub(x)._mult(h/A)._round());this.distance+=I.dist(x),this.addCurrentVertex(I,this.distance,E.mult(1),0,0,!1,d,l),x=I}}var M=x&&w,R=M?r:w?g:_;if(M&&"round"===R&&(O<i?R="miter":O<=2&&(R="fakeround")),"miter"===R&&O>o&&(R="bevel"),"bevel"===R&&(O>2&&(R="flipbevel"),O<o&&(R="miter")),x&&(this.distance+=m.dist(x)),"miter"===R)k._mult(O),this.addCurrentVertex(m,this.distance,k,0,0,!1,d,l);else if("flipbevel"===R){if(O>100)k=S.clone().mult(-1);else{var L=E.x*S.y-E.y*S.x>0?-1:1,D=O*E.add(S).mag()/E.sub(S).mag();k._perp()._mult(D*L)}this.addCurrentVertex(m,this.distance,k,0,0,!1,d,l),this.addCurrentVertex(m,this.distance,k.mult(-1),0,0,!1,d,l)}else if("bevel"===R||"fakeround"===R){var j=E.x*S.y-E.y*S.x>0,z=-Math.sqrt(O*O-1);if(j?(v=0,y=z):(y=0,v=z),b||this.addCurrentVertex(m,this.distance,E,y,v,!1,d,l),"fakeround"===R){for(var F=Math.floor(8*(.5-(T-.5))),N=void 0,B=0;B<F;B++)N=S.mult((B+1)/(F+1))._add(E)._unit(),this.addPieSliceVertex(m,this.distance,N,j,d,l);this.addPieSliceVertex(m,this.distance,k,j,d,l);for(var U=F-1;U>=0;U--)N=E.mult((U+1)/(F+1))._add(S)._unit(),this.addPieSliceVertex(m,this.distance,N,j,d,l)}w&&this.addCurrentVertex(m,this.distance,S,-y,-v,!1,d,l)}else"butt"===R?(b||this.addCurrentVertex(m,this.distance,E,0,0,!1,d,l),w&&this.addCurrentVertex(m,this.distance,S,0,0,!1,d,l)):"square"===R?(b||(this.addCurrentVertex(m,this.distance,E,1,1,!1,d,l),this.e1=this.e2=-1),w&&this.addCurrentVertex(m,this.distance,S,-1,-1,!1,d,l)):"round"===R&&(b||(this.addCurrentVertex(m,this.distance,E,0,0,!1,d,l),this.addCurrentVertex(m,this.distance,E,1,1,!0,d,l),this.e1=this.e2=-1),w&&(this.addCurrentVertex(m,this.distance,S,-1,-1,!0,d,l),this.addCurrentVertex(m,this.distance,S,0,0,!1,d,l)));if(P&&C<c-1){var V=m.dist(w);if(V>2*h){var G=m.add(w.sub(m)._mult(h/V)._round());this.distance+=G.dist(m),this.addCurrentVertex(G,this.distance,S.mult(1),0,0,!1,d,l),m=G}}b=!1}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,a,s)}},os.prototype.addCurrentVertex=function(e,t,r,n,o,i,a,s){var l,u=this.layoutVertexArray,c=this.indexArray;s&&(t=is(t,s)),l=r.clone(),n&&l._sub(r.perp()._mult(n)),ns(u,e,l,i,!1,n,t),this.e3=a.vertexLength++,this.e1>=0&&this.e2>=0&&(c.emplaceBack(this.e1,this.e2,this.e3),a.primitiveLength++),this.e1=this.e2,this.e2=this.e3,l=r.mult(-1),o&&l._sub(r.perp()._mult(o)),ns(u,e,l,i,!0,-o,t),this.e3=a.vertexLength++,this.e1>=0&&this.e2>=0&&(c.emplaceBack(this.e1,this.e2,this.e3),a.primitiveLength++),this.e1=this.e2,this.e2=this.e3,t>rs/2&&!s&&(this.distance=0,this.addCurrentVertex(e,this.distance,r,n,o,i,a))},os.prototype.addPieSliceVertex=function(e,t,r,n,o,i){r=r.mult(n?-1:1);var a=this.layoutVertexArray,s=this.indexArray;i&&(t=is(t,i)),ns(a,e,r,!1,n,0,t),this.e3=o.vertexLength++,this.e1>=0&&this.e2>=0&&(s.emplaceBack(this.e1,this.e2,this.e3),o.primitiveLength++),n?this.e2=this.e3:this.e1=this.e3},an("LineBucket",os,{omit:["layers","features"]});var as=new zn({"line-cap":new Mn(ye.layout_line["line-cap"]),"line-join":new Rn(ye.layout_line["line-join"]),"line-miter-limit":new Mn(ye.layout_line["line-miter-limit"]),"line-round-limit":new Mn(ye.layout_line["line-round-limit"])}),ss={paint:new zn({"line-opacity":new Rn(ye.paint_line["line-opacity"]),"line-color":new Rn(ye.paint_line["line-color"]),"line-translate":new Mn(ye.paint_line["line-translate"]),"line-translate-anchor":new Mn(ye.paint_line["line-translate-anchor"]),"line-width":new Rn(ye.paint_line["line-width"]),"line-gap-width":new Rn(ye.paint_line["line-gap-width"]),"line-offset":new Rn(ye.paint_line["line-offset"]),"line-blur":new Rn(ye.paint_line["line-blur"]),"line-dasharray":new Dn(ye.paint_line["line-dasharray"]),"line-pattern":new Ln(ye.paint_line["line-pattern"]),"line-gradient":new jn(ye.paint_line["line-gradient"])}),layout:as},ls=new(function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.possiblyEvaluate=function(t,r){return r=new En(Math.floor(r.zoom),{now:r.now,fadeDuration:r.fadeDuration,zoomHistory:r.zoomHistory,transition:r.transition}),e.prototype.possiblyEvaluate.call(this,t,r)},t.prototype.evaluate=function(t,r,n,o){return r=p({},r,{zoom:Math.floor(r.zoom)}),e.prototype.evaluate.call(this,t,r,n,o)},t}(Rn))(ss.paint.properties["line-width"].specification);ls.useIntegerZoom=!0;var us=function(e){function t(t){e.call(this,t,ss)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._handleSpecialPaintPropertyUpdate=function(e){"line-gradient"===e&&this._updateGradient()},t.prototype._updateGradient=function(){var e=this._transitionablePaint._values["line-gradient"].value.expression;this.gradient=Gi(e,"lineProgress"),this.gradientTexture=null},t.prototype.recalculate=function(t){e.prototype.recalculate.call(this,t),this.paint._values["line-floorwidth"]=ls.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,t)},t.prototype.createBucket=function(e){return new os(e)},t.prototype.queryRadius=function(e){var t=e,r=cs(hi("line-width",this,t),hi("line-gap-width",this,t)),n=hi("line-offset",this,t);return r/2+Math.abs(n)+fi(this.paint.get("line-translate"))},t.prototype.queryIntersectsFeature=function(e,t,r,n,i,a,s){var l=di(e,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),a.angle,s),u=s/2*cs(this.paint.get("line-width").evaluate(t,r),this.paint.get("line-gap-width").evaluate(t,r)),c=this.paint.get("line-offset").evaluate(t,r);return c&&(n=function(e,t){for(var r=[],n=new o(0,0),i=0;i<e.length;i++){for(var a=e[i],s=[],l=0;l<a.length;l++){var u=a[l-1],c=a[l],p=a[l+1],h=0===l?n:c.sub(u)._unit()._perp(),f=l===a.length-1?n:p.sub(c)._unit()._perp(),d=h._add(f)._unit(),m=d.x*f.x+d.y*f.y;d._mult(1/m),s.push(d._mult(t)._add(c))}r.push(s)}return r}(n,c*s)),function(e,t,r){for(var n=0;n<t.length;n++){var o=t[n];if(e.length>=3)for(var i=0;i<o.length;i++)if(ci(e,o[i]))return!0;if(oi(e,o,r))return!0}return!1}(l,n,u)},t}(Fn);function cs(e,t){return t>0?t+2*e:e}var ps=Vn([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"}]),hs=Vn([{name:"a_projected_pos",components:3,type:"Float32"}],4),fs=(Vn([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),Vn([{name:"a_placed",components:2,type:"Uint8"}],4)),ds=(Vn([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"},{type:"Int16",name:"radius"},{type:"Int16",name:"signedDistanceFromAnchor"}]),Vn([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),ms=Vn([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4);Vn([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"hidden"}]),Vn([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"horizontalPlacedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint32",name:"crossTileID"}]),Vn([{type:"Float32",name:"offsetX"}]),Vn([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);function ys(e,t,r){return e.sections.forEach(function(e){e.text=function(e,t,r){var n=t.layout.get("text-transform").evaluate(r,{});return"uppercase"===n?e=e.toLocaleUpperCase():"lowercase"===n&&(e=e.toLocaleLowerCase()),wn.applyArabicShaping&&(e=wn.applyArabicShaping(e)),e}(e.text,t,r)}),e}var vs={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"};var gs=function(e){function t(t,r,n,o){e.call(this,t,r),this.angle=n,void 0!==o&&(this.segment=o)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.clone=function(){return new t(this.x,this.y,this.angle,this.segment)},t}(o);an("Anchor",gs);var _s=256;function bs(e,t){var r=t.expression;if("constant"===r.kind)return{functionType:"constant",layoutSize:r.evaluate(new En(e+1))};if("source"===r.kind)return{functionType:"source"};for(var n=r.zoomStops,o=0;o<n.length&&n[o]<=e;)o++;for(var i=o=Math.max(0,o-1);i<n.length&&n[i]<e+1;)i++;i=Math.min(n.length-1,i);var a={min:n[o],max:n[i]};return"composite"===r.kind?{functionType:"composite",zoomRange:a,propertyValue:t.value}:{functionType:"camera",layoutSize:r.evaluate(new En(e+1)),zoomRange:a,sizeRange:{min:r.evaluate(new En(a.min)),max:r.evaluate(new En(a.max))},propertyValue:t.value}}var xs=$a.VectorTileFeature.types,ws=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Es(e,t,r,n,o,i,a,s){e.emplaceBack(t,r,Math.round(32*n),Math.round(32*o),i,a,s?s[0]:0,s?s[1]:0)}function Ss(e,t,r){e.emplaceBack(t.x,t.y,r),e.emplaceBack(t.x,t.y,r),e.emplaceBack(t.x,t.y,r),e.emplaceBack(t.x,t.y,r)}var Cs=function(e){this.layoutVertexArray=new Yn,this.indexArray=new ao,this.programConfigurations=e,this.segments=new ko,this.dynamicLayoutVertexArray=new Kn,this.opacityVertexArray=new $n,this.placedSymbolArray=new mo};Cs.prototype.upload=function(e,t,r,n){r&&(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,ps.members),this.indexBuffer=e.createIndexBuffer(this.indexArray,t),this.dynamicLayoutVertexBuffer=e.createVertexBuffer(this.dynamicLayoutVertexArray,hs.members,!0),this.opacityVertexBuffer=e.createVertexBuffer(this.opacityVertexArray,ws,!0),this.opacityVertexBuffer.itemSize=1),(r||n)&&this.programConfigurations.upload(e)},Cs.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},an("SymbolBuffers",Cs);var ks=function(e,t,r){this.layoutVertexArray=new e,this.layoutAttributes=t,this.indexArray=new r,this.segments=new ko,this.collisionVertexArray=new eo};ks.prototype.upload=function(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=e.createVertexBuffer(this.collisionVertexArray,fs.members,!0)},ks.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},an("CollisionBuffers",ks);var Ts=function(e){this.collisionBoxArray=e.collisionBoxArray,this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(function(e){return e.id}),this.index=e.index,this.pixelRatio=e.pixelRatio,this.sourceLayerIndex=e.sourceLayerIndex,this.hasPattern=!1;var t=this.layers[0]._unevaluatedLayout._values;this.textSizeData=bs(this.zoom,t["text-size"]),this.iconSizeData=bs(this.zoom,t["icon-size"]);var r=this.layers[0].layout,n=r.get("symbol-sort-key"),o=r.get("symbol-z-order");this.sortFeaturesByKey="viewport-y"!==o&&void 0!==n.constantOr(1);var i="viewport-y"===o||"auto"===o&&!this.sortFeaturesByKey;this.sortFeaturesByY=i&&(r.get("text-allow-overlap")||r.get("icon-allow-overlap")||r.get("text-ignore-placement")||r.get("icon-ignore-placement")),this.stateDependentLayerIds=this.layers.filter(function(e){return e.isStateDependent()}).map(function(e){return e.id}),this.sourceID=e.sourceID};Ts.prototype.createArrays=function(){this.text=new Cs(new Wo(ps.members,this.layers,this.zoom,function(e){return/^text/.test(e)})),this.icon=new Cs(new Wo(ps.members,this.layers,this.zoom,function(e){return/^icon/.test(e)})),this.collisionBox=new ks(Qn,ds.members,so),this.collisionCircle=new ks(Qn,ms.members,ao),this.glyphOffsetArray=new _o,this.lineVertexArray=new xo,this.symbolInstances=new vo},Ts.prototype.calculateGlyphDependencies=function(e,t,r,n){for(var o=0;o<e.length;o++)if(t[e.charCodeAt(o)]=!0,r&&n){var i=vs[e.charAt(o)];i&&(t[i.charCodeAt(0)]=!0)}},Ts.prototype.populate=function(e,t){var r=this.layers[0],n=r.layout,o=n.get("text-font"),i=n.get("text-field"),a=n.get("icon-image"),s=("constant"!==i.value.kind||i.value.value.toString().length>0)&&("constant"!==o.value.kind||o.value.value.length>0),l="constant"!==a.value.kind||a.value.value&&a.value.value.length>0,u=n.get("symbol-sort-key");if(this.features=[],s||l){for(var c=t.iconDependencies,p=t.glyphDependencies,h=new En(this.zoom),f=0,d=e;f<d.length;f+=1){var m=d[f],y=m.feature,v=m.index,g=m.sourceLayerIndex;if(r._featureFilter(h,y)){var _=void 0;if(s){var b=r.getValueAndResolveTokens("text-field",y);_=ys(b instanceof Ue?b:Ue.fromString(b),r,y)}var x=void 0;if(l&&(x=r.getValueAndResolveTokens("icon-image",y)),_||x){var w=this.sortFeaturesByKey?u.evaluate(y,{}):void 0,E={text:_,icon:x,index:v,sourceLayerIndex:g,geometry:Jo(y),properties:y.properties,type:xs[y.type],sortKey:w};if("undefined"!==typeof y.id&&(E.id=y.id),this.features.push(E),x&&(c[x]=!0),_)for(var S=o.evaluate(y,{}).join(","),C="map"===n.get("text-rotation-alignment")&&"point"!==n.get("symbol-placement"),k=0,T=_.sections;k<T.length;k+=1){var O=T[k],P=hn(_.toString()),A=O.fontStack||S,I=p[A]=p[A]||{};this.calculateGlyphDependencies(O.text,I,C,P)}}}}"line"===n.get("symbol-placement")&&(this.features=function(e){var t={},r={},n=[],o=0;function i(t){n.push(e[t]),o++}function a(e,t,o){var i=r[e];return delete r[e],r[t]=i,n[i].geometry[0].pop(),n[i].geometry[0]=n[i].geometry[0].concat(o[0]),i}function s(e,r,o){var i=t[r];return delete t[r],t[e]=i,n[i].geometry[0].shift(),n[i].geometry[0]=o[0].concat(n[i].geometry[0]),i}function l(e,t,r){var n=r?t[0][t[0].length-1]:t[0][0];return e+":"+n.x+":"+n.y}for(var u=0;u<e.length;u++){var c=e[u],p=c.geometry,h=c.text?c.text.toString():null;if(h){var f=l(h,p),d=l(h,p,!0);if(f in r&&d in t&&r[f]!==t[d]){var m=s(f,d,p),y=a(f,d,n[m].geometry);delete t[f],delete r[d],r[l(h,n[y].geometry,!0)]=y,n[m].geometry=null}else f in r?a(f,d,p):d in t?s(f,d,p):(i(u),t[f]=o-1,r[d]=o-1)}else i(u)}return n.filter(function(e){return e.geometry})}(this.features)),this.sortFeaturesByKey&&this.features.sort(function(e,t){return e.sortKey-t.sortKey})}},Ts.prototype.update=function(e,t,r){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(e,t,this.layers,r),this.icon.programConfigurations.updatePaintArrays(e,t,this.layers,r))},Ts.prototype.isEmpty=function(){return 0===this.symbolInstances.length},Ts.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},Ts.prototype.upload=function(e){this.uploaded||(this.collisionBox.upload(e),this.collisionCircle.upload(e)),this.text.upload(e,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(e,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},Ts.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.collisionBox.destroy(),this.collisionCircle.destroy()},Ts.prototype.addToLineVertexArray=function(e,t){var r=this.lineVertexArray.length;if(void 0!==e.segment){for(var n=e.dist(t[e.segment+1]),o=e.dist(t[e.segment]),i={},a=e.segment+1;a<t.length;a++)i[a]={x:t[a].x,y:t[a].y,tileUnitDistanceFromAnchor:n},a<t.length-1&&(n+=t[a+1].dist(t[a]));for(var s=e.segment||0;s>=0;s--)i[s]={x:t[s].x,y:t[s].y,tileUnitDistanceFromAnchor:o},s>0&&(o+=t[s-1].dist(t[s]));for(var l=0;l<t.length;l++){var u=i[l];this.lineVertexArray.emplaceBack(u.x,u.y,u.tileUnitDistanceFromAnchor)}}return{lineStartIndex:r,lineLength:this.lineVertexArray.length-r}},Ts.prototype.addSymbols=function(e,t,r,n,o,i,a,s,l,u){for(var c=e.indexArray,p=e.layoutVertexArray,h=e.dynamicLayoutVertexArray,f=e.segments.prepareSegment(4*t.length,e.layoutVertexArray,e.indexArray,i.sortKey),d=this.glyphOffsetArray.length,m=f.vertexLength,y=0,v=t;y<v.length;y+=1){var g=v[y],_=g.tl,b=g.tr,x=g.bl,w=g.br,E=g.tex,S=f.vertexLength,C=g.glyphOffset[1];Es(p,s.x,s.y,_.x,C+_.y,E.x,E.y,r),Es(p,s.x,s.y,b.x,C+b.y,E.x+E.w,E.y,r),Es(p,s.x,s.y,x.x,C+x.y,E.x,E.y+E.h,r),Es(p,s.x,s.y,w.x,C+w.y,E.x+E.w,E.y+E.h,r),Ss(h,s,0),c.emplaceBack(S,S+1,S+2),c.emplaceBack(S+1,S+2,S+3),f.vertexLength+=4,f.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(g.glyphOffset[0])}e.placedSymbolArray.emplaceBack(s.x,s.y,d,this.glyphOffsetArray.length-d,m,l,u,s.segment,r?r[0]:0,r?r[1]:0,n[0],n[1],a,!1),e.programConfigurations.populatePaintArrays(e.layoutVertexArray.length,i,i.index,{})},Ts.prototype._addCollisionDebugVertex=function(e,t,r,n,o,i){return t.emplaceBack(0,0),e.emplaceBack(r.x,r.y,n,o,Math.round(i.x),Math.round(i.y))},Ts.prototype.addCollisionDebugVertices=function(e,t,r,n,i,a,s,l){var u=i.segments.prepareSegment(4,i.layoutVertexArray,i.indexArray),c=u.vertexLength,p=i.layoutVertexArray,h=i.collisionVertexArray,f=s.anchorX,d=s.anchorY;if(this._addCollisionDebugVertex(p,h,a,f,d,new o(e,t)),this._addCollisionDebugVertex(p,h,a,f,d,new o(r,t)),this._addCollisionDebugVertex(p,h,a,f,d,new o(r,n)),this._addCollisionDebugVertex(p,h,a,f,d,new o(e,n)),u.vertexLength+=4,l){var m=i.indexArray;m.emplaceBack(c,c+1,c+2),m.emplaceBack(c,c+2,c+3),u.primitiveLength+=2}else{var y=i.indexArray;y.emplaceBack(c,c+1),y.emplaceBack(c+1,c+2),y.emplaceBack(c+2,c+3),y.emplaceBack(c+3,c),u.primitiveLength+=4}},Ts.prototype.addDebugCollisionBoxes=function(e,t,r){for(var n=e;n<t;n++){var o=this.collisionBoxArray.get(n),i=o.x1,a=o.y1,s=o.x2,l=o.y2,u=o.radius>0;this.addCollisionDebugVertices(i,a,s,l,u?this.collisionCircle:this.collisionBox,o.anchorPoint,r,u)}},Ts.prototype.generateCollisionDebugBuffers=function(){for(var e=0;e<this.symbolInstances.length;e++){var t=this.symbolInstances.get(e);this.addDebugCollisionBoxes(t.textBoxStartIndex,t.textBoxEndIndex,t),this.addDebugCollisionBoxes(t.iconBoxStartIndex,t.iconBoxEndIndex,t)}},Ts.prototype._deserializeCollisionBoxesForSymbol=function(e,t,r,n,o){for(var i={},a=t;a<r;a++){var s=e.get(a);if(0===s.radius){i.textBox={x1:s.x1,y1:s.y1,x2:s.x2,y2:s.y2,anchorPointX:s.anchorPointX,anchorPointY:s.anchorPointY},i.textFeatureIndex=s.featureIndex;break}i.textCircles||(i.textCircles=[],i.textFeatureIndex=s.featureIndex);i.textCircles.push(s.anchorPointX,s.anchorPointY,s.radius,s.signedDistanceFromAnchor,1)}for(var l=n;l<o;l++){var u=e.get(l);if(0===u.radius){i.iconBox={x1:u.x1,y1:u.y1,x2:u.x2,y2:u.y2,anchorPointX:u.anchorPointX,anchorPointY:u.anchorPointY},i.iconFeatureIndex=u.featureIndex;break}}return i},Ts.prototype.deserializeCollisionBoxes=function(e){this.collisionArrays=[];for(var t=0;t<this.symbolInstances.length;t++){var r=this.symbolInstances.get(t);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(e,r.textBoxStartIndex,r.textBoxEndIndex,r.iconBoxStartIndex,r.iconBoxEndIndex))}},Ts.prototype.hasTextData=function(){return this.text.segments.get().length>0},Ts.prototype.hasIconData=function(){return this.icon.segments.get().length>0},Ts.prototype.hasCollisionBoxData=function(){return this.collisionBox.segments.get().length>0},Ts.prototype.hasCollisionCircleData=function(){return this.collisionCircle.segments.get().length>0},Ts.prototype.addIndicesForPlacedTextSymbol=function(e){for(var t=this.text.placedSymbolArray.get(e),r=t.vertexStartIndex+4*t.numGlyphs,n=t.vertexStartIndex;n<r;n+=4)this.text.indexArray.emplaceBack(n,n+1,n+2),this.text.indexArray.emplaceBack(n+1,n+2,n+3)},Ts.prototype.sortFeatures=function(e){if(this.sortFeaturesByY&&this.sortedAngle!==e&&(this.sortedAngle=e,!(this.text.segments.get().length>1||this.icon.segments.get().length>1))){for(var t=[],r=0;r<this.symbolInstances.length;r++)t.push(r);for(var n=Math.sin(e),o=Math.cos(e),i=[],a=[],s=0;s<this.symbolInstances.length;s++){var l=this.symbolInstances.get(s);i.push(0|Math.round(n*l.anchorX+o*l.anchorY)),a.push(l.featureIndex)}t.sort(function(e,t){return i[e]-i[t]||a[t]-a[e]}),this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var u=0,c=t;u<c.length;u+=1){var p=c[u],h=this.symbolInstances.get(p);this.featureSortOrder.push(h.featureIndex),h.horizontalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedTextSymbol(h.horizontalPlacedTextSymbolIndex),h.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedTextSymbol(h.verticalPlacedTextSymbolIndex);var f=this.icon.placedSymbolArray.get(p);if(f.numGlyphs){var d=f.vertexStartIndex;this.icon.indexArray.emplaceBack(d,d+1,d+2),this.icon.indexArray.emplaceBack(d+1,d+2,d+3)}}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},an("SymbolBucket",Ts,{omit:["layers","collisionBoxArray","features","compareText"]}),Ts.MAX_GLYPHS=65535,Ts.addDynamicAttributes=Ss;var Os=new zn({"symbol-placement":new Mn(ye.layout_symbol["symbol-placement"]),"symbol-spacing":new Mn(ye.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Mn(ye.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Rn(ye.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Mn(ye.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Mn(ye.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Mn(ye.layout_symbol["icon-ignore-placement"]),"icon-optional":new Mn(ye.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Mn(ye.layout_symbol["icon-rotation-alignment"]),"icon-size":new Rn(ye.layout_symbol["icon-size"]),"icon-text-fit":new Mn(ye.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Mn(ye.layout_symbol["icon-text-fit-padding"]),"icon-image":new Rn(ye.layout_symbol["icon-image"]),"icon-rotate":new Rn(ye.layout_symbol["icon-rotate"]),"icon-padding":new Mn(ye.layout_symbol["icon-padding"]),"icon-keep-upright":new Mn(ye.layout_symbol["icon-keep-upright"]),"icon-offset":new Rn(ye.layout_symbol["icon-offset"]),"icon-anchor":new Rn(ye.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Mn(ye.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Mn(ye.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Mn(ye.layout_symbol["text-rotation-alignment"]),"text-field":new Rn(ye.layout_symbol["text-field"]),"text-font":new Rn(ye.layout_symbol["text-font"]),"text-size":new Rn(ye.layout_symbol["text-size"]),"text-max-width":new Rn(ye.layout_symbol["text-max-width"]),"text-line-height":new Mn(ye.layout_symbol["text-line-height"]),"text-letter-spacing":new Rn(ye.layout_symbol["text-letter-spacing"]),"text-justify":new Rn(ye.layout_symbol["text-justify"]),"text-anchor":new Rn(ye.layout_symbol["text-anchor"]),"text-max-angle":new Mn(ye.layout_symbol["text-max-angle"]),"text-rotate":new Rn(ye.layout_symbol["text-rotate"]),"text-padding":new Mn(ye.layout_symbol["text-padding"]),"text-keep-upright":new Mn(ye.layout_symbol["text-keep-upright"]),"text-transform":new Rn(ye.layout_symbol["text-transform"]),"text-offset":new Rn(ye.layout_symbol["text-offset"]),"text-allow-overlap":new Mn(ye.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Mn(ye.layout_symbol["text-ignore-placement"]),"text-optional":new Mn(ye.layout_symbol["text-optional"])}),Ps={paint:new zn({"icon-opacity":new Rn(ye.paint_symbol["icon-opacity"]),"icon-color":new Rn(ye.paint_symbol["icon-color"]),"icon-halo-color":new Rn(ye.paint_symbol["icon-halo-color"]),"icon-halo-width":new Rn(ye.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Rn(ye.paint_symbol["icon-halo-blur"]),"icon-translate":new Mn(ye.paint_symbol["icon-translate"]),"icon-translate-anchor":new Mn(ye.paint_symbol["icon-translate-anchor"]),"text-opacity":new Rn(ye.paint_symbol["text-opacity"]),"text-color":new Rn(ye.paint_symbol["text-color"]),"text-halo-color":new Rn(ye.paint_symbol["text-halo-color"]),"text-halo-width":new Rn(ye.paint_symbol["text-halo-width"]),"text-halo-blur":new Rn(ye.paint_symbol["text-halo-blur"]),"text-translate":new Mn(ye.paint_symbol["text-translate"]),"text-translate-anchor":new Mn(ye.paint_symbol["text-translate-anchor"])}),layout:Os},As=function(e){function t(t){e.call(this,t,Ps)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.recalculate=function(t){e.prototype.recalculate.call(this,t),"auto"===this.layout.get("icon-rotation-alignment")&&("point"!==this.layout.get("symbol-placement")?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),"auto"===this.layout.get("text-rotation-alignment")&&("point"!==this.layout.get("symbol-placement")?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"))},t.prototype.getValueAndResolveTokens=function(e,t){var r,n=this.layout.get(e).evaluate(t,{}),o=this._unevaluatedLayout._values[e];return o.isDataDriven()||fr(o.value)?n:(r=t.properties,n.replace(/{([^{}]+)}/g,function(e,t){return t in r?String(r[t]):""}))},t.prototype.createBucket=function(e){return new Ts(e)},t.prototype.queryRadius=function(){return 0},t.prototype.queryIntersectsFeature=function(){return!1},t}(Fn),Is={paint:new zn({"background-color":new Mn(ye.paint_background["background-color"]),"background-pattern":new Dn(ye.paint_background["background-pattern"]),"background-opacity":new Mn(ye.paint_background["background-opacity"])})},Ms=function(e){function t(t){e.call(this,t,Is)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Fn),Rs={paint:new zn({"raster-opacity":new Mn(ye.paint_raster["raster-opacity"]),"raster-hue-rotate":new Mn(ye.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Mn(ye.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Mn(ye.paint_raster["raster-brightness-max"]),"raster-saturation":new Mn(ye.paint_raster["raster-saturation"]),"raster-contrast":new Mn(ye.paint_raster["raster-contrast"]),"raster-resampling":new Mn(ye.paint_raster["raster-resampling"]),"raster-fade-duration":new Mn(ye.paint_raster["raster-fade-duration"])})},Ls=function(e){function t(t){e.call(this,t,Rs)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Fn);var Ds=function(e){function t(t){e.call(this,t,{}),this.implementation=t}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.hasOffscreenPass=function(){return void 0!==this.implementation.prerender||"3d"===this.implementation.renderingMode},t.prototype.recalculate=function(){},t.prototype.updateTransitions=function(){},t.prototype.hasTransition=function(){},t.prototype.serialize=function(){},t.prototype.resize=function(){this.viewportFrame&&(this.viewportFrame.destroy(),this.viewportFrame=null)},t.prototype.onAdd=function(e){this.implementation.onAdd&&this.implementation.onAdd(e,e.painter.context.gl)},t.prototype.onRemove=function(e){this.implementation.onRemove&&this.implementation.onRemove(e)},t}(Fn),js={circle:Li,heatmap:qi,hillshade:Wi,fill:Pa,"fill-extrusion":Fa,line:us,symbol:As,background:Ms,raster:Ls};function zs(e){for(var t=0,r=0,n=0,o=e;n<o.length;n+=1){var i=o[n];t+=i.w*i.h,r=Math.max(r,i.w)}e.sort(function(e,t){return t.h-e.h});for(var a=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(t/.95)),r),h:1/0}],s=0,l=0,u=0,c=e;u<c.length;u+=1)for(var p=c[u],h=a.length-1;h>=0;h--){var f=a[h];if(!(p.w>f.w||p.h>f.h)){if(p.x=f.x,p.y=f.y,l=Math.max(l,p.y+p.h),s=Math.max(s,p.x+p.w),p.w===f.w&&p.h===f.h){var d=a.pop();h<a.length&&(a[h]=d)}else p.h===f.h?(f.x+=p.w,f.w-=p.w):p.w===f.w?(f.y+=p.h,f.h-=p.h):(a.push({x:f.x+p.w,y:f.y,w:f.w-p.w,h:p.h}),f.y+=p.h,f.h-=p.h);break}}return{w:s,h:l,fill:t/(s*l)||0}}var Fs=function(e,t){var r=t.pixelRatio;this.paddedRect=e,this.pixelRatio=r},Ns={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};Ns.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},Ns.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},Ns.tlbr.get=function(){return this.tl.concat(this.br)},Ns.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(Fs.prototype,Ns);var Bs=function(e,t){var r={},n={},o=[];for(var i in e){var a=e[i],s={x:0,y:0,w:a.data.width+2,h:a.data.height+2};o.push(s),r[i]=new Fs(s,a)}for(var l in t){var u=t[l],c={x:0,y:0,w:u.data.width+2,h:u.data.height+2};o.push(c),n[l]=new Fs(c,u)}var p=zs(o),h=p.w,f=p.h,d=new Ui({width:h||1,height:f||1});for(var m in e){var y=e[m],v=r[m].paddedRect;Ui.copy(y.data,d,{x:0,y:0},{x:v.x+1,y:v.y+1},y.data)}for(var g in t){var _=t[g],b=n[g].paddedRect,x=b.x+1,w=b.y+1,E=_.data.width,S=_.data.height;Ui.copy(_.data,d,{x:0,y:0},{x:x,y:w},_.data),Ui.copy(_.data,d,{x:0,y:S-1},{x:x,y:w-1},{width:E,height:1}),Ui.copy(_.data,d,{x:0,y:0},{x:x,y:w+S},{width:E,height:1}),Ui.copy(_.data,d,{x:E-1,y:0},{x:x-1,y:w},{width:1,height:S}),Ui.copy(_.data,d,{x:0,y:0},{x:x+E,y:w},{width:1,height:S})}this.image=d,this.iconPositions=r,this.patternPositions=n};an("ImagePosition",Fs),an("ImageAtlas",Bs);var Us=self.HTMLImageElement,Vs=self.HTMLCanvasElement,Gs=self.HTMLVideoElement,qs=self.ImageData,Hs=function(e,t,r,n){this.context=e,this.format=r,this.texture=e.gl.createTexture(),this.update(t,n)};Hs.prototype.update=function(e,t){var r=e.width,n=e.height,o=!this.size||this.size[0]!==r||this.size[1]!==n,i=this.context,a=i.gl;this.useMipmap=Boolean(t&&t.useMipmap),a.bindTexture(a.TEXTURE_2D,this.texture),i.pixelStoreUnpackFlipY.set(!1),i.pixelStoreUnpack.set(1),i.pixelStoreUnpackPremultiplyAlpha.set(this.format===a.RGBA&&(!t||!1!==t.premultiply)),o?(this.size=[r,n],e instanceof Us||e instanceof Vs||e instanceof Gs||e instanceof qs?a.texImage2D(a.TEXTURE_2D,0,this.format,this.format,a.UNSIGNED_BYTE,e):a.texImage2D(a.TEXTURE_2D,0,this.format,r,n,0,this.format,a.UNSIGNED_BYTE,e.data)):e instanceof Us||e instanceof Vs||e instanceof Gs||e instanceof qs?a.texSubImage2D(a.TEXTURE_2D,0,0,0,a.RGBA,a.UNSIGNED_BYTE,e):a.texSubImage2D(a.TEXTURE_2D,0,0,0,r,n,a.RGBA,a.UNSIGNED_BYTE,e.data),this.useMipmap&&this.isSizePowerOfTwo()&&a.generateMipmap(a.TEXTURE_2D)},Hs.prototype.bind=function(e,t,r){var n=this.context.gl;n.bindTexture(n.TEXTURE_2D,this.texture),r!==n.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(r=n.LINEAR),e!==this.filter&&(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,e),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,r||e),this.filter=e),t!==this.wrap&&(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,t),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,t),this.wrap=t)},Hs.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1===0},Hs.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var Ws=function(e,t,r,n,o){var i,a,s=8*o-n-1,l=(1<<s)-1,u=l>>1,c=-7,p=r?o-1:0,h=r?-1:1,f=e[t+p];for(p+=h,i=f&(1<<-c)-1,f>>=-c,c+=s;c>0;i=256*i+e[t+p],p+=h,c-=8);for(a=i&(1<<-c)-1,i>>=-c,c+=n;c>0;a=256*a+e[t+p],p+=h,c-=8);if(0===i)i=1-u;else{if(i===l)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,n),i-=u}return(f?-1:1)*a*Math.pow(2,i-n)},Xs=function(e,t,r,n,o,i){var a,s,l,u=8*i-o-1,c=(1<<u)-1,p=c>>1,h=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:i-1,d=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+p>=1?h/l:h*Math.pow(2,1-p))*l>=2&&(a++,l/=2),a+p>=c?(s=0,a=c):a+p>=1?(s=(t*l-1)*Math.pow(2,o),a+=p):(s=t*Math.pow(2,p-1)*Math.pow(2,o),a=0));o>=8;e[r+f]=255&s,f+=d,s/=256,o-=8);for(a=a<<o|s,u+=o;u>0;e[r+f]=255&a,f+=d,a/=256,u-=8);e[r+f-d]|=128*m},Zs=Ys;function Ys(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}Ys.Varint=0,Ys.Fixed64=1,Ys.Bytes=2,Ys.Fixed32=5;function Ks(e){return e.type===Ys.Bytes?e.readVarint()+e.pos:e.pos+1}function $s(e,t,r){return r?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function Js(e,t,r){var n=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.ceil(Math.log(t)/(7*Math.LN2));r.realloc(n);for(var o=r.pos-1;o>=e;o--)r.buf[o+n]=r.buf[o]}function Qs(e,t){for(var r=0;r<e.length;r++)t.writeVarint(e[r])}function el(e,t){for(var r=0;r<e.length;r++)t.writeSVarint(e[r])}function tl(e,t){for(var r=0;r<e.length;r++)t.writeFloat(e[r])}function rl(e,t){for(var r=0;r<e.length;r++)t.writeDouble(e[r])}function nl(e,t){for(var r=0;r<e.length;r++)t.writeBoolean(e[r])}function ol(e,t){for(var r=0;r<e.length;r++)t.writeFixed32(e[r])}function il(e,t){for(var r=0;r<e.length;r++)t.writeSFixed32(e[r])}function al(e,t){for(var r=0;r<e.length;r++)t.writeFixed64(e[r])}function sl(e,t){for(var r=0;r<e.length;r++)t.writeSFixed64(e[r])}function ll(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function ul(e,t,r){e[r]=t,e[r+1]=t>>>8,e[r+2]=t>>>16,e[r+3]=t>>>24}function cl(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}Ys.prototype={destroy:function(){this.buf=null},readFields:function(e,t,r){for(r=r||this.length;this.pos<r;){var n=this.readVarint(),o=n>>3,i=this.pos;this.type=7&n,e(o,t,this),this.pos===i&&this.skip(n)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=ll(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=cl(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=ll(this.buf,this.pos)+4294967296*ll(this.buf,this.pos+4);return this.pos+=8,e},readSFixed64:function(){var e=ll(this.buf,this.pos)+4294967296*cl(this.buf,this.pos+4);return this.pos+=8,e},readFloat:function(){var e=Ws(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=Ws(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,r,n=this.buf;return t=127&(r=n[this.pos++]),r<128?t:(t|=(127&(r=n[this.pos++]))<<7,r<128?t:(t|=(127&(r=n[this.pos++]))<<14,r<128?t:(t|=(127&(r=n[this.pos++]))<<21,r<128?t:function(e,t,r){var n,o,i=r.buf;if(o=i[r.pos++],n=(112&o)>>4,o<128)return $s(e,n,t);if(o=i[r.pos++],n|=(127&o)<<3,o<128)return $s(e,n,t);if(o=i[r.pos++],n|=(127&o)<<10,o<128)return $s(e,n,t);if(o=i[r.pos++],n|=(127&o)<<17,o<128)return $s(e,n,t);if(o=i[r.pos++],n|=(127&o)<<24,o<128)return $s(e,n,t);if(o=i[r.pos++],n|=(1&o)<<31,o<128)return $s(e,n,t);throw new Error("Expected varint not more than 10 bytes")}(t|=(15&(r=n[this.pos]))<<28,e,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2===1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=function(e,t,r){var n="",o=t;for(;o<r;){var i,a,s,l=e[o],u=null,c=l>239?4:l>223?3:l>191?2:1;if(o+c>r)break;1===c?l<128&&(u=l):2===c?128===(192&(i=e[o+1]))&&(u=(31&l)<<6|63&i)<=127&&(u=null):3===c?(i=e[o+1],a=e[o+2],128===(192&i)&&128===(192&a)&&((u=(15&l)<<12|(63&i)<<6|63&a)<=2047||u>=55296&&u<=57343)&&(u=null)):4===c&&(i=e[o+1],a=e[o+2],s=e[o+3],128===(192&i)&&128===(192&a)&&128===(192&s)&&((u=(15&l)<<18|(63&i)<<12|(63&a)<<6|63&s)<=65535||u>=1114112)&&(u=null)),null===u?(u=65533,c=1):u>65535&&(u-=65536,n+=String.fromCharCode(u>>>10&1023|55296),u=56320|1023&u),n+=String.fromCharCode(u),o+=c}return n}(this.buf,this.pos,e);return this.pos=e,t},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){var r=Ks(this);for(e=e||[];this.pos<r;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){var t=Ks(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){var t=Ks(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){var t=Ks(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){var t=Ks(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){var t=Ks(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){var t=Ks(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){var t=Ks(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){var t=Ks(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===Ys.Varint)for(;this.buf[this.pos++]>127;);else if(t===Ys.Bytes)this.pos=this.readVarint()+this.pos;else if(t===Ys.Fixed32)this.pos+=4;else{if(t!==Ys.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var r=new Uint8Array(t);r.set(this.buf),this.buf=r,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),ul(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),ul(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),ul(this.buf,-1&e,this.pos),ul(this.buf,Math.floor(e*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),ul(this.buf,-1&e,this.pos),ul(this.buf,Math.floor(e*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(e){(e=+e||0)>268435455||e<0?function(e,t){var r,n;e>=0?(r=e%4294967296|0,n=e/4294967296|0):(n=~(-e/4294967296),4294967295^(r=~(-e%4294967296))?r=r+1|0:(r=0,n=n+1|0));if(e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),function(e,t,r){r.buf[r.pos++]=127&e|128,e>>>=7,r.buf[r.pos++]=127&e|128,e>>>=7,r.buf[r.pos++]=127&e|128,e>>>=7,r.buf[r.pos++]=127&e|128,e>>>=7,r.buf[r.pos]=127&e}(r,0,t),function(e,t){var r=(7&e)<<4;if(t.buf[t.pos++]|=r|((e>>>=3)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;t.buf[t.pos++]=127&e}(n,t)}(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=function(e,t,r){for(var n,o,i=0;i<t.length;i++){if((n=t.charCodeAt(i))>55295&&n<57344){if(!o){n>56319||i+1===t.length?(e[r++]=239,e[r++]=191,e[r++]=189):o=n;continue}if(n<56320){e[r++]=239,e[r++]=191,e[r++]=189,o=n;continue}n=o-55296<<10|n-56320|65536,o=null}else o&&(e[r++]=239,e[r++]=191,e[r++]=189,o=null);n<128?e[r++]=n:(n<2048?e[r++]=n>>6|192:(n<65536?e[r++]=n>>12|224:(e[r++]=n>>18|240,e[r++]=n>>12&63|128),e[r++]=n>>6&63|128),e[r++]=63&n|128)}return r}(this.buf,e,this.pos);var r=this.pos-t;r>=128&&Js(t,r,this),this.pos=t-1,this.writeVarint(r),this.pos+=r},writeFloat:function(e){this.realloc(4),Xs(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),Xs(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var r=0;r<t;r++)this.buf[this.pos++]=e[r]},writeRawMessage:function(e,t){this.pos++;var r=this.pos;e(t,this);var n=this.pos-r;n>=128&&Js(r,n,this),this.pos=r-1,this.writeVarint(n),this.pos+=n},writeMessage:function(e,t,r){this.writeTag(e,Ys.Bytes),this.writeRawMessage(t,r)},writePackedVarint:function(e,t){this.writeMessage(e,Qs,t)},writePackedSVarint:function(e,t){this.writeMessage(e,el,t)},writePackedBoolean:function(e,t){this.writeMessage(e,nl,t)},writePackedFloat:function(e,t){this.writeMessage(e,tl,t)},writePackedDouble:function(e,t){this.writeMessage(e,rl,t)},writePackedFixed32:function(e,t){this.writeMessage(e,ol,t)},writePackedSFixed32:function(e,t){this.writeMessage(e,il,t)},writePackedFixed64:function(e,t){this.writeMessage(e,al,t)},writePackedSFixed64:function(e,t){this.writeMessage(e,sl,t)},writeBytesField:function(e,t){this.writeTag(e,Ys.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,Ys.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,Ys.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,Ys.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,Ys.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,Ys.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,Ys.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,Ys.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,Ys.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,Ys.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}};var pl=3;function hl(e,t,r){1===e&&r.readMessage(fl,t)}function fl(e,t,r){if(3===e){var n=r.readMessage(dl,{}),o=n.id,i=n.bitmap,a=n.width,s=n.height,l=n.left,u=n.top,c=n.advance;t.push({id:o,bitmap:new Bi({width:a+2*pl,height:s+2*pl},i),metrics:{width:a,height:s,left:l,top:u,advance:c}})}}function dl(e,t,r){1===e?t.id=r.readVarint():2===e?t.bitmap=r.readBytes():3===e?t.width=r.readVarint():4===e?t.height=r.readVarint():5===e?t.left=r.readSVarint():6===e?t.top=r.readSVarint():7===e&&(t.advance=r.readVarint())}var ml=pl,yl=function(e,t,r){this.target=e,this.parent=t,this.mapId=r,this.callbacks={},this.callbackID=0,y(["receive"],this),this.target.addEventListener("message",this.receive,!1)};function vl(e,t,r){var n=2*Math.PI*6378137/256/Math.pow(2,r);return[e*n-2*Math.PI*6378137/2,t*n-2*Math.PI*6378137/2]}yl.prototype.send=function(e,t,r,n){var o=this,i=r?this.mapId+":"+this.callbackID++:null;r&&(this.callbacks[i]=r);var a=[];if(this.target.postMessage({targetMapId:n,sourceMapId:this.mapId,type:e,id:String(i),data:ln(t,a)},a),r)return{cancel:function(){return o.target.postMessage({targetMapId:n,sourceMapId:o.mapId,type:"<cancel>",id:String(i)})}}},yl.prototype.receive=function(e){var t,r=this,n=e.data,o=n.id;if(!n.targetMapId||this.mapId===n.targetMapId){var i=function(e,t){delete r.callbacks[o];var n=[];r.target.postMessage({sourceMapId:r.mapId,type:"<response>",id:String(o),error:e?ln(e):null,data:ln(t,n)},n)};if("<response>"===n.type||"<cancel>"===n.type)t=this.callbacks[n.id],delete this.callbacks[n.id],t&&n.error?t(un(n.error)):t&&t(null,un(n.data));else if("undefined"!==typeof n.id&&this.parent[n.type]){this.callbacks[n.id]=null;var a=this.parent[n.type](n.sourceMapId,un(n.data),i);a&&null===this.callbacks[n.id]&&(this.callbacks[n.id]=a)}else if("undefined"!==typeof n.id&&this.parent.getWorkerSource){var s=n.type.split("."),l=un(n.data);this.parent.getWorkerSource(n.sourceMapId,s[0],l.source)[s[1]](l,i)}else this.parent[n.type](un(n.data))}},yl.prototype.remove=function(){this.target.removeEventListener("message",this.receive,!1)};var gl=function(e,t){e&&(t?this.setSouthWest(e).setNorthEast(t):4===e.length?this.setSouthWest([e[0],e[1]]).setNorthEast([e[2],e[3]]):this.setSouthWest(e[0]).setNorthEast(e[1]))};gl.prototype.setNorthEast=function(e){return this._ne=e instanceof _l?new _l(e.lng,e.lat):_l.convert(e),this},gl.prototype.setSouthWest=function(e){return this._sw=e instanceof _l?new _l(e.lng,e.lat):_l.convert(e),this},gl.prototype.extend=function(e){var t,r,n=this._sw,o=this._ne;if(e instanceof _l)t=e,r=e;else{if(!(e instanceof gl))return Array.isArray(e)?e.every(Array.isArray)?this.extend(gl.convert(e)):this.extend(_l.convert(e)):this;if(t=e._sw,r=e._ne,!t||!r)return this}return n||o?(n.lng=Math.min(t.lng,n.lng),n.lat=Math.min(t.lat,n.lat),o.lng=Math.max(r.lng,o.lng),o.lat=Math.max(r.lat,o.lat)):(this._sw=new _l(t.lng,t.lat),this._ne=new _l(r.lng,r.lat)),this},gl.prototype.getCenter=function(){return new _l((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},gl.prototype.getSouthWest=function(){return this._sw},gl.prototype.getNorthEast=function(){return this._ne},gl.prototype.getNorthWest=function(){return new _l(this.getWest(),this.getNorth())},gl.prototype.getSouthEast=function(){return new _l(this.getEast(),this.getSouth())},gl.prototype.getWest=function(){return this._sw.lng},gl.prototype.getSouth=function(){return this._sw.lat},gl.prototype.getEast=function(){return this._ne.lng},gl.prototype.getNorth=function(){return this._ne.lat},gl.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},gl.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},gl.prototype.isEmpty=function(){return!(this._sw&&this._ne)},gl.convert=function(e){return!e||e instanceof gl?e:new gl(e)};var _l=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid LngLat object: ("+e+", "+t+")");if(this.lng=+e,this.lat=+t,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};function bl(e){return 2*Math.PI*6378137*Math.cos(e*Math.PI/180)}function xl(e){return(180+e)/360}function wl(e){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))/360}function El(e,t){return e/bl(t)}function Sl(e){var t=180-360*e;return 360/Math.PI*Math.atan(Math.exp(t*Math.PI/180))-90}_l.prototype.wrap=function(){return new _l(c(this.lng,-180,180),this.lat)},_l.prototype.toArray=function(){return[this.lng,this.lat]},_l.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},_l.prototype.toBounds=function(e){void 0===e&&(e=0);var t=360*e/40075017,r=t/Math.cos(Math.PI/180*this.lat);return new gl(new _l(this.lng-r,this.lat-t),new _l(this.lng+r,this.lat+t))},_l.convert=function(e){if(e instanceof _l)return e;if(Array.isArray(e)&&(2===e.length||3===e.length))return new _l(Number(e[0]),Number(e[1]));if(!Array.isArray(e)&&"object"===typeof e&&null!==e)return new _l(Number("lng"in e?e.lng:e.lon),Number(e.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var Cl=function(e,t,r){void 0===r&&(r=0),this.x=+e,this.y=+t,this.z=+r};Cl.fromLngLat=function(e,t){void 0===t&&(t=0);var r=_l.convert(e);return new Cl(xl(r.lng),wl(r.lat),El(t,r.lat))},Cl.prototype.toLngLat=function(){return new _l(360*this.x-180,Sl(this.y))},Cl.prototype.toAltitude=function(){return e=this.z,t=this.y,e*bl(Sl(t));var e,t};var kl=function(e,t,r){this.z=e,this.x=t,this.y=r,this.key=Pl(0,e,t,r)};kl.prototype.equals=function(e){return this.z===e.z&&this.x===e.x&&this.y===e.y},kl.prototype.url=function(e,t){var r,n,o,i,a,s=(r=this.x,n=this.y,o=this.z,i=vl(256*r,256*(n=Math.pow(2,o)-n-1),o),a=vl(256*(r+1),256*(n+1),o),i[0]+","+i[1]+","+a[0]+","+a[1]),l=function(e,t,r){for(var n,o="",i=e;i>0;i--)o+=(t&(n=1<<i-1)?1:0)+(r&n?2:0);return o}(this.z,this.x,this.y);return e[(this.x+this.y)%e.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===t?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",l).replace("{bbox-epsg-3857}",s)},kl.prototype.getTilePoint=function(e){var t=Math.pow(2,this.z);return new o((e.x*t-this.x)*Yo,(e.y*t-this.y)*Yo)};var Tl=function(e,t){this.wrap=e,this.canonical=t,this.key=Pl(e,t.z,t.x,t.y)},Ol=function(e,t,r,n,o){this.overscaledZ=e,this.wrap=t,this.canonical=new kl(r,+n,+o),this.key=Pl(t,e,n,o)};function Pl(e,t,r,n){(e*=2)<0&&(e=-1*e-1);var o=1<<t;return 32*(o*o*e+o*n+r)+t}Ol.prototype.equals=function(e){return this.overscaledZ===e.overscaledZ&&this.wrap===e.wrap&&this.canonical.equals(e.canonical)},Ol.prototype.scaledTo=function(e){var t=this.canonical.z-e;return e>this.canonical.z?new Ol(e,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Ol(e,this.wrap,e,this.canonical.x>>t,this.canonical.y>>t)},Ol.prototype.isChildOf=function(e){if(e.wrap!==this.wrap)return!1;var t=this.canonical.z-e.canonical.z;return 0===e.overscaledZ||e.overscaledZ<this.overscaledZ&&e.canonical.x===this.canonical.x>>t&&e.canonical.y===this.canonical.y>>t},Ol.prototype.children=function(e){if(this.overscaledZ>=e)return[new Ol(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var t=this.canonical.z+1,r=2*this.canonical.x,n=2*this.canonical.y;return[new Ol(t,this.wrap,t,r,n),new Ol(t,this.wrap,t,r+1,n),new Ol(t,this.wrap,t,r,n+1),new Ol(t,this.wrap,t,r+1,n+1)]},Ol.prototype.isLessThan=function(e){return this.wrap<e.wrap||!(this.wrap>e.wrap)&&(this.overscaledZ<e.overscaledZ||!(this.overscaledZ>e.overscaledZ)&&(this.canonical.x<e.canonical.x||!(this.canonical.x>e.canonical.x)&&this.canonical.y<e.canonical.y))},Ol.prototype.wrapped=function(){return new Ol(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},Ol.prototype.unwrapTo=function(e){return new Ol(this.overscaledZ,e,this.canonical.z,this.canonical.x,this.canonical.y)},Ol.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},Ol.prototype.toUnwrapped=function(){return new Tl(this.wrap,this.canonical)},Ol.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},Ol.prototype.getTilePoint=function(e){return this.canonical.getTilePoint(new Cl(e.x-this.wrap,e.y))},an("CanonicalTileID",kl),an("OverscaledTileID",Ol,{omit:["posMatrix"]});var Al=function(e,t,r){if(this.uid=e,t.height!==t.width)throw new RangeError("DEM tiles must be square");if(r&&"mapbox"!==r&&"terrarium"!==r)return w('"'+r+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');var n=this.dim=t.height;this.stride=this.dim+2,this.data=new Int32Array(this.stride*this.stride);for(var o=t.data,i="terrarium"===r?this._unpackTerrarium:this._unpackMapbox,a=0;a<n;a++)for(var s=0;s<n;s++){var l=4*(a*n+s);this.set(s,a,i(o[l],o[l+1],o[l+2]))}for(var u=0;u<n;u++)this.set(-1,u,this.get(0,u)),this.set(n,u,this.get(n-1,u)),this.set(u,-1,this.get(u,0)),this.set(u,n,this.get(u,n-1));this.set(-1,-1,this.get(0,0)),this.set(n,-1,this.get(n-1,0)),this.set(-1,n,this.get(0,n-1)),this.set(n,n,this.get(n-1,n-1))};Al.prototype.set=function(e,t,r){this.data[this._idx(e,t)]=r+65536},Al.prototype.get=function(e,t){return this.data[this._idx(e,t)]-65536},Al.prototype._idx=function(e,t){if(e<-1||e>=this.dim+1||t<-1||t>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(t+1)*this.stride+(e+1)},Al.prototype._unpackMapbox=function(e,t,r){return(256*e*256+256*t+r)/10-1e4},Al.prototype._unpackTerrarium=function(e,t,r){return 256*e+t+r/256-32768},Al.prototype.getPixels=function(){return new Ui({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Al.prototype.backfillBorder=function(e,t,r){if(this.dim!==e.dim)throw new Error("dem dimension mismatch");var n=t*this.dim,o=t*this.dim+this.dim,i=r*this.dim,a=r*this.dim+this.dim;switch(t){case-1:n=o-1;break;case 1:o=n+1}switch(r){case-1:i=a-1;break;case 1:a=i+1}for(var s=-t*this.dim,l=-r*this.dim,u=i;u<a;u++)for(var c=n;c<o;c++)this.set(c,u,e.get(c+s,u+l))},an("DEMData",Al);var Il=Vn([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);var Ml=function(e){this._stringToNumber={},this._numberToString=[];for(var t=0;t<e.length;t++){var r=e[t];this._stringToNumber[r]=t,this._numberToString[t]=r}};Ml.prototype.encode=function(e){return this._stringToNumber[e]},Ml.prototype.decode=function(e){return this._numberToString[e]};var Rl=function(e,t,r,n){this.type="Feature",this._vectorTileFeature=e,e._z=t,e._x=r,e._y=n,this.properties=e.properties,null!=e.id&&(this.id=e.id)},Ll={geometry:{configurable:!0}};Ll.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},Ll.geometry.set=function(e){this._geometry=e},Rl.prototype.toJSON=function(){var e={geometry:this.geometry};for(var t in this)"_geometry"!==t&&"_vectorTileFeature"!==t&&(e[t]=this[t]);return e},Object.defineProperties(Rl.prototype,Ll);var Dl=function(){this.state={},this.stateChanges={},this.deletedStates={}};Dl.prototype.updateState=function(e,t,r){var n=String(t);if(this.stateChanges[e]=this.stateChanges[e]||{},this.stateChanges[e][n]=this.stateChanges[e][n]||{},p(this.stateChanges[e][n],r),null===this.deletedStates[e])for(var o in this.deletedStates[e]={},this.state[e])o!==n&&(this.deletedStates[e][o]=null);else if(this.deletedStates[e]&&null===this.deletedStates[e][n])for(var i in this.deletedStates[e][n]={},this.state[e][n])r[i]||(this.deletedStates[e][n][i]=null);else for(var a in r){this.deletedStates[e]&&this.deletedStates[e][n]&&null===this.deletedStates[e][n][a]&&delete this.deletedStates[e][n][a]}},Dl.prototype.removeFeatureState=function(e,t,r){if(!(null===this.deletedStates[e])){var n=String(t);if(this.deletedStates[e]=this.deletedStates[e]||{},r&&t)null!==this.deletedStates[e][n]&&(this.deletedStates[e][n]=this.deletedStates[e][n]||{},this.deletedStates[e][n][r]=null);else if(t){if(this.stateChanges[e]&&this.stateChanges[e][n])for(r in this.deletedStates[e][n]={},this.stateChanges[e][n])this.deletedStates[e][n][r]=null;else this.deletedStates[e][n]=null}else this.deletedStates[e]=null}},Dl.prototype.getState=function(e,t){var r=String(t),n=this.state[e]||{},o=this.stateChanges[e]||{},i=p({},n[r],o[r]);if(null===this.deletedStates[e])return{};if(this.deletedStates[e]){var a=this.deletedStates[e][t];if(null===a)return{};for(var s in a)delete i[s]}return i},Dl.prototype.initializeTileState=function(e,t){e.setFeatureState(this.state,t)},Dl.prototype.coalesceChanges=function(e,t){var r={};for(var n in this.stateChanges){this.state[n]=this.state[n]||{};var o={};for(var i in this.stateChanges[n])this.state[n][i]||(this.state[n][i]={}),p(this.state[n][i],this.stateChanges[n][i]),o[i]=this.state[n][i];r[n]=o}for(var a in this.deletedStates){this.state[a]=this.state[a]||{};var s={};if(null===this.deletedStates[a]){for(var l in this.state[a])s[l]={};this.state[a]={}}else for(var u in this.deletedStates[a]){if(null===this.deletedStates[a][u])this.state[a][u]={};else for(var c=0,h=Object.keys(this.deletedStates[a][u]);c<h.length;c+=1){var f=h[c];delete this.state[a][u][f]}s[u]=this.state[a][u]}r[a]=r[a]||{},p(r[a],s)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(r).length)for(var d in e){e[d].setFeatureState(r,t)}};var jl=function(e,t,r){this.tileID=e,this.x=e.canonical.x,this.y=e.canonical.y,this.z=e.canonical.z,this.grid=t||new en(Yo,16,0),this.grid3D=new en(Yo,16,0),this.featureIndexArray=r||new Eo};function zl(e){for(var t=1/0,r=1/0,n=-1/0,o=-1/0,i=0,a=e;i<a.length;i+=1){var s=a[i];t=Math.min(t,s.x),r=Math.min(r,s.y),n=Math.max(n,s.x),o=Math.max(o,s.y)}return{minX:t,minY:r,maxX:n,maxY:o}}function Fl(e,t){return t-e}jl.prototype.insert=function(e,t,r,n,o,i){var a=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(r,n,o);for(var s=i?this.grid3D:this.grid,l=0;l<t.length;l++){for(var u=t[l],c=[1/0,1/0,-1/0,-1/0],p=0;p<u.length;p++){var h=u[p];c[0]=Math.min(c[0],h.x),c[1]=Math.min(c[1],h.y),c[2]=Math.max(c[2],h.x),c[3]=Math.max(c[3],h.y)}c[0]<Yo&&c[1]<Yo&&c[2]>=0&&c[3]>=0&&s.insert(a,c[0],c[1],c[2],c[3])}},jl.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new $a.VectorTile(new Zs(this.rawTileData)).layers,this.sourceLayerCoder=new Ml(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},jl.prototype.query=function(e,t,r){var n=this;this.loadVTLayers();for(var i=e.params||{},a=Yo/e.tileSize/e.scale,s=Or(i.filter),l=e.queryGeometry,u=e.queryPadding*a,c=zl(l),p=this.grid.query(c.minX-u,c.minY-u,c.maxX+u,c.maxY+u),h=zl(e.cameraQueryGeometry),f=this.grid3D.query(h.minX-u,h.minY-u,h.maxX+u,h.maxY+u,function(t,r,n,i){return function(e,t,r,n,i){for(var a=0,s=e;a<s.length;a+=1){var l=s[a];if(t<=l.x&&r<=l.y&&n>=l.x&&i>=l.y)return!0}var u=[new o(t,r),new o(t,i),new o(n,i),new o(n,r)];if(e.length>2)for(var c=0,p=u;c<p.length;c+=1)if(ci(e,p[c]))return!0;for(var h=0;h<e.length-1;h++)if(pi(e[h],e[h+1],u))return!0;return!1}(e.cameraQueryGeometry,t-u,r-u,n+u,i+u)}),d=0,m=f;d<m.length;d+=1){var y=m[d];p.push(y)}p.sort(Fl);for(var v,g={},_=function(o){var u=p[o];if(u!==v){v=u;var c=n.featureIndexArray.get(u),h=null;n.loadMatchingFeature(g,c.bucketIndex,c.sourceLayerIndex,c.featureIndex,s,i.layers,t,function(t,o){h||(h=Jo(t));var i={};return t.id&&(i=r.getState(o.sourceLayer||"_geojsonTileLayer",t.id)),o.queryIntersectsFeature(l,t,i,h,n.z,e.transform,a,e.pixelPosMatrix)})}},b=0;b<p.length;b++)_(b);return g},jl.prototype.loadMatchingFeature=function(e,t,r,n,o,i,a,s){var l=this.bucketLayerIDs[t];if(!i||function(e,t){for(var r=0;r<e.length;r++)if(t.indexOf(e[r])>=0)return!0;return!1}(i,l)){var u=this.sourceLayerCoder.decode(r),c=this.vtLayers[u].feature(n);if(o(new En(this.tileID.overscaledZ),c))for(var p=0;p<l.length;p++){var h=l[p];if(!(i&&i.indexOf(h)<0)){var f=a[h];if(f){var d=!s||s(c,f);if(d){var m=new Rl(c,this.z,this.x,this.y);m.layer=f.serialize();var y=e[h];void 0===y&&(y=e[h]=[]),y.push({featureIndex:n,feature:m,intersectionZ:d})}}}}}},jl.prototype.lookupSymbolFeatures=function(e,t,r,n,o,i){var a={};this.loadVTLayers();for(var s=Or(n),l=0,u=e;l<u.length;l+=1){var c=u[l];this.loadMatchingFeature(a,t,r,c,s,o,i)}return a},jl.prototype.hasLayer=function(e){for(var t=0,r=this.bucketLayerIDs;t<r.length;t+=1)for(var n=0,o=r[t];n<o.length;n+=1){if(e===o[n])return!0}return!1},an("FeatureIndex",jl,{omit:["rawTileData","sourceLayerCoder"]});var Nl=function(e,t){this.tileID=e,this.uid=f(),this.uses=0,this.tileSize=t,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.expiredRequestCount=0,this.state="loading"};Nl.prototype.registerFadeDuration=function(e){var t=e+this.timeAdded;t<I.now()||this.fadeEndTime&&t<this.fadeEndTime||(this.fadeEndTime=t)},Nl.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},Nl.prototype.loadVectorData=function(e,t,r){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",e){for(var n in e.featureIndex&&(this.latestFeatureIndex=e.featureIndex,e.rawTileData?(this.latestRawTileData=e.rawTileData,this.latestFeatureIndex.rawTileData=e.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=e.collisionBoxArray,this.buckets=function(e,t){var r={};if(!t)return r;for(var n=function(){var e=i[o],n=e.layerIds.map(function(e){return t.getLayer(e)}).filter(Boolean);if(0!==n.length){e.layers=n,e.stateDependentLayerIds&&(e.stateDependentLayers=e.stateDependentLayerIds.map(function(e){return n.filter(function(t){return t.id===e})[0]}));for(var a=0,s=n;a<s.length;a+=1){var l=s[a];r[l.id]=e}}},o=0,i=e;o<i.length;o+=1)n();return r}(e.buckets,t.style),this.hasSymbolBuckets=!1,this.buckets){var o=this.buckets[n];if(o instanceof Ts){if(this.hasSymbolBuckets=!0,!r)break;o.justReloaded=!0}}for(var i in this.queryPadding=0,this.buckets){var a=this.buckets[i];this.queryPadding=Math.max(this.queryPadding,t.style.getLayer(i).queryRadius(a))}e.imageAtlas&&(this.imageAtlas=e.imageAtlas),e.glyphAtlasImage&&(this.glyphAtlasImage=e.glyphAtlasImage)}else this.collisionBoxArray=new ho},Nl.prototype.unloadVectorData=function(){for(var e in this.buckets)this.buckets[e].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},Nl.prototype.unloadDEMData=function(){this.dem=null,this.neighboringTiles=null,this.state="unloaded"},Nl.prototype.getBucket=function(e){return this.buckets[e.id]},Nl.prototype.upload=function(e){for(var t in this.buckets){var r=this.buckets[t];r.uploadPending()&&r.upload(e)}var n=e.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Hs(e,this.imageAtlas.image,n.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Hs(e,this.glyphAtlasImage,n.ALPHA),this.glyphAtlasImage=null)},Nl.prototype.queryRenderedFeatures=function(e,t,r,n,o,i,a,s,l){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:r,cameraQueryGeometry:n,scale:o,tileSize:this.tileSize,pixelPosMatrix:l,transform:a,params:i,queryPadding:this.queryPadding*s},e,t):{}},Nl.prototype.querySourceFeatures=function(e,t){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData){var r=this.latestFeatureIndex.loadVTLayers(),n=t?t.sourceLayer:"",o=r._geojsonTileLayer||r[n];if(o)for(var i=Or(t&&t.filter),a=this.tileID.canonical,s=a.z,l=a.x,u=a.y,c={z:s,x:l,y:u},p=0;p<o.length;p++){var h=o.feature(p);if(i(new En(this.tileID.overscaledZ),h)){var f=new Rl(h,s,l,u);f.tile=c,e.push(f)}}}},Nl.prototype.clearMask=function(){this.segments&&(this.segments.destroy(),delete this.segments),this.maskedBoundsBuffer&&(this.maskedBoundsBuffer.destroy(),delete this.maskedBoundsBuffer),this.maskedIndexBuffer&&(this.maskedIndexBuffer.destroy(),delete this.maskedIndexBuffer)},Nl.prototype.setMask=function(e,t){if(!a(this.mask,e)&&(this.mask=e,this.clearMask(),!a(e,{0:!0}))){var r=new Hn,n=new ao;this.segments=new ko,this.segments.prepareSegment(0,r,n);for(var i=Object.keys(e),s=0;s<i.length;s++){var l=e[i[s]],u=Yo>>l.z,c=new o(l.x*u,l.y*u),p=new o(c.x+u,c.y+u),h=this.segments.prepareSegment(4,r,n);r.emplaceBack(c.x,c.y,c.x,c.y),r.emplaceBack(p.x,c.y,p.x,c.y),r.emplaceBack(c.x,p.y,c.x,p.y),r.emplaceBack(p.x,p.y,p.x,p.y);var f=h.vertexLength;n.emplaceBack(f,f+1,f+2),n.emplaceBack(f+1,f+2,f+3),h.vertexLength+=4,h.primitiveLength+=2}this.maskedBoundsBuffer=t.createVertexBuffer(r,Il.members),this.maskedIndexBuffer=t.createIndexBuffer(n)}},Nl.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},Nl.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},Nl.prototype.setExpiryData=function(e){var t=this.expirationTime;if(e.cacheControl){var r=function(e){var t={};if(e.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,function(e,r,n,o){var i=n||o;return t[r]=!i||i.toLowerCase(),""}),t["max-age"]){var r=parseInt(t["max-age"],10);isNaN(r)?delete t["max-age"]:t["max-age"]=r}return t}(e.cacheControl);r["max-age"]&&(this.expirationTime=Date.now()+1e3*r["max-age"])}else e.expires&&(this.expirationTime=new Date(e.expires).getTime());if(this.expirationTime){var n=Date.now(),o=!1;if(this.expirationTime>n)o=!1;else if(t)if(this.expirationTime<t)o=!0;else{var i=this.expirationTime-t;i?this.expirationTime=n+Math.max(i,3e4):o=!0}else o=!0;o?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},Nl.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},Nl.prototype.setFeatureState=function(e,t){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(e).length){var r=this.latestFeatureIndex.loadVTLayers();for(var n in this.buckets){var o=this.buckets[n],i=o.layers[0].sourceLayer||"_geojsonTileLayer",a=r[i],s=e[i];a&&s&&0!==Object.keys(s).length&&(o.update(s,a,this.imageAtlas&&this.imageAtlas.patternPositions||{}),t&&t.style&&(this.queryPadding=Math.max(this.queryPadding,t.style.getLayer(n).queryRadius(o))))}}},Nl.prototype.holdingForFade=function(){return void 0!==this.symbolFadeHoldUntil},Nl.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<I.now()},Nl.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},Nl.prototype.setHoldDuration=function(e){this.symbolFadeHoldUntil=I.now()+e};var Bl={horizontal:1,vertical:2,horizontalOnly:3},Ul=function(){this.text="",this.sectionIndex=[],this.sections=[]};Ul.fromFeature=function(e,t){for(var r=new Ul,n=0;n<e.sections.length;n++){var o=e.sections[n];r.sections.push({scale:o.scale||1,fontStack:o.fontStack||t}),r.text+=o.text;for(var i=0;i<o.text.length;i++)r.sectionIndex.push(n)}return r},Ul.prototype.length=function(){return this.text.length},Ul.prototype.getSection=function(e){return this.sections[this.sectionIndex[e]]},Ul.prototype.getCharCode=function(e){return this.text.charCodeAt(e)},Ul.prototype.verticalizePunctuation=function(){this.text=function(e){for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r+1)||null,o=e.charCodeAt(r-1)||null;n&&mn(n)&&!vs[e[r+1]]||o&&mn(o)&&!vs[e[r-1]]||!vs[e[r]]?t+=e[r]:t+=vs[e[r]]}return t}(this.text)},Ul.prototype.trim=function(){for(var e=0,t=0;t<this.text.length&&Vl[this.text.charCodeAt(t)];t++)e++;for(var r=this.text.length,n=this.text.length-1;n>=0&&n>=e&&Vl[this.text.charCodeAt(n)];n--)r--;this.text=this.text.substring(e,r),this.sectionIndex=this.sectionIndex.slice(e,r)},Ul.prototype.substring=function(e,t){var r=new Ul;return r.text=this.text.substring(e,t),r.sectionIndex=this.sectionIndex.slice(e,t),r.sections=this.sections,r},Ul.prototype.toString=function(){return this.text},Ul.prototype.getMaxScale=function(){var e=this;return this.sectionIndex.reduce(function(t,r){return Math.max(t,e.sections[r].scale)},0)};var Vl={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Gl={};function ql(e,t,r,n){var o=Math.pow(e-t,2);return n?e<t?o/2:2*o:o+Math.abs(r)*r}function Hl(e,t){var r=0;return 10===e&&(r-=1e4),40!==e&&65288!==e||(r+=50),41!==t&&65289!==t||(r+=50),r}function Wl(e,t,r,n,o,i){for(var a=null,s=ql(t,r,o,i),l=0,u=n;l<u.length;l+=1){var c=u[l],p=ql(t-c.x,r,o,i)+c.badness;p<=s&&(a=c,s=p)}return{index:e,x:t,priorBreak:a,badness:s}}function Xl(e,t,r,n){if(!r)return[];if(!e)return[];for(var o,i=[],a=function(e,t,r,n){for(var o=0,i=0;i<e.length();i++){var a=e.getSection(i),s=n[a.fontStack],l=s&&s[e.getCharCode(i)];l&&(o+=l.metrics.advance*a.scale+t)}return o/Math.max(1,Math.ceil(o/r))}(e,t,r,n),s=0,l=0;l<e.length();l++){var u=e.getSection(l),c=e.getCharCode(l),p=n[u.fontStack],h=p&&p[c];h&&!Vl[c]&&(s+=h.metrics.advance*u.scale+t),l<e.length()-1&&(Gl[c]||!((o=c)<11904)&&(pn["Bopomofo Extended"](o)||pn.Bopomofo(o)||pn["CJK Compatibility Forms"](o)||pn["CJK Compatibility Ideographs"](o)||pn["CJK Compatibility"](o)||pn["CJK Radicals Supplement"](o)||pn["CJK Strokes"](o)||pn["CJK Symbols and Punctuation"](o)||pn["CJK Unified Ideographs Extension A"](o)||pn["CJK Unified Ideographs"](o)||pn["Enclosed CJK Letters and Months"](o)||pn["Halfwidth and Fullwidth Forms"](o)||pn.Hiragana(o)||pn["Ideographic Description Characters"](o)||pn["Kangxi Radicals"](o)||pn["Katakana Phonetic Extensions"](o)||pn.Katakana(o)||pn["Vertical Forms"](o)||pn["Yi Radicals"](o)||pn["Yi Syllables"](o)))&&i.push(Wl(l+1,s,a,i,Hl(c,e.getCharCode(l+1)),!1))}return function e(t){return t?e(t.priorBreak).concat(t.index):[]}(Wl(e.length(),s,a,i,0,!0))}function Zl(e){var t=.5,r=.5;switch(e){case"right":case"top-right":case"bottom-right":t=1;break;case"left":case"top-left":case"bottom-left":t=0}switch(e){case"bottom":case"bottom-right":case"bottom-left":r=1;break;case"top":case"top-right":case"top-left":r=0}return{horizontalAlign:t,verticalAlign:r}}function Yl(e,t,r,n,o){if(o){var i=e[n],a=t[i.fontStack],s=a&&a[i.glyph];if(s)for(var l=s.metrics.advance*i.scale,u=(e[n].x+l)*o,c=r;c<=n;c++)e[c].x-=u}}Gl[10]=!0,Gl[32]=!0,Gl[38]=!0,Gl[40]=!0,Gl[41]=!0,Gl[43]=!0,Gl[45]=!0,Gl[47]=!0,Gl[173]=!0,Gl[183]=!0,Gl[8203]=!0,Gl[8208]=!0,Gl[8211]=!0,Gl[8231]=!0,e.createCommonjsModule=t,e.window=self,e.Point=o,e.browser=I,e.getJSON=function(e,t){return ie(p(e,{type:"json"}),t)},e.normalizeSpriteURL=function(e,t,r,n){var o=W(e);return N(e)?(o.path="/styles/v1"+o.path+"/sprite"+t+r,F(o,n)):(o.path+=""+t+r,X(o))},e.ResourceType=te,e.getImage=ce,e.RGBAImage=Ui,e.ImagePosition=Fs,e.Texture=Hs,e.potpack=zs,e.normalizeGlyphsURL=function(e,t){if(!N(e))return e;var r=W(e);return r.path="/fonts/v1"+r.path,F(r,t)},e.getArrayBuffer=ae,e.parseGlyphPBF=function(e){return new Zs(e).readFields(hl,[])},e.asyncAll=function(e,t,r){if(!e.length)return r(null,[]);var n=e.length,o=new Array(e.length),i=null;e.forEach(function(e,a){t(e,function(e,t){e&&(i=e),o[a]=t,0===--n&&r(i,o)})})},e.isChar=pn,e.AlphaImage=Bi,e.Properties=zn,e.DataConstantProperty=Mn,e.styleSpec=ye,e.validateLight=Kr,e.endsWith=v,e.emitValidationErrors=Qr,e.validateStyle=Yr,e.extend=p,e.Evented=me,e.sphericalToCartesian=function(e){var t=e[0],r=e[1],n=e[2];return r+=90,r*=Math.PI/180,n*=Math.PI/180,{x:t*Math.cos(r)*Math.sin(n),y:t*Math.sin(r)*Math.sin(n),z:t*Math.cos(n)}},e.number=ut,e.Transitionable=kn,e.warnOnce=w,e.uniqueId=f,e.Actor=yl,e.normalizeSourceURL=function(e,t){if(!N(e))return e;var r=W(e);return r.path="/v4/"+r.authority+".json",r.params.push("secure"),F(r,t)},e.pick=function(e,t){for(var r={},n=0;n<t.length;n++){var o=t[n];o in e&&(r[o]=e[o])}return r},e.canonicalizeTileset=function(e,t){if(!N(t))return e.tiles||[];for(var r=[],n=0,o=e.tiles;n<o.length;n+=1){var i=o[n],a=q(i);r.push(a)}return r},e.LngLatBounds=gl,e.mercatorXfromLng=xl,e.mercatorYfromLat=wl,e.Event=fe,e.ErrorEvent=de,e.postTurnstileEvent=J,e.postMapLoadEvent=ee,e.normalizeTileURL=function(e,t,r){if(!t||!N(t))return e;var n=W(e),o=I.devicePixelRatio>=2||512===r?"@2x":"",i=R.supported?".webp":"$1";return n.path=n.path.replace(V,""+o+i),n.path="/v4"+n.path,F(n)},e.OverscaledTileID=Ol,e.EXTENT=Yo,e.MercatorCoordinate=Cl,e.CanonicalTileID=kl,e.StructArrayLayout4i8=Hn,e.rasterBoundsAttributes=Il,e.SegmentVector=ko,e.getVideo=function(e,t){var r,n,o=self.document.createElement("video");o.muted=!0,o.onloadstart=function(){t(null,o)};for(var i=0;i<e.length;i++){var a=self.document.createElement("source");r=e[i],n=void 0,(n=self.document.createElement("a")).href=r,(n.protocol!==self.document.location.protocol||n.host!==self.document.location.host)&&(o.crossOrigin="Anonymous"),a.src=e[i],o.appendChild(a)}return{cancel:function(){}}},e.ValidationError=ve,e.bindAll=y,e.multiply=function(e,t,r){var n=t[0],o=t[1],i=t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],p=t[8],h=t[9],f=t[10],d=t[11],m=t[12],y=t[13],v=t[14],g=t[15],_=r[0],b=r[1],x=r[2],w=r[3];return e[0]=_*n+b*s+x*p+w*m,e[1]=_*o+b*l+x*h+w*y,e[2]=_*i+b*u+x*f+w*v,e[3]=_*a+b*c+x*d+w*g,_=r[4],b=r[5],x=r[6],w=r[7],e[4]=_*n+b*s+x*p+w*m,e[5]=_*o+b*l+x*h+w*y,e[6]=_*i+b*u+x*f+w*v,e[7]=_*a+b*c+x*d+w*g,_=r[8],b=r[9],x=r[10],w=r[11],e[8]=_*n+b*s+x*p+w*m,e[9]=_*o+b*l+x*h+w*y,e[10]=_*i+b*u+x*f+w*v,e[11]=_*a+b*c+x*d+w*g,_=r[12],b=r[13],x=r[14],w=r[15],e[12]=_*n+b*s+x*p+w*m,e[13]=_*o+b*l+x*h+w*y,e[14]=_*i+b*u+x*f+w*v,e[15]=_*a+b*c+x*d+w*g,e},e.identity=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},e.translate=function(e,t,r){var n,o,i,a,s,l,u,c,p,h,f,d,m=r[0],y=r[1],v=r[2];return t===e?(e[12]=t[0]*m+t[4]*y+t[8]*v+t[12],e[13]=t[1]*m+t[5]*y+t[9]*v+t[13],e[14]=t[2]*m+t[6]*y+t[10]*v+t[14],e[15]=t[3]*m+t[7]*y+t[11]*v+t[15]):(n=t[0],o=t[1],i=t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],p=t[8],h=t[9],f=t[10],d=t[11],e[0]=n,e[1]=o,e[2]=i,e[3]=a,e[4]=s,e[5]=l,e[6]=u,e[7]=c,e[8]=p,e[9]=h,e[10]=f,e[11]=d,e[12]=n*m+s*y+p*v+t[12],e[13]=o*m+l*y+h*v+t[13],e[14]=i*m+u*y+f*v+t[14],e[15]=a*m+c*y+d*v+t[15]),e},e.scale=function(e,t,r){var n=r[0],o=r[1],i=r[2];return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*o,e[5]=t[5]*o,e[6]=t[6]*o,e[7]=t[7]*o,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},e.Color=Fe,e.isEqual=a,e.keysDifference=function(e,t){var r=[];for(var n in e)n in t||r.push(n);return r},e.Tile=Nl,e.SourceFeatureState=Dl,e.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],e.rotateZ=function(e,t,r){var n=Math.sin(r),o=Math.cos(r),i=t[0],a=t[1],s=t[2],l=t[3],u=t[4],c=t[5],p=t[6],h=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*o+u*n,e[1]=a*o+c*n,e[2]=s*o+p*n,e[3]=l*o+h*n,e[4]=u*o-i*n,e[5]=c*o-a*n,e[6]=p*o-s*n,e[7]=h*o-l*n,e},e.evaluateSizeForZoom=function(e,t,r){if("constant"===e.functionType)return{uSizeT:0,uSize:e.layoutSize};if("source"===e.functionType)return{uSizeT:0,uSize:0};if("camera"===e.functionType){var n=e.propertyValue,o=e.zoomRange,i=e.sizeRange,a=u(_r(n,r.specification).interpolationFactor(t,o.min,o.max),0,1);return{uSizeT:0,uSize:i.min+a*(i.max-i.min)}}var s=e.propertyValue,l=e.zoomRange;return{uSizeT:u(_r(s,r.specification).interpolationFactor(t,l.min,l.max),0,1),uSize:0}},e.WritingMode=Bl,e.transformMat4=Si,e.evaluateSizeForFeature=function(e,t,r){var n=t;return"source"===e.functionType?r.lowerSize/_s:"composite"===e.functionType?ut(r.lowerSize/_s,r.upperSize/_s,n.uSizeT):n.uSize},e.addDynamicAttributes=Ss,e.properties=Ps,e.polygonIntersectsPolygon=ti,e.isMapboxURL=N,e.normalizeStyleURL=function(e,t){if(!N(e))return e;var r=W(e);return r.path="/styles/v1"+r.path,F(r,t)},e.createStyleLayer=function(e){return"custom"===e.type?new Ds(e):new js[e.type](e)},e.clone=b,e.validateCustomStyleLayer=function(e){var t=[],r=e.id;return void 0===r&&t.push({message:"layers."+r+': missing required property "id"'}),void 0===e.render&&t.push({message:"layers."+r+': missing required method "render"'}),e.renderingMode&&"2d"!==e.renderingMode&&"3d"!==e.renderingMode&&t.push({message:"layers."+r+': property "renderingMode" must be either "2d" or "3d"'}),t},e.filterObject=_,e.mapObject=g,e.evented=xn,e.makeRequest=ie,e.registerForPluginAvailability=function(e){return _n?e({pluginURL:_n,completionCallback:vn}):xn.once("pluginAvailable",e),e},e.ZoomHistory=cn,e.getReferrer=oe,e.createLayout=Vn,e.UniformMatrix4f=Fo,e.Uniform3f=Lo,e.Uniform1f=Mo,e.Uniform1i=Io,e.Uniform2f=Ro,e.Uniform4f=Do,e.create=gi,e.fromRotation=function(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=0,e[3]=-r,e[4]=n,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},e.transformMat3=function(e,t,r){var n=t[0],o=t[1],i=t[2];return e[0]=n*r[0]+o*r[3]+i*r[6],e[1]=n*r[1]+o*r[4]+i*r[7],e[2]=n*r[2]+o*r[5]+i*r[8],e},e.create$1=function(){var e=new vi(16);return vi!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e},e.ortho=function(e,t,r,n,o,i,a){var s=1/(t-r),l=1/(n-o),u=1/(i-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*u,e[11]=0,e[12]=(t+r)*s,e[13]=(o+n)*l,e[14]=(a+i)*u,e[15]=1,e},e.UniformColor=jo,e.clamp=u,e.StructArrayLayout2i4=qn,e.StructArrayLayout2ui4=so,e.ProgramConfiguration=Ho,e.StructArrayLayout1ui2=lo,e.StructArrayLayout3ui6=ao,e.wrap=c,e.create$2=function(){var e=new vi(4);return vi!=Float32Array&&(e[1]=0,e[2]=0),e[0]=1,e[3]=1,e},e.rotate=function(e,t,r){var n=t[0],o=t[1],i=t[2],a=t[3],s=Math.sin(r),l=Math.cos(r);return e[0]=n*l+i*s,e[1]=o*l+a*s,e[2]=n*-s+i*l,e[3]=o*-s+a*l,e},e.LngLat=_l,e.UnwrappedTileID=Tl,e.perspective=function(e,t,r,n,o){var i,a=1/Math.tan(t/2);return e[0]=a/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=o&&o!==1/0?(i=1/(n-o),e[10]=(o+n)*i,e[14]=2*o*n*i):(e[10]=-1,e[14]=-2*n),e},e.rotateX=function(e,t,r){var n=Math.sin(r),o=Math.cos(r),i=t[4],a=t[5],s=t[6],l=t[7],u=t[8],c=t[9],p=t[10],h=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=i*o+u*n,e[5]=a*o+c*n,e[6]=s*o+p*n,e[7]=l*o+h*n,e[8]=u*o-i*n,e[9]=c*o-a*n,e[10]=p*o-s*n,e[11]=h*o-l*n,e},e.mercatorZfromAltitude=El,e.invert=function(e,t){var r=t[0],n=t[1],o=t[2],i=t[3],a=t[4],s=t[5],l=t[6],u=t[7],c=t[8],p=t[9],h=t[10],f=t[11],d=t[12],m=t[13],y=t[14],v=t[15],g=r*s-n*a,_=r*l-o*a,b=r*u-i*a,x=n*l-o*s,w=n*u-i*s,E=o*u-i*l,S=c*m-p*d,C=c*y-h*d,k=c*v-f*d,T=p*y-h*m,O=p*v-f*m,P=h*v-f*y,A=g*P-_*O+b*T+x*k-w*C+E*S;return A?(A=1/A,e[0]=(s*P-l*O+u*T)*A,e[1]=(o*O-n*P-i*T)*A,e[2]=(m*E-y*w+v*x)*A,e[3]=(h*w-p*E-f*x)*A,e[4]=(l*k-a*P-u*C)*A,e[5]=(r*P-o*k+i*C)*A,e[6]=(y*b-d*E-v*_)*A,e[7]=(c*E-h*b+f*_)*A,e[8]=(a*O-s*k+u*S)*A,e[9]=(n*k-r*O-i*S)*A,e[10]=(d*w-m*b+v*g)*A,e[11]=(p*b-c*w-f*g)*A,e[12]=(s*C-a*T-l*S)*A,e[13]=(r*T-n*C+o*S)*A,e[14]=(m*_-d*x-y*g)*A,e[15]=(c*x-p*_+h*g)*A,e):null},e.ease=l,e.bezier=s,e.config=M,e.webpSupported=R,e.EvaluationParameters=En,e.version="0.53.1",e.setRTLTextPlugin=function(e,t){if(gn)throw new Error("setRTLTextPlugin cannot be called multiple times.");gn=!0,_n=I.resolveURL(e),vn=function(e){e?(gn=!1,_n=null,t&&t(e)):bn=!0},xn.fire(new fe("pluginAvailable",{pluginURL:_n,completionCallback:vn}))},e.featureFilter=Or,e.values=function(e){var t=[];for(var r in e)t.push(e[r]);return t},e.Anchor=gs,e.GLYPH_PBF_BORDER=ml,e.distToSegmentSquared=li,e.allowsLetterSpacing=function(e){for(var t=0,r=e;t<r.length;t+=1)if(!fn(r[t].charCodeAt(0)))return!1;return!0},e.shapeText=function(e,t,r,n,o,i,a,s,l,u,c){var p=Ul.fromFeature(e,r);c===Bl.vertical&&p.verticalizePunctuation();var h,f=[],d={positionedGlyphs:f,text:p,top:l[1],bottom:l[1],left:l[0],right:l[0],writingMode:c},m=wn.processBidirectionalText,y=wn.processStyledBidirectionalText;if(m&&1===p.sections.length){h=[];for(var v=0,g=m(p.toString(),Xl(p,s,n,t));v<g.length;v+=1){var _=g[v],b=new Ul;b.text=_,b.sections=p.sections;for(var x=0;x<_.length;x++)b.sectionIndex.push(0);h.push(b)}}else if(y){h=[];for(var w=0,E=y(p.text,p.sectionIndex,Xl(p,s,n,t));w<E.length;w+=1){var S=E[w],C=new Ul;C.text=S[0],C.sectionIndex=S[1],C.sections=p.sections,h.push(C)}}else h=function(e,t){for(var r=[],n=e.text,o=0,i=0,a=t;i<a.length;i+=1){var s=a[i];r.push(e.substring(o,s)),o=s}return o<n.length&&r.push(e.substring(o,n.length)),r}(p,Xl(p,s,n,t));return function(e,t,r,n,o,i,a,s,l){for(var u=0,c=-17,p=0,h=e.positionedGlyphs,f="right"===i?1:"left"===i?0:.5,d=0,m=r;d<m.length;d+=1){var y=m[d];y.trim();var v=y.getMaxScale();if(y.length()){for(var g=h.length,_=0;_<y.length();_++){var b=y.getSection(_),x=y.getCharCode(_),w=24*(v-b.scale),E=t[b.fontStack],S=E&&E[x];S&&(dn(x)&&a!==Bl.horizontal?(h.push({glyph:x,x:u,y:w,vertical:!0,scale:b.scale,fontStack:b.fontStack}),u+=l*b.scale+s):(h.push({glyph:x,x:u,y:c+w,vertical:!1,scale:b.scale,fontStack:b.fontStack}),u+=S.metrics.advance*b.scale+s))}if(h.length!==g){var C=u-s;p=Math.max(C,p),Yl(h,t,g,h.length-1,f)}u=0,c+=n*v}else c+=n}var k=Zl(o),T=k.horizontalAlign,O=k.verticalAlign;!function(e,t,r,n,o,i,a){for(var s=(t-r)*o,l=(-n*a+.5)*i,u=0;u<e.length;u++)e[u].x+=s,e[u].y+=l}(h,f,T,O,p,n,r.length);var P=c- -17;e.top+=-O*P,e.bottom=e.top+P,e.left+=-T*p,e.right=e.left+p}(d,t,h,o,i,a,c,s,u),!!f.length&&(d.text=d.text.toString(),d)},e.allowsVerticalWritingMode=hn,e.shapeIcon=function(e,t,r){var n=Zl(r),o=n.horizontalAlign,i=n.verticalAlign,a=t[0],s=t[1],l=a-e.displaySize[0]*o,u=l+e.displaySize[0],c=s-e.displaySize[1]*i;return{image:e,top:c,bottom:c+e.displaySize[1],left:l,right:u}},e.classifyRings=Ea,e.SIZE_PACK_FACTOR=_s,e.SymbolBucket=Ts,e.register=an,e.CollisionBoxArray=ho,e.DictionaryCoder=Ml,e.FeatureIndex=jl,e.ImageAtlas=Bs,e.LineBucket=os,e.FillBucket=Ta,e.FillExtrusionBucket=La,e.mvt=$a,e.Protobuf=Zs,e.DEMData=Al,e.vectorTile=$a,e.Point$1=o,e.pbf=Zs,e.createExpression=dr,e.plugin=wn}),n(0,function(e){function t(e){var r=typeof e;if("number"===r||"boolean"===r||"string"===r||void 0===e||null===e)return JSON.stringify(e);if(Array.isArray(e)){for(var n="[",o=0,i=e;o<i.length;o+=1){n+=t(i[o])+","}return n+"]"}for(var a=Object.keys(e).sort(),s="{",l=0;l<a.length;l++)s+=JSON.stringify(a[l])+":"+t(e[a[l]])+",";return s+"}"}function r(r){for(var n="",o=0,i=e.refProperties;o<i.length;o+=1){n+="/"+t(r[i[o]])}return n}var n=function(e){e&&this.replace(e)};function o(e,t,r,n,o){if(void 0===t.segment)return!0;for(var i=t,a=t.segment+1,s=0;s>-r/2;){if(--a<0)return!1;s-=e[a].dist(i),i=e[a]}s+=e[a].dist(e[a+1]),a++;for(var l=[],u=0;s<r/2;){var c=e[a-1],p=e[a],h=e[a+1];if(!h)return!1;var f=c.angleTo(p)-p.angleTo(h);for(f=Math.abs((f+3*Math.PI)%(2*Math.PI)-Math.PI),l.push({distance:s,angleDelta:f}),u+=f;s-l[0].distance>n;)u-=l.shift().angleDelta;if(u>o)return!1;a++,s+=p.dist(h)}return!0}function i(e){for(var t=0,r=0;r<e.length-1;r++)t+=e[r].dist(e[r+1]);return t}function a(e,t,r){return e?.6*t*r:0}function s(e,t){return Math.max(e?e.right-e.left:0,t?t.right-t.left:0)}function l(t,r,n,l,u,c){for(var p=a(n,u,c),h=s(n,l)*c,f=0,d=i(t)/2,m=0;m<t.length-1;m++){var y=t[m],v=t[m+1],g=y.dist(v);if(f+g>d){var _=(d-f)/g,b=e.number(y.x,v.x,_),x=e.number(y.y,v.y,_),w=new e.Anchor(b,x,v.angleTo(y),m);return w._round(),!p||o(t,w,h,p,r)?w:void 0}f+=g}}function u(t,r,n,l,u,c,p,h,f){var d=a(l,c,p),m=s(l,u),y=m*p,v=0===t[0].x||t[0].x===f||0===t[0].y||t[0].y===f;return r-y<r/4&&(r=y+r/4),function t(r,n,a,s,l,u,c,p,h){var f=u/2;var d=i(r);var m=0,y=n-a;var v=[];for(var g=0;g<r.length-1;g++){for(var _=r[g],b=r[g+1],x=_.dist(b),w=b.angleTo(_);y+a<m+x;){var E=((y+=a)-m)/x,S=e.number(_.x,b.x,E),C=e.number(_.y,b.y,E);if(S>=0&&S<h&&C>=0&&C<h&&y-f>=0&&y+f<=d){var k=new e.Anchor(S,C,w,g);k._round(),s&&!o(r,k,u,s,l)||v.push(k)}}m+=x}p||v.length||c||(v=t(r,m/2,a,s,l,u,c,!0,h));return v}(t,v?r/2*h%r:(m/2+2*c)*p*h%r,r,d,n,y,v,!1,f)}n.prototype.replace=function(e){this._layerConfigs={},this._layers={},this.update(e,[])},n.prototype.update=function(t,n){for(var o=this,i=0,a=t;i<a.length;i+=1){var s=a[i];this._layerConfigs[s.id]=s;var l=this._layers[s.id]=e.createStyleLayer(s);l._featureFilter=e.featureFilter(l.filter)}for(var u=0,c=n;u<c.length;u+=1){var p=c[u];delete this._layerConfigs[p],delete this._layers[p]}this.familiesBySource={};for(var h=0,f=function(e){for(var t={},n=0;n<e.length;n++){var o=r(e[n]),i=t[o];i||(i=t[o]=[]),i.push(e[n])}var a=[];for(var s in t)a.push(t[s]);return a}(e.values(this._layerConfigs));h<f.length;h+=1){var d=f[h].map(function(e){return o._layers[e.id]}),m=d[0];if("none"!==m.visibility){var y=m.source||"",v=this.familiesBySource[y];v||(v=this.familiesBySource[y]={});var g=m.sourceLayer||"_geojsonTileLayer",_=v[g];_||(_=v[g]=[]),_.push(d)}}};var c=function(t,r,n,o,i,a,s,l,u,c,p,h){var f=s.top*l-u,d=s.bottom*l+u,m=s.left*l-u,y=s.right*l+u;if(this.boxStartIndex=t.length,c){var v=d-f,g=y-m;v>0&&(v=Math.max(10*l,v),this._addLineCollisionCircles(t,r,n,n.segment,g,v,o,i,a,p))}else{if(h){var _=new e.Point(m,f),b=new e.Point(y,f),x=new e.Point(m,d),w=new e.Point(y,d),E=h*Math.PI/180;_._rotate(E),b._rotate(E),x._rotate(E),w._rotate(E),m=Math.min(_.x,b.x,x.x,w.x),y=Math.max(_.x,b.x,x.x,w.x),f=Math.min(_.y,b.y,x.y,w.y),d=Math.max(_.y,b.y,x.y,w.y)}t.emplaceBack(n.x,n.y,m,f,y,d,o,i,a,0,0)}this.boxEndIndex=t.length};c.prototype._addLineCollisionCircles=function(e,t,r,n,o,i,a,s,l,u){var c=i/2,p=Math.floor(o/c)||1,h=1+.4*Math.log(u)/Math.LN2,f=Math.floor(p*h/2),d=-i/2,m=r,y=n+1,v=d,g=-o/2,_=g-o/4;do{if(--y<0){if(v>g)return;y=0;break}v-=t[y].dist(m),m=t[y]}while(v>_);for(var b=t[y].dist(t[y+1]),x=-f;x<p+f;x++){var w=x*c,E=g+w;if(w<0&&(E+=w),w>o&&(E+=w-o),!(E<v)){for(;v+b<E;){if(v+=b,++y+1>=t.length)return;b=t[y].dist(t[y+1])}var S=E-v,C=t[y],k=t[y+1].sub(C)._unit()._mult(S)._add(C)._round(),T=Math.abs(E-d)<c?0:.8*(E-d);e.emplaceBack(k.x,k.y,-i/2,-i/2,i/2,i/2,a,s,l,i/2,T)}}};var p=function(e,t){if(void 0===e&&(e=[]),void 0===t&&(t=h),this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(var r=(this.length>>1)-1;r>=0;r--)this._down(r)};function h(e,t){return e<t?-1:e>t?1:0}function f(t,r,n){void 0===r&&(r=1),void 0===n&&(n=!1);for(var o=1/0,i=1/0,a=-1/0,s=-1/0,l=t[0],u=0;u<l.length;u++){var c=l[u];(!u||c.x<o)&&(o=c.x),(!u||c.y<i)&&(i=c.y),(!u||c.x>a)&&(a=c.x),(!u||c.y>s)&&(s=c.y)}var h=a-o,f=s-i,y=Math.min(h,f),v=y/2,g=new p([],d);if(0===y)return new e.Point(o,i);for(var _=o;_<a;_+=y)for(var b=i;b<s;b+=y)g.push(new m(_+v,b+v,v,t));for(var x=function(e){for(var t=0,r=0,n=0,o=e[0],i=0,a=o.length,s=a-1;i<a;s=i++){var l=o[i],u=o[s],c=l.x*u.y-u.x*l.y;r+=(l.x+u.x)*c,n+=(l.y+u.y)*c,t+=3*c}return new m(r/t,n/t,0,e)}(t),w=g.length;g.length;){var E=g.pop();(E.d>x.d||!x.d)&&(x=E,n&&console.log("found best %d after %d probes",Math.round(1e4*E.d)/1e4,w)),E.max-x.d<=r||(v=E.h/2,g.push(new m(E.p.x-v,E.p.y-v,v,t)),g.push(new m(E.p.x+v,E.p.y-v,v,t)),g.push(new m(E.p.x-v,E.p.y+v,v,t)),g.push(new m(E.p.x+v,E.p.y+v,v,t)),w+=4)}return n&&(console.log("num probes: "+w),console.log("best distance: "+x.d)),x.p}function d(e,t){return t.max-e.max}function m(t,r,n,o){this.p=new e.Point(t,r),this.h=n,this.d=function(t,r){for(var n=!1,o=1/0,i=0;i<r.length;i++)for(var a=r[i],s=0,l=a.length,u=l-1;s<l;u=s++){var c=a[s],p=a[u];c.y>t.y!==p.y>t.y&&t.x<(p.x-c.x)*(t.y-c.y)/(p.y-c.y)+c.x&&(n=!n),o=Math.min(o,e.distToSegmentSquared(t,c,p))}return(n?1:-1)*Math.sqrt(o)}(this.p,o),this.max=this.d+this.h*Math.SQRT2}p.prototype.push=function(e){this.data.push(e),this.length++,this._up(this.length-1)},p.prototype.pop=function(){if(0!==this.length){var e=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),e}},p.prototype.peek=function(){return this.data[0]},p.prototype._up=function(e){for(var t=this.data,r=this.compare,n=t[e];e>0;){var o=e-1>>1,i=t[o];if(r(n,i)>=0)break;t[e]=i,e=o}t[e]=n},p.prototype._down=function(e){for(var t=this.data,r=this.compare,n=this.length>>1,o=t[e];e<n;){var i=1+(e<<1),a=t[i],s=i+1;if(s<this.length&&r(t[s],a)<0&&(i=s,a=t[s]),r(a,o)>=0)break;t[e]=a,e=i}t[e]=o};var y=e.createCommonjsModule(function(e){e.exports=function(e,t){var r,n,o,i,a,s,l,u;for(r=3&e.length,n=e.length-r,o=t,a=3432918353,s=461845907,u=0;u<n;)l=255&e.charCodeAt(u)|(255&e.charCodeAt(++u))<<8|(255&e.charCodeAt(++u))<<16|(255&e.charCodeAt(++u))<<24,++u,o=27492+(65535&(i=5*(65535&(o=(o^=l=(65535&(l=(l=(65535&l)*a+(((l>>>16)*a&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295)<<13|o>>>19))+((5*(o>>>16)&65535)<<16)&4294967295))+((58964+(i>>>16)&65535)<<16);switch(l=0,r){case 3:l^=(255&e.charCodeAt(u+2))<<16;case 2:l^=(255&e.charCodeAt(u+1))<<8;case 1:o^=l=(65535&(l=(l=(65535&(l^=255&e.charCodeAt(u)))*a+(((l>>>16)*a&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295}return o^=e.length,o=2246822507*(65535&(o^=o>>>16))+((2246822507*(o>>>16)&65535)<<16)&4294967295,o=3266489909*(65535&(o^=o>>>13))+((3266489909*(o>>>16)&65535)<<16)&4294967295,(o^=o>>>16)>>>0}}),v=y,g=y,_=e.createCommonjsModule(function(e){e.exports=function(e,t){for(var r,n=e.length,o=t^n,i=0;n>=4;)r=1540483477*(65535&(r=255&e.charCodeAt(i)|(255&e.charCodeAt(++i))<<8|(255&e.charCodeAt(++i))<<16|(255&e.charCodeAt(++i))<<24))+((1540483477*(r>>>16)&65535)<<16),o=1540483477*(65535&o)+((1540483477*(o>>>16)&65535)<<16)^(r=1540483477*(65535&(r^=r>>>24))+((1540483477*(r>>>16)&65535)<<16)),n-=4,++i;switch(n){case 3:o^=(255&e.charCodeAt(i+2))<<16;case 2:o^=(255&e.charCodeAt(i+1))<<8;case 1:o=1540483477*(65535&(o^=255&e.charCodeAt(i)))+((1540483477*(o>>>16)&65535)<<16)}return o=1540483477*(65535&(o^=o>>>13))+((1540483477*(o>>>16)&65535)<<16),(o^=o>>>15)>>>0}});function b(t,r,n,o,i,a){t.createArrays();var s=512*t.overscaling;t.tilePixelRatio=e.EXTENT/s,t.compareText={},t.iconsNeedLinear=!1;var l=t.layers[0].layout,u=t.layers[0]._unevaluatedLayout._values,c={};if("composite"===t.textSizeData.functionType){var p=t.textSizeData.zoomRange,h=p.min,f=p.max;c.compositeTextSizes=[u["text-size"].possiblyEvaluate(new e.EvaluationParameters(h)),u["text-size"].possiblyEvaluate(new e.EvaluationParameters(f))]}if("composite"===t.iconSizeData.functionType){var d=t.iconSizeData.zoomRange,m=d.min,y=d.max;c.compositeIconSizes=[u["icon-size"].possiblyEvaluate(new e.EvaluationParameters(m)),u["icon-size"].possiblyEvaluate(new e.EvaluationParameters(y))]}c.layoutTextSize=u["text-size"].possiblyEvaluate(new e.EvaluationParameters(t.zoom+1)),c.layoutIconSize=u["icon-size"].possiblyEvaluate(new e.EvaluationParameters(t.zoom+1)),c.textMaxSize=u["text-size"].possiblyEvaluate(new e.EvaluationParameters(18));for(var v=24*l.get("text-line-height"),g="map"===l.get("text-rotation-alignment")&&"point"!==l.get("symbol-placement"),_=l.get("text-keep-upright"),b=0,w=t.features;b<w.length;b+=1){var E=w[b],S=l.get("text-font").evaluate(E,{}).join(","),C=n,k={},T=E.text;if(T){var O=T.toString(),P=l.get("text-offset").evaluate(E,{}).map(function(e){return 24*e}),A=24*l.get("text-letter-spacing").evaluate(E,{}),I=e.allowsLetterSpacing(O)?A:0,M=l.get("text-anchor").evaluate(E,{}),R=l.get("text-justify").evaluate(E,{}),L="point"===l.get("symbol-placement")?24*l.get("text-max-width").evaluate(E,{}):0;k.horizontal=e.shapeText(T,r,S,L,v,M,R,I,P,24,e.WritingMode.horizontal),e.allowsVerticalWritingMode(O)&&g&&_&&(k.vertical=e.shapeText(T,r,S,L,v,M,R,I,P,24,e.WritingMode.vertical))}var D=void 0;if(E.icon){var j=o[E.icon];j&&(D=e.shapeIcon(i[E.icon],l.get("icon-offset").evaluate(E,{}),l.get("icon-anchor").evaluate(E,{})),void 0===t.sdfIcons?t.sdfIcons=j.sdf:t.sdfIcons!==j.sdf&&e.warnOnce("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),j.pixelRatio!==t.pixelRatio?t.iconsNeedLinear=!0:0!==l.get("icon-rotate").constantOr(1)&&(t.iconsNeedLinear=!0))}(k.horizontal||D)&&x(t,E,k,D,C,c)}a&&t.generateCollisionDebugBuffers()}function x(t,r,n,o,i,a){var s=a.layoutTextSize.evaluate(r,{}),p=a.layoutIconSize.evaluate(r,{}),h=a.textMaxSize.evaluate(r,{});void 0===h&&(h=s);var d=t.layers[0].layout,m=d.get("text-offset").evaluate(r,{}),y=d.get("icon-offset").evaluate(r,{}),g=s/24,_=t.tilePixelRatio*g,b=t.tilePixelRatio*h/24,x=t.tilePixelRatio*p,C=t.tilePixelRatio*d.get("symbol-spacing"),k=d.get("text-padding")*t.tilePixelRatio,T=d.get("icon-padding")*t.tilePixelRatio,O=d.get("text-max-angle")/180*Math.PI,P="map"===d.get("text-rotation-alignment")&&"point"!==d.get("symbol-placement"),A="map"===d.get("icon-rotation-alignment")&&"point"!==d.get("symbol-placement"),I=d.get("symbol-placement"),M=C/2,R=function(s,l){l.x<0||l.x>=e.EXTENT||l.y<0||l.y>=e.EXTENT||function(t,r,n,o,i,a,s,l,u,p,h,f,d,m,y,g,_,b,x,S,C){var k,T,O=t.addToLineVertexArray(r,n),P=0,A=0,I=0,M=v(o.horizontal?o.horizontal.text:""),R=[];if(o.horizontal){var L=a.layout.get("text-rotate").evaluate(x,{});k=new c(s,n,r,l,u,p,o.horizontal,h,f,d,t.overscaling,L),A+=E(t,r,o.horizontal,a,d,x,m,O,o.vertical?e.WritingMode.horizontal:e.WritingMode.horizontalOnly,R,S,C),o.vertical&&(I+=E(t,r,o.vertical,a,d,x,m,O,e.WritingMode.vertical,R,S,C))}var D=k?k.boxStartIndex:t.collisionBoxArray.length,j=k?k.boxEndIndex:t.collisionBoxArray.length;if(i){var z=function(t,r,n,o,i,a){var s,l,u,c,p=r.image,h=n.layout,f=r.top-1/p.pixelRatio,d=r.left-1/p.pixelRatio,m=r.bottom+1/p.pixelRatio,y=r.right+1/p.pixelRatio;if("none"!==h.get("icon-text-fit")&&i){var v=y-d,g=m-f,_=h.get("text-size").evaluate(a,{})/24,b=i.left*_,x=i.right*_,w=i.top*_,E=x-b,S=i.bottom*_-w,C=h.get("icon-text-fit-padding")[0],k=h.get("icon-text-fit-padding")[1],T=h.get("icon-text-fit-padding")[2],O=h.get("icon-text-fit-padding")[3],P="width"===h.get("icon-text-fit")?.5*(S-g):0,A="height"===h.get("icon-text-fit")?.5*(E-v):0,I="width"===h.get("icon-text-fit")||"both"===h.get("icon-text-fit")?E:v,M="height"===h.get("icon-text-fit")||"both"===h.get("icon-text-fit")?S:g;s=new e.Point(b+A-O,w+P-C),l=new e.Point(b+A+k+I,w+P-C),u=new e.Point(b+A+k+I,w+P+T+M),c=new e.Point(b+A-O,w+P+T+M)}else s=new e.Point(d,f),l=new e.Point(y,f),u=new e.Point(y,m),c=new e.Point(d,m);var R=n.layout.get("icon-rotate").evaluate(a,{})*Math.PI/180;if(R){var L=Math.sin(R),D=Math.cos(R),j=[D,-L,L,D];s._matMult(j),l._matMult(j),c._matMult(j),u._matMult(j)}return[{tl:s,tr:l,bl:c,br:u,tex:p.paddedRect,writingMode:void 0,glyphOffset:[0,0]}]}(0,i,a,0,o.horizontal,x),F=a.layout.get("icon-rotate").evaluate(x,{});T=new c(s,n,r,l,u,p,i,y,g,!1,t.overscaling,F),P=4*z.length;var N=t.iconSizeData,B=null;"source"===N.functionType?(B=[e.SIZE_PACK_FACTOR*a.layout.get("icon-size").evaluate(x,{})])[0]>w&&e.warnOnce(t.layerIds[0]+': Value for "icon-size" is >= 256. Reduce your "icon-size".'):"composite"===N.functionType&&((B=[e.SIZE_PACK_FACTOR*C.compositeIconSizes[0].evaluate(x,{}),e.SIZE_PACK_FACTOR*C.compositeIconSizes[1].evaluate(x,{})])[0]>w||B[1]>w)&&e.warnOnce(t.layerIds[0]+': Value for "icon-size" is >= 256. Reduce your "icon-size".'),t.addSymbols(t.icon,z,B,b,_,x,!1,r,O.lineStartIndex,O.lineLength)}var U=T?T.boxStartIndex:t.collisionBoxArray.length,V=T?T.boxEndIndex:t.collisionBoxArray.length;t.glyphOffsetArray.length>=e.SymbolBucket.MAX_GLYPHS&&e.warnOnce("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907");t.symbolInstances.emplaceBack(r.x,r.y,R.length>0?R[0]:-1,R.length>1?R[1]:-1,M,D,j,U,V,l,A,I,P,0)}(t,l,s,n,o,t.layers[0],t.collisionBoxArray,r.index,r.sourceLayerIndex,t.index,_,k,P,m,x,T,A,y,r,i,a)};if("line"===I)for(var L=0,D=function(t,r,n,o,i){for(var a=[],s=0;s<t.length;s++)for(var l=t[s],u=void 0,c=0;c<l.length-1;c++){var p=l[c],h=l[c+1];p.x<r&&h.x<r||(p.x<r?p=new e.Point(r,p.y+(h.y-p.y)*((r-p.x)/(h.x-p.x)))._round():h.x<r&&(h=new e.Point(r,p.y+(h.y-p.y)*((r-p.x)/(h.x-p.x)))._round()),p.y<n&&h.y<n||(p.y<n?p=new e.Point(p.x+(h.x-p.x)*((n-p.y)/(h.y-p.y)),n)._round():h.y<n&&(h=new e.Point(p.x+(h.x-p.x)*((n-p.y)/(h.y-p.y)),n)._round()),p.x>=o&&h.x>=o||(p.x>=o?p=new e.Point(o,p.y+(h.y-p.y)*((o-p.x)/(h.x-p.x)))._round():h.x>=o&&(h=new e.Point(o,p.y+(h.y-p.y)*((o-p.x)/(h.x-p.x)))._round()),p.y>=i&&h.y>=i||(p.y>=i?p=new e.Point(p.x+(h.x-p.x)*((i-p.y)/(h.y-p.y)),i)._round():h.y>=i&&(h=new e.Point(p.x+(h.x-p.x)*((i-p.y)/(h.y-p.y)),i)._round()),u&&p.equals(u[u.length-1])||(u=[p],a.push(u)),u.push(h)))))}return a}(r.geometry,0,0,e.EXTENT,e.EXTENT);L<D.length;L+=1)for(var j=D[L],z=0,F=u(j,C,O,n.vertical||n.horizontal,o,24,b,t.overscaling,e.EXTENT);z<F.length;z+=1){var N=F[z],B=n.horizontal;B&&S(t,B.text,M,N)||R(j,N)}else if("line-center"===I)for(var U=0,V=r.geometry;U<V.length;U+=1){var G=V[U];if(G.length>1){var q=l(G,O,n.vertical||n.horizontal,o,24,b);q&&R(G,q)}}else if("Polygon"===r.type)for(var H=0,W=e.classifyRings(r.geometry,0);H<W.length;H+=1){var X=W[H],Z=f(X,16);R(X[0],new e.Anchor(Z.x,Z.y,0))}else if("LineString"===r.type)for(var Y=0,K=r.geometry;Y<K.length;Y+=1){var $=K[Y];R($,new e.Anchor($[0].x,$[0].y,0))}else if("Point"===r.type)for(var J=0,Q=r.geometry;J<Q.length;J+=1)for(var ee=0,te=Q[J];ee<te.length;ee+=1){var re=te[ee];R([re],new e.Anchor(re.x,re.y,0))}}v.murmur3=g,v.murmur2=_;var w=65535;function E(t,r,n,o,i,a,s,l,u,c,p,h){var f=function(t,r,n,o,i,a){for(var s=n.layout.get("text-rotate").evaluate(i,{})*Math.PI/180,l=n.layout.get("text-offset").evaluate(i,{}).map(function(e){return 24*e}),u=r.positionedGlyphs,c=[],p=0;p<u.length;p++){var h=u[p],f=a[h.fontStack],d=f&&f[h.glyph];if(d){var m=d.rect;if(m){var y=e.GLYPH_PBF_BORDER+1,v=d.metrics.advance*h.scale/2,g=o?[h.x+v,h.y]:[0,0],_=o?[0,0]:[h.x+v+l[0],h.y+l[1]],b=(d.metrics.left-y)*h.scale-v+_[0],x=(-d.metrics.top-y)*h.scale+_[1],w=b+m.w*h.scale,E=x+m.h*h.scale,S=new e.Point(b,x),C=new e.Point(w,x),k=new e.Point(b,E),T=new e.Point(w,E);if(o&&h.vertical){var O=new e.Point(-v,v),P=-Math.PI/2,A=new e.Point(5,0);S._rotateAround(P,O)._add(A),C._rotateAround(P,O)._add(A),k._rotateAround(P,O)._add(A),T._rotateAround(P,O)._add(A)}if(s){var I=Math.sin(s),M=Math.cos(s),R=[M,-I,I,M];S._matMult(R),C._matMult(R),k._matMult(R),T._matMult(R)}c.push({tl:S,tr:C,bl:k,br:T,tex:m,writingMode:r.writingMode,glyphOffset:g})}}}return c}(0,n,o,i,a,p),d=t.textSizeData,m=null;return"source"===d.functionType?(m=[e.SIZE_PACK_FACTOR*o.layout.get("text-size").evaluate(a,{})])[0]>w&&e.warnOnce(t.layerIds[0]+': Value for "text-size" is >= 256. Reduce your "text-size".'):"composite"===d.functionType&&((m=[e.SIZE_PACK_FACTOR*h.compositeTextSizes[0].evaluate(a,{}),e.SIZE_PACK_FACTOR*h.compositeTextSizes[1].evaluate(a,{})])[0]>w||m[1]>w)&&e.warnOnce(t.layerIds[0]+': Value for "text-size" is >= 256. Reduce your "text-size".'),t.addSymbols(t.text,f,m,s,i,a,u,r,l.lineStartIndex,l.lineLength),c.push(t.text.placedSymbolArray.length-1),4*f.length}function S(e,t,r,n){var o=e.compareText;if(t in o){for(var i=o[t],a=i.length-1;a>=0;a--)if(n.dist(i[a])<r)return!0}else o[t]=[];return o[t].push(n),!1}var C=function(t){var r={},n=[];for(var o in t){var i=t[o],a=r[o]={};for(var s in i){var l=i[+s];if(l&&0!==l.bitmap.width&&0!==l.bitmap.height){var u={x:0,y:0,w:l.bitmap.width+2,h:l.bitmap.height+2};n.push(u),a[s]={rect:u,metrics:l.metrics}}}}var c=e.potpack(n),p=c.w,h=c.h,f=new e.AlphaImage({width:p||1,height:h||1});for(var d in t){var m=t[d];for(var y in m){var v=m[+y];if(v&&0!==v.bitmap.width&&0!==v.bitmap.height){var g=r[d][y].rect;e.AlphaImage.copy(v.bitmap,f,{x:0,y:0},{x:g.x+1,y:g.y+1},v.bitmap)}}}this.image=f,this.positions=r};e.register("GlyphAtlas",C);var k=function(t){this.tileID=new e.OverscaledTileID(t.tileID.overscaledZ,t.tileID.wrap,t.tileID.canonical.z,t.tileID.canonical.x,t.tileID.canonical.y),this.uid=t.uid,this.zoom=t.zoom,this.pixelRatio=t.pixelRatio,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=t.showCollisionBoxes,this.collectResourceTiming=!!t.collectResourceTiming,this.returnDependencies=!!t.returnDependencies};function T(t,r){for(var n=new e.EvaluationParameters(r),o=0,i=t;o<i.length;o+=1){i[o].recalculate(n)}}k.prototype.parse=function(t,r,n,o){var i=this;this.status="parsing",this.data=t,this.collisionBoxArray=new e.CollisionBoxArray;var a=new e.DictionaryCoder(Object.keys(t.layers).sort()),s=new e.FeatureIndex(this.tileID);s.bucketLayerIDs=[];var l,u,c,p,h={},f={featureIndex:s,iconDependencies:{},patternDependencies:{},glyphDependencies:{}},d=r.familiesBySource[this.source];for(var m in d){var y=t.layers[m];if(y){1===y.version&&e.warnOnce('Vector tile source "'+this.source+'" layer "'+m+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var v=a.encode(m),g=[],_=0;_<y.length;_++){var x=y.feature(_);g.push({feature:x,index:_,sourceLayerIndex:v})}for(var w=0,E=d[m];w<E.length;w+=1){var S=E[w],k=S[0];if(!(k.minzoom&&this.zoom<Math.floor(k.minzoom)))if(!(k.maxzoom&&this.zoom>=k.maxzoom))if("none"!==k.visibility)T(S,this.zoom),(h[k.id]=k.createBucket({index:s.bucketLayerIDs.length,layers:S,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:v,sourceID:this.source})).populate(g,f),s.bucketLayerIDs.push(S.map(function(e){return e.id}))}}}var O=e.mapObject(f.glyphDependencies,function(e){return Object.keys(e).map(Number)});Object.keys(O).length?n.send("getGlyphs",{uid:this.uid,stacks:O},function(e,t){l||(l=e,u=t,I.call(i))}):u={};var P=Object.keys(f.iconDependencies);P.length?n.send("getImages",{icons:P},function(e,t){l||(l=e,c=t,I.call(i))}):c={};var A=Object.keys(f.patternDependencies);function I(){if(l)return o(l);if(u&&c&&p){var t=new C(u),r=new e.ImageAtlas(c,p);for(var n in h){var i=h[n];i instanceof e.SymbolBucket?(T(i.layers,this.zoom),b(i,u,t.positions,c,r.iconPositions,this.showCollisionBoxes)):i.hasPattern&&(i instanceof e.LineBucket||i instanceof e.FillBucket||i instanceof e.FillExtrusionBucket)&&(T(i.layers,this.zoom),i.addFeatures(f,r.patternPositions))}this.status="done",o(null,{buckets:e.values(h).filter(function(e){return!e.isEmpty()}),featureIndex:s,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:t.image,imageAtlas:r,glyphMap:this.returnDependencies?u:null,iconMap:this.returnDependencies?c:null,glyphPositions:this.returnDependencies?t.positions:null})}}A.length?n.send("getImages",{icons:A},function(e,t){l||(l=e,p=t,I.call(i))}):p={},I.call(this)};var O="undefined"!==typeof performance,P={getEntriesByName:function(e){return!!(O&&performance&&performance.getEntriesByName)&&performance.getEntriesByName(e)},mark:function(e){return!!(O&&performance&&performance.mark)&&performance.mark(e)},measure:function(e,t,r){return!!(O&&performance&&performance.measure)&&performance.measure(e,t,r)},clearMarks:function(e){return!!(O&&performance&&performance.clearMarks)&&performance.clearMarks(e)},clearMeasures:function(e){return!!(O&&performance&&performance.clearMeasures)&&performance.clearMeasures(e)}},A=function(e){this._marks={start:[e.url,"start"].join("#"),end:[e.url,"end"].join("#"),measure:e.url.toString()},P.mark(this._marks.start)};function I(t,r){var n=e.getArrayBuffer(t.request,function(t,n,o,i){t?r(t):n&&r(null,{vectorTile:new e.mvt.VectorTile(new e.Protobuf(n)),rawData:n,cacheControl:o,expires:i})});return function(){n.cancel(),r()}}A.prototype.finish=function(){P.mark(this._marks.end);var e=P.getEntriesByName(this._marks.measure);return 0===e.length&&(P.measure(this._marks.measure,this._marks.start,this._marks.end),e=P.getEntriesByName(this._marks.measure),P.clearMarks(this._marks.start),P.clearMarks(this._marks.end),P.clearMeasures(this._marks.measure)),e},P.Performance=A;var M=function(e,t,r){this.actor=e,this.layerIndex=t,this.loadVectorData=r||I,this.loading={},this.loaded={}};M.prototype.loadTile=function(t,r){var n=this,o=t.uid;this.loading||(this.loading={});var i=!!(t&&t.request&&t.request.collectResourceTiming)&&new P.Performance(t.request),a=this.loading[o]=new k(t);a.abort=this.loadVectorData(t,function(t,s){if(delete n.loading[o],t||!s)return a.status="done",n.loaded[o]=a,r(t);var l=s.rawData,u={};s.expires&&(u.expires=s.expires),s.cacheControl&&(u.cacheControl=s.cacheControl);var c={};if(i){var p=i.finish();p&&(c.resourceTiming=JSON.parse(JSON.stringify(p)))}a.vectorTile=s.vectorTile,a.parse(s.vectorTile,n.layerIndex,n.actor,function(t,n){if(t||!n)return r(t);r(null,e.extend({rawTileData:l.slice(0)},n,u,c))}),n.loaded=n.loaded||{},n.loaded[o]=a})},M.prototype.reloadTile=function(e,t){var r=this.loaded,n=e.uid,o=this;if(r&&r[n]){var i=r[n];i.showCollisionBoxes=e.showCollisionBoxes;var a=function(e,r){var n=i.reloadCallback;n&&(delete i.reloadCallback,i.parse(i.vectorTile,o.layerIndex,o.actor,n)),t(e,r)};"parsing"===i.status?i.reloadCallback=a:"done"===i.status&&(i.vectorTile?i.parse(i.vectorTile,this.layerIndex,this.actor,a):a())}},M.prototype.abortTile=function(e,t){var r=this.loading,n=e.uid;r&&r[n]&&r[n].abort&&(r[n].abort(),delete r[n]),t()},M.prototype.removeTile=function(e,t){var r=this.loaded,n=e.uid;r&&r[n]&&delete r[n],t()};var R=function(){this.loaded={}};R.prototype.loadTile=function(t,r){var n=t.uid,o=t.encoding,i=t.rawImageData,a=new e.DEMData(n,i,o);this.loaded=this.loaded||{},this.loaded[n]=a,r(null,a)},R.prototype.removeTile=function(e){var t=this.loaded,r=e.uid;t&&t[r]&&delete t[r]};var L={RADIUS:6378137,FLATTENING:1/298.257223563,POLAR_RADIUS:6356752.3142};function D(e){var t=0;if(e&&e.length>0){t+=Math.abs(j(e[0]));for(var r=1;r<e.length;r++)t-=Math.abs(j(e[r]))}return t}function j(e){var t,r,n,o,i,a,s=0,l=e.length;if(l>2){for(a=0;a<l;a++)a===l-2?(n=l-2,o=l-1,i=0):a===l-1?(n=l-1,o=0,i=1):(n=a,o=a+1,i=a+2),t=e[n],r=e[o],s+=(z(e[i][0])-z(t[0]))*Math.sin(z(r[1]));s=s*L.RADIUS*L.RADIUS/2}return s}function z(e){return e*Math.PI/180}var F={geometry:function e(t){var r,n=0;switch(t.type){case"Polygon":return D(t.coordinates);case"MultiPolygon":for(r=0;r<t.coordinates.length;r++)n+=D(t.coordinates[r]);return n;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(r=0;r<t.geometries.length;r++)n+=e(t.geometries[r]);return n}},ring:j},N=function e(t,r){switch(t&&t.type||null){case"FeatureCollection":return t.features=t.features.map(B(e,r)),t;case"GeometryCollection":return t.geometries=t.geometries.map(B(e,r)),t;case"Feature":return t.geometry=e(t.geometry,r),t;case"Polygon":case"MultiPolygon":return function(e,t){"Polygon"===e.type?e.coordinates=U(e.coordinates,t):"MultiPolygon"===e.type&&(e.coordinates=e.coordinates.map(B(U,t)));return e}(t,r);default:return t}};function B(e,t){return function(r){return e(r,t)}}function U(e,t){t=!!t,e[0]=V(e[0],t);for(var r=1;r<e.length;r++)e[r]=V(e[r],!t);return e}function V(e,t){return function(e){return F.ring(e)>=0}(e)===t?e:e.reverse()}var G=e.mvt.VectorTileFeature.prototype.toGeoJSON,q=function(t){this._feature=t,this.extent=e.EXTENT,this.type=t.type,this.properties=t.tags,"id"in t&&!isNaN(t.id)&&(this.id=parseInt(t.id,10))};q.prototype.loadGeometry=function(){if(1===this._feature.type){for(var t=[],r=0,n=this._feature.geometry;r<n.length;r+=1){var o=n[r];t.push([new e.Point(o[0],o[1])])}return t}for(var i=[],a=0,s=this._feature.geometry;a<s.length;a+=1){for(var l=[],u=0,c=s[a];u<c.length;u+=1){var p=c[u];l.push(new e.Point(p[0],p[1]))}i.push(l)}return i},q.prototype.toGeoJSON=function(e,t,r){return G.call(this,e,t,r)};var H=function(t){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=e.EXTENT,this.length=t.length,this._features=t};H.prototype.feature=function(e){return new q(this._features[e])};var W=e.vectorTile.VectorTileFeature,X=Z;function Z(e,t){this.options=t||{},this.features=e,this.length=e.length}function Y(e,t){this.id="number"===typeof e.id?e.id:void 0,this.type=e.type,this.rawGeometry=1===e.type?[e.geometry]:e.geometry,this.properties=e.tags,this.extent=t||4096}Z.prototype.feature=function(e){return new Y(this.features[e],this.options.extent)},Y.prototype.loadGeometry=function(){var t=this.rawGeometry;this.geometry=[];for(var r=0;r<t.length;r++){for(var n=t[r],o=[],i=0;i<n.length;i++)o.push(new e.Point$1(n[i][0],n[i][1]));this.geometry.push(o)}return this.geometry},Y.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var e=this.geometry,t=1/0,r=-1/0,n=1/0,o=-1/0,i=0;i<e.length;i++)for(var a=e[i],s=0;s<a.length;s++){var l=a[s];t=Math.min(t,l.x),r=Math.max(r,l.x),n=Math.min(n,l.y),o=Math.max(o,l.y)}return[t,n,r,o]},Y.prototype.toGeoJSON=W.prototype.toGeoJSON;var K=ee,$=ee,J=function(e,t){t=t||{};var r={};for(var n in e)r[n]=new X(e[n].features,t),r[n].name=n,r[n].version=t.version,r[n].extent=t.extent;return ee({layers:r})},Q=X;function ee(t){var r=new e.pbf;return function(e,t){for(var r in e.layers)t.writeMessage(3,te,e.layers[r])}(t,r),r.finish()}function te(e,t){var r;t.writeVarintField(15,e.version||1),t.writeStringField(1,e.name||""),t.writeVarintField(5,e.extent||4096);var n={keys:[],values:[],keycache:{},valuecache:{}};for(r=0;r<e.length;r++)n.feature=e.feature(r),t.writeMessage(2,re,n);var o=n.keys;for(r=0;r<o.length;r++)t.writeStringField(3,o[r]);var i=n.values;for(r=0;r<i.length;r++)t.writeMessage(4,se,i[r])}function re(e,t){var r=e.feature;void 0!==r.id&&t.writeVarintField(1,r.id),t.writeMessage(2,ne,e),t.writeVarintField(3,r.type),t.writeMessage(4,ae,r)}function ne(e,t){var r=e.feature,n=e.keys,o=e.values,i=e.keycache,a=e.valuecache;for(var s in r.properties){var l=i[s];"undefined"===typeof l&&(n.push(s),l=n.length-1,i[s]=l),t.writeVarint(l);var u=r.properties[s],c=typeof u;"string"!==c&&"boolean"!==c&&"number"!==c&&(u=JSON.stringify(u));var p=c+":"+u,h=a[p];"undefined"===typeof h&&(o.push(u),h=o.length-1,a[p]=h),t.writeVarint(h)}}function oe(e,t){return(t<<3)+(7&e)}function ie(e){return e<<1^e>>31}function ae(e,t){for(var r=e.loadGeometry(),n=e.type,o=0,i=0,a=r.length,s=0;s<a;s++){var l=r[s],u=1;1===n&&(u=l.length),t.writeVarint(oe(1,u));for(var c=3===n?l.length-1:l.length,p=0;p<c;p++){1===p&&1!==n&&t.writeVarint(oe(2,c-1));var h=l[p].x-o,f=l[p].y-i;t.writeVarint(ie(h)),t.writeVarint(ie(f)),o+=h,i+=f}3===n&&t.writeVarint(oe(7,1))}}function se(e,t){var r=typeof e;"string"===r?t.writeStringField(1,e):"boolean"===r?t.writeBooleanField(7,e):"number"===r&&(e%1!==0?t.writeDoubleField(3,e):e<0?t.writeSVarintField(6,e):t.writeVarintField(5,e))}function le(e,t,r,n,o,i){if(!(o-n<=r)){var a=n+o>>1;!function e(t,r,n,o,i,a){for(;i>o;){if(i-o>600){var s=i-o+1,l=n-o+1,u=Math.log(s),c=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*c*(s-c)/s)*(l-s/2<0?-1:1),h=Math.max(o,Math.floor(n-l*c/s+p)),f=Math.min(i,Math.floor(n+(s-l)*c/s+p));e(t,r,n,h,f,a)}var d=r[2*n+a],m=o,y=i;for(ue(t,r,o,n),r[2*i+a]>d&&ue(t,r,o,i);m<y;){for(ue(t,r,m,y),m++,y--;r[2*m+a]<d;)m++;for(;r[2*y+a]>d;)y--}r[2*o+a]===d?ue(t,r,o,y):ue(t,r,++y,i),y<=n&&(o=y+1),n<=y&&(i=y-1)}}(e,t,a,n,o,i%2),le(e,t,r,n,a-1,i+1),le(e,t,r,a+1,o,i+1)}}function ue(e,t,r,n){ce(e,r,n),ce(t,2*r,2*n),ce(t,2*r+1,2*n+1)}function ce(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function pe(e,t,r,n){var o=e-r,i=t-n;return o*o+i*i}K.fromVectorTileJs=$,K.fromGeojsonVt=J,K.GeoJSONWrapper=Q;var he=function(e){return e[0]},fe=function(e){return e[1]},de=function(e,t,r,n,o){void 0===t&&(t=he),void 0===r&&(r=fe),void 0===n&&(n=64),void 0===o&&(o=Float64Array),this.nodeSize=n,this.points=e;for(var i=e.length<65536?Uint16Array:Uint32Array,a=this.ids=new i(e.length),s=this.coords=new o(2*e.length),l=0;l<e.length;l++)a[l]=l,s[2*l]=t(e[l]),s[2*l+1]=r(e[l]);le(a,s,n,0,a.length-1,0)};de.prototype.range=function(e,t,r,n){return function(e,t,r,n,o,i,a){for(var s,l,u=[0,e.length-1,0],c=[];u.length;){var p=u.pop(),h=u.pop(),f=u.pop();if(h-f<=a)for(var d=f;d<=h;d++)s=t[2*d],l=t[2*d+1],s>=r&&s<=o&&l>=n&&l<=i&&c.push(e[d]);else{var m=Math.floor((f+h)/2);s=t[2*m],l=t[2*m+1],s>=r&&s<=o&&l>=n&&l<=i&&c.push(e[m]);var y=(p+1)%2;(0===p?r<=s:n<=l)&&(u.push(f),u.push(m-1),u.push(y)),(0===p?o>=s:i>=l)&&(u.push(m+1),u.push(h),u.push(y))}}return c}(this.ids,this.coords,e,t,r,n,this.nodeSize)},de.prototype.within=function(e,t,r){return function(e,t,r,n,o,i){for(var a=[0,e.length-1,0],s=[],l=o*o;a.length;){var u=a.pop(),c=a.pop(),p=a.pop();if(c-p<=i)for(var h=p;h<=c;h++)pe(t[2*h],t[2*h+1],r,n)<=l&&s.push(e[h]);else{var f=Math.floor((p+c)/2),d=t[2*f],m=t[2*f+1];pe(d,m,r,n)<=l&&s.push(e[f]);var y=(u+1)%2;(0===u?r-o<=d:n-o<=m)&&(a.push(p),a.push(f-1),a.push(y)),(0===u?r+o>=d:n+o>=m)&&(a.push(f+1),a.push(c),a.push(y))}}return s}(this.ids,this.coords,e,t,r,this.nodeSize)};var me={minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1,reduce:null,map:function(e){return e}},ye=function(e){this.options=Ee(Object.create(me),e),this.trees=new Array(this.options.maxZoom+1)};function ve(e,t,r,n,o){return{x:e,y:t,zoom:1/0,id:r,parentId:-1,numPoints:n,properties:o}}function ge(e,t){var r=e.geometry.coordinates,n=r[0],o=r[1];return{x:xe(n),y:we(o),zoom:1/0,index:t,parentId:-1}}function _e(e){return{type:"Feature",id:e.id,properties:be(e),geometry:{type:"Point",coordinates:[(n=e.x,360*(n-.5)),(t=e.y,r=(180-360*t)*Math.PI/180,360*Math.atan(Math.exp(r))/Math.PI-90)]}};var t,r,n}function be(e){var t=e.numPoints,r=t>=1e4?Math.round(t/1e3)+"k":t>=1e3?Math.round(t/100)/10+"k":t;return Ee(Ee({},e.properties),{cluster:!0,cluster_id:e.id,point_count:t,point_count_abbreviated:r})}function xe(e){return e/360+.5}function we(e){var t=Math.sin(e*Math.PI/180),r=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return r<0?0:r>1?1:r}function Ee(e,t){for(var r in t)e[r]=t[r];return e}function Se(e){return e.x}function Ce(e){return e.y}function ke(e,t,r,n,o,i){var a=o-r,s=i-n;if(0!==a||0!==s){var l=((e-r)*a+(t-n)*s)/(a*a+s*s);l>1?(r=o,n=i):l>0&&(r+=a*l,n+=s*l)}return(a=e-r)*a+(s=t-n)*s}function Te(e,t,r,n){var o={id:"undefined"===typeof e?null:e,type:t,geometry:r,tags:n,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(e){var t=e.geometry,r=e.type;if("Point"===r||"MultiPoint"===r||"LineString"===r)Oe(e,t);else if("Polygon"===r||"MultiLineString"===r)for(var n=0;n<t.length;n++)Oe(e,t[n]);else if("MultiPolygon"===r)for(n=0;n<t.length;n++)for(var o=0;o<t[n].length;o++)Oe(e,t[n][o])}(o),o}function Oe(e,t){for(var r=0;r<t.length;r+=3)e.minX=Math.min(e.minX,t[r]),e.minY=Math.min(e.minY,t[r+1]),e.maxX=Math.max(e.maxX,t[r]),e.maxY=Math.max(e.maxY,t[r+1])}function Pe(e,t,r,n){if(t.geometry){var o=t.geometry.coordinates,i=t.geometry.type,a=Math.pow(r.tolerance/((1<<r.maxZoom)*r.extent),2),s=[],l=t.id;if(r.promoteId?l=t.properties[r.promoteId]:r.generateId&&(l=n||0),"Point"===i)Ae(o,s);else if("MultiPoint"===i)for(var u=0;u<o.length;u++)Ae(o[u],s);else if("LineString"===i)Ie(o,s,a,!1);else if("MultiLineString"===i){if(r.lineMetrics){for(u=0;u<o.length;u++)s=[],Ie(o[u],s,a,!1),e.push(Te(l,"LineString",s,t.properties));return}Me(o,s,a,!1)}else if("Polygon"===i)Me(o,s,a,!0);else{if("MultiPolygon"!==i){if("GeometryCollection"===i){for(u=0;u<t.geometry.geometries.length;u++)Pe(e,{id:l,geometry:t.geometry.geometries[u],properties:t.properties},r,n);return}throw new Error("Input data is not a valid GeoJSON object.")}for(u=0;u<o.length;u++){var c=[];Me(o[u],c,a,!0),s.push(c)}}e.push(Te(l,i,s,t.properties))}}function Ae(e,t){t.push(Re(e[0])),t.push(Le(e[1])),t.push(0)}function Ie(e,t,r,n){for(var o,i,a=0,s=0;s<e.length;s++){var l=Re(e[s][0]),u=Le(e[s][1]);t.push(l),t.push(u),t.push(0),s>0&&(a+=n?(o*u-l*i)/2:Math.sqrt(Math.pow(l-o,2)+Math.pow(u-i,2))),o=l,i=u}var c=t.length-3;t[2]=1,function e(t,r,n,o){for(var i,a=o,s=n-r>>1,l=n-r,u=t[r],c=t[r+1],p=t[n],h=t[n+1],f=r+3;f<n;f+=3){var d=ke(t[f],t[f+1],u,c,p,h);if(d>a)i=f,a=d;else if(d===a){var m=Math.abs(f-s);m<l&&(i=f,l=m)}}a>o&&(i-r>3&&e(t,r,i,o),t[i+2]=a,n-i>3&&e(t,i,n,o))}(t,0,c,r),t[c+2]=1,t.size=Math.abs(a),t.start=0,t.end=t.size}function Me(e,t,r,n){for(var o=0;o<e.length;o++){var i=[];Ie(e[o],i,r,n),t.push(i)}}function Re(e){return e/360+.5}function Le(e){var t=Math.sin(e*Math.PI/180),r=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return r<0?0:r>1?1:r}function De(e,t,r,n,o,i,a,s){if(n/=t,i>=(r/=t)&&a<n)return e;if(a<r||i>=n)return null;for(var l=[],u=0;u<e.length;u++){var c=e[u],p=c.geometry,h=c.type,f=0===o?c.minX:c.minY,d=0===o?c.maxX:c.maxY;if(f>=r&&d<n)l.push(c);else if(!(d<r||f>=n)){var m=[];if("Point"===h||"MultiPoint"===h)je(p,m,r,n,o);else if("LineString"===h)ze(p,m,r,n,o,!1,s.lineMetrics);else if("MultiLineString"===h)Ne(p,m,r,n,o,!1);else if("Polygon"===h)Ne(p,m,r,n,o,!0);else if("MultiPolygon"===h)for(var y=0;y<p.length;y++){var v=[];Ne(p[y],v,r,n,o,!0),v.length&&m.push(v)}if(m.length){if(s.lineMetrics&&"LineString"===h){for(y=0;y<m.length;y++)l.push(Te(c.id,h,m[y],c.tags));continue}"LineString"!==h&&"MultiLineString"!==h||(1===m.length?(h="LineString",m=m[0]):h="MultiLineString"),"Point"!==h&&"MultiPoint"!==h||(h=3===m.length?"Point":"MultiPoint"),l.push(Te(c.id,h,m,c.tags))}}}return l.length?l:null}function je(e,t,r,n,o){for(var i=0;i<e.length;i+=3){var a=e[i+o];a>=r&&a<=n&&(t.push(e[i]),t.push(e[i+1]),t.push(e[i+2]))}}function ze(e,t,r,n,o,i,a){for(var s,l,u=Fe(e),c=0===o?Ue:Ve,p=e.start,h=0;h<e.length-3;h+=3){var f=e[h],d=e[h+1],m=e[h+2],y=e[h+3],v=e[h+4],g=0===o?f:d,_=0===o?y:v,b=!1;a&&(s=Math.sqrt(Math.pow(f-y,2)+Math.pow(d-v,2))),g<r?_>r&&(l=c(u,f,d,y,v,r),a&&(u.start=p+s*l)):g>n?_<n&&(l=c(u,f,d,y,v,n),a&&(u.start=p+s*l)):Be(u,f,d,m),_<r&&g>=r&&(l=c(u,f,d,y,v,r),b=!0),_>n&&g<=n&&(l=c(u,f,d,y,v,n),b=!0),!i&&b&&(a&&(u.end=p+s*l),t.push(u),u=Fe(e)),a&&(p+=s)}var x=e.length-3;f=e[x],d=e[x+1],m=e[x+2],(g=0===o?f:d)>=r&&g<=n&&Be(u,f,d,m),x=u.length-3,i&&x>=3&&(u[x]!==u[0]||u[x+1]!==u[1])&&Be(u,u[0],u[1],u[2]),u.length&&t.push(u)}function Fe(e){var t=[];return t.size=e.size,t.start=e.start,t.end=e.end,t}function Ne(e,t,r,n,o,i){for(var a=0;a<e.length;a++)ze(e[a],t,r,n,o,i,!1)}function Be(e,t,r,n){e.push(t),e.push(r),e.push(n)}function Ue(e,t,r,n,o,i){var a=(i-t)/(n-t);return e.push(i),e.push(r+(o-r)*a),e.push(1),a}function Ve(e,t,r,n,o,i){var a=(i-r)/(o-r);return e.push(t+(n-t)*a),e.push(i),e.push(1),a}function Ge(e,t){for(var r=[],n=0;n<e.length;n++){var o,i=e[n],a=i.type;if("Point"===a||"MultiPoint"===a||"LineString"===a)o=qe(i.geometry,t);else if("MultiLineString"===a||"Polygon"===a){o=[];for(var s=0;s<i.geometry.length;s++)o.push(qe(i.geometry[s],t))}else if("MultiPolygon"===a)for(o=[],s=0;s<i.geometry.length;s++){for(var l=[],u=0;u<i.geometry[s].length;u++)l.push(qe(i.geometry[s][u],t));o.push(l)}r.push(Te(i.id,a,o,i.tags))}return r}function qe(e,t){var r=[];r.size=e.size,void 0!==e.start&&(r.start=e.start,r.end=e.end);for(var n=0;n<e.length;n+=3)r.push(e[n]+t,e[n+1],e[n+2]);return r}function He(e,t){if(e.transformed)return e;var r,n,o,i=1<<e.z,a=e.x,s=e.y;for(r=0;r<e.features.length;r++){var l=e.features[r],u=l.geometry,c=l.type;if(l.geometry=[],1===c)for(n=0;n<u.length;n+=2)l.geometry.push(We(u[n],u[n+1],t,i,a,s));else for(n=0;n<u.length;n++){var p=[];for(o=0;o<u[n].length;o+=2)p.push(We(u[n][o],u[n][o+1],t,i,a,s));l.geometry.push(p)}}return e.transformed=!0,e}function We(e,t,r,n,o,i){return[Math.round(r*(e*n-o)),Math.round(r*(t*n-i))]}function Xe(e,t,r,n,o){for(var i=t===o.maxZoom?0:o.tolerance/((1<<t)*o.extent),a={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:r,y:n,z:t,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},s=0;s<e.length;s++){a.numFeatures++,Ze(a,e[s],i,o);var l=e[s].minX,u=e[s].minY,c=e[s].maxX,p=e[s].maxY;l<a.minX&&(a.minX=l),u<a.minY&&(a.minY=u),c>a.maxX&&(a.maxX=c),p>a.maxY&&(a.maxY=p)}return a}function Ze(e,t,r,n){var o=t.geometry,i=t.type,a=[];if("Point"===i||"MultiPoint"===i)for(var s=0;s<o.length;s+=3)a.push(o[s]),a.push(o[s+1]),e.numPoints++,e.numSimplified++;else if("LineString"===i)Ye(a,o,e,r,!1,!1);else if("MultiLineString"===i||"Polygon"===i)for(s=0;s<o.length;s++)Ye(a,o[s],e,r,"Polygon"===i,0===s);else if("MultiPolygon"===i)for(var l=0;l<o.length;l++){var u=o[l];for(s=0;s<u.length;s++)Ye(a,u[s],e,r,!0,0===s)}if(a.length){var c=t.tags||null;if("LineString"===i&&n.lineMetrics){for(var p in c={},t.tags)c[p]=t.tags[p];c.mapbox_clip_start=o.start/o.size,c.mapbox_clip_end=o.end/o.size}var h={geometry:a,type:"Polygon"===i||"MultiPolygon"===i?3:"LineString"===i||"MultiLineString"===i?2:1,tags:c};null!==t.id&&(h.id=t.id),e.features.push(h)}}function Ye(e,t,r,n,o,i){var a=n*n;if(n>0&&t.size<(o?a:n))r.numPoints+=t.length/3;else{for(var s=[],l=0;l<t.length;l+=3)(0===n||t[l+2]>a)&&(r.numSimplified++,s.push(t[l]),s.push(t[l+1])),r.numPoints++;o&&function(e,t){for(var r=0,n=0,o=e.length,i=o-2;n<o;i=n,n+=2)r+=(e[n]-e[i])*(e[n+1]+e[i+1]);if(r>0===t)for(n=0,o=e.length;n<o/2;n+=2){var a=e[n],s=e[n+1];e[n]=e[o-2-n],e[n+1]=e[o-1-n],e[o-2-n]=a,e[o-1-n]=s}}(s,i),e.push(s)}}function Ke(e,t){var r=(t=this.options=function(e,t){for(var r in t)e[r]=t[r];return e}(Object.create(this.options),t)).debug;if(r&&console.time("preprocess data"),t.maxZoom<0||t.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(t.promoteId&&t.generateId)throw new Error("promoteId and generateId cannot be used together.");var n=function(e,t){var r=[];if("FeatureCollection"===e.type)for(var n=0;n<e.features.length;n++)Pe(r,e.features[n],t,n);else"Feature"===e.type?Pe(r,e,t):Pe(r,{geometry:e},t);return r}(e,t);this.tiles={},this.tileCoords=[],r&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",t.indexMaxZoom,t.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(n=function(e,t){var r=t.buffer/t.extent,n=e,o=De(e,1,-1-r,r,0,-1,2,t),i=De(e,1,1-r,2+r,0,-1,2,t);return(o||i)&&(n=De(e,1,-r,1+r,0,-1,2,t)||[],o&&(n=Ge(o,1).concat(n)),i&&(n=n.concat(Ge(i,-1)))),n}(n,t)).length&&this.splitTile(n,0,0,0),r&&(n.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function $e(e,t,r){return 32*((1<<e)*r+t)+e}function Je(e,t){var r=e.tileID.canonical;if(!this._geoJSONIndex)return t(null,null);var n=this._geoJSONIndex.getTile(r.z,r.x,r.y);if(!n)return t(null,null);var o=new H(n.features),i=K(o);0===i.byteOffset&&i.byteLength===i.buffer.byteLength||(i=new Uint8Array(i)),t(null,{vectorTile:o,rawData:i.buffer})}ye.prototype.load=function(e){var t=this.options,r=t.log,n=t.minZoom,o=t.maxZoom,i=t.nodeSize;r&&console.time("total time");var a="prepare "+e.length+" points";r&&console.time(a),this.points=e;for(var s=[],l=0;l<e.length;l++)e[l].geometry&&s.push(ge(e[l],l));this.trees[o+1]=new de(s,Se,Ce,i,Float32Array),r&&console.timeEnd(a);for(var u=o;u>=n;u--){var c=+Date.now();s=this._cluster(s,u),this.trees[u]=new de(s,Se,Ce,i,Float32Array),r&&console.log("z%d: %d clusters in %dms",u,s.length,+Date.now()-c)}return r&&console.timeEnd("total time"),this},ye.prototype.getClusters=function(e,t){var r=((e[0]+180)%360+360)%360-180,n=Math.max(-90,Math.min(90,e[1])),o=180===e[2]?180:((e[2]+180)%360+360)%360-180,i=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,o=180;else if(r>o){var a=this.getClusters([r,n,180,i],t),s=this.getClusters([-180,n,o,i],t);return a.concat(s)}for(var l=this.trees[this._limitZoom(t)],u=[],c=0,p=l.range(xe(r),we(i),xe(o),we(n));c<p.length;c+=1){var h=p[c],f=l.points[h];u.push(f.numPoints?_e(f):this.points[f.index])}return u},ye.prototype.getChildren=function(e){var t=e>>5,r=e%32,n="No cluster with the specified id.",o=this.trees[r];if(!o)throw new Error(n);var i=o.points[t];if(!i)throw new Error(n);for(var a=this.options.radius/(this.options.extent*Math.pow(2,r-1)),s=[],l=0,u=o.within(i.x,i.y,a);l<u.length;l+=1){var c=u[l],p=o.points[c];p.parentId===e&&s.push(p.numPoints?_e(p):this.points[p.index])}if(0===s.length)throw new Error(n);return s},ye.prototype.getLeaves=function(e,t,r){t=t||10,r=r||0;var n=[];return this._appendLeaves(n,e,t,r,0),n},ye.prototype.getTile=function(e,t,r){var n=this.trees[this._limitZoom(e)],o=Math.pow(2,e),i=this.options,a=i.extent,s=i.radius/a,l=(r-s)/o,u=(r+1+s)/o,c={features:[]};return this._addTileFeatures(n.range((t-s)/o,l,(t+1+s)/o,u),n.points,t,r,o,c),0===t&&this._addTileFeatures(n.range(1-s/o,l,1,u),n.points,o,r,o,c),t===o-1&&this._addTileFeatures(n.range(0,l,s/o,u),n.points,-1,r,o,c),c.features.length?c:null},ye.prototype.getClusterExpansionZoom=function(e){for(var t=e%32-1;t<=this.options.maxZoom;){var r=this.getChildren(e);if(t++,1!==r.length)break;e=r[0].properties.cluster_id}return t},ye.prototype._appendLeaves=function(e,t,r,n,o){for(var i=0,a=this.getChildren(t);i<a.length;i+=1){var s=a[i],l=s.properties;if(l&&l.cluster?o+l.point_count<=n?o+=l.point_count:o=this._appendLeaves(e,l.cluster_id,r,n,o):o<n?o++:e.push(s),e.length===r)break}return o},ye.prototype._addTileFeatures=function(e,t,r,n,o,i){for(var a=0,s=e;a<s.length;a+=1){var l=t[s[a]],u={type:1,geometry:[[Math.round(this.options.extent*(l.x*o-r)),Math.round(this.options.extent*(l.y*o-n))]],tags:l.numPoints?be(l):this.points[l.index].properties},c=l.numPoints?l.id:this.points[l.index].id;void 0!==c&&(u.id=c),i.features.push(u)}},ye.prototype._limitZoom=function(e){return Math.max(this.options.minZoom,Math.min(e,this.options.maxZoom+1))},ye.prototype._cluster=function(e,t){for(var r=[],n=this.options,o=n.radius,i=n.extent,a=n.reduce,s=o/(i*Math.pow(2,t)),l=0;l<e.length;l++){var u=e[l];if(!(u.zoom<=t)){u.zoom=t;for(var c=this.trees[t+1],p=c.within(u.x,u.y,s),h=u.numPoints||1,f=u.x*h,d=u.y*h,m=a?this._map(u,!0):null,y=(l<<5)+(t+1),v=0,g=p;v<g.length;v+=1){var _=g[v],b=c.points[_];if(!(b.zoom<=t)){b.zoom=t;var x=b.numPoints||1;f+=b.x*x,d+=b.y*x,h+=x,b.parentId=y,a&&a(m,this._map(b))}}1===h?r.push(u):(u.parentId=y,r.push(ve(f/h,d/h,y,h,m)))}}return r},ye.prototype._map=function(e,t){if(e.numPoints)return t?Ee({},e.properties):e.properties;var r=this.points[e.index].properties,n=this.options.map(r);return t&&n===r?Ee({},n):n},Ke.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Ke.prototype.splitTile=function(e,t,r,n,o,i,a){for(var s=[e,t,r,n],l=this.options,u=l.debug;s.length;){n=s.pop(),r=s.pop(),t=s.pop(),e=s.pop();var c=1<<t,p=$e(t,r,n),h=this.tiles[p];if(!h&&(u>1&&console.time("creation"),h=this.tiles[p]=Xe(e,t,r,n,l),this.tileCoords.push({z:t,x:r,y:n}),u)){u>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",t,r,n,h.numFeatures,h.numPoints,h.numSimplified),console.timeEnd("creation"));var f="z"+t;this.stats[f]=(this.stats[f]||0)+1,this.total++}if(h.source=e,o){if(t===l.maxZoom||t===o)continue;var d=1<<o-t;if(r!==Math.floor(i/d)||n!==Math.floor(a/d))continue}else if(t===l.indexMaxZoom||h.numPoints<=l.indexMaxPoints)continue;if(h.source=null,0!==e.length){u>1&&console.time("clipping");var m,y,v,g,_,b,x=.5*l.buffer/l.extent,w=.5-x,E=.5+x,S=1+x;m=y=v=g=null,_=De(e,c,r-x,r+E,0,h.minX,h.maxX,l),b=De(e,c,r+w,r+S,0,h.minX,h.maxX,l),e=null,_&&(m=De(_,c,n-x,n+E,1,h.minY,h.maxY,l),y=De(_,c,n+w,n+S,1,h.minY,h.maxY,l),_=null),b&&(v=De(b,c,n-x,n+E,1,h.minY,h.maxY,l),g=De(b,c,n+w,n+S,1,h.minY,h.maxY,l),b=null),u>1&&console.timeEnd("clipping"),s.push(m||[],t+1,2*r,2*n),s.push(y||[],t+1,2*r,2*n+1),s.push(v||[],t+1,2*r+1,2*n),s.push(g||[],t+1,2*r+1,2*n+1)}}},Ke.prototype.getTile=function(e,t,r){var n=this.options,o=n.extent,i=n.debug;if(e<0||e>24)return null;var a=1<<e,s=$e(e,t=(t%a+a)%a,r);if(this.tiles[s])return He(this.tiles[s],o);i>1&&console.log("drilling down to z%d-%d-%d",e,t,r);for(var l,u=e,c=t,p=r;!l&&u>0;)u--,c=Math.floor(c/2),p=Math.floor(p/2),l=this.tiles[$e(u,c,p)];return l&&l.source?(i>1&&console.log("found parent tile z%d-%d-%d",u,c,p),i>1&&console.time("drilling down"),this.splitTile(l.source,u,c,p,e,t,r),i>1&&console.timeEnd("drilling down"),this.tiles[s]?He(this.tiles[s],o):null):null};var Qe=function(t){function r(e,r,n){t.call(this,e,r,Je),n&&(this.loadGeoJSON=n)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.loadData=function(e,t){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=t,this._pendingLoadDataParams=e,this._state&&"Idle"!==this._state?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},r.prototype._loadData=function(){var t=this;if(this._pendingCallback&&this._pendingLoadDataParams){var r=this._pendingCallback,n=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var o=!!(n&&n.request&&n.request.collectResourceTiming)&&new P.Performance(n.request);this.loadGeoJSON(n,function(i,a){if(i||!a)return r(i);if("object"!==typeof a)return r(new Error("Input data is not a valid GeoJSON object."));N(a,!0);try{t._geoJSONIndex=n.cluster?new ye(function(t){var r=t.superclusterOptions,n=t.clusterProperties;if(!n||!r)return r;for(var o={},i={},a={accumulated:null,zoom:0},s={properties:null},l=Object.keys(n),u=0,c=l;u<c.length;u+=1){var p=c[u],h=n[p],f=h[0],d=h[1],m=e.createExpression(d),y=e.createExpression("string"===typeof f?[f,["accumulated"],["get",p]]:f);o[p]=m.value,i[p]=y.value}return r.map=function(e){s.properties=e;for(var t={},r=0,n=l;r<n.length;r+=1){var i=n[r];t[i]=o[i].evaluate(a,s)}return t},r.reduce=function(e,t){s.properties=t;for(var r=0,n=l;r<n.length;r+=1){var o=n[r];a.accumulated=e[o],e[o]=i[o].evaluate(a,s)}},r}(n)).load(a.features):function(e,t){return new Ke(e,t)}(a,n.geojsonVtOptions)}catch(i){return r(i)}t.loaded={};var s={};if(o){var l=o.finish();l&&(s.resourceTiming={},s.resourceTiming[n.source]=JSON.parse(JSON.stringify(l)))}r(null,s)})}},r.prototype.coalesce=function(){"Coalescing"===this._state?this._state="Idle":"NeedsLoadData"===this._state&&(this._state="Coalescing",this._loadData())},r.prototype.reloadTile=function(e,r){var n=this.loaded,o=e.uid;return n&&n[o]?t.prototype.reloadTile.call(this,e,r):this.loadTile(e,r)},r.prototype.loadGeoJSON=function(t,r){if(t.request)e.getJSON(t.request,r);else{if("string"!==typeof t.data)return r(new Error("Input data is not a valid GeoJSON object."));try{return r(null,JSON.parse(t.data))}catch(e){return r(new Error("Input data is not a valid GeoJSON object."))}}},r.prototype.removeSource=function(e,t){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),t()},r.prototype.getClusterExpansionZoom=function(e,t){t(null,this._geoJSONIndex.getClusterExpansionZoom(e.clusterId))},r.prototype.getClusterChildren=function(e,t){t(null,this._geoJSONIndex.getChildren(e.clusterId))},r.prototype.getClusterLeaves=function(e,t){t(null,this._geoJSONIndex.getLeaves(e.clusterId,e.limit,e.offset))},r}(M);var et=function(t){var r=this;this.self=t,this.actor=new e.Actor(t,this),this.layerIndexes={},this.workerSourceTypes={vector:M,geojson:Qe},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(e,t){if(r.workerSourceTypes[e])throw new Error('Worker source with name "'+e+'" already registered.');r.workerSourceTypes[e]=t},this.self.registerRTLTextPlugin=function(t){if(e.plugin.isLoaded())throw new Error("RTL text plugin already registered.");e.plugin.applyArabicShaping=t.applyArabicShaping,e.plugin.processBidirectionalText=t.processBidirectionalText,e.plugin.processStyledBidirectionalText=t.processStyledBidirectionalText}};return et.prototype.setReferrer=function(e,t){this.referrer=t},et.prototype.setLayers=function(e,t,r){this.getLayerIndex(e).replace(t),r()},et.prototype.updateLayers=function(e,t,r){this.getLayerIndex(e).update(t.layers,t.removedIds),r()},et.prototype.loadTile=function(e,t,r){this.getWorkerSource(e,t.type,t.source).loadTile(t,r)},et.prototype.loadDEMTile=function(e,t,r){this.getDEMWorkerSource(e,t.source).loadTile(t,r)},et.prototype.reloadTile=function(e,t,r){this.getWorkerSource(e,t.type,t.source).reloadTile(t,r)},et.prototype.abortTile=function(e,t,r){this.getWorkerSource(e,t.type,t.source).abortTile(t,r)},et.prototype.removeTile=function(e,t,r){this.getWorkerSource(e,t.type,t.source).removeTile(t,r)},et.prototype.removeDEMTile=function(e,t){this.getDEMWorkerSource(e,t.source).removeTile(t)},et.prototype.removeSource=function(e,t,r){if(this.workerSources[e]&&this.workerSources[e][t.type]&&this.workerSources[e][t.type][t.source]){var n=this.workerSources[e][t.type][t.source];delete this.workerSources[e][t.type][t.source],void 0!==n.removeSource?n.removeSource(t,r):r()}},et.prototype.loadWorkerSource=function(e,t,r){try{this.self.importScripts(t.url),r()}catch(e){r(e.toString())}},et.prototype.loadRTLTextPlugin=function(t,r,n){try{e.plugin.isLoaded()||(this.self.importScripts(r),n(e.plugin.isLoaded()?null:new Error("RTL Text Plugin failed to import scripts from "+r)))}catch(e){n(e.toString())}},et.prototype.getLayerIndex=function(e){var t=this.layerIndexes[e];return t||(t=this.layerIndexes[e]=new n),t},et.prototype.getWorkerSource=function(e,t,r){var n=this;if(this.workerSources[e]||(this.workerSources[e]={}),this.workerSources[e][t]||(this.workerSources[e][t]={}),!this.workerSources[e][t][r]){var o={send:function(t,r,o){n.actor.send(t,r,o,e)}};this.workerSources[e][t][r]=new this.workerSourceTypes[t](o,this.getLayerIndex(e))}return this.workerSources[e][t][r]},et.prototype.getDEMWorkerSource=function(e,t){return this.demWorkerSources[e]||(this.demWorkerSources[e]={}),this.demWorkerSources[e][t]||(this.demWorkerSources[e][t]=new R),this.demWorkerSources[e][t]},"undefined"!==typeof WorkerGlobalScope&&"undefined"!==typeof self&&self instanceof WorkerGlobalScope&&(self.worker=new et(self)),et}),n(0,function(e){var t=e.createCommonjsModule(function(e){function t(e){return!!("undefined"!==typeof window&&"undefined"!==typeof document&&Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray&&Function.prototype&&Function.prototype.bind&&Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions&&"JSON"in window&&"parse"in JSON&&"stringify"in JSON&&function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var e,t,r=new Blob([""],{type:"text/javascript"}),n=URL.createObjectURL(r);try{t=new Worker(n),e=!0}catch(t){e=!1}t&&t.terminate();return URL.revokeObjectURL(n),e}()&&"Uint8ClampedArray"in window&&ArrayBuffer.isView&&function(e){void 0===r[e]&&(r[e]=function(e){var r=document.createElement("canvas"),n=Object.create(t.webGLContextAttributes);return n.failIfMajorPerformanceCaveat=e,r.probablySupportsContext?r.probablySupportsContext("webgl",n)||r.probablySupportsContext("experimental-webgl",n):r.supportsContext?r.supportsContext("webgl",n)||r.supportsContext("experimental-webgl",n):r.getContext("webgl",n)||r.getContext("experimental-webgl",n)}(e));return r[e]}(e&&e.failIfMajorPerformanceCaveat))}e.exports?e.exports=t:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=t);var r={};t.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}}),r={create:function(t,r,n){var o=e.window.document.createElement(t);return r&&(o.className=r),n&&n.appendChild(o),o},createNS:function(t,r){return e.window.document.createElementNS(t,r)}},n=e.window.document?e.window.document.documentElement.style:null;function o(e){if(!n)return null;for(var t=0;t<e.length;t++)if(e[t]in n)return e[t];return e[0]}var i,a=o(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);r.disableDrag=function(){n&&a&&(i=n[a],n[a]="none")},r.enableDrag=function(){n&&a&&(n[a]=i)};var s=o(["transform","WebkitTransform"]);r.setTransform=function(e,t){e.style[s]=t};var l=!1;try{var u=Object.defineProperty({},"passive",{get:function(){l=!0}});e.window.addEventListener("test",u,u),e.window.removeEventListener("test",u,u)}catch(e){l=!1}r.addEventListener=function(e,t,r,n){void 0===n&&(n={}),"passive"in n&&l?e.addEventListener(t,r,n):e.addEventListener(t,r,n.capture)},r.removeEventListener=function(e,t,r,n){void 0===n&&(n={}),"passive"in n&&l?e.removeEventListener(t,r,n):e.removeEventListener(t,r,n.capture)};var c=function(t){t.preventDefault(),t.stopPropagation(),e.window.removeEventListener("click",c,!0)};r.suppressClick=function(){e.window.addEventListener("click",c,!0),e.window.setTimeout(function(){e.window.removeEventListener("click",c,!0)},0)},r.mousePos=function(t,r){var n=t.getBoundingClientRect();return r=r.touches?r.touches[0]:r,new e.Point(r.clientX-n.left-t.clientLeft,r.clientY-n.top-t.clientTop)},r.touchPos=function(t,r){for(var n=t.getBoundingClientRect(),o=[],i="touchend"===r.type?r.changedTouches:r.touches,a=0;a<i.length;a++)o.push(new e.Point(i[a].clientX-n.left-t.clientLeft,i[a].clientY-n.top-t.clientTop));return o},r.mouseButton=function(t){return"undefined"!==typeof e.window.InstallTrigger&&2===t.button&&t.ctrlKey&&e.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:t.button},r.remove=function(e){e.parentNode&&e.parentNode.removeChild(e)};var p=function(){this.images={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new e.RGBAImage({width:1,height:1}),this.dirty=!0};p.prototype.isLoaded=function(){return this.loaded},p.prototype.setLoaded=function(e){if(this.loaded!==e&&(this.loaded=e,e)){for(var t=0,r=this.requestors;t<r.length;t+=1){var n=r[t],o=n.ids,i=n.callback;this._notify(o,i)}this.requestors=[]}},p.prototype.getImage=function(e){return this.images[e]},p.prototype.addImage=function(e,t){this.images[e]=t},p.prototype.removeImage=function(e){delete this.images[e],delete this.patterns[e]},p.prototype.listImages=function(){return Object.keys(this.images)},p.prototype.getImages=function(e,t){var r=!0;if(!this.isLoaded())for(var n=0,o=e;n<o.length;n+=1){var i=o[n];this.images[i]||(r=!1)}this.isLoaded()||r?this._notify(e,t):this.requestors.push({ids:e,callback:t})},p.prototype._notify=function(e,t){for(var r={},n=0,o=e;n<o.length;n+=1){var i=o[n],a=this.images[i];a&&(r[i]={data:a.data.clone(),pixelRatio:a.pixelRatio,sdf:a.sdf})}t(null,r)},p.prototype.getPixelSize=function(){var e=this.atlasImage;return{width:e.width,height:e.height}},p.prototype.getPattern=function(t){var r=this.patterns[t];if(r)return r.position;var n=this.getImage(t);if(!n)return null;var o={w:n.data.width+2,h:n.data.height+2,x:0,y:0},i=new e.ImagePosition(o,n);return this.patterns[t]={bin:o,position:i},this._updatePatternAtlas(),i},p.prototype.bind=function(t){var r=t.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new e.Texture(t,this.atlasImage,r.RGBA),this.atlasTexture.bind(r.LINEAR,r.CLAMP_TO_EDGE)},p.prototype._updatePatternAtlas=function(){var t=[];for(var r in this.patterns)t.push(this.patterns[r].bin);var n=e.potpack(t),o=n.w,i=n.h,a=this.atlasImage;for(var s in a.resize({width:o||1,height:i||1}),this.patterns){var l=this.patterns[s].bin,u=l.x+1,c=l.y+1,p=this.images[s].data,h=p.width,f=p.height;e.RGBAImage.copy(p,a,{x:0,y:0},{x:u,y:c},{width:h,height:f}),e.RGBAImage.copy(p,a,{x:0,y:f-1},{x:u,y:c-1},{width:h,height:1}),e.RGBAImage.copy(p,a,{x:0,y:0},{x:u,y:c+f},{width:h,height:1}),e.RGBAImage.copy(p,a,{x:h-1,y:0},{x:u-1,y:c},{width:1,height:f}),e.RGBAImage.copy(p,a,{x:0,y:0},{x:u+h,y:c},{width:1,height:f})}this.dirty=!0};var h=d,f=1e20;function d(e,t,r,n,o,i){this.fontSize=e||24,this.buffer=void 0===t?3:t,this.cutoff=n||.25,this.fontFamily=o||"sans-serif",this.fontWeight=i||"normal",this.radius=r||8;var a=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=a,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(a*a),this.gridInner=new Float64Array(a*a),this.f=new Float64Array(a),this.d=new Float64Array(a),this.z=new Float64Array(a+1),this.v=new Int16Array(a),this.middle=Math.round(a/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function m(e,t,r,n,o,i,a){for(var s=0;s<t;s++){for(var l=0;l<r;l++)n[l]=e[l*t+s];for(y(n,o,i,a,r),l=0;l<r;l++)e[l*t+s]=o[l]}for(l=0;l<r;l++){for(s=0;s<t;s++)n[s]=e[l*t+s];for(y(n,o,i,a,t),s=0;s<t;s++)e[l*t+s]=Math.sqrt(o[s])}}function y(e,t,r,n,o){r[0]=0,n[0]=-f,n[1]=+f;for(var i=1,a=0;i<o;i++){for(var s=(e[i]+i*i-(e[r[a]]+r[a]*r[a]))/(2*i-2*r[a]);s<=n[a];)a--,s=(e[i]+i*i-(e[r[a]]+r[a]*r[a]))/(2*i-2*r[a]);r[++a]=i,n[a]=s,n[a+1]=+f}for(i=0,a=0;i<o;i++){for(;n[a+1]<i;)a++;t[i]=(i-r[a])*(i-r[a])+e[r[a]]}}d.prototype.draw=function(e){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(e,this.buffer,this.middle);for(var t=this.ctx.getImageData(0,0,this.size,this.size),r=new Uint8ClampedArray(this.size*this.size),n=0;n<this.size*this.size;n++){var o=t.data[4*n+3]/255;this.gridOuter[n]=1===o?0:0===o?f:Math.pow(Math.max(0,.5-o),2),this.gridInner[n]=1===o?f:0===o?0:Math.pow(Math.max(0,o-.5),2)}for(m(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),m(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),n=0;n<this.size*this.size;n++){var i=this.gridOuter[n]-this.gridInner[n];r[n]=Math.max(0,Math.min(255,Math.round(255-255*(i/this.radius+this.cutoff))))}return r};var v=function(e,t){this.requestTransform=e,this.localIdeographFontFamily=t,this.entries={}};v.prototype.setURL=function(e){this.url=e},v.prototype.getGlyphs=function(t,r){var n=this,o=[];for(var i in t)for(var a=0,s=t[i];a<s.length;a+=1){var l=s[a];o.push({stack:i,id:l})}e.asyncAll(o,function(e,t){var r=e.stack,o=e.id,i=n.entries[r];i||(i=n.entries[r]={glyphs:{},requests:{}});var a=i.glyphs[o];if(void 0===a)if(a=n._tinySDF(i,r,o))t(null,{stack:r,id:o,glyph:a});else{var s=Math.floor(o/256);if(256*s>65535)t(new Error("glyphs > 65535 not supported"));else{var l=i.requests[s];l||(l=i.requests[s]=[],v.loadGlyphRange(r,s,n.url,n.requestTransform,function(e,t){if(t)for(var r in t)i.glyphs[+r]=t[+r];for(var n=0,o=l;n<o.length;n+=1){(0,o[n])(e,t)}delete i.requests[s]})),l.push(function(e,n){e?t(e):n&&t(null,{stack:r,id:o,glyph:n[o]||null})})}}else t(null,{stack:r,id:o,glyph:a})},function(e,t){if(e)r(e);else if(t){for(var n={},o=0,i=t;o<i.length;o+=1){var a=i[o],s=a.stack,l=a.id,u=a.glyph;(n[s]||(n[s]={}))[l]=u&&{id:u.id,bitmap:u.bitmap.clone(),metrics:u.metrics}}r(null,n)}})},v.prototype._tinySDF=function(t,r,n){var o=this.localIdeographFontFamily;if(o&&(e.isChar["CJK Unified Ideographs"](n)||e.isChar["Hangul Syllables"](n))){var i=t.tinySDF;if(!i){var a="400";/bold/i.test(r)?a="900":/medium/i.test(r)?a="500":/light/i.test(r)&&(a="200"),i=t.tinySDF=new v.TinySDF(24,3,8,.25,o,a)}return{id:n,bitmap:new e.AlphaImage({width:30,height:30},i.draw(String.fromCharCode(n))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},v.loadGlyphRange=function(t,r,n,o,i){var a=256*r,s=a+255,l=o(e.normalizeGlyphsURL(n).replace("{fontstack}",t).replace("{range}",a+"-"+s),e.ResourceType.Glyphs);e.getArrayBuffer(l,function(t,r){if(t)i(t);else if(r){for(var n={},o=0,a=e.parseGlyphPBF(r);o<a.length;o+=1){var s=a[o];n[s.id]=s}i(null,n)}})},v.TinySDF=h;var g=function(){this.specification=e.styleSpec.light.position};g.prototype.possiblyEvaluate=function(t,r){return e.sphericalToCartesian(t.expression.evaluate(r))},g.prototype.interpolate=function(t,r,n){return{x:e.number(t.x,r.x,n),y:e.number(t.y,r.y,n),z:e.number(t.z,r.z,n)}};var _=new e.Properties({anchor:new e.DataConstantProperty(e.styleSpec.light.anchor),position:new g,color:new e.DataConstantProperty(e.styleSpec.light.color),intensity:new e.DataConstantProperty(e.styleSpec.light.intensity)}),b=function(t){function r(r){t.call(this),this._transitionable=new e.Transitionable(_),this.setLight(r),this._transitioning=this._transitionable.untransitioned()}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.getLight=function(){return this._transitionable.serialize()},r.prototype.setLight=function(t,r){if(void 0===r&&(r={}),!this._validate(e.validateLight,t,r))for(var n in t){var o=t[n];e.endsWith(n,"-transition")?this._transitionable.setTransition(n.slice(0,-"-transition".length),o):this._transitionable.setValue(n,o)}},r.prototype.updateTransitions=function(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)},r.prototype.hasTransition=function(){return this._transitioning.hasTransition()},r.prototype.recalculate=function(e){this.properties=this._transitioning.possiblyEvaluate(e)},r.prototype._validate=function(t,r,n){return(!n||!1!==n.validate)&&e.emitValidationErrors(this,t.call(e.validateStyle,e.extend({value:r,style:{glyphs:!0,sprite:!0},styleSpec:e.styleSpec})))},r}(e.Evented),x=function(e,t){this.width=e,this.height=t,this.nextRow=0,this.bytes=4,this.data=new Uint8Array(this.width*this.height*this.bytes),this.positions={}};x.prototype.getDash=function(e,t){var r=e.join(",")+String(t);return this.positions[r]||(this.positions[r]=this.addDash(e,t)),this.positions[r]},x.prototype.addDash=function(t,r){var n=r?7:0,o=2*n+1;if(this.nextRow+o>this.height)return e.warnOnce("LineAtlas out of space"),null;for(var i=0,a=0;a<t.length;a++)i+=t[a];for(var s=this.width/i,l=s/2,u=t.length%2===1,c=-n;c<=n;c++)for(var p=this.nextRow+n+c,h=this.width*p,f=u?-t[t.length-1]:0,d=t[0],m=1,y=0;y<this.width;y++){for(;d<y/s;)f=d,d+=t[m],u&&m===t.length-1&&(d+=t[0]),m++;var v=Math.abs(y-f*s),g=Math.abs(y-d*s),_=Math.min(v,g),b=m%2===1,x=void 0;if(r){var w=n?c/n*(l+1):0;if(b){var E=l-Math.abs(w);x=Math.sqrt(_*_+E*E)}else x=l-Math.sqrt(_*_+w*w)}else x=(b?1:-1)*_;this.data[3+4*(h+y)]=Math.max(0,Math.min(255,x+128))}var S={y:(this.nextRow+n+.5)/this.height,height:2*n/this.height,width:i};return this.nextRow+=o,this.dirty=!0,S},x.prototype.bind=function(e){var t=e.gl;this.texture?(t.bindTexture(t.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width,this.height,t.RGBA,t.UNSIGNED_BYTE,this.data))):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.width,this.height,0,t.RGBA,t.UNSIGNED_BYTE,this.data))};var w=function t(r,n){this.workerPool=r,this.actors=[],this.currentActor=0,this.id=e.uniqueId();for(var o=this.workerPool.acquire(this.id),i=0;i<o.length;i++){var a=o[i],s=new t.Actor(a,n,this.id);s.name="Worker "+i,this.actors.push(s)}};function E(t,r,n){var o=function(r,o){if(r)return n(r);if(o){var i=e.pick(o,["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds"]);o.vector_layers&&(i.vectorLayers=o.vector_layers,i.vectorLayerIds=i.vectorLayers.map(function(e){return e.id})),t.url&&(i.tiles=e.canonicalizeTileset(i,t.url)),n(null,i)}};return t.url?e.getJSON(r(e.normalizeSourceURL(t.url),e.ResourceType.Source),o):e.browser.frame(function(){return o(null,t)})}w.prototype.broadcast=function(t,r,n){n=n||function(){},e.asyncAll(this.actors,function(e,n){e.send(t,r,n)},n)},w.prototype.send=function(e,t,r,n){return("number"!==typeof n||isNaN(n))&&(n=this.currentActor=(this.currentActor+1)%this.actors.length),this.actors[n].send(e,t,r),n},w.prototype.remove=function(){this.actors.forEach(function(e){e.remove()}),this.actors=[],this.workerPool.release(this.id)},w.Actor=e.Actor;var S=function(t,r,n){this.bounds=e.LngLatBounds.convert(this.validateBounds(t)),this.minzoom=r||0,this.maxzoom=n||24};S.prototype.validateBounds=function(e){return Array.isArray(e)&&4===e.length?[Math.max(-180,e[0]),Math.max(-90,e[1]),Math.min(180,e[2]),Math.min(90,e[3])]:[-180,-90,180,90]},S.prototype.contains=function(t){var r=Math.pow(2,t.z),n=Math.floor(e.mercatorXfromLng(this.bounds.getWest())*r),o=Math.floor(e.mercatorYfromLat(this.bounds.getNorth())*r),i=Math.ceil(e.mercatorXfromLng(this.bounds.getEast())*r),a=Math.ceil(e.mercatorYfromLat(this.bounds.getSouth())*r);return t.x>=n&&t.x<i&&t.y>=o&&t.y<a};var C=function(t){function r(r,n,o,i){if(t.call(this),this.id=r,this.dispatcher=o,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,e.extend(this,e.pick(n,["url","scheme","tileSize"])),this._options=e.extend({type:"vector"},n),this._collectResourceTiming=n.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(i)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.load=function(){var t=this;this.fire(new e.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=E(this._options,this.map._transformRequest,function(r,n){t._tileJSONRequest=null,r?t.fire(new e.ErrorEvent(r)):n&&(e.extend(t,n),n.bounds&&(t.tileBounds=new S(n.bounds,t.minzoom,t.maxzoom)),e.postTurnstileEvent(n.tiles),e.postMapLoadEvent(n.tiles,t.map._getMapId()),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})))})},r.prototype.hasTile=function(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)},r.prototype.onAdd=function(e){this.map=e,this.load()},r.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},r.prototype.serialize=function(){return e.extend({},this._options)},r.prototype.loadTile=function(t,r){var n=e.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),this.url),o={request:this.map._transformRequest(n,e.ResourceType.Tile),uid:t.uid,tileID:t.tileID,zoom:t.tileID.overscaledZ,tileSize:this.tileSize*t.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:e.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes};function i(e,n){return t.aborted?r(null):e&&404!==e.status?r(e):(n&&n.resourceTiming&&(t.resourceTiming=n.resourceTiming),this.map._refreshExpiredTiles&&n&&t.setExpiryData(n),t.loadVectorData(n,this.map.painter),r(null),void(t.reloadCallback&&(this.loadTile(t,t.reloadCallback),t.reloadCallback=null)))}o.request.collectResourceTiming=this._collectResourceTiming,void 0===t.workerID||"expired"===t.state?t.workerID=this.dispatcher.send("loadTile",o,i.bind(this)):"loading"===t.state?t.reloadCallback=r:this.dispatcher.send("reloadTile",o,i.bind(this),t.workerID)},r.prototype.abortTile=function(e){this.dispatcher.send("abortTile",{uid:e.uid,type:this.type,source:this.id},void 0,e.workerID)},r.prototype.unloadTile=function(e){e.unloadVectorData(),this.dispatcher.send("removeTile",{uid:e.uid,type:this.type,source:this.id},void 0,e.workerID)},r.prototype.hasTransition=function(){return!1},r}(e.Evented),k=function(t){function r(r,n,o,i){t.call(this),this.id=r,this.dispatcher=o,this.setEventedParent(i),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=e.extend({},n),e.extend(this,e.pick(n,["url","scheme","tileSize"]))}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.load=function(){var t=this;this.fire(new e.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=E(this._options,this.map._transformRequest,function(r,n){t._tileJSONRequest=null,r?t.fire(new e.ErrorEvent(r)):n&&(e.extend(t,n),n.bounds&&(t.tileBounds=new S(n.bounds,t.minzoom,t.maxzoom)),e.postTurnstileEvent(n.tiles),e.postMapLoadEvent(n.tiles,t.map._getMapId()),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})))})},r.prototype.onAdd=function(e){this.map=e,this.load()},r.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},r.prototype.serialize=function(){return e.extend({},this._options)},r.prototype.hasTile=function(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)},r.prototype.loadTile=function(t,r){var n=this,o=e.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),this.url,this.tileSize);t.request=e.getImage(this.map._transformRequest(o,e.ResourceType.Tile),function(o,i){if(delete t.request,t.aborted)t.state="unloaded",r(null);else if(o)t.state="errored",r(o);else if(i){n.map._refreshExpiredTiles&&t.setExpiryData(i),delete i.cacheControl,delete i.expires;var a=n.map.painter.context,s=a.gl;t.texture=n.map.painter.getTileTexture(i.width),t.texture?t.texture.update(i,{useMipmap:!0}):(t.texture=new e.Texture(a,i,s.RGBA,{useMipmap:!0}),t.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST),a.extTextureFilterAnisotropic&&s.texParameterf(s.TEXTURE_2D,a.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,a.extTextureFilterAnisotropicMax)),t.state="loaded",r(null)}})},r.prototype.abortTile=function(e,t){e.request&&(e.request.cancel(),delete e.request),t()},r.prototype.unloadTile=function(e,t){e.texture&&this.map.painter.saveTileTexture(e.texture),t()},r.prototype.hasTransition=function(){return!1},r}(e.Evented),T=function(t){function r(r,n,o,i){t.call(this,r,n,o,i),this.type="raster-dem",this.maxzoom=22,this._options=e.extend({},n),this.encoding=n.encoding||"mapbox"}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},r.prototype.loadTile=function(t,r){var n=e.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),this.url,this.tileSize);t.request=e.getImage(this.map._transformRequest(n,e.ResourceType.Tile),function(n,o){if(delete t.request,t.aborted)t.state="unloaded",r(null);else if(n)t.state="errored",r(n);else if(o){this.map._refreshExpiredTiles&&t.setExpiryData(o),delete o.cacheControl,delete o.expires;var i=e.browser.getImageData(o),a={uid:t.uid,coord:t.tileID,source:this.id,rawImageData:i,encoding:this.encoding};t.workerID&&"expired"!==t.state||(t.workerID=this.dispatcher.send("loadDEMTile",a,function(e,n){e&&(t.state="errored",r(e));n&&(t.dem=n,t.needsHillshadePrepare=!0,t.state="loaded",r(null))}.bind(this)))}}.bind(this)),t.neighboringTiles=this._getNeighboringTiles(t.tileID)},r.prototype._getNeighboringTiles=function(t){var r=t.canonical,n=Math.pow(2,r.z),o=(r.x-1+n)%n,i=0===r.x?t.wrap-1:t.wrap,a=(r.x+1+n)%n,s=r.x+1===n?t.wrap+1:t.wrap,l={};return l[new e.OverscaledTileID(t.overscaledZ,i,r.z,o,r.y).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,r.z,a,r.y).key]={backfilled:!1},r.y>0&&(l[new e.OverscaledTileID(t.overscaledZ,i,r.z,o,r.y-1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,t.wrap,r.z,r.x,r.y-1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,r.z,a,r.y-1).key]={backfilled:!1}),r.y+1<n&&(l[new e.OverscaledTileID(t.overscaledZ,i,r.z,o,r.y+1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,t.wrap,r.z,r.x,r.y+1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,r.z,a,r.y+1).key]={backfilled:!1}),l},r.prototype.unloadTile=function(e){e.demTexture&&this.map.painter.saveTileTexture(e.demTexture),e.fbo&&(e.fbo.destroy(),delete e.fbo),e.dem&&delete e.dem,delete e.neighboringTiles,e.state="unloaded",this.dispatcher.send("removeDEMTile",{uid:e.uid,source:this.id},void 0,e.workerID)},r}(k),O=function(t){function r(r,n,o,i){t.call(this),this.id=r,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this.dispatcher=o,this.setEventedParent(i),this._data=n.data,this._options=e.extend({},n),this._collectResourceTiming=n.collectResourceTiming,this._resourceTiming=[],void 0!==n.maxzoom&&(this.maxzoom=n.maxzoom),n.type&&(this.type=n.type),n.attribution&&(this.attribution=n.attribution);var a=e.EXTENT/this.tileSize;this.workerOptions=e.extend({source:this.id,cluster:n.cluster||!1,geojsonVtOptions:{buffer:(void 0!==n.buffer?n.buffer:128)*a,tolerance:(void 0!==n.tolerance?n.tolerance:.375)*a,extent:e.EXTENT,maxZoom:this.maxzoom,lineMetrics:n.lineMetrics||!1,generateId:n.generateId||!1},superclusterOptions:{maxZoom:void 0!==n.clusterMaxZoom?Math.min(n.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,extent:e.EXTENT,radius:(n.clusterRadius||50)*a,log:!1},clusterProperties:n.clusterProperties},n.workerOptions)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.load=function(){var t=this;this.fire(new e.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(r){if(r)t.fire(new e.ErrorEvent(r));else{var n={dataType:"source",sourceDataType:"metadata"};t._collectResourceTiming&&t._resourceTiming&&t._resourceTiming.length>0&&(n.resourceTiming=t._resourceTiming,t._resourceTiming=[]),t.fire(new e.Event("data",n))}})},r.prototype.onAdd=function(e){this.map=e,this.load()},r.prototype.setData=function(t){var r=this;return this._data=t,this.fire(new e.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(t){if(t)r.fire(new e.ErrorEvent(t));else{var n={dataType:"source",sourceDataType:"content"};r._collectResourceTiming&&r._resourceTiming&&r._resourceTiming.length>0&&(n.resourceTiming=r._resourceTiming,r._resourceTiming=[]),r.fire(new e.Event("data",n))}}),this},r.prototype.getClusterExpansionZoom=function(e,t){return this.dispatcher.send("geojson.getClusterExpansionZoom",{clusterId:e,source:this.id},t,this.workerID),this},r.prototype.getClusterChildren=function(e,t){return this.dispatcher.send("geojson.getClusterChildren",{clusterId:e,source:this.id},t,this.workerID),this},r.prototype.getClusterLeaves=function(e,t,r,n){return this.dispatcher.send("geojson.getClusterLeaves",{source:this.id,clusterId:e,limit:t,offset:r},n,this.workerID),this},r.prototype._updateWorkerData=function(t){var r=this,n=e.extend({},this.workerOptions),o=this._data;"string"===typeof o?(n.request=this.map._transformRequest(e.browser.resolveURL(o),e.ResourceType.Source),n.request.collectResourceTiming=this._collectResourceTiming):n.data=JSON.stringify(o),this.workerID=this.dispatcher.send(this.type+".loadData",n,function(e,o){r._removed||o&&o.abandoned||(r._loaded=!0,o&&o.resourceTiming&&o.resourceTiming[r.id]&&(r._resourceTiming=o.resourceTiming[r.id].slice(0)),r.dispatcher.send(r.type+".coalesce",{source:n.source},null,r.workerID),t(e))},this.workerID)},r.prototype.loadTile=function(t,r){var n=this,o=void 0===t.workerID?"loadTile":"reloadTile",i={type:this.type,uid:t.uid,tileID:t.tileID,zoom:t.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:e.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes};t.workerID=this.dispatcher.send(o,i,function(e,i){return t.unloadVectorData(),t.aborted?r(null):e?r(e):(t.loadVectorData(i,n.map.painter,"reloadTile"===o),r(null))},this.workerID)},r.prototype.abortTile=function(e){e.aborted=!0},r.prototype.unloadTile=function(e){e.unloadVectorData(),this.dispatcher.send("removeTile",{uid:e.uid,type:this.type,source:this.id},null,e.workerID)},r.prototype.onRemove=function(){this._removed=!0,this.dispatcher.send("removeSource",{type:this.type,source:this.id},null,this.workerID)},r.prototype.serialize=function(){return e.extend({},this._options,{type:this.type,data:this._data})},r.prototype.hasTransition=function(){return!1},r}(e.Evented),P=function(t){function r(e,r,n,o){t.call(this),this.id=e,this.dispatcher=n,this.coordinates=r.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this.setEventedParent(o),this.options=r}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.load=function(t,r){var n=this;this.fire(new e.Event("dataloading",{dataType:"source"})),this.url=this.options.url,e.getImage(this.map._transformRequest(this.url,e.ResourceType.Image),function(o,i){o?n.fire(new e.ErrorEvent(o)):i&&(n.image=i,t&&(n.coordinates=t),r&&r(),n._finishLoading())})},r.prototype.updateImage=function(e){var t=this;return this.image&&e.url?(this.options.url=e.url,this.load(e.coordinates,function(){t.texture=null}),this):this},r.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})))},r.prototype.onAdd=function(e){this.map=e,this.load()},r.prototype.setCoordinates=function(t){var r=this;this.coordinates=t;var n=t.map(e.MercatorCoordinate.fromLngLat);this.tileID=function(t){for(var r=1/0,n=1/0,o=-1/0,i=-1/0,a=0,s=t;a<s.length;a+=1){var l=s[a];r=Math.min(r,l.x),n=Math.min(n,l.y),o=Math.max(o,l.x),i=Math.max(i,l.y)}var u=o-r,c=i-n,p=Math.max(u,c),h=Math.max(0,Math.floor(-Math.log(p)/Math.LN2)),f=Math.pow(2,h);return new e.CanonicalTileID(h,Math.floor((r+o)/2*f),Math.floor((n+i)/2*f))}(n),this.minzoom=this.maxzoom=this.tileID.z;var o=n.map(function(e){return r.tileID.getTilePoint(e)._round()});return this._boundsArray=new e.StructArrayLayout4i8,this._boundsArray.emplaceBack(o[0].x,o[0].y,0,0),this._boundsArray.emplaceBack(o[1].x,o[1].y,e.EXTENT,0),this._boundsArray.emplaceBack(o[3].x,o[3].y,0,e.EXTENT),this._boundsArray.emplaceBack(o[2].x,o[2].y,e.EXTENT,e.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})),this},r.prototype.prepare=function(){if(0!==Object.keys(this.tiles).length&&this.image){var t=this.map.painter.context,r=t.gl;for(var n in this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,e.rasterBoundsAttributes.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new e.Texture(t,this.image,r.RGBA),this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE)),this.tiles){var o=this.tiles[n];"loaded"!==o.state&&(o.state="loaded",o.texture=this.texture)}}},r.prototype.loadTile=function(e,t){this.tileID&&this.tileID.equals(e.tileID.canonical)?(this.tiles[String(e.tileID.wrap)]=e,e.buckets={},t(null)):(e.state="errored",t(null))},r.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},r.prototype.hasTransition=function(){return!1},r}(e.Evented);var A={vector:C,raster:k,"raster-dem":T,geojson:O,video:function(t){function r(e,r,n,o){t.call(this,e,r,n,o),this.roundZoom=!0,this.type="video",this.options=r}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.load=function(){var t=this,r=this.options;this.urls=[];for(var n=0,o=r.urls;n<o.length;n+=1){var i=o[n];this.urls.push(this.map._transformRequest(i,e.ResourceType.Source).url)}e.getVideo(this.urls,function(r,n){r?t.fire(new e.ErrorEvent(r)):n&&(t.video=n,t.video.loop=!0,t.video.addEventListener("playing",function(){t.map.triggerRepaint()}),t.map&&t.video.play(),t._finishLoading())})},r.prototype.getVideo=function(){return this.video},r.prototype.onAdd=function(e){this.map||(this.map=e,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},r.prototype.prepare=function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var t=this.map.painter.context,r=t.gl;for(var n in this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,e.rasterBoundsAttributes.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE),r.texSubImage2D(r.TEXTURE_2D,0,0,0,r.RGBA,r.UNSIGNED_BYTE,this.video)):(this.texture=new e.Texture(t,this.video,r.RGBA),this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE)),this.tiles){var o=this.tiles[n];"loaded"!==o.state&&(o.state="loaded",o.texture=this.texture)}}},r.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},r.prototype.hasTransition=function(){return this.video&&!this.video.paused},r}(P),image:P,canvas:function(t){function r(r,n,o,i){t.call(this,r,n,o,i),n.coordinates?Array.isArray(n.coordinates)&&4===n.coordinates.length&&!n.coordinates.some(function(e){return!Array.isArray(e)||2!==e.length||e.some(function(e){return"number"!==typeof e})})||this.fire(new e.ErrorEvent(new e.ValidationError("sources."+r,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new e.ErrorEvent(new e.ValidationError("sources."+r,null,'missing required property "coordinates"'))),n.animate&&"boolean"!==typeof n.animate&&this.fire(new e.ErrorEvent(new e.ValidationError("sources."+r,null,'optional "animate" property must be a boolean value'))),n.canvas?"string"===typeof n.canvas||n.canvas instanceof e.window.HTMLCanvasElement||this.fire(new e.ErrorEvent(new e.ValidationError("sources."+r,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new e.ErrorEvent(new e.ValidationError("sources."+r,null,'missing required property "canvas"'))),this.options=n,this.animate=void 0===n.animate||n.animate}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.load=function(){this.canvas||(this.canvas=this.options.canvas instanceof e.window.HTMLCanvasElement?this.options.canvas:e.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new e.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing=!1},this._finishLoading())},r.prototype.getCanvas=function(){return this.canvas},r.prototype.onAdd=function(e){this.map=e,this.load(),this.canvas&&this.animate&&this.play()},r.prototype.onRemove=function(){this.pause()},r.prototype.prepare=function(){var t=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,t=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,t=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var r=this.map.painter.context,n=r.gl;for(var o in this.boundsBuffer||(this.boundsBuffer=r.createVertexBuffer(this._boundsArray,e.rasterBoundsAttributes.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(t||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new e.Texture(r,this.canvas,n.RGBA,{premultiply:!0}),this.tiles){var i=this.tiles[o];"loaded"!==i.state&&(i.state="loaded",i.texture=this.texture)}}},r.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},r.prototype.hasTransition=function(){return this._playing},r.prototype._hasInvalidDimensions=function(){for(var e=0,t=[this.canvas.width,this.canvas.height];e<t.length;e+=1){var r=t[e];if(isNaN(r)||r<=0)return!0}return!1},r}(P)},I=function(t,r,n,o){var i=new A[r.type](t,r,n,o);if(i.id!==t)throw new Error("Expected Source id to be "+t+" instead of "+i.id);return e.bindAll(["load","abort","unload","serialize","prepare"],i),i};function M(t,r){var n=e.identity([]);return e.translate(n,n,[1,1,0]),e.scale(n,n,[.5*t.width,.5*t.height,1]),e.multiply(n,n,t.calculatePosMatrix(r.toUnwrapped()))}function R(e,t,r,n,o){var i=function(e,t,r){if(e)for(var n=0,o=e;n<o.length;n+=1){var i=t[o[n]];if(i&&i.source===r&&"fill-extrusion"===i.type)return!0}else for(var a in t){var s=t[a];if(s.source===r&&"fill-extrusion"===s.type)return!0}return!1}(n&&n.layers,t,e.id),a=o.maxPitchScaleFactor(),s=e.tilesIn(r,a,i);s.sort(L);for(var l=[],u=0,c=s;u<c.length;u+=1){var p=c[u];l.push({wrappedTileID:p.tileID.wrapped().key,queryResults:p.tile.queryRenderedFeatures(t,e._state,p.queryGeometry,p.cameraQueryGeometry,p.scale,n,o,a,M(e.transform,p.tileID))})}var h=function(e){for(var t={},r={},n=0,o=e;n<o.length;n+=1){var i=o[n],a=i.queryResults,s=i.wrappedTileID,l=r[s]=r[s]||{};for(var u in a)for(var c=a[u],p=l[u]=l[u]||{},h=t[u]=t[u]||[],f=0,d=c;f<d.length;f+=1){var m=d[f];p[m.featureIndex]||(p[m.featureIndex]=!0,h.push(m))}}return t}(l);for(var f in h)h[f].forEach(function(t){var r=t.feature,n=e.getFeatureState(r.layer["source-layer"],r.id);r.source=r.layer.source,r.layer["source-layer"]&&(r.sourceLayer=r.layer["source-layer"]),r.state=n});return h}function L(e,t){var r=e.tileID,n=t.tileID;return r.overscaledZ-n.overscaledZ||r.canonical.y-n.canonical.y||r.wrap-n.wrap||r.canonical.x-n.canonical.x}var D=function(e,t){this.max=e,this.onRemove=t,this.reset()};D.prototype.reset=function(){for(var e in this.data)for(var t=0,r=this.data[e];t<r.length;t+=1){var n=r[t];n.timeout&&clearTimeout(n.timeout),this.onRemove(n.value)}return this.data={},this.order=[],this},D.prototype.add=function(e,t,r){var n=this,o=e.wrapped().key;void 0===this.data[o]&&(this.data[o]=[]);var i={value:t,timeout:void 0};if(void 0!==r&&(i.timeout=setTimeout(function(){n.remove(e,i)},r)),this.data[o].push(i),this.order.push(o),this.order.length>this.max){var a=this._getAndRemoveByKey(this.order[0]);a&&this.onRemove(a)}return this},D.prototype.has=function(e){return e.wrapped().key in this.data},D.prototype.getAndRemove=function(e){return this.has(e)?this._getAndRemoveByKey(e.wrapped().key):null},D.prototype._getAndRemoveByKey=function(e){var t=this.data[e].shift();return t.timeout&&clearTimeout(t.timeout),0===this.data[e].length&&delete this.data[e],this.order.splice(this.order.indexOf(e),1),t.value},D.prototype.get=function(e){return this.has(e)?this.data[e.wrapped().key][0].value:null},D.prototype.remove=function(e,t){if(!this.has(e))return this;var r=e.wrapped().key,n=void 0===t?0:this.data[r].indexOf(t),o=this.data[r][n];return this.data[r].splice(n,1),o.timeout&&clearTimeout(o.timeout),0===this.data[r].length&&delete this.data[r],this.onRemove(o.value),this.order.splice(this.order.indexOf(r),1),this},D.prototype.setMaxSize=function(e){for(this.max=e;this.order.length>this.max;){var t=this._getAndRemoveByKey(this.order[0]);t&&this.onRemove(t)}return this};var j=function(e,t,r){this.context=e;var n=e.gl;this.buffer=n.createBuffer(),this.dynamicDraw=Boolean(r),this.context.unbindVAO(),e.bindElementBuffer.set(this.buffer),n.bufferData(n.ELEMENT_ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?n.DYNAMIC_DRAW:n.STATIC_DRAW),this.dynamicDraw||delete t.arrayBuffer};j.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},j.prototype.updateData=function(e){var t=this.context.gl;this.context.unbindVAO(),this.bind(),t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,0,e.arrayBuffer)},j.prototype.destroy=function(){var e=this.context.gl;this.buffer&&(e.deleteBuffer(this.buffer),delete this.buffer)};var z={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},F=function(e,t,r,n){this.length=t.length,this.attributes=r,this.itemSize=t.bytesPerElement,this.dynamicDraw=n,this.context=e;var o=e.gl;this.buffer=o.createBuffer(),e.bindVertexBuffer.set(this.buffer),o.bufferData(o.ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?o.DYNAMIC_DRAW:o.STATIC_DRAW),this.dynamicDraw||delete t.arrayBuffer};F.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},F.prototype.updateData=function(e){var t=this.context.gl;this.bind(),t.bufferSubData(t.ARRAY_BUFFER,0,e.arrayBuffer)},F.prototype.enableAttributes=function(e,t){for(var r=0;r<this.attributes.length;r++){var n=this.attributes[r],o=t.attributes[n.name];void 0!==o&&e.enableVertexAttribArray(o)}},F.prototype.setVertexAttribPointers=function(e,t,r){for(var n=0;n<this.attributes.length;n++){var o=this.attributes[n],i=t.attributes[o.name];void 0!==i&&e.vertexAttribPointer(i,o.components,e[z[o.type]],!1,this.itemSize,o.offset+this.itemSize*(r||0))}},F.prototype.destroy=function(){var e=this.context.gl;this.buffer&&(e.deleteBuffer(this.buffer),delete this.buffer)};var N=function(e){this.gl=e.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};N.prototype.get=function(){return this.current},N.prototype.set=function(e){},N.prototype.getDefault=function(){return this.default},N.prototype.setDefault=function(){this.set(this.default)};var B=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.getDefault=function(){return e.Color.transparent},r.prototype.set=function(e){var t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.clearColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)},r}(N),U=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return 1},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.clearDepth(e),this.current=e,this.dirty=!1)},t}(N),V=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return 0},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.clearStencil(e),this.current=e,this.dirty=!1)},t}(N),G=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return[!0,!0,!0,!0]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.colorMask(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)},t}(N),q=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return!0},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.depthMask(e),this.current=e,this.dirty=!1)},t}(N),H=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return 255},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.stencilMask(e),this.current=e,this.dirty=!1)},t}(N),W=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},t.prototype.set=function(e){var t=this.current;(e.func!==t.func||e.ref!==t.ref||e.mask!==t.mask||this.dirty)&&(this.gl.stencilFunc(e.func,e.ref,e.mask),this.current=e,this.dirty=!1)},t}(N),X=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){var e=this.gl;return[e.KEEP,e.KEEP,e.KEEP]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||this.dirty)&&(this.gl.stencilOp(e[0],e[1],e[2]),this.current=e,this.dirty=!1)},t}(N),Z=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.STENCIL_TEST):t.disable(t.STENCIL_TEST),this.current=e,this.dirty=!1}},t}(N),Y=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return[0,1]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.depthRange(e[0],e[1]),this.current=e,this.dirty=!1)},t}(N),K=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.DEPTH_TEST):t.disable(t.DEPTH_TEST),this.current=e,this.dirty=!1}},t}(N),$=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return this.gl.LESS},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.depthFunc(e),this.current=e,this.dirty=!1)},t}(N),J=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.BLEND):t.disable(t.BLEND),this.current=e,this.dirty=!1}},t}(N),Q=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){var e=this.gl;return[e.ONE,e.ZERO]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.blendFunc(e[0],e[1]),this.current=e,this.dirty=!1)},t}(N),ee=function(t){function r(){t.apply(this,arguments)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.getDefault=function(){return e.Color.transparent},r.prototype.set=function(e){var t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.blendColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)},r}(N),te=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return this.gl.FUNC_ADD},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.blendEquation(e),this.current=e,this.dirty=!1)},t}(N),re=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.CULL_FACE):t.disable(t.CULL_FACE),this.current=e,this.dirty=!1}},t}(N),ne=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return this.gl.BACK},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.cullFace(e),this.current=e,this.dirty=!1)},t}(N),oe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return this.gl.CCW},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.frontFace(e),this.current=e,this.dirty=!1)},t}(N),ie=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.useProgram(e),this.current=e,this.dirty=!1)},t}(N),ae=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return this.gl.TEXTURE0},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.activeTexture(e),this.current=e,this.dirty=!1)},t}(N),se=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){var e=this.gl;return[0,0,e.drawingBufferWidth,e.drawingBufferHeight]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.viewport(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)},t}(N),le=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,e),this.current=e,this.dirty=!1}},t}(N),ue=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindRenderbuffer(t.RENDERBUFFER,e),this.current=e,this.dirty=!1}},t}(N),ce=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindTexture(t.TEXTURE_2D,e),this.current=e,this.dirty=!1}},t}(N),pe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,e),this.current=e,this.dirty=!1}},t}(N),he=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){var t=this.gl;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),this.current=e,this.dirty=!1},t}(N),fe=function(e){function t(t){e.call(this,t),this.vao=t.extVertexArrayObject}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){this.vao&&(e!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(e),this.current=e,this.dirty=!1)},t}(N),de=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return 4},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_ALIGNMENT,e),this.current=e,this.dirty=!1}},t}(N),me=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e),this.current=e,this.dirty=!1}},t}(N),ye=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e),this.current=e,this.dirty=!1}},t}(N),ve=function(e){function t(t,r){e.call(this,t),this.context=t,this.parent=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return null},t}(N),ge=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setDirty=function(){this.dirty=!0},t.prototype.set=function(e){if(e!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var t=this.gl;t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0),this.current=e,this.dirty=!1}},t}(ve),_e=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){if(e!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var t=this.gl;t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e),this.current=e,this.dirty=!1}},t}(ve),be=function(e,t,r){this.context=e,this.width=t,this.height=r;var n=e.gl,o=this.framebuffer=n.createFramebuffer();this.colorAttachment=new ge(e,o),this.depthAttachment=new _e(e,o)};be.prototype.destroy=function(){var e=this.context.gl,t=this.colorAttachment.get();t&&e.deleteTexture(t);var r=this.depthAttachment.get();r&&e.deleteRenderbuffer(r),e.deleteFramebuffer(this.framebuffer)};var xe=function(e,t,r){this.func=e,this.mask=t,this.range=r};xe.ReadOnly=!1,xe.ReadWrite=!0,xe.disabled=new xe(519,xe.ReadOnly,[0,1]);var we=function(e,t,r,n,o,i){this.test=e,this.ref=t,this.mask=r,this.fail=n,this.depthFail=o,this.pass=i};we.disabled=new we({func:519,mask:0},0,0,7680,7680,7680);var Ee=function(e,t,r){this.blendFunction=e,this.blendColor=t,this.mask=r};Ee.Replace=[1,0],Ee.disabled=new Ee(Ee.Replace,e.Color.transparent,[!1,!1,!1,!1]),Ee.unblended=new Ee(Ee.Replace,e.Color.transparent,[!0,!0,!0,!0]),Ee.alphaBlended=new Ee([1,771],e.Color.transparent,[!0,!0,!0,!0]);var Se=function(e,t,r){this.enable=e,this.mode=t,this.frontFace=r};Se.disabled=new Se(!1,1029,2305),Se.backCCW=new Se(!0,1029,2305);var Ce=function(e){this.gl=e,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new B(this),this.clearDepth=new U(this),this.clearStencil=new V(this),this.colorMask=new G(this),this.depthMask=new q(this),this.stencilMask=new H(this),this.stencilFunc=new W(this),this.stencilOp=new X(this),this.stencilTest=new Z(this),this.depthRange=new Y(this),this.depthTest=new K(this),this.depthFunc=new $(this),this.blend=new J(this),this.blendFunc=new Q(this),this.blendColor=new ee(this),this.blendEquation=new te(this),this.cullFace=new re(this),this.cullFaceSide=new ne(this),this.frontFace=new oe(this),this.program=new ie(this),this.activeTexture=new ae(this),this.viewport=new se(this),this.bindFramebuffer=new le(this),this.bindRenderbuffer=new ue(this),this.bindTexture=new ce(this),this.bindVertexBuffer=new pe(this),this.bindElementBuffer=new he(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new fe(this),this.pixelStoreUnpack=new de(this),this.pixelStoreUnpackPremultiplyAlpha=new me(this),this.pixelStoreUnpackFlipY=new ye(this),this.extTextureFilterAnisotropic=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=e.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=e.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&e.getExtension("OES_texture_half_float_linear")};Ce.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Ce.prototype.createIndexBuffer=function(e,t){return new j(this,e,t)},Ce.prototype.createVertexBuffer=function(e,t,r){return new F(this,e,t,r)},Ce.prototype.createRenderbuffer=function(e,t,r){var n=this.gl,o=n.createRenderbuffer();return this.bindRenderbuffer.set(o),n.renderbufferStorage(n.RENDERBUFFER,e,t,r),this.bindRenderbuffer.set(null),o},Ce.prototype.createFramebuffer=function(e,t){return new be(this,e,t)},Ce.prototype.clear=function(e){var t=e.color,r=e.depth,n=this.gl,o=0;t&&(o|=n.COLOR_BUFFER_BIT,this.clearColor.set(t),this.colorMask.set([!0,!0,!0,!0])),"undefined"!==typeof r&&(o|=n.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(r),this.depthMask.set(!0)),n.clear(o)},Ce.prototype.setCullFace=function(e){!1===e.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(e.mode),this.frontFace.set(e.frontFace))},Ce.prototype.setDepthMode=function(e){e.func!==this.gl.ALWAYS||e.mask?(this.depthTest.set(!0),this.depthFunc.set(e.func),this.depthMask.set(e.mask),this.depthRange.set(e.range)):this.depthTest.set(!1)},Ce.prototype.setStencilMode=function(e){e.test.func!==this.gl.ALWAYS||e.mask?(this.stencilTest.set(!0),this.stencilMask.set(e.mask),this.stencilOp.set([e.fail,e.depthFail,e.pass]),this.stencilFunc.set({func:e.test.func,ref:e.ref,mask:e.test.mask})):this.stencilTest.set(!1)},Ce.prototype.setColorMode=function(t){e.isEqual(t.blendFunction,Ee.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(t.blendFunction),this.blendColor.set(t.blendColor)),this.colorMask.set(t.mask)},Ce.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var ke=function(t){function r(r,n,o){var i=this;t.call(this),this.id=r,this.dispatcher=o,this.on("data",function(e){"source"===e.dataType&&"metadata"===e.sourceDataType&&(i._sourceLoaded=!0),i._sourceLoaded&&!i._paused&&"source"===e.dataType&&"content"===e.sourceDataType&&(i.reload(),i.transform&&i.update(i.transform))}),this.on("error",function(){i._sourceErrored=!0}),this._source=I(r,n,o,this),this._tiles={},this._cache=new D(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._coveredTiles={},this._state=new e.SourceFeatureState}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.onAdd=function(e){this.map=e,this._maxTileCacheSize=e?e._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(e)},r.prototype.onRemove=function(e){this._source&&this._source.onRemove&&this._source.onRemove(e)},r.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;for(var e in this._tiles){var t=this._tiles[e];if("loaded"!==t.state&&"errored"!==t.state)return!1}return!0},r.prototype.getSource=function(){return this._source},r.prototype.pause=function(){this._paused=!0},r.prototype.resume=function(){if(this._paused){var e=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,e&&this.reload(),this.transform&&this.update(this.transform)}},r.prototype._loadTile=function(e,t){return this._source.loadTile(e,t)},r.prototype._unloadTile=function(e){if(this._source.unloadTile)return this._source.unloadTile(e,function(){})},r.prototype._abortTile=function(e){if(this._source.abortTile)return this._source.abortTile(e,function(){})},r.prototype.serialize=function(){return this._source.serialize()},r.prototype.prepare=function(e){for(var t in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles)this._tiles[t].upload(e)},r.prototype.getIds=function(){return Object.keys(this._tiles).map(Number).sort(Te)},r.prototype.getRenderableIds=function(t){var r=this,n=[];for(var o in this._tiles)this._isIdRenderable(+o,t)&&n.push(+o);return t?n.sort(function(t,n){var o=r._tiles[t].tileID,i=r._tiles[n].tileID,a=new e.Point(o.canonical.x,o.canonical.y)._rotate(r.transform.angle),s=new e.Point(i.canonical.x,i.canonical.y)._rotate(r.transform.angle);return o.overscaledZ-i.overscaledZ||s.y-a.y||s.x-a.x}):n.sort(Te)},r.prototype.hasRenderableParent=function(e){var t=this.findLoadedParent(e,0);return!!t&&this._isIdRenderable(t.tileID.key)},r.prototype._isIdRenderable=function(e,t){return this._tiles[e]&&this._tiles[e].hasData()&&!this._coveredTiles[e]&&(t||!this._tiles[e].holdingForFade())},r.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var e in this._cache.reset(),this._tiles)"errored"!==this._tiles[e].state&&this._reloadTile(e,"reloading")},r.prototype._reloadTile=function(e,t){var r=this._tiles[e];r&&("loading"!==r.state&&(r.state=t),this._loadTile(r,this._tileLoaded.bind(this,r,e,t)))},r.prototype._tileLoaded=function(t,r,n,o){if(o)return t.state="errored",void(404!==o.status?this._source.fire(new e.ErrorEvent(o,{tile:t})):this.update(this.transform));t.timeAdded=e.browser.now(),"expired"===n&&(t.refreshedUponExpiration=!0),this._setTileReloadTimer(r,t),"raster-dem"===this.getSource().type&&t.dem&&this._backfillDEM(t),this._state.initializeTileState(t,this.map?this.map.painter:null),this._source.fire(new e.Event("data",{dataType:"source",tile:t,coord:t.tileID}))},r.prototype._backfillDEM=function(e){for(var t=this.getRenderableIds(),r=0;r<t.length;r++){var n=t[r];if(e.neighboringTiles&&e.neighboringTiles[n]){var o=this.getTileByID(n);i(e,o),i(o,e)}}function i(e,t){e.needsHillshadePrepare=!0;var r=t.tileID.canonical.x-e.tileID.canonical.x,n=t.tileID.canonical.y-e.tileID.canonical.y,o=Math.pow(2,e.tileID.canonical.z),i=t.tileID.key;0===r&&0===n||Math.abs(n)>1||(Math.abs(r)>1&&(1===Math.abs(r+o)?r+=o:1===Math.abs(r-o)&&(r-=o)),t.dem&&e.dem&&(e.dem.backfillBorder(t.dem,r,n),e.neighboringTiles&&e.neighboringTiles[i]&&(e.neighboringTiles[i].backfilled=!0)))}},r.prototype.getTile=function(e){return this.getTileByID(e.key)},r.prototype.getTileByID=function(e){return this._tiles[e]},r.prototype.getZoom=function(e){return e.zoom+e.scaleZoom(e.tileSize/this._source.tileSize)},r.prototype._retainLoadedChildren=function(e,t,r,n){for(var o in this._tiles){var i=this._tiles[o];if(!(n[o]||!i.hasData()||i.tileID.overscaledZ<=t||i.tileID.overscaledZ>r)){for(var a=i.tileID;i&&i.tileID.overscaledZ>t+1;){var s=i.tileID.scaledTo(i.tileID.overscaledZ-1);(i=this._tiles[s.key])&&i.hasData()&&(a=s)}for(var l=a;l.overscaledZ>t;)if(e[(l=l.scaledTo(l.overscaledZ-1)).key]){n[a.key]=a;break}}}},r.prototype.findLoadedParent=function(e,t){for(var r=e.overscaledZ-1;r>=t;r--){var n=e.scaledTo(r);if(!n)return;var o=String(n.key),i=this._tiles[o];if(i&&i.hasData())return i;if(this._cache.has(n))return this._cache.get(n)}},r.prototype.updateCacheSize=function(e){var t=(Math.ceil(e.width/this._source.tileSize)+1)*(Math.ceil(e.height/this._source.tileSize)+1),r=Math.floor(5*t),n="number"===typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,r):r;this._cache.setMaxSize(n)},r.prototype.handleWrapJump=function(e){var t=(e-(void 0===this._prevLng?e:this._prevLng))/360,r=Math.round(t);if(this._prevLng=e,r){var n={};for(var o in this._tiles){var i=this._tiles[o];i.tileID=i.tileID.unwrapTo(i.tileID.wrap+r),n[i.tileID.key]=i}for(var a in this._tiles=n,this._timers)clearTimeout(this._timers[a]),delete this._timers[a];for(var s in this._tiles){var l=this._tiles[s];this._setTileReloadTimer(s,l)}}},r.prototype.update=function(t){var n=this;if(this.transform=t,this._sourceLoaded&&!this._paused){var o;this.updateCacheSize(t),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?o=t.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(t){return new e.OverscaledTileID(t.canonical.z,t.wrap,t.canonical.z,t.canonical.x,t.canonical.y)}):(o=t.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(o=o.filter(function(e){return n._source.hasTile(e)}))):o=[];var i=(this._source.roundZoom?Math.round:Math.floor)(this.getZoom(t)),a=Math.max(i-r.maxOverzooming,this._source.minzoom),s=Math.max(i+r.maxUnderzooming,this._source.minzoom),l=this._updateRetainedTiles(o,i);if(Oe(this._source.type)){for(var u={},c={},p=0,h=Object.keys(l);p<h.length;p+=1){var f=h[p],d=l[f],m=this._tiles[f];if(m&&!(m.fadeEndTime&&m.fadeEndTime<=e.browser.now())){var y=this.findLoadedParent(d,a);y&&(this._addTile(y.tileID),u[y.tileID.key]=y.tileID),c[f]=d}}for(var v in this._retainLoadedChildren(c,i,s,l),u)l[v]||(this._coveredTiles[v]=!0,l[v]=u[v])}for(var g in l)this._tiles[g].clearFadeHold();for(var _=0,b=e.keysDifference(this._tiles,l);_<b.length;_+=1){var x=b[_],w=this._tiles[x];w.hasSymbolBuckets&&!w.holdingForFade()?w.setHoldDuration(this.map._fadeDuration):w.hasSymbolBuckets&&!w.symbolFadeFinished()||this._removeTile(x)}}},r.prototype.releaseSymbolFadeTiles=function(){for(var e in this._tiles)this._tiles[e].holdingForFade()&&this._removeTile(e)},r.prototype._updateRetainedTiles=function(e,t){for(var n={},o={},i=Math.max(t-r.maxOverzooming,this._source.minzoom),a=Math.max(t+r.maxUnderzooming,this._source.minzoom),s={},l=0,u=e;l<u.length;l+=1){var c=u[l],p=this._addTile(c);n[c.key]=c,p.hasData()||t<this._source.maxzoom&&(s[c.key]=c)}this._retainLoadedChildren(s,t,a,n);for(var h=0,f=e;h<f.length;h+=1){var d=f[h],m=this._tiles[d.key];if(!m.hasData()){if(t+1>this._source.maxzoom){var y=d.children(this._source.maxzoom)[0],v=this.getTile(y);if(v&&v.hasData()){n[y.key]=y;continue}}else{var g=d.children(this._source.maxzoom);if(n[g[0].key]&&n[g[1].key]&&n[g[2].key]&&n[g[3].key])continue}for(var _=m.wasRequested(),b=d.overscaledZ-1;b>=i;--b){var x=d.scaledTo(b);if(o[x.key])break;if(o[x.key]=!0,!(m=this.getTile(x))&&_&&(m=this._addTile(x)),m&&(n[x.key]=x,_=m.wasRequested(),m.hasData()))break}}}return n},r.prototype._addTile=function(t){var r=this._tiles[t.key];if(r)return r;(r=this._cache.getAndRemove(t))&&(this._setTileReloadTimer(t.key,r),r.tileID=t,this._state.initializeTileState(r,this.map?this.map.painter:null),this._cacheTimers[t.key]&&(clearTimeout(this._cacheTimers[t.key]),delete this._cacheTimers[t.key],this._setTileReloadTimer(t.key,r)));var n=Boolean(r);return n||(r=new e.Tile(t,this._source.tileSize*t.overscaleFactor()),this._loadTile(r,this._tileLoaded.bind(this,r,t.key,r.state))),r?(r.uses++,this._tiles[t.key]=r,n||this._source.fire(new e.Event("dataloading",{tile:r,coord:r.tileID,dataType:"source"})),r):null},r.prototype._setTileReloadTimer=function(e,t){var r=this;e in this._timers&&(clearTimeout(this._timers[e]),delete this._timers[e]);var n=t.getExpiryTimeout();n&&(this._timers[e]=setTimeout(function(){r._reloadTile(e,"expired"),delete r._timers[e]},n))},r.prototype._removeTile=function(e){var t=this._tiles[e];t&&(t.uses--,delete this._tiles[e],this._timers[e]&&(clearTimeout(this._timers[e]),delete this._timers[e]),t.uses>0||(t.hasData()?this._cache.add(t.tileID,t,t.getExpiryTimeout()):(t.aborted=!0,this._abortTile(t),this._unloadTile(t))))},r.prototype.clearTiles=function(){for(var e in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(e);this._cache.reset()},r.prototype.tilesIn=function(t,r,n){var o=this,i=[],a=this.transform;if(!a)return i;for(var s=n?a.getCameraQueryGeometry(t):t,l=t.map(function(e){return a.pointCoordinate(e)}),u=s.map(function(e){return a.pointCoordinate(e)}),c=this.getIds(),p=1/0,h=1/0,f=-1/0,d=-1/0,m=0,y=u;m<y.length;m+=1){var v=y[m];p=Math.min(p,v.x),h=Math.min(h,v.y),f=Math.max(f,v.x),d=Math.max(d,v.y)}for(var g=function(t){var n=o._tiles[c[t]];if(!n.holdingForFade()){var s=n.tileID,m=Math.pow(2,a.zoom-n.tileID.overscaledZ),y=r*n.queryPadding*e.EXTENT/n.tileSize/m,v=[s.getTilePoint(new e.MercatorCoordinate(p,h)),s.getTilePoint(new e.MercatorCoordinate(f,d))];if(v[0].x-y<e.EXTENT&&v[0].y-y<e.EXTENT&&v[1].x+y>=0&&v[1].y+y>=0){var g=l.map(function(e){return s.getTilePoint(e)}),_=u.map(function(e){return s.getTilePoint(e)});i.push({tile:n,tileID:s,queryGeometry:g,cameraQueryGeometry:_,scale:m})}}},_=0;_<c.length;_++)g(_);return i},r.prototype.getVisibleCoordinates=function(e){for(var t=this,r=this.getRenderableIds(e).map(function(e){return t._tiles[e].tileID}),n=0,o=r;n<o.length;n+=1){var i=o[n];i.posMatrix=this.transform.calculatePosMatrix(i.toUnwrapped())}return r},r.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Oe(this._source.type))for(var t in this._tiles){var r=this._tiles[t];if(void 0!==r.fadeEndTime&&r.fadeEndTime>=e.browser.now())return!0}return!1},r.prototype.setFeatureState=function(e,t,r){e=e||"_geojsonTileLayer",this._state.updateState(e,t,r)},r.prototype.removeFeatureState=function(e,t,r){e=e||"_geojsonTileLayer",this._state.removeFeatureState(e,t,r)},r.prototype.getFeatureState=function(e,t){return e=e||"_geojsonTileLayer",this._state.getState(e,t)},r}(e.Evented);function Te(e,t){return e%32-t%32||t-e}function Oe(e){return"raster"===e||"image"===e||"video"===e}function Pe(){return new e.window.Worker(Yn.workerUrl)}ke.maxOverzooming=10,ke.maxUnderzooming=3;var Ae=function(){this.active={}};Ae.prototype.acquire=function(e){if(!this.workers)for(this.workers=[];this.workers.length<Ae.workerCount;)this.workers.push(new Pe);return this.active[e]=!0,this.workers.slice()},Ae.prototype.release=function(e){delete this.active[e],0===Object.keys(this.active).length&&(this.workers.forEach(function(e){e.terminate()}),this.workers=null)};var Ie,Me=Math.floor(e.browser.hardwareConcurrency/2);function Re(t,r){var n={};for(var o in t)"ref"!==o&&(n[o]=t[o]);return e.refProperties.forEach(function(e){e in r&&(n[e]=r[e])}),n}function Le(e){e=e.slice();for(var t=Object.create(null),r=0;r<e.length;r++)t[e[r].id]=e[r];for(var n=0;n<e.length;n++)"ref"in e[n]&&(e[n]=Re(e[n],t[e[n].ref]));return e}Ae.workerCount=Math.max(Math.min(Me,6),1);var De={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function je(e,t,r){r.push({command:De.addSource,args:[e,t[e]]})}function ze(e,t,r){t.push({command:De.removeSource,args:[e]}),r[e]=!0}function Fe(e,t,r,n){ze(e,r,n),je(e,t,r)}function Ne(t,r,n){var o;for(o in t[n])if(t[n].hasOwnProperty(o)&&"data"!==o&&!e.isEqual(t[n][o],r[n][o]))return!1;for(o in r[n])if(r[n].hasOwnProperty(o)&&"data"!==o&&!e.isEqual(t[n][o],r[n][o]))return!1;return!0}function Be(t,r,n,o,i,a){var s;for(s in t=t||{},r=r||{},t)t.hasOwnProperty(s)&&(e.isEqual(t[s],r[s])||n.push({command:a,args:[o,s,r[s],i]}));for(s in r)r.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(e.isEqual(t[s],r[s])||n.push({command:a,args:[o,s,r[s],i]}))}function Ue(e){return e.id}function Ve(e,t){return e[t.id]=t,e}function Ge(t,r){if(!t)return[{command:De.setStyle,args:[r]}];var n=[];try{if(!e.isEqual(t.version,r.version))return[{command:De.setStyle,args:[r]}];e.isEqual(t.center,r.center)||n.push({command:De.setCenter,args:[r.center]}),e.isEqual(t.zoom,r.zoom)||n.push({command:De.setZoom,args:[r.zoom]}),e.isEqual(t.bearing,r.bearing)||n.push({command:De.setBearing,args:[r.bearing]}),e.isEqual(t.pitch,r.pitch)||n.push({command:De.setPitch,args:[r.pitch]}),e.isEqual(t.sprite,r.sprite)||n.push({command:De.setSprite,args:[r.sprite]}),e.isEqual(t.glyphs,r.glyphs)||n.push({command:De.setGlyphs,args:[r.glyphs]}),e.isEqual(t.transition,r.transition)||n.push({command:De.setTransition,args:[r.transition]}),e.isEqual(t.light,r.light)||n.push({command:De.setLight,args:[r.light]});var o={},i=[];!function(t,r,n,o){var i;for(i in t=t||{},r=r||{},t)t.hasOwnProperty(i)&&(r.hasOwnProperty(i)||ze(i,n,o));for(i in r)r.hasOwnProperty(i)&&(t.hasOwnProperty(i)?e.isEqual(t[i],r[i])||("geojson"===t[i].type&&"geojson"===r[i].type&&Ne(t,r,i)?n.push({command:De.setGeoJSONSourceData,args:[i,r[i].data]}):Fe(i,r,n,o)):je(i,r,n))}(t.sources,r.sources,i,o);var a=[];t.layers&&t.layers.forEach(function(e){o[e.source]?n.push({command:De.removeLayer,args:[e.id]}):a.push(e)}),n=n.concat(i),function(t,r,n){t=t||[],r=r||[];var o,i,a,s,l,u,c,p=t.map(Ue),h=r.map(Ue),f=t.reduce(Ve,{}),d=r.reduce(Ve,{}),m=p.slice(),y=Object.create(null);for(o=0,i=0;o<p.length;o++)a=p[o],d.hasOwnProperty(a)?i++:(n.push({command:De.removeLayer,args:[a]}),m.splice(m.indexOf(a,i),1));for(o=0,i=0;o<h.length;o++)a=h[h.length-1-o],m[m.length-1-o]!==a&&(f.hasOwnProperty(a)?(n.push({command:De.removeLayer,args:[a]}),m.splice(m.lastIndexOf(a,m.length-i),1)):i++,u=m[m.length-o],n.push({command:De.addLayer,args:[d[a],u]}),m.splice(m.length-o,0,a),y[a]=!0);for(o=0;o<h.length;o++)if(s=f[a=h[o]],l=d[a],!y[a]&&!e.isEqual(s,l))if(e.isEqual(s.source,l.source)&&e.isEqual(s["source-layer"],l["source-layer"])&&e.isEqual(s.type,l.type)){for(c in Be(s.layout,l.layout,n,a,null,De.setLayoutProperty),Be(s.paint,l.paint,n,a,null,De.setPaintProperty),e.isEqual(s.filter,l.filter)||n.push({command:De.setFilter,args:[a,l.filter]}),e.isEqual(s.minzoom,l.minzoom)&&e.isEqual(s.maxzoom,l.maxzoom)||n.push({command:De.setLayerZoomRange,args:[a,l.minzoom,l.maxzoom]}),s)s.hasOwnProperty(c)&&"layout"!==c&&"paint"!==c&&"filter"!==c&&"metadata"!==c&&"minzoom"!==c&&"maxzoom"!==c&&(0===c.indexOf("paint.")?Be(s[c],l[c],n,a,c.slice(6),De.setPaintProperty):e.isEqual(s[c],l[c])||n.push({command:De.setLayerProperty,args:[a,c,l[c]]}));for(c in l)l.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&"layout"!==c&&"paint"!==c&&"filter"!==c&&"metadata"!==c&&"minzoom"!==c&&"maxzoom"!==c&&(0===c.indexOf("paint.")?Be(s[c],l[c],n,a,c.slice(6),De.setPaintProperty):e.isEqual(s[c],l[c])||n.push({command:De.setLayerProperty,args:[a,c,l[c]]}))}else n.push({command:De.removeLayer,args:[a]}),u=m[m.lastIndexOf(a)+1],n.push({command:De.addLayer,args:[l,u]})}(a,r.layers,n)}catch(e){console.warn("Unable to compute style diff:",e),n=[{command:De.setStyle,args:[r]}]}return n}var qe=function(e,t,r){var n=this.boxCells=[],o=this.circleCells=[];this.xCellCount=Math.ceil(e/r),this.yCellCount=Math.ceil(t/r);for(var i=0;i<this.xCellCount*this.yCellCount;i++)n.push([]),o.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=e,this.height=t,this.xScale=this.xCellCount/e,this.yScale=this.yCellCount/t,this.boxUid=0,this.circleUid=0};qe.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},qe.prototype.insert=function(e,t,r,n,o){this._forEachCell(t,r,n,o,this._insertBoxCell,this.boxUid++),this.boxKeys.push(e),this.bboxes.push(t),this.bboxes.push(r),this.bboxes.push(n),this.bboxes.push(o)},qe.prototype.insertCircle=function(e,t,r,n){this._forEachCell(t-n,r-n,t+n,r+n,this._insertCircleCell,this.circleUid++),this.circleKeys.push(e),this.circles.push(t),this.circles.push(r),this.circles.push(n)},qe.prototype._insertBoxCell=function(e,t,r,n,o,i){this.boxCells[o].push(i)},qe.prototype._insertCircleCell=function(e,t,r,n,o,i){this.circleCells[o].push(i)},qe.prototype._query=function(e,t,r,n,o,i){if(r<0||e>this.width||n<0||t>this.height)return!o&&[];var a=[];if(e<=0&&t<=0&&this.width<=r&&this.height<=n){if(o)return!0;for(var s=0;s<this.boxKeys.length;s++)a.push({key:this.boxKeys[s],x1:this.bboxes[4*s],y1:this.bboxes[4*s+1],x2:this.bboxes[4*s+2],y2:this.bboxes[4*s+3]});for(var l=0;l<this.circleKeys.length;l++){var u=this.circles[3*l],c=this.circles[3*l+1],p=this.circles[3*l+2];a.push({key:this.circleKeys[l],x1:u-p,y1:c-p,x2:u+p,y2:c+p})}return i?a.filter(i):a}var h={hitTest:o,seenUids:{box:{},circle:{}}};return this._forEachCell(e,t,r,n,this._queryCell,a,h,i),o?a.length>0:a},qe.prototype._queryCircle=function(e,t,r,n,o){var i=e-r,a=e+r,s=t-r,l=t+r;if(a<0||i>this.width||l<0||s>this.height)return!n&&[];var u=[],c={hitTest:n,circle:{x:e,y:t,radius:r},seenUids:{box:{},circle:{}}};return this._forEachCell(i,s,a,l,this._queryCellCircle,u,c,o),n?u.length>0:u},qe.prototype.query=function(e,t,r,n,o){return this._query(e,t,r,n,!1,o)},qe.prototype.hitTest=function(e,t,r,n,o){return this._query(e,t,r,n,!0,o)},qe.prototype.hitTestCircle=function(e,t,r,n){return this._queryCircle(e,t,r,!0,n)},qe.prototype._queryCell=function(e,t,r,n,o,i,a,s){var l=a.seenUids,u=this.boxCells[o];if(null!==u)for(var c=this.bboxes,p=0,h=u;p<h.length;p+=1){var f=h[p];if(!l.box[f]){l.box[f]=!0;var d=4*f;if(e<=c[d+2]&&t<=c[d+3]&&r>=c[d+0]&&n>=c[d+1]&&(!s||s(this.boxKeys[f]))){if(a.hitTest)return i.push(!0),!0;i.push({key:this.boxKeys[f],x1:c[d],y1:c[d+1],x2:c[d+2],y2:c[d+3]})}}}var m=this.circleCells[o];if(null!==m)for(var y=this.circles,v=0,g=m;v<g.length;v+=1){var _=g[v];if(!l.circle[_]){l.circle[_]=!0;var b=3*_;if(this._circleAndRectCollide(y[b],y[b+1],y[b+2],e,t,r,n)&&(!s||s(this.circleKeys[_]))){if(a.hitTest)return i.push(!0),!0;var x=y[b],w=y[b+1],E=y[b+2];i.push({key:this.circleKeys[_],x1:x-E,y1:w-E,x2:x+E,y2:w+E})}}}},qe.prototype._queryCellCircle=function(e,t,r,n,o,i,a,s){var l=a.circle,u=a.seenUids,c=this.boxCells[o];if(null!==c)for(var p=this.bboxes,h=0,f=c;h<f.length;h+=1){var d=f[h];if(!u.box[d]){u.box[d]=!0;var m=4*d;if(this._circleAndRectCollide(l.x,l.y,l.radius,p[m+0],p[m+1],p[m+2],p[m+3])&&(!s||s(this.boxKeys[d])))return i.push(!0),!0}}var y=this.circleCells[o];if(null!==y)for(var v=this.circles,g=0,_=y;g<_.length;g+=1){var b=_[g];if(!u.circle[b]){u.circle[b]=!0;var x=3*b;if(this._circlesCollide(v[x],v[x+1],v[x+2],l.x,l.y,l.radius)&&(!s||s(this.circleKeys[b])))return i.push(!0),!0}}},qe.prototype._forEachCell=function(e,t,r,n,o,i,a,s){for(var l=this._convertToXCellCoord(e),u=this._convertToYCellCoord(t),c=this._convertToXCellCoord(r),p=this._convertToYCellCoord(n),h=l;h<=c;h++)for(var f=u;f<=p;f++){var d=this.xCellCount*f+h;if(o.call(this,e,t,r,n,d,i,a,s))return}},qe.prototype._convertToXCellCoord=function(e){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(e*this.xScale)))},qe.prototype._convertToYCellCoord=function(e){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(e*this.yScale)))},qe.prototype._circlesCollide=function(e,t,r,n,o,i){var a=n-e,s=o-t,l=r+i;return l*l>a*a+s*s},qe.prototype._circleAndRectCollide=function(e,t,r,n,o,i,a){var s=(i-n)/2,l=Math.abs(e-(n+s));if(l>s+r)return!1;var u=(a-o)/2,c=Math.abs(t-(o+u));if(c>u+r)return!1;if(l<=s||c<=u)return!0;var p=l-s,h=c-u;return p*p+h*h<=r*r};var He=e.properties.layout;function We(t,r,n,o,i){var a=e.identity(new Float32Array(16));return r?(e.identity(a),e.scale(a,a,[1/i,1/i,1]),n||e.rotateZ(a,a,o.angle)):(e.scale(a,a,[o.width/2,-o.height/2,1]),e.translate(a,a,[1,-1,0]),e.multiply(a,a,t)),a}function Xe(t,r,n,o,i){var a=e.identity(new Float32Array(16));return r?(e.multiply(a,a,t),e.scale(a,a,[i,i,1]),n||e.rotateZ(a,a,-o.angle)):(e.scale(a,a,[1,-1,1]),e.translate(a,a,[-1,-1,0]),e.scale(a,a,[2/o.width,2/o.height,1])),a}function Ze(t,r){var n=[t.x,t.y,0,1];ot(n,n,r);var o=n[3];return{point:new e.Point(n[0]/o,n[1]/o),signedDistanceFromCamera:o}}function Ye(e,t){var r=e[0]/e[3],n=e[1]/e[3];return r>=-t[0]&&r<=t[0]&&n>=-t[1]&&n<=t[1]}function Ke(t,r,n,o,i,a,s,l){var u=o?t.textSizeData:t.iconSizeData,c=e.evaluateSizeForZoom(u,n.transform.zoom,He.properties[o?"text-size":"icon-size"]),p=[256/n.width*2+1,256/n.height*2+1],h=o?t.text.dynamicLayoutVertexArray:t.icon.dynamicLayoutVertexArray;h.clear();for(var f=t.lineVertexArray,d=o?t.text.placedSymbolArray:t.icon.placedSymbolArray,m=n.transform.width/n.transform.height,y=!1,v=0;v<d.length;v++){var g=d.get(v);if(g.hidden||g.writingMode===e.WritingMode.vertical&&!y)nt(g.numGlyphs,h);else{y=!1;var _=[g.anchorX,g.anchorY,0,1];if(e.transformMat4(_,_,r),Ye(_,p)){var b=.5+_[3]/n.transform.cameraToCenterDistance*.5,x=e.evaluateSizeForFeature(u,c,g),w=s?x*b:x/b,E=new e.Point(g.anchorX,g.anchorY),S=Ze(E,i).point,C={},k=Qe(g,w,!1,l,r,i,a,t.glyphOffsetArray,f,h,S,E,C,m);y=k.useVertical,(k.notEnoughRoom||y||k.needsFlipping&&Qe(g,w,!0,l,r,i,a,t.glyphOffsetArray,f,h,S,E,C,m).notEnoughRoom)&&nt(g.numGlyphs,h)}else nt(g.numGlyphs,h)}}o?t.text.dynamicLayoutVertexBuffer.updateData(h):t.icon.dynamicLayoutVertexBuffer.updateData(h)}function $e(e,t,r,n,o,i,a,s,l,u,c,p){var h=s.glyphStartIndex+s.numGlyphs,f=s.lineStartIndex,d=s.lineStartIndex+s.lineLength,m=t.getoffsetX(s.glyphStartIndex),y=t.getoffsetX(h-1),v=tt(e*m,r,n,o,i,a,s.segment,f,d,l,u,c,p);if(!v)return null;var g=tt(e*y,r,n,o,i,a,s.segment,f,d,l,u,c,p);return g?{first:v,last:g}:null}function Je(t,r,n,o){if(t===e.WritingMode.horizontal&&Math.abs(n.y-r.y)>Math.abs(n.x-r.x)*o)return{useVertical:!0};return(t===e.WritingMode.vertical?r.y<n.y:r.x>n.x)?{needsFlipping:!0}:null}function Qe(t,r,n,o,i,a,s,l,u,c,p,h,f,d){var m,y=r/24,v=t.lineOffsetX*r,g=t.lineOffsetY*r;if(t.numGlyphs>1){var _=t.glyphStartIndex+t.numGlyphs,b=t.lineStartIndex,x=t.lineStartIndex+t.lineLength,w=$e(y,l,v,g,n,p,h,t,u,a,f,!1);if(!w)return{notEnoughRoom:!0};var E=Ze(w.first.point,s).point,S=Ze(w.last.point,s).point;if(o&&!n){var C=Je(t.writingMode,E,S,d);if(C)return C}m=[w.first];for(var k=t.glyphStartIndex+1;k<_-1;k++)m.push(tt(y*l.getoffsetX(k),v,g,n,p,h,t.segment,b,x,u,a,f,!1));m.push(w.last)}else{if(o&&!n){var T=Ze(h,i).point,O=t.lineStartIndex+t.segment+1,P=new e.Point(u.getx(O),u.gety(O)),A=Ze(P,i),I=A.signedDistanceFromCamera>0?A.point:et(h,P,T,1,i),M=Je(t.writingMode,T,I,d);if(M)return M}var R=tt(y*l.getoffsetX(t.glyphStartIndex),v,g,n,p,h,t.segment,t.lineStartIndex,t.lineStartIndex+t.lineLength,u,a,f,!1);if(!R)return{notEnoughRoom:!0};m=[R]}for(var L=0,D=m;L<D.length;L+=1){var j=D[L];e.addDynamicAttributes(c,j.point,j.angle)}return{}}function et(e,t,r,n,o){var i=Ze(e.add(e.sub(t)._unit()),o).point,a=r.sub(i);return r.add(a._mult(n/a.mag()))}function tt(t,r,n,o,i,a,s,l,u,c,p,h,f){var d=o?t-r:t+r,m=d>0?1:-1,y=0;o&&(m*=-1,y=Math.PI),m<0&&(y+=Math.PI);for(var v=m>0?l+s:l+s+1,g=v,_=i,b=i,x=0,w=0,E=Math.abs(d);x+w<=E;){if((v+=m)<l||v>=u)return null;if(b=_,void 0===(_=h[v])){var S=new e.Point(c.getx(v),c.gety(v)),C=Ze(S,p);if(C.signedDistanceFromCamera>0)_=h[v]=C.point;else{var k=v-m;_=et(0===x?a:new e.Point(c.getx(k),c.gety(k)),S,b,E-x+1,p)}}x+=w,w=b.dist(_)}var T=(E-x)/w,O=_.sub(b),P=O.mult(T)._add(b);return P._add(O._unit()._perp()._mult(n*m)),{point:P,angle:y+Math.atan2(_.y-b.y,_.x-b.x),tileDistance:f?{prevTileDistance:v-m===g?0:c.gettileUnitDistanceFromAnchor(v-m),lastSegmentViewportDistance:E-x}:null}}var rt=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function nt(e,t){for(var r=0;r<e;r++){var n=t.length;t.resize(n+4),t.float32.set(rt,3*n)}}function ot(e,t,r){var n=t[0],o=t[1];return e[0]=r[0]*n+r[4]*o+r[12],e[1]=r[1]*n+r[5]*o+r[13],e[3]=r[3]*n+r[7]*o+r[15],e}var it=function(e,t,r){void 0===t&&(t=new qe(e.width+200,e.height+200,25)),void 0===r&&(r=new qe(e.width+200,e.height+200,25)),this.transform=e,this.grid=t,this.ignoredGrid=r,this.pitchfactor=Math.cos(e._pitch)*e.cameraToCenterDistance,this.screenRightBoundary=e.width+100,this.screenBottomBoundary=e.height+100,this.gridRightBoundary=e.width+200,this.gridBottomBoundary=e.height+200};function at(e,t,r){e[t+4]=r?1:0}function st(t,r,n){return r*(e.EXTENT/(t.tileSize*Math.pow(2,n-t.tileID.overscaledZ)))}it.prototype.placeCollisionBox=function(e,t,r,n,o){var i=this.projectAndGetPerspectiveRatio(n,e.anchorPointX,e.anchorPointY),a=r*i.perspectiveRatio,s=e.x1*a+i.point.x,l=e.y1*a+i.point.y,u=e.x2*a+i.point.x,c=e.y2*a+i.point.y;return!this.isInsideGrid(s,l,u,c)||!t&&this.grid.hitTest(s,l,u,c,o)?{box:[],offscreen:!1}:{box:[s,l,u,c],offscreen:this.isOffscreen(s,l,u,c)}},it.prototype.approximateTileDistance=function(e,t,r,n,o){var i=o?1:n/this.pitchfactor,a=e.lastSegmentViewportDistance*r;return e.prevTileDistance+a+(i-1)*a*Math.abs(Math.sin(t))},it.prototype.placeCollisionCircles=function(t,r,n,o,i,a,s,l,u,c,p,h,f){var d=[],m=this.projectAnchor(u,i.anchorX,i.anchorY),y=l/24,v=i.lineOffsetX*l,g=i.lineOffsetY*l,_=new e.Point(i.anchorX,i.anchorY),b=$e(y,s,v,g,!1,Ze(_,c).point,_,i,a,c,{},!0),x=!1,w=!1,E=!0,S=m.perspectiveRatio*o,C=1/(o*n),k=0,T=0;b&&(k=this.approximateTileDistance(b.first.tileDistance,b.first.angle,C,m.cameraDistance,h),T=this.approximateTileDistance(b.last.tileDistance,b.last.angle,C,m.cameraDistance,h));for(var O=0;O<t.length;O+=5){var P=t[O],A=t[O+1],I=t[O+2],M=t[O+3];if(!b||M<-k||M>T)at(t,O,!1);else{var R=this.projectPoint(u,P,A),L=I*S;if(d.length>0){var D=R.x-d[d.length-4],j=R.y-d[d.length-3];if(L*L*2>D*D+j*j)if(O+8<t.length){var z=t[O+8];if(z>-k&&z<T){at(t,O,!1);continue}}}var F=O/5;d.push(R.x,R.y,L,F),at(t,O,!0);var N=R.x-L,B=R.y-L,U=R.x+L,V=R.y+L;if(E=E&&this.isOffscreen(N,B,U,V),w=w||this.isInsideGrid(N,B,U,V),!r&&this.grid.hitTestCircle(R.x,R.y,L,f)){if(!p)return{circles:[],offscreen:!1};x=!0}}}return{circles:x||!w?[]:d,offscreen:E}},it.prototype.queryRenderedSymbols=function(t){if(0===t.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};for(var r=[],n=1/0,o=1/0,i=-1/0,a=-1/0,s=0,l=t;s<l.length;s+=1){var u=l[s],c=new e.Point(u.x+100,u.y+100);n=Math.min(n,c.x),o=Math.min(o,c.y),i=Math.max(i,c.x),a=Math.max(a,c.y),r.push(c)}for(var p={},h={},f=0,d=this.grid.query(n,o,i,a).concat(this.ignoredGrid.query(n,o,i,a));f<d.length;f+=1){var m=d[f],y=m.key;if(void 0===p[y.bucketInstanceId]&&(p[y.bucketInstanceId]={}),!p[y.bucketInstanceId][y.featureIndex]){var v=[new e.Point(m.x1,m.y1),new e.Point(m.x2,m.y1),new e.Point(m.x2,m.y2),new e.Point(m.x1,m.y2)];e.polygonIntersectsPolygon(r,v)&&(p[y.bucketInstanceId][y.featureIndex]=!0,void 0===h[y.bucketInstanceId]&&(h[y.bucketInstanceId]=[]),h[y.bucketInstanceId].push(y.featureIndex))}}return h},it.prototype.insertCollisionBox=function(e,t,r,n,o){var i={bucketInstanceId:r,featureIndex:n,collisionGroupID:o};(t?this.ignoredGrid:this.grid).insert(i,e[0],e[1],e[2],e[3])},it.prototype.insertCollisionCircles=function(e,t,r,n,o){for(var i=t?this.ignoredGrid:this.grid,a={bucketInstanceId:r,featureIndex:n,collisionGroupID:o},s=0;s<e.length;s+=4)i.insertCircle(a,e[s],e[s+1],e[s+2])},it.prototype.projectAnchor=function(e,t,r){var n=[t,r,0,1];return ot(n,n,e),{perspectiveRatio:.5+this.transform.cameraToCenterDistance/n[3]*.5,cameraDistance:n[3]}},it.prototype.projectPoint=function(t,r,n){var o=[r,n,0,1];return ot(o,o,t),new e.Point((o[0]/o[3]+1)/2*this.transform.width+100,(-o[1]/o[3]+1)/2*this.transform.height+100)},it.prototype.projectAndGetPerspectiveRatio=function(t,r,n){var o=[r,n,0,1];return ot(o,o,t),{point:new e.Point((o[0]/o[3]+1)/2*this.transform.width+100,(-o[1]/o[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/o[3]*.5}},it.prototype.isOffscreen=function(e,t,r,n){return r<100||e>=this.screenRightBoundary||n<100||t>this.screenBottomBoundary},it.prototype.isInsideGrid=function(e,t,r,n){return r>=0&&e<this.gridRightBoundary&&n>=0&&t<this.gridBottomBoundary};var lt=function(e,t,r,n){this.opacity=e?Math.max(0,Math.min(1,e.opacity+(e.placed?t:-t))):n&&r?1:0,this.placed=r};lt.prototype.isHidden=function(){return 0===this.opacity&&!this.placed};var ut=function(e,t,r,n,o){this.text=new lt(e?e.text:null,t,r,o),this.icon=new lt(e?e.icon:null,t,n,o)};ut.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var ct=function(e,t,r){this.text=e,this.icon=t,this.skipFade=r},pt=function(e){this.crossSourceCollisions=e,this.maxGroupID=0,this.collisionGroups={}};pt.prototype.get=function(e){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[e]){var t=++this.maxGroupID;this.collisionGroups[e]={ID:t,predicate:function(e){return e.collisionGroupID===t}}}return this.collisionGroups[e]};var ht=function(e,t,r){this.transform=e.clone(),this.collisionIndex=new it(this.transform),this.placements={},this.opacities={},this.stale=!1,this.commitTime=0,this.fadeDuration=t,this.retainedQueryData={},this.collisionGroups=new pt(r)};function ft(e,t,r){e.emplaceBack(t?1:0,r?1:0),e.emplaceBack(t?1:0,r?1:0),e.emplaceBack(t?1:0,r?1:0),e.emplaceBack(t?1:0,r?1:0)}ht.prototype.placeLayerTile=function(t,r,n,o){var i=r.getBucket(t),a=r.latestFeatureIndex;if(i&&a&&t.id===i.layerIds[0]){var s=r.collisionBoxArray,l=i.layers[0].layout,u=Math.pow(2,this.transform.zoom-r.tileID.overscaledZ),c=r.tileSize/e.EXTENT,p=this.transform.calculatePosMatrix(r.tileID.toUnwrapped()),h=We(p,"map"===l.get("text-pitch-alignment"),"map"===l.get("text-rotation-alignment"),this.transform,st(r,1,this.transform.zoom)),f=We(p,"map"===l.get("icon-pitch-alignment"),"map"===l.get("icon-rotation-alignment"),this.transform,st(r,1,this.transform.zoom));this.retainedQueryData[i.bucketInstanceId]=new function(e,t,r,n,o){this.bucketInstanceId=e,this.featureIndex=t,this.sourceLayerIndex=r,this.bucketIndex=n,this.tileID=o}(i.bucketInstanceId,a,i.sourceLayerIndex,i.index,r.tileID),this.placeLayerBucket(i,p,h,f,u,c,n,r.holdingForFade(),o,s)}},ht.prototype.placeLayerBucket=function(t,r,n,o,i,a,s,l,u,c){var p=t.layers[0].layout,h=e.evaluateSizeForZoom(t.textSizeData,this.transform.zoom,e.properties.layout.properties["text-size"]),f=p.get("text-optional"),d=p.get("icon-optional"),m=p.get("text-allow-overlap"),y=p.get("icon-allow-overlap"),v=m&&(y||!t.hasIconData()||d),g=y&&(m||!t.hasTextData()||f),_=this.collisionGroups.get(t.sourceID);!t.collisionArrays&&c&&t.deserializeCollisionBoxes(c);for(var b=0;b<t.symbolInstances.length;b++){var x=t.symbolInstances.get(b);if(!u[x.crossTileID]){if(l){this.placements[x.crossTileID]=new ct(!1,!1,!1);continue}var w=!1,E=!1,S=!0,C=null,k=null,T=null,O=0,P=0,A=t.collisionArrays[b];A.textFeatureIndex&&(O=A.textFeatureIndex),A.textBox&&(w=(C=this.collisionIndex.placeCollisionBox(A.textBox,p.get("text-allow-overlap"),a,r,_.predicate)).box.length>0,S=S&&C.offscreen);var I=A.textCircles;if(I){var M=t.text.placedSymbolArray.get(x.horizontalPlacedTextSymbolIndex),R=e.evaluateSizeForFeature(t.textSizeData,h,M);k=this.collisionIndex.placeCollisionCircles(I,p.get("text-allow-overlap"),i,a,M,t.lineVertexArray,t.glyphOffsetArray,R,r,n,s,"map"===p.get("text-pitch-alignment"),_.predicate),w=p.get("text-allow-overlap")||k.circles.length>0,S=S&&k.offscreen}A.iconFeatureIndex&&(P=A.iconFeatureIndex),A.iconBox&&(E=(T=this.collisionIndex.placeCollisionBox(A.iconBox,p.get("icon-allow-overlap"),a,r,_.predicate)).box.length>0,S=S&&T.offscreen);var L=f||0===x.numGlyphVertices&&0===x.numVerticalGlyphVertices,D=d||0===x.numIconVertices;L||D?D?L||(E=E&&w):w=E&&w:E=w=E&&w,w&&C&&this.collisionIndex.insertCollisionBox(C.box,p.get("text-ignore-placement"),t.bucketInstanceId,O,_.ID),E&&T&&this.collisionIndex.insertCollisionBox(T.box,p.get("icon-ignore-placement"),t.bucketInstanceId,P,_.ID),w&&k&&this.collisionIndex.insertCollisionCircles(k.circles,p.get("text-ignore-placement"),t.bucketInstanceId,O,_.ID),this.placements[x.crossTileID]=new ct(w||v,E||g,S||t.justReloaded),u[x.crossTileID]=!0}}t.justReloaded=!1},ht.prototype.commit=function(e,t){this.commitTime=t;var r=!1,n=e&&0!==this.fadeDuration?(this.commitTime-e.commitTime)/this.fadeDuration:1,o=e?e.opacities:{};for(var i in this.placements){var a=this.placements[i],s=o[i];s?(this.opacities[i]=new ut(s,n,a.text,a.icon),r=r||a.text!==s.text.placed||a.icon!==s.icon.placed):(this.opacities[i]=new ut(null,n,a.text,a.icon,a.skipFade),r=r||a.text||a.icon)}for(var l in o){var u=o[l];if(!this.opacities[l]){var c=new ut(u,n,!1,!1);c.isHidden()||(this.opacities[l]=c,r=r||u.text.placed||u.icon.placed)}}r?this.lastPlacementChangeTime=t:"number"!==typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=e?e.lastPlacementChangeTime:t)},ht.prototype.updateLayerOpacities=function(e,t){for(var r={},n=0,o=t;n<o.length;n+=1){var i=o[n],a=i.getBucket(e);a&&i.latestFeatureIndex&&e.id===a.layerIds[0]&&this.updateBucketOpacities(a,r,i.collisionBoxArray)}},ht.prototype.updateBucketOpacities=function(e,t,r){e.hasTextData()&&e.text.opacityVertexArray.clear(),e.hasIconData()&&e.icon.opacityVertexArray.clear(),e.hasCollisionBoxData()&&e.collisionBox.collisionVertexArray.clear(),e.hasCollisionCircleData()&&e.collisionCircle.collisionVertexArray.clear();var n=e.layers[0].layout,o=new ut(null,0,!1,!1,!0),i=n.get("text-allow-overlap"),a=n.get("icon-allow-overlap"),s=new ut(null,0,i&&(a||!e.hasIconData()||n.get("icon-optional")),a&&(i||!e.hasTextData()||n.get("text-optional")),!0);!e.collisionArrays&&r&&(e.hasCollisionBoxData()||e.hasCollisionCircleData())&&e.deserializeCollisionBoxes(r);for(var l=0;l<e.symbolInstances.length;l++){var u=e.symbolInstances.get(l),c=t[u.crossTileID],p=this.opacities[u.crossTileID];c?p=o:p||(p=s,this.opacities[u.crossTileID]=p),t[u.crossTileID]=!0;var h=u.numGlyphVertices>0||u.numVerticalGlyphVertices>0,f=u.numIconVertices>0;if(h){for(var d=xt(p.text),m=(u.numGlyphVertices+u.numVerticalGlyphVertices)/4,y=0;y<m;y++)e.text.opacityVertexArray.emplaceBack(d);e.text.placedSymbolArray.get(u.horizontalPlacedTextSymbolIndex).hidden=p.text.isHidden(),u.verticalPlacedTextSymbolIndex>=0&&(e.text.placedSymbolArray.get(u.verticalPlacedTextSymbolIndex).hidden=p.text.isHidden())}if(f){for(var v=xt(p.icon),g=0;g<u.numIconVertices/4;g++)e.icon.opacityVertexArray.emplaceBack(v);e.icon.placedSymbolArray.get(l).hidden=p.icon.isHidden()}if(e.hasCollisionBoxData()||e.hasCollisionCircleData()){var _=e.collisionArrays[l];if(_){_.textBox&&ft(e.collisionBox.collisionVertexArray,p.text.placed,!1),_.iconBox&&ft(e.collisionBox.collisionVertexArray,p.icon.placed,!1);var b=_.textCircles;if(b&&e.hasCollisionCircleData())for(var x=0;x<b.length;x+=5){var w=c||0===b[x+4];ft(e.collisionCircle.collisionVertexArray,p.text.placed,w)}}}}e.sortFeatures(this.transform.angle),this.retainedQueryData[e.bucketInstanceId]&&(this.retainedQueryData[e.bucketInstanceId].featureSortOrder=e.featureSortOrder),e.hasTextData()&&e.text.opacityVertexBuffer&&e.text.opacityVertexBuffer.updateData(e.text.opacityVertexArray),e.hasIconData()&&e.icon.opacityVertexBuffer&&e.icon.opacityVertexBuffer.updateData(e.icon.opacityVertexArray),e.hasCollisionBoxData()&&e.collisionBox.collisionVertexBuffer&&e.collisionBox.collisionVertexBuffer.updateData(e.collisionBox.collisionVertexArray),e.hasCollisionCircleData()&&e.collisionCircle.collisionVertexBuffer&&e.collisionCircle.collisionVertexBuffer.updateData(e.collisionCircle.collisionVertexArray)},ht.prototype.symbolFadeChange=function(e){return 0===this.fadeDuration?1:(e-this.commitTime)/this.fadeDuration},ht.prototype.hasTransitions=function(e){return this.stale||e-this.lastPlacementChangeTime<this.fadeDuration},ht.prototype.stillRecent=function(e){return this.commitTime+this.fadeDuration>e},ht.prototype.setStale=function(){this.stale=!0};var dt=Math.pow(2,25),mt=Math.pow(2,24),yt=Math.pow(2,17),vt=Math.pow(2,16),gt=Math.pow(2,9),_t=Math.pow(2,8),bt=Math.pow(2,1);function xt(e){if(0===e.opacity&&!e.placed)return 0;if(1===e.opacity&&e.placed)return 4294967295;var t=e.placed?1:0,r=Math.floor(127*e.opacity);return r*dt+t*mt+r*yt+t*vt+r*gt+t*_t+r*bt+t}var wt=function(){this._currentTileIndex=0,this._seenCrossTileIDs={}};wt.prototype.continuePlacement=function(e,t,r,n,o){for(;this._currentTileIndex<e.length;){var i=e[this._currentTileIndex];if(t.placeLayerTile(n,i,r,this._seenCrossTileIDs),this._currentTileIndex++,o())return!0}};var Et=function(e,t,r,n,o,i){this.placement=new ht(e,o,i),this._currentPlacementIndex=t.length-1,this._forceFullPlacement=r,this._showCollisionBoxes=n,this._done=!1};Et.prototype.isDone=function(){return this._done},Et.prototype.continuePlacement=function(t,r,n){for(var o=this,i=e.browser.now(),a=function(){var t=e.browser.now()-i;return!o._forceFullPlacement&&t>2};this._currentPlacementIndex>=0;){var s=r[t[this._currentPlacementIndex]],l=this.placement.collisionIndex.transform.zoom;if("symbol"===s.type&&(!s.minzoom||s.minzoom<=l)&&(!s.maxzoom||s.maxzoom>l)){if(this._inProgressLayer||(this._inProgressLayer=new wt),this._inProgressLayer.continuePlacement(n[s.source],this.placement,this._showCollisionBoxes,s,a))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},Et.prototype.commit=function(e,t){return this.placement.commit(e,t),this.placement};var St=512/e.EXTENT/2,Ct=function(e,t,r){this.tileID=e,this.indexedSymbolInstances={},this.bucketInstanceId=r;for(var n=0;n<t.length;n++){var o=t.get(n),i=o.key;this.indexedSymbolInstances[i]||(this.indexedSymbolInstances[i]=[]),this.indexedSymbolInstances[i].push({crossTileID:o.crossTileID,coord:this.getScaledCoordinates(o,e)})}};Ct.prototype.getScaledCoordinates=function(t,r){var n=r.canonical.z-this.tileID.canonical.z,o=St/Math.pow(2,n);return{x:Math.floor((r.canonical.x*e.EXTENT+t.anchorX)*o),y:Math.floor((r.canonical.y*e.EXTENT+t.anchorY)*o)}},Ct.prototype.findMatches=function(e,t,r){for(var n=this.tileID.canonical.z<t.canonical.z?1:Math.pow(2,this.tileID.canonical.z-t.canonical.z),o=0;o<e.length;o++){var i=e.get(o);if(!i.crossTileID){var a=this.indexedSymbolInstances[i.key];if(a)for(var s=this.getScaledCoordinates(i,t),l=0,u=a;l<u.length;l+=1){var c=u[l];if(Math.abs(c.coord.x-s.x)<=n&&Math.abs(c.coord.y-s.y)<=n&&!r[c.crossTileID]){r[c.crossTileID]=!0,i.crossTileID=c.crossTileID;break}}}}};var kt=function(){this.maxCrossTileID=0};kt.prototype.generate=function(){return++this.maxCrossTileID};var Tt=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};Tt.prototype.handleWrapJump=function(e){var t=Math.round((e-this.lng)/360);if(0!==t)for(var r in this.indexes){var n=this.indexes[r],o={};for(var i in n){var a=n[i];a.tileID=a.tileID.unwrapTo(a.tileID.wrap+t),o[a.tileID.key]=a}this.indexes[r]=o}this.lng=e},Tt.prototype.addBucket=function(e,t,r){if(this.indexes[e.overscaledZ]&&this.indexes[e.overscaledZ][e.key]){if(this.indexes[e.overscaledZ][e.key].bucketInstanceId===t.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(e.overscaledZ,this.indexes[e.overscaledZ][e.key])}for(var n=0;n<t.symbolInstances.length;n++){t.symbolInstances.get(n).crossTileID=0}this.usedCrossTileIDs[e.overscaledZ]||(this.usedCrossTileIDs[e.overscaledZ]={});var o=this.usedCrossTileIDs[e.overscaledZ];for(var i in this.indexes){var a=this.indexes[i];if(Number(i)>e.overscaledZ)for(var s in a){var l=a[s];l.tileID.isChildOf(e)&&l.findMatches(t.symbolInstances,e,o)}else{var u=a[e.scaledTo(Number(i)).key];u&&u.findMatches(t.symbolInstances,e,o)}}for(var c=0;c<t.symbolInstances.length;c++){var p=t.symbolInstances.get(c);p.crossTileID||(p.crossTileID=r.generate(),o[p.crossTileID]=!0)}return void 0===this.indexes[e.overscaledZ]&&(this.indexes[e.overscaledZ]={}),this.indexes[e.overscaledZ][e.key]=new Ct(e,t.symbolInstances,t.bucketInstanceId),!0},Tt.prototype.removeBucketCrossTileIDs=function(e,t){for(var r in t.indexedSymbolInstances)for(var n=0,o=t.indexedSymbolInstances[r];n<o.length;n+=1){var i=o[n];delete this.usedCrossTileIDs[e][i.crossTileID]}},Tt.prototype.removeStaleBuckets=function(e){var t=!1;for(var r in this.indexes){var n=this.indexes[r];for(var o in n)e[n[o].bucketInstanceId]||(this.removeBucketCrossTileIDs(r,n[o]),delete n[o],t=!0)}return t};var Ot=function(){this.layerIndexes={},this.crossTileIDs=new kt,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};Ot.prototype.addLayer=function(e,t,r){var n=this.layerIndexes[e.id];void 0===n&&(n=this.layerIndexes[e.id]=new Tt);var o=!1,i={};n.handleWrapJump(r);for(var a=0,s=t;a<s.length;a+=1){var l=s[a],u=l.getBucket(e);u&&e.id===u.layerIds[0]&&(u.bucketInstanceId||(u.bucketInstanceId=++this.maxBucketInstanceId),n.addBucket(l.tileID,u,this.crossTileIDs)&&(o=!0),i[u.bucketInstanceId]=!0)}return n.removeStaleBuckets(i)&&(o=!0),o},Ot.prototype.pruneUnusedLayers=function(e){var t={};for(var r in e.forEach(function(e){t[e]=!0}),this.layerIndexes)t[r]||delete this.layerIndexes[r]};var Pt=function(t,r){return e.emitValidationErrors(t,r&&r.filter(function(e){return"source.canvas"!==e.identifier}))},At=e.pick(De,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),It=e.pick(De,["setCenter","setZoom","setBearing","setPitch"]),Mt=function(t){function r(n,o){var i=this;void 0===o&&(o={}),t.call(this),this.map=n,this.dispatcher=new w((Ie||(Ie=new Ae),Ie),this),this.imageManager=new p,this.glyphManager=new v(n._transformRequest,o.localIdeographFontFamily),this.lineAtlas=new x(256,512),this.crossTileSymbolIndex=new Ot,this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new e.ZoomHistory,this._loaded=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",e.getReferrer());var a=this;this._rtlTextPluginCallback=r.registerForPluginAvailability(function(e){for(var t in a.dispatcher.broadcast("loadRTLTextPlugin",e.pluginURL,e.completionCallback),a.sourceCaches)a.sourceCaches[t].reload()}),this.on("data",function(e){if("source"===e.dataType&&"metadata"===e.sourceDataType){var t=i.sourceCaches[e.sourceId];if(t){var r=t.getSource();if(r&&r.vectorLayerIds)for(var n in i._layers){var o=i._layers[n];o.source===r.id&&i._validateLayer(o)}}}})}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.loadURL=function(t,r){var n=this;void 0===r&&(r={}),this.fire(new e.Event("dataloading",{dataType:"style"}));var o="boolean"===typeof r.validate?r.validate:!e.isMapboxURL(t);t=e.normalizeStyleURL(t,r.accessToken);var i=this.map._transformRequest(t,e.ResourceType.Style);this._request=e.getJSON(i,function(t,r){n._request=null,t?n.fire(new e.ErrorEvent(t)):r&&n._load(r,o)})},r.prototype.loadJSON=function(t,r){var n=this;void 0===r&&(r={}),this.fire(new e.Event("dataloading",{dataType:"style"})),this._request=e.browser.frame(function(){n._request=null,n._load(t,!1!==r.validate)})},r.prototype._load=function(t,r){var n=this;if(!r||!Pt(this,e.validateStyle(t))){for(var o in this._loaded=!0,this.stylesheet=t,t.sources)this.addSource(o,t.sources[o],{validate:!1});t.sprite?this._spriteRequest=function(t,r,n){var o,i,a,s=e.browser.devicePixelRatio>1?"@2x":"",l=e.getJSON(r(e.normalizeSpriteURL(t,s,".json"),e.ResourceType.SpriteJSON),function(e,t){l=null,a||(a=e,o=t,c())}),u=e.getImage(r(e.normalizeSpriteURL(t,s,".png"),e.ResourceType.SpriteImage),function(e,t){u=null,a||(a=e,i=t,c())});function c(){if(a)n(a);else if(o&&i){var t=e.browser.getImageData(i),r={};for(var s in o){var l=o[s],u=l.width,c=l.height,p=l.x,h=l.y,f=l.sdf,d=l.pixelRatio,m=new e.RGBAImage({width:u,height:c});e.RGBAImage.copy(t,m,{x:p,y:h},{x:0,y:0},{width:u,height:c}),r[s]={data:m,pixelRatio:d,sdf:f}}n(null,r)}}return{cancel:function(){l&&(l.cancel(),l=null),u&&(u.cancel(),u=null)}}}(t.sprite,this.map._transformRequest,function(t,r){if(n._spriteRequest=null,t)n.fire(new e.ErrorEvent(t));else if(r)for(var o in r)n.imageManager.addImage(o,r[o]);n.imageManager.setLoaded(!0),n.fire(new e.Event("data",{dataType:"style"}))}):this.imageManager.setLoaded(!0),this.glyphManager.setURL(t.glyphs);var i=Le(this.stylesheet.layers);this._order=i.map(function(e){return e.id}),this._layers={};for(var a=0,s=i;a<s.length;a+=1){var l=s[a];(l=e.createStyleLayer(l)).setEventedParent(this,{layer:{id:l.id}}),this._layers[l.id]=l}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new b(this.stylesheet.light),this.fire(new e.Event("data",{dataType:"style"})),this.fire(new e.Event("style.load"))}},r.prototype._validateLayer=function(t){var r=this.sourceCaches[t.source];if(r){var n=t.sourceLayer;if(n){var o=r.getSource();("geojson"===o.type||o.vectorLayerIds&&-1===o.vectorLayerIds.indexOf(n))&&this.fire(new e.ErrorEvent(new Error('Source layer "'+n+'" does not exist on source "'+o.id+'" as specified by style layer "'+t.id+'"')))}}},r.prototype.loaded=function(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var e in this.sourceCaches)if(!this.sourceCaches[e].loaded())return!1;return!!this.imageManager.isLoaded()},r.prototype._serializeLayers=function(e){for(var t=[],r=0,n=e;r<n.length;r+=1){var o=n[r],i=this._layers[o];"custom"!==i.type&&t.push(i.serialize())}return t},r.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var e in this.sourceCaches)if(this.sourceCaches[e].hasTransition())return!0;for(var t in this._layers)if(this._layers[t].hasTransition())return!0;return!1},r.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},r.prototype.update=function(t){if(this._loaded){var r=this._changed;if(this._changed){var n=Object.keys(this._updatedLayers),o=Object.keys(this._removedLayers);for(var i in(n.length||o.length)&&this._updateWorkerLayers(n,o),this._updatedSources){var a=this._updatedSources[i];"reload"===a?this._reloadSource(i):"clear"===a&&this._clearSource(i)}for(var s in this._updatedPaintProps)this._layers[s].updateTransitions(t);this.light.updateTransitions(t),this._resetUpdates()}for(var l in this.sourceCaches)this.sourceCaches[l].used=!1;for(var u=0,c=this._order;u<c.length;u+=1){var p=c[u],h=this._layers[p];h.recalculate(t),!h.isHidden(t.zoom)&&h.source&&(this.sourceCaches[h.source].used=!0)}this.light.recalculate(t),this.z=t.zoom,r&&this.fire(new e.Event("data",{dataType:"style"}))}},r.prototype._updateWorkerLayers=function(e,t){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(e),removedIds:t})},r.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={}},r.prototype.setState=function(t){var r=this;if(this._checkLoaded(),Pt(this,e.validateStyle(t)))return!1;(t=e.clone(t)).layers=Le(t.layers);var n=Ge(this.serialize(),t).filter(function(e){return!(e.command in It)});if(0===n.length)return!1;var o=n.filter(function(e){return!(e.command in At)});if(o.length>0)throw new Error("Unimplemented: "+o.map(function(e){return e.command}).join(", ")+".");return n.forEach(function(e){"setTransition"!==e.command&&r[e.command].apply(r,e.args)}),this.stylesheet=t,!0},r.prototype.addImage=function(t,r){if(this.getImage(t))return this.fire(new e.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(t,r),this.fire(new e.Event("data",{dataType:"style"}))},r.prototype.getImage=function(e){return this.imageManager.getImage(e)},r.prototype.removeImage=function(t){if(!this.getImage(t))return this.fire(new e.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(t),this.fire(new e.Event("data",{dataType:"style"}))},r.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},r.prototype.addSource=function(t,r,n){var o=this;if(void 0===n&&(n={}),this._checkLoaded(),void 0!==this.sourceCaches[t])throw new Error("There is already a source with this ID");if(!r.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(r).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(r.type)>=0)||!this._validate(e.validateStyle.source,"sources."+t,r,null,n)){this.map&&this.map._collectResourceTiming&&(r.collectResourceTiming=!0);var i=this.sourceCaches[t]=new ke(t,r,this.dispatcher);i.style=this,i.setEventedParent(this,function(){return{isSourceLoaded:o.loaded(),source:i.serialize(),sourceId:t}}),i.onAdd(this.map),this._changed=!0}},r.prototype.removeSource=function(t){if(this._checkLoaded(),void 0===this.sourceCaches[t])throw new Error("There is no source with this ID");for(var r in this._layers)if(this._layers[r].source===t)return this.fire(new e.ErrorEvent(new Error('Source "'+t+'" cannot be removed while layer "'+r+'" is using it.')));var n=this.sourceCaches[t];delete this.sourceCaches[t],delete this._updatedSources[t],n.fire(new e.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:t})),n.setEventedParent(null),n.clearTiles(),n.onRemove&&n.onRemove(this.map),this._changed=!0},r.prototype.setGeoJSONSourceData=function(e,t){this._checkLoaded(),this.sourceCaches[e].getSource().setData(t),this._changed=!0},r.prototype.getSource=function(e){return this.sourceCaches[e]&&this.sourceCaches[e].getSource()},r.prototype.addLayer=function(t,r,n){void 0===n&&(n={}),this._checkLoaded();var o=t.id;if(this.getLayer(o))this.fire(new e.ErrorEvent(new Error('Layer with id "'+o+'" already exists on this map')));else{var i;if("custom"===t.type){if(Pt(this,e.validateCustomStyleLayer(t)))return;i=e.createStyleLayer(t)}else{if("object"===typeof t.source&&(this.addSource(o,t.source),t=e.clone(t),t=e.extend(t,{source:o})),this._validate(e.validateStyle.layer,"layers."+o,t,{arrayIndex:-1},n))return;i=e.createStyleLayer(t),this._validateLayer(i),i.setEventedParent(this,{layer:{id:o}})}var a=r?this._order.indexOf(r):this._order.length;if(r&&-1===a)this.fire(new e.ErrorEvent(new Error('Layer with id "'+r+'" does not exist on this map.')));else{if(this._order.splice(a,0,o),this._layerOrderChanged=!0,this._layers[o]=i,this._removedLayers[o]&&i.source&&"custom"!==i.type){var s=this._removedLayers[o];delete this._removedLayers[o],s.type!==i.type?this._updatedSources[i.source]="clear":(this._updatedSources[i.source]="reload",this.sourceCaches[i.source].pause())}this._updateLayer(i),i.onAdd&&i.onAdd(this.map)}}},r.prototype.moveLayer=function(t,r){if(this._checkLoaded(),this._changed=!0,this._layers[t]){if(t!==r){var n=this._order.indexOf(t);this._order.splice(n,1);var o=r?this._order.indexOf(r):this._order.length;r&&-1===o?this.fire(new e.ErrorEvent(new Error('Layer with id "'+r+'" does not exist on this map.'))):(this._order.splice(o,0,t),this._layerOrderChanged=!0)}}else this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be moved.")))},r.prototype.removeLayer=function(t){this._checkLoaded();var r=this._layers[t];if(r){r.setEventedParent(null);var n=this._order.indexOf(t);this._order.splice(n,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[t]=r,delete this._layers[t],delete this._updatedLayers[t],delete this._updatedPaintProps[t],r.onRemove&&r.onRemove(this.map)}else this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be removed.")))},r.prototype.getLayer=function(e){return this._layers[e]},r.prototype.setLayerZoomRange=function(t,r,n){this._checkLoaded();var o=this.getLayer(t);o?o.minzoom===r&&o.maxzoom===n||(null!=r&&(o.minzoom=r),null!=n&&(o.maxzoom=n),this._updateLayer(o)):this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot have zoom extent.")))},r.prototype.setFilter=function(t,r,n){void 0===n&&(n={}),this._checkLoaded();var o=this.getLayer(t);if(o){if(!e.isEqual(o.filter,r))return null===r||void 0===r?(o.filter=void 0,void this._updateLayer(o)):void(this._validate(e.validateStyle.filter,"layers."+o.id+".filter",r,null,n)||(o.filter=e.clone(r),this._updateLayer(o)))}else this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be filtered.")))},r.prototype.getFilter=function(t){return e.clone(this.getLayer(t).filter)},r.prototype.setLayoutProperty=function(t,r,n,o){void 0===o&&(o={}),this._checkLoaded();var i=this.getLayer(t);i?e.isEqual(i.getLayoutProperty(r),n)||(i.setLayoutProperty(r,n,o),this._updateLayer(i)):this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be styled.")))},r.prototype.getLayoutProperty=function(t,r){var n=this.getLayer(t);if(n)return n.getLayoutProperty(r);this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style.")))},r.prototype.setPaintProperty=function(t,r,n,o){void 0===o&&(o={}),this._checkLoaded();var i=this.getLayer(t);i?e.isEqual(i.getPaintProperty(r),n)||(i.setPaintProperty(r,n,o)&&this._updateLayer(i),this._changed=!0,this._updatedPaintProps[t]=!0):this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be styled.")))},r.prototype.getPaintProperty=function(e,t){return this.getLayer(e).getPaintProperty(t)},r.prototype.setFeatureState=function(t,r){this._checkLoaded();var n=t.source,o=t.sourceLayer,i=this.sourceCaches[n],a=parseInt(t.id,10);if(void 0!==i){var s=i.getSource().type;"geojson"===s&&o?this.fire(new e.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==s||o?isNaN(a)||a<0?this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided and non-negative."))):i.setFeatureState(o,a,r):this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new e.ErrorEvent(new Error("The source '"+n+"' does not exist in the map's style.")))},r.prototype.removeFeatureState=function(t,r){this._checkLoaded();var n=t.source,o=this.sourceCaches[n];if(void 0!==o){var i=o.getSource().type,a="vector"===i?t.sourceLayer:void 0,s=parseInt(t.id,10);"vector"!==i||a?t.id&&isNaN(s)||s<0?this.fire(new e.ErrorEvent(new Error("The feature id parameter must be non-negative."))):!r||t.id?o.removeFeatureState(a,s,r):this.fire(new e.ErrorEvent(new Error("A feature id is requred to remove its specific state property."))):this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new e.ErrorEvent(new Error("The source '"+n+"' does not exist in the map's style.")))},r.prototype.getFeatureState=function(t){this._checkLoaded();var r=t.source,n=t.sourceLayer,o=this.sourceCaches[r],i=parseInt(t.id,10);if(void 0!==o)if("vector"!==o.getSource().type||n){if(!(isNaN(i)||i<0))return o.getFeatureState(n,i);this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided and non-negative.")))}else this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));else this.fire(new e.ErrorEvent(new Error("The source '"+r+"' does not exist in the map's style.")))},r.prototype.getTransition=function(){return e.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},r.prototype.serialize=function(){return e.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:e.mapObject(this.sourceCaches,function(e){return e.serialize()}),layers:this._serializeLayers(this._order)},function(e){return void 0!==e})},r.prototype._updateLayer=function(e){this._updatedLayers[e.id]=!0,e.source&&!this._updatedSources[e.source]&&(this._updatedSources[e.source]="reload",this.sourceCaches[e.source].pause()),this._changed=!0},r.prototype._flattenAndSortRenderedFeatures=function(e){for(var t=this,r=function(e){return"fill-extrusion"===t._layers[e].type},n={},o=[],i=this._order.length-1;i>=0;i--){var a=this._order[i];if(r(a)){n[a]=i;for(var s=0,l=e;s<l.length;s+=1){var u=l[s][a];if(u)for(var c=0,p=u;c<p.length;c+=1){var h=p[c];o.push(h)}}}}o.sort(function(e,t){return t.intersectionZ-e.intersectionZ});for(var f=[],d=this._order.length-1;d>=0;d--){var m=this._order[d];if(r(m))for(var y=o.length-1;y>=0;y--){var v=o[y].feature;if(n[v.layer.id]<d)break;f.push(v),o.pop()}else for(var g=0,_=e;g<_.length;g+=1){var b=_[g][m];if(b)for(var x=0,w=b;x<w.length;x+=1){var E=w[x];f.push(E.feature)}}}return f},r.prototype.queryRenderedFeatures=function(t,r,n){r&&r.filter&&this._validate(e.validateStyle.filter,"queryRenderedFeatures.filter",r.filter);var o={};if(r&&r.layers){if(!Array.isArray(r.layers))return this.fire(new e.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var i=0,a=r.layers;i<a.length;i+=1){var s=a[i],l=this._layers[s];if(!l)return this.fire(new e.ErrorEvent(new Error("The layer '"+s+"' does not exist in the map's style and cannot be queried for features."))),[];o[l.source]=!0}}var u=[];for(var c in this.sourceCaches)r.layers&&!o[c]||u.push(R(this.sourceCaches[c],this._layers,t,r,n));return this.placement&&u.push(function(e,t,r,n,o,i){for(var a={},s=o.queryRenderedSymbols(r),l=[],u=0,c=Object.keys(s).map(Number);u<c.length;u+=1){var p=c[u];l.push(i[p])}l.sort(L);for(var h=function(){var t=d[f],r=t.featureIndex.lookupSymbolFeatures(s[t.bucketInstanceId],t.bucketIndex,t.sourceLayerIndex,n.filter,n.layers,e);for(var o in r){var i=a[o]=a[o]||[],l=r[o];l.sort(function(e,r){var n=t.featureSortOrder;if(n){var o=n.indexOf(e.featureIndex);return n.indexOf(r.featureIndex)-o}return r.featureIndex-e.featureIndex});for(var u=0,c=l;u<c.length;u+=1){var p=c[u];i.push(p)}}},f=0,d=l;f<d.length;f+=1)h();var m=function(r){a[r].forEach(function(n){var o=n.feature,i=e[r],a=t[i.source].getFeatureState(o.layer["source-layer"],o.id);o.source=o.layer.source,o.layer["source-layer"]&&(o.sourceLayer=o.layer["source-layer"]),o.state=a})};for(var y in a)m(y);return a}(this._layers,this.sourceCaches,t,r,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(u)},r.prototype.querySourceFeatures=function(t,r){r&&r.filter&&this._validate(e.validateStyle.filter,"querySourceFeatures.filter",r.filter);var n=this.sourceCaches[t];return n?function(e,t){for(var r=e.getRenderableIds().map(function(t){return e.getTileByID(t)}),n=[],o={},i=0;i<r.length;i++){var a=r[i],s=a.tileID.canonical.key;o[s]||(o[s]=!0,a.querySourceFeatures(n,t))}return n}(n,r):[]},r.prototype.addSourceType=function(e,t,n){return r.getSourceType(e)?n(new Error('A source type called "'+e+'" already exists.')):(r.setSourceType(e,t),t.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:e,url:t.workerSourceURL},n):n(null,null))},r.prototype.getLight=function(){return this.light.getLight()},r.prototype.setLight=function(t,r){void 0===r&&(r={}),this._checkLoaded();var n=this.light.getLight(),o=!1;for(var i in t)if(!e.isEqual(t[i],n[i])){o=!0;break}if(o){var a={now:e.browser.now(),transition:e.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(t,r),this.light.updateTransitions(a)}},r.prototype._validate=function(t,r,n,o,i){return void 0===i&&(i={}),(!i||!1!==i.validate)&&Pt(this,t.call(e.validateStyle,e.extend({key:r,style:this.serialize(),value:n,styleSpec:e.styleSpec},o)))},r.prototype._remove=function(){for(var t in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),e.evented.off("pluginAvailable",this._rtlTextPluginCallback),this.sourceCaches)this.sourceCaches[t].clearTiles();this.dispatcher.remove()},r.prototype._clearSource=function(e){this.sourceCaches[e].clearTiles()},r.prototype._reloadSource=function(e){this.sourceCaches[e].resume(),this.sourceCaches[e].reload()},r.prototype._updateSources=function(e){for(var t in this.sourceCaches)this.sourceCaches[t].update(e)},r.prototype._generateCollisionBoxes=function(){for(var e in this.sourceCaches)this._reloadSource(e)},r.prototype._updatePlacement=function(t,r,n,o){for(var i=!1,a=!1,s={},l=0,u=this._order;l<u.length;l+=1){var c=u[l],p=this._layers[c];if("symbol"===p.type){if(!s[p.source]){var h=this.sourceCaches[p.source];s[p.source]=h.getRenderableIds(!0).map(function(e){return h.getTileByID(e)}).sort(function(e,t){return t.tileID.overscaledZ-e.tileID.overscaledZ||(e.tileID.isLessThan(t.tileID)?-1:1)})}var f=this.crossTileSymbolIndex.addLayer(p,s[p.source],t.center.lng);i=i||f}}this.crossTileSymbolIndex.pruneUnusedLayers(this._order);var d=this._layerOrderChanged||0===n;if((d||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(e.browser.now()))&&(this.pauseablePlacement=new Et(t,this._order,d,r,n,o),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,s),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(this.placement,e.browser.now()),a=!0),i&&this.pauseablePlacement.placement.setStale()),a||i)for(var m=0,y=this._order;m<y.length;m+=1){var v=y[m],g=this._layers[v];"symbol"===g.type&&this.placement.updateLayerOpacities(g,s[g.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(e.browser.now())},r.prototype._releaseSymbolFadeTiles=function(){for(var e in this.sourceCaches)this.sourceCaches[e].releaseSymbolFadeTiles()},r.prototype.getImages=function(e,t,r){this.imageManager.getImages(t.icons,r)},r.prototype.getGlyphs=function(e,t,r){this.glyphManager.getGlyphs(t.stacks,r)},r.prototype.getResource=function(t,r,n){return e.makeRequest(r,n)},r}(e.Evented);Mt.getSourceType=function(e){return A[e]},Mt.setSourceType=function(e,t){A[e]=t},Mt.registerForPluginAvailability=e.registerForPluginAvailability;var Rt=e.createLayout([{name:"a_pos",type:"Int16",components:2}]),Lt=ar("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}"),Dt=ar("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),jt=ar("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),zt=ar("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvarying vec3 v_data;void main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvarying vec3 v_data;void main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/DEVICE_PIXEL_RATIO/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),Ft=ar("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Nt=ar("#pragma mapbox: define highp float weight\nuniform highp float u_intensity;varying vec2 v_extrude;\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nuniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;const highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),Bt=ar("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),Ut=ar("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=a_extrude*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),Vt=ar("uniform float u_overscale_factor;varying float v_placed;varying float v_notUsed;varying float v_radius;varying vec2 v_extrude;varying vec2 v_extrude_scale;void main() {float alpha=0.5;vec4 color=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {color=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {color*=.2;}float extrude_scale_length=length(v_extrude_scale);float extrude_length=length(v_extrude)*extrude_scale_length;float stroke_width=15.0*extrude_scale_length/u_overscale_factor;float radius=v_radius*extrude_scale_length;float distance_to_edge=abs(extrude_length-radius);float opacity_t=smoothstep(-stroke_width,0.0,-distance_to_edge);gl_FragColor=opacity_t*color;}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;varying float v_radius;varying vec2 v_extrude;varying vec2 v_extrude_scale;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);highp float padding_factor=1.2;gl_Position.xy+=a_extrude*u_extrude_scale*padding_factor*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;v_radius=abs(a_extrude.y);v_extrude=a_extrude*padding_factor;v_extrude_scale=u_extrude_scale*u_camera_to_center_distance*collision_perspective_ratio;}"),Gt=ar("uniform highp vec4 u_color;void main() {gl_FragColor=u_color;}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),qt=ar("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),Ht=ar("#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvarying vec2 v_pos;void main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),Wt=ar("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec4 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),Xt=ar("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec4 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileZoomRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),Zt=ar("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);}"),Yt=ar("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec4 u_scale;uniform float u_vertical_gradient;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));}"),Kt=ar("uniform sampler2D u_image;uniform float u_opacity;varying vec2 v_pos;void main() {gl_FragColor=texture2D(u_image,v_pos)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),$t=ar("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform float u_maxzoom;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;return (data.r+data.g*256.0+data.b*256.0*256.0)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggeration=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/ pow(2.0,(u_zoom-u_maxzoom)*exaggeration+19.2562-u_zoom);gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),Jt=ar("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),Qt=ar("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvarying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;void main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/DEVICE_PIXEL_RATIO)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define ANTIALIASING 1.0/DEVICE_PIXEL_RATIO/2.0\n#define scale 0.015873016\nattribute vec4 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_gl_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nvec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=a_pos_normal.xy;mediump vec2 normal=a_pos_normal.zw;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_gl_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),er=ar("#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nuniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp float v_lineprogress;void main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/DEVICE_PIXEL_RATIO)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,vec2(v_lineprogress,0.5));gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define MAX_LINE_DISTANCE 32767.0\n#define ANTIALIASING 1.0/DEVICE_PIXEL_RATIO/2.0\n#define scale 0.015873016\nattribute vec4 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_gl_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_lineprogress;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nvec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_lineprogress=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0/MAX_LINE_DISTANCE;vec2 pos=a_pos_normal.xy;mediump vec2 normal=a_pos_normal.zw;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_gl_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),tr=ar("uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec4 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileZoomRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/DEVICE_PIXEL_RATIO)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x,1.0);float x_b=mod(v_linesofar/pattern_size_b.x,1.0);float y_a=0.5+(v_normal.y*clamp(v_width2.s,0.0,(pattern_size_a.y+2.0)/2.0)/pattern_size_a.y);float y_b=0.5+(v_normal.y*clamp(v_width2.s,0.0,(pattern_size_b.y+2.0)/2.0)/pattern_size_b.y);vec2 pos_a=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,vec2(x_a,y_a));vec2 pos_b=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,vec2(x_b,y_b));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\n#define ANTIALIASING 1.0/DEVICE_PIXEL_RATIO/2.0\nattribute vec4 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_gl_units_to_pixels;uniform mediump float u_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=a_pos_normal.xy;mediump vec2 normal=a_pos_normal.zw;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_gl_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);}"),rr=ar("uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/DEVICE_PIXEL_RATIO)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\n#define ANTIALIASING 1.0/DEVICE_PIXEL_RATIO/2.0\nattribute vec4 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_gl_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nvec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=a_pos_normal.xy;mediump vec2 normal=a_pos_normal.zw;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_gl_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),nr=ar("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),or=ar("uniform sampler2D u_texture;\n#pragma mapbox: define lowp float opacity\nvarying vec2 v_tex;varying float v_fade_opacity;void main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;\n#pragma mapbox: define lowp float opacity\nuniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_gl_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;void main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size[0],a_size[1],u_size_t)/256.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size[0]/256.0;} else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {size=u_size;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_gl_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}"),ir=ar("#define SDF_PX 8.0\n#define EDGE_GAMMA 0.105/DEVICE_PIXEL_RATIO\nuniform bool u_is_halo;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nuniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;void main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nuniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_gl_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;void main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size[0],a_size[1],u_size_t)/256.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size[0]/256.0;} else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {size=u_size;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_gl_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=vec2(tex.x,tex.y);v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}");function ar(e,t){var r=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,n={};return{fragmentSource:e=e.replace(r,function(e,t,r,o,i){return n[i]=!0,"define"===t?"\n#ifndef HAS_UNIFORM_u_"+i+"\nvarying "+r+" "+o+" "+i+";\n#else\nuniform "+r+" "+o+" u_"+i+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+i+"\n    "+r+" "+o+" "+i+" = u_"+i+";\n#endif\n"}),vertexSource:t=t.replace(r,function(e,t,r,o,i){var a="float"===o?"vec2":"vec4",s=i.match(/color/)?"color":a;return n[i]?"define"===t?"\n#ifndef HAS_UNIFORM_u_"+i+"\nuniform lowp float a_"+i+"_t;\nattribute "+r+" "+a+" a_"+i+";\nvarying "+r+" "+o+" "+i+";\n#else\nuniform "+r+" "+o+" u_"+i+";\n#endif\n":"vec4"===s?"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+i+" = a_"+i+";\n#else\n    "+r+" "+o+" "+i+" = u_"+i+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+i+" = unpack_mix_"+s+"(a_"+i+", a_"+i+"_t);\n#else\n    "+r+" "+o+" "+i+" = u_"+i+";\n#endif\n":"define"===t?"\n#ifndef HAS_UNIFORM_u_"+i+"\nuniform lowp float a_"+i+"_t;\nattribute "+r+" "+a+" a_"+i+";\n#else\nuniform "+r+" "+o+" u_"+i+";\n#endif\n":"vec4"===s?"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+r+" "+o+" "+i+" = a_"+i+";\n#else\n    "+r+" "+o+" "+i+" = u_"+i+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+i+"\n    "+r+" "+o+" "+i+" = unpack_mix_"+s+"(a_"+i+", a_"+i+"_t);\n#else\n    "+r+" "+o+" "+i+" = u_"+i+";\n#endif\n"})}}var sr=Object.freeze({prelude:Lt,background:Dt,backgroundPattern:jt,circle:zt,clippingMask:Ft,heatmap:Nt,heatmapTexture:Bt,collisionBox:Ut,collisionCircle:Vt,debug:Gt,fill:qt,fillOutline:Ht,fillOutlinePattern:Wt,fillPattern:Xt,fillExtrusion:Zt,fillExtrusionPattern:Yt,extrusionTexture:Kt,hillshadePrepare:$t,hillshade:Jt,line:Qt,lineGradient:er,linePattern:tr,lineSDF:rr,raster:nr,symbolIcon:or,symbolSDF:ir}),lr=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};lr.prototype.bind=function(e,t,r,n,o,i,a,s){this.context=e;for(var l=this.boundPaintVertexBuffers.length!==n.length,u=0;!l&&u<n.length;u++)this.boundPaintVertexBuffers[u]!==n[u]&&(l=!0);var c=!this.vao||this.boundProgram!==t||this.boundLayoutVertexBuffer!==r||l||this.boundIndexBuffer!==o||this.boundVertexOffset!==i||this.boundDynamicVertexBuffer!==a||this.boundDynamicVertexBuffer2!==s;!e.extVertexArrayObject||c?this.freshBind(t,r,n,o,i,a,s):(e.bindVertexArrayOES.set(this.vao),a&&a.bind(),o&&o.dynamicDraw&&o.bind(),s&&s.bind())},lr.prototype.freshBind=function(e,t,r,n,o,i,a){var s,l=e.numAttributes,u=this.context,c=u.gl;if(u.extVertexArrayObject)this.vao&&this.destroy(),this.vao=u.extVertexArrayObject.createVertexArrayOES(),u.bindVertexArrayOES.set(this.vao),s=0,this.boundProgram=e,this.boundLayoutVertexBuffer=t,this.boundPaintVertexBuffers=r,this.boundIndexBuffer=n,this.boundVertexOffset=o,this.boundDynamicVertexBuffer=i,this.boundDynamicVertexBuffer2=a;else{s=u.currentNumAttributes||0;for(var p=l;p<s;p++)c.disableVertexAttribArray(p)}t.enableAttributes(c,e);for(var h=0,f=r;h<f.length;h+=1){f[h].enableAttributes(c,e)}i&&i.enableAttributes(c,e),a&&a.enableAttributes(c,e),t.bind(),t.setVertexAttribPointers(c,e,o);for(var d=0,m=r;d<m.length;d+=1){var y=m[d];y.bind(),y.setVertexAttribPointers(c,e,o)}i&&(i.bind(),i.setVertexAttribPointers(c,e,o)),n&&n.bind(),a&&(a.bind(),a.setVertexAttribPointers(c,e,o)),u.currentNumAttributes=l},lr.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var ur=function(t,r,n,o,i){var a=t.gl;this.program=a.createProgram();var s=n.defines().concat("#define DEVICE_PIXEL_RATIO "+e.browser.devicePixelRatio.toFixed(1));i&&s.push("#define OVERDRAW_INSPECTOR;");var l=s.concat(Lt.fragmentSource,r.fragmentSource).join("\n"),u=s.concat(Lt.vertexSource,r.vertexSource).join("\n"),c=a.createShader(a.FRAGMENT_SHADER);a.shaderSource(c,l),a.compileShader(c),a.attachShader(this.program,c);var p=a.createShader(a.VERTEX_SHADER);a.shaderSource(p,u),a.compileShader(p),a.attachShader(this.program,p);for(var h=n.layoutAttributes||[],f=0;f<h.length;f++)a.bindAttribLocation(this.program,f,h[f].name);a.linkProgram(this.program),this.numAttributes=a.getProgramParameter(this.program,a.ACTIVE_ATTRIBUTES),this.attributes={};for(var d={},m=0;m<this.numAttributes;m++){var y=a.getActiveAttrib(this.program,m);y&&(this.attributes[y.name]=a.getAttribLocation(this.program,y.name))}for(var v=a.getProgramParameter(this.program,a.ACTIVE_UNIFORMS),g=0;g<v;g++){var _=a.getActiveUniform(this.program,g);_&&(d[_.name]=a.getUniformLocation(this.program,_.name))}this.fixedUniforms=o(t,d),this.binderUniforms=n.getUniforms(t,d)};function cr(t,r,n){var o=1/st(n,1,r.transform.tileZoom),i=Math.pow(2,n.tileID.overscaledZ),a=n.tileSize*Math.pow(2,r.transform.tileZoom)/i,s=a*(n.tileID.canonical.x+n.tileID.wrap*i),l=a*n.tileID.canonical.y;return{u_image:0,u_texsize:n.imageAtlasTexture.size,u_scale:[e.browser.devicePixelRatio,o,t.fromScale,t.toScale],u_fade:t.t,u_pixel_coord_upper:[s>>16,l>>16],u_pixel_coord_lower:[65535&s,65535&l]}}ur.prototype.draw=function(e,t,r,n,o,i,a,s,l,u,c,p,h,f,d,m){var y,v=e.gl;for(var g in e.program.set(this.program),e.setDepthMode(r),e.setStencilMode(n),e.setColorMode(o),e.setCullFace(i),this.fixedUniforms)this.fixedUniforms[g].set(a[g]);f&&f.setUniforms(e,this.binderUniforms,p,{zoom:h});for(var _=(y={},y[v.LINES]=2,y[v.TRIANGLES]=3,y[v.LINE_STRIP]=1,y)[t],b=0,x=c.get();b<x.length;b+=1){var w=x[b],E=w.vaos||(w.vaos={});(E[s]||(E[s]=new lr)).bind(e,this,l,f?f.getPaintVertexBuffers():[],u,w.vertexOffset,d,m),v.drawElements(t,w.primitiveLength*_,v.UNSIGNED_SHORT,w.primitiveOffset*_*2)}};var pr=function(t,r,n){var o=r.style.light,i=o.properties.get("position"),a=[i.x,i.y,i.z],s=e.create();"viewport"===o.properties.get("anchor")&&e.fromRotation(s,-r.transform.angle),e.transformMat3(a,a,s);var l=o.properties.get("color");return{u_matrix:t,u_lightpos:a,u_lightintensity:o.properties.get("intensity"),u_lightcolor:[l.r,l.g,l.b],u_vertical_gradient:+n}},hr=function(t,r,n,o,i,a){return e.extend(pr(t,r,n),cr(i,r,a),{u_height_factor:-Math.pow(2,o.overscaledZ)/a.tileSize/8})},fr=function(t,r,n){var o=e.create$1();e.ortho(o,0,t.width,t.height,0,0,1);var i=t.context.gl;return{u_matrix:o,u_world:[i.drawingBufferWidth,i.drawingBufferHeight],u_image:n,u_opacity:r}},dr=function(e){return{u_matrix:e}},mr=function(t,r,n,o){return e.extend(dr(t),cr(n,r,o))},yr=function(e,t){return{u_matrix:e,u_world:t}},vr=function(t,r,n,o,i){return e.extend(mr(t,r,n,o),{u_world:i})},gr=function(e,t,r,n){var o,i,a=e.transform;if("map"===n.paint.get("circle-pitch-alignment")){var s=st(r,1,a.zoom);o=!0,i=[s,s]}else o=!1,i=a.pixelsToGLUnits;return{u_camera_to_center_distance:a.cameraToCenterDistance,u_scale_with_map:+("map"===n.paint.get("circle-pitch-scale")),u_matrix:e.translatePosMatrix(t.posMatrix,r,n.paint.get("circle-translate"),n.paint.get("circle-translate-anchor")),u_pitch_with_map:+o,u_extrude_scale:i}},_r=function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_camera_to_center_distance:new e.Uniform1f(t,r.u_camera_to_center_distance),u_pixels_to_tile_units:new e.Uniform1f(t,r.u_pixels_to_tile_units),u_extrude_scale:new e.Uniform2f(t,r.u_extrude_scale),u_overscale_factor:new e.Uniform1f(t,r.u_overscale_factor)}},br=function(e,t,r){var n=st(r,1,t.zoom),o=Math.pow(2,t.zoom-r.tileID.overscaledZ),i=r.tileID.overscaleFactor();return{u_matrix:e,u_camera_to_center_distance:t.cameraToCenterDistance,u_pixels_to_tile_units:n,u_extrude_scale:[t.pixelsToGLUnits[0]/(n*o),t.pixelsToGLUnits[1]/(n*o)],u_overscale_factor:i}},xr=function(e,t){return{u_matrix:e,u_color:t}},wr=function(e){return{u_matrix:e}},Er=function(e,t,r,n){return{u_matrix:e,u_extrude_scale:st(t,1,r),u_intensity:n}},Sr=function(t,r,n,o){var i=e.create$1();e.ortho(i,0,t.width,t.height,0,0,1);var a=t.context.gl;return{u_matrix:i,u_world:[a.drawingBufferWidth,a.drawingBufferHeight],u_image:n,u_color_ramp:o,u_opacity:r.paint.get("heatmap-opacity")}},Cr=function(t,r,n){var o=n.paint.get("hillshade-shadow-color"),i=n.paint.get("hillshade-highlight-color"),a=n.paint.get("hillshade-accent-color"),s=n.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===n.paint.get("hillshade-illumination-anchor")&&(s-=t.transform.angle);var l,u,c,p=!t.options.moving;return{u_matrix:t.transform.calculatePosMatrix(r.tileID.toUnwrapped(),p),u_image:0,u_latrange:(l=r.tileID,u=Math.pow(2,l.canonical.z),c=l.canonical.y,[new e.MercatorCoordinate(0,c/u).toLngLat().lat,new e.MercatorCoordinate(0,(c+1)/u).toLngLat().lat]),u_light:[n.paint.get("hillshade-exaggeration"),s],u_shadow:o,u_highlight:i,u_accent:a}},kr=function(t,r){var n=t.dem.stride,o=e.create$1();return e.ortho(o,0,e.EXTENT,-e.EXTENT,0,0,1),e.translate(o,o,[0,-e.EXTENT,0]),{u_matrix:o,u_image:1,u_dimension:[n,n],u_zoom:t.tileID.overscaledZ,u_maxzoom:r}};var Tr=function(e,t,r){var n=e.transform;return{u_matrix:Mr(e,t,r),u_ratio:1/st(t,1,n.zoom),u_gl_units_to_pixels:[1/n.pixelsToGLUnits[0],1/n.pixelsToGLUnits[1]]}},Or=function(t,r,n){return e.extend(Tr(t,r,n),{u_image:0})},Pr=function(t,r,n,o){var i=t.transform,a=Ir(r,i);return{u_matrix:Mr(t,r,n),u_texsize:r.imageAtlasTexture.size,u_ratio:1/st(r,1,i.zoom),u_image:0,u_scale:[e.browser.devicePixelRatio,a,o.fromScale,o.toScale],u_fade:o.t,u_gl_units_to_pixels:[1/i.pixelsToGLUnits[0],1/i.pixelsToGLUnits[1]]}},Ar=function(t,r,n,o,i){var a=t.transform,s=t.lineAtlas,l=Ir(r,a),u="round"===n.layout.get("line-cap"),c=s.getDash(o.from,u),p=s.getDash(o.to,u),h=c.width*i.fromScale,f=p.width*i.toScale;return e.extend(Tr(t,r,n),{u_patternscale_a:[l/h,-c.height/2],u_patternscale_b:[l/f,-p.height/2],u_sdfgamma:s.width/(256*Math.min(h,f)*e.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:c.y,u_tex_y_b:p.y,u_mix:i.t})};function Ir(e,t){return 1/st(e,1,t.tileZoom)}function Mr(e,t,r){return e.translatePosMatrix(t.tileID.posMatrix,t,r.paint.get("line-translate"),r.paint.get("line-translate-anchor"))}var Rr=function(e,t,r,n,o){return{u_matrix:e,u_tl_parent:t,u_scale_parent:r,u_buffer_scale:1,u_fade_t:n.mix,u_opacity:n.opacity*o.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:o.paint.get("raster-brightness-min"),u_brightness_high:o.paint.get("raster-brightness-max"),u_saturation_factor:(a=o.paint.get("raster-saturation"),a>0?1-1/(1.001-a):-a),u_contrast_factor:(i=o.paint.get("raster-contrast"),i>0?1/(1-i):1+i),u_spin_weights:function(e){e*=Math.PI/180;var t=Math.sin(e),r=Math.cos(e);return[(2*r+1)/3,(-Math.sqrt(3)*t-r+1)/3,(Math.sqrt(3)*t-r+1)/3]}(o.paint.get("raster-hue-rotate"))};var i,a};var Lr=function(e,t,r,n,o,i,a,s,l,u){var c=o.transform;return{u_is_size_zoom_constant:+("constant"===e||"source"===e),u_is_size_feature_constant:+("constant"===e||"camera"===e),u_size_t:t?t.uSizeT:0,u_size:t?t.uSize:0,u_camera_to_center_distance:c.cameraToCenterDistance,u_pitch:c.pitch/360*2*Math.PI,u_rotate_symbol:+r,u_aspect_ratio:c.width/c.height,u_fade_change:o.options.fadeDuration?o.symbolFadeChange:1,u_matrix:i,u_label_plane_matrix:a,u_gl_coord_matrix:s,u_is_text:+l,u_pitch_with_map:+n,u_texsize:u,u_texture:0}},Dr=function(t,r,n,o,i,a,s,l,u,c,p){var h=i.transform;return e.extend(Lr(t,r,n,o,i,a,s,l,u,c),{u_gamma_scale:o?Math.cos(h._pitch)*h.cameraToCenterDistance:1,u_is_halo:+p})},jr=function(e,t,r){return{u_matrix:e,u_opacity:t,u_color:r}},zr=function(t,r,n,o,i,a){return e.extend(function(e,t,r,n){var o=r.imageManager.getPattern(e.from),i=r.imageManager.getPattern(e.to),a=r.imageManager.getPixelSize(),s=a.width,l=a.height,u=Math.pow(2,n.tileID.overscaledZ),c=n.tileSize*Math.pow(2,r.transform.tileZoom)/u,p=c*(n.tileID.canonical.x+n.tileID.wrap*u),h=c*n.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:o.tl,u_pattern_br_a:o.br,u_pattern_tl_b:i.tl,u_pattern_br_b:i.br,u_texsize:[s,l],u_mix:t.t,u_pattern_size_a:o.displaySize,u_pattern_size_b:i.displaySize,u_scale_a:t.fromScale,u_scale_b:t.toScale,u_tile_units_to_pixels:1/st(n,1,r.transform.tileZoom),u_pixel_coord_upper:[p>>16,h>>16],u_pixel_coord_lower:[65535&p,65535&h]}}(o,a,n,i),{u_matrix:t,u_opacity:r})},Fr={fillExtrusion:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_lightpos:new e.Uniform3f(t,r.u_lightpos),u_lightintensity:new e.Uniform1f(t,r.u_lightintensity),u_lightcolor:new e.Uniform3f(t,r.u_lightcolor),u_vertical_gradient:new e.Uniform1f(t,r.u_vertical_gradient)}},fillExtrusionPattern:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_lightpos:new e.Uniform3f(t,r.u_lightpos),u_lightintensity:new e.Uniform1f(t,r.u_lightintensity),u_lightcolor:new e.Uniform3f(t,r.u_lightcolor),u_vertical_gradient:new e.Uniform1f(t,r.u_vertical_gradient),u_height_factor:new e.Uniform1f(t,r.u_height_factor),u_image:new e.Uniform1i(t,r.u_image),u_texsize:new e.Uniform2f(t,r.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,r.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,r.u_pixel_coord_lower),u_scale:new e.Uniform4f(t,r.u_scale),u_fade:new e.Uniform1f(t,r.u_fade)}},extrusionTexture:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_world:new e.Uniform2f(t,r.u_world),u_image:new e.Uniform1i(t,r.u_image),u_opacity:new e.Uniform1f(t,r.u_opacity)}},fill:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix)}},fillPattern:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_image:new e.Uniform1i(t,r.u_image),u_texsize:new e.Uniform2f(t,r.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,r.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,r.u_pixel_coord_lower),u_scale:new e.Uniform4f(t,r.u_scale),u_fade:new e.Uniform1f(t,r.u_fade)}},fillOutline:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_world:new e.Uniform2f(t,r.u_world)}},fillOutlinePattern:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_world:new e.Uniform2f(t,r.u_world),u_image:new e.Uniform1i(t,r.u_image),u_texsize:new e.Uniform2f(t,r.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,r.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,r.u_pixel_coord_lower),u_scale:new e.Uniform4f(t,r.u_scale),u_fade:new e.Uniform1f(t,r.u_fade)}},circle:function(t,r){return{u_camera_to_center_distance:new e.Uniform1f(t,r.u_camera_to_center_distance),u_scale_with_map:new e.Uniform1i(t,r.u_scale_with_map),u_pitch_with_map:new e.Uniform1i(t,r.u_pitch_with_map),u_extrude_scale:new e.Uniform2f(t,r.u_extrude_scale),u_matrix:new e.UniformMatrix4f(t,r.u_matrix)}},collisionBox:_r,collisionCircle:_r,debug:function(t,r){return{u_color:new e.UniformColor(t,r.u_color),u_matrix:new e.UniformMatrix4f(t,r.u_matrix)}},clippingMask:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix)}},heatmap:function(t,r){return{u_extrude_scale:new e.Uniform1f(t,r.u_extrude_scale),u_intensity:new e.Uniform1f(t,r.u_intensity),u_matrix:new e.UniformMatrix4f(t,r.u_matrix)}},heatmapTexture:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_world:new e.Uniform2f(t,r.u_world),u_image:new e.Uniform1i(t,r.u_image),u_color_ramp:new e.Uniform1i(t,r.u_color_ramp),u_opacity:new e.Uniform1f(t,r.u_opacity)}},hillshade:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_image:new e.Uniform1i(t,r.u_image),u_latrange:new e.Uniform2f(t,r.u_latrange),u_light:new e.Uniform2f(t,r.u_light),u_shadow:new e.UniformColor(t,r.u_shadow),u_highlight:new e.UniformColor(t,r.u_highlight),u_accent:new e.UniformColor(t,r.u_accent)}},hillshadePrepare:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_image:new e.Uniform1i(t,r.u_image),u_dimension:new e.Uniform2f(t,r.u_dimension),u_zoom:new e.Uniform1f(t,r.u_zoom),u_maxzoom:new e.Uniform1f(t,r.u_maxzoom)}},line:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_ratio:new e.Uniform1f(t,r.u_ratio),u_gl_units_to_pixels:new e.Uniform2f(t,r.u_gl_units_to_pixels)}},lineGradient:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_ratio:new e.Uniform1f(t,r.u_ratio),u_gl_units_to_pixels:new e.Uniform2f(t,r.u_gl_units_to_pixels),u_image:new e.Uniform1i(t,r.u_image)}},linePattern:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_texsize:new e.Uniform2f(t,r.u_texsize),u_ratio:new e.Uniform1f(t,r.u_ratio),u_image:new e.Uniform1i(t,r.u_image),u_gl_units_to_pixels:new e.Uniform2f(t,r.u_gl_units_to_pixels),u_scale:new e.Uniform4f(t,r.u_scale),u_fade:new e.Uniform1f(t,r.u_fade)}},lineSDF:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_ratio:new e.Uniform1f(t,r.u_ratio),u_gl_units_to_pixels:new e.Uniform2f(t,r.u_gl_units_to_pixels),u_patternscale_a:new e.Uniform2f(t,r.u_patternscale_a),u_patternscale_b:new e.Uniform2f(t,r.u_patternscale_b),u_sdfgamma:new e.Uniform1f(t,r.u_sdfgamma),u_image:new e.Uniform1i(t,r.u_image),u_tex_y_a:new e.Uniform1f(t,r.u_tex_y_a),u_tex_y_b:new e.Uniform1f(t,r.u_tex_y_b),u_mix:new e.Uniform1f(t,r.u_mix)}},raster:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_tl_parent:new e.Uniform2f(t,r.u_tl_parent),u_scale_parent:new e.Uniform1f(t,r.u_scale_parent),u_buffer_scale:new e.Uniform1f(t,r.u_buffer_scale),u_fade_t:new e.Uniform1f(t,r.u_fade_t),u_opacity:new e.Uniform1f(t,r.u_opacity),u_image0:new e.Uniform1i(t,r.u_image0),u_image1:new e.Uniform1i(t,r.u_image1),u_brightness_low:new e.Uniform1f(t,r.u_brightness_low),u_brightness_high:new e.Uniform1f(t,r.u_brightness_high),u_saturation_factor:new e.Uniform1f(t,r.u_saturation_factor),u_contrast_factor:new e.Uniform1f(t,r.u_contrast_factor),u_spin_weights:new e.Uniform3f(t,r.u_spin_weights)}},symbolIcon:function(t,r){return{u_is_size_zoom_constant:new e.Uniform1i(t,r.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,r.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,r.u_size_t),u_size:new e.Uniform1f(t,r.u_size),u_camera_to_center_distance:new e.Uniform1f(t,r.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,r.u_pitch),u_rotate_symbol:new e.Uniform1i(t,r.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,r.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,r.u_fade_change),u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,r.u_label_plane_matrix),u_gl_coord_matrix:new e.UniformMatrix4f(t,r.u_gl_coord_matrix),u_is_text:new e.Uniform1f(t,r.u_is_text),u_pitch_with_map:new e.Uniform1i(t,r.u_pitch_with_map),u_texsize:new e.Uniform2f(t,r.u_texsize),u_texture:new e.Uniform1i(t,r.u_texture)}},symbolSDF:function(t,r){return{u_is_size_zoom_constant:new e.Uniform1i(t,r.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,r.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,r.u_size_t),u_size:new e.Uniform1f(t,r.u_size),u_camera_to_center_distance:new e.Uniform1f(t,r.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,r.u_pitch),u_rotate_symbol:new e.Uniform1i(t,r.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,r.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,r.u_fade_change),u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,r.u_label_plane_matrix),u_gl_coord_matrix:new e.UniformMatrix4f(t,r.u_gl_coord_matrix),u_is_text:new e.Uniform1f(t,r.u_is_text),u_pitch_with_map:new e.Uniform1i(t,r.u_pitch_with_map),u_texsize:new e.Uniform2f(t,r.u_texsize),u_texture:new e.Uniform1i(t,r.u_texture),u_gamma_scale:new e.Uniform1f(t,r.u_gamma_scale),u_is_halo:new e.Uniform1f(t,r.u_is_halo)}},background:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_opacity:new e.Uniform1f(t,r.u_opacity),u_color:new e.UniformColor(t,r.u_color)}},backgroundPattern:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_opacity:new e.Uniform1f(t,r.u_opacity),u_image:new e.Uniform1i(t,r.u_image),u_pattern_tl_a:new e.Uniform2f(t,r.u_pattern_tl_a),u_pattern_br_a:new e.Uniform2f(t,r.u_pattern_br_a),u_pattern_tl_b:new e.Uniform2f(t,r.u_pattern_tl_b),u_pattern_br_b:new e.Uniform2f(t,r.u_pattern_br_b),u_texsize:new e.Uniform2f(t,r.u_texsize),u_mix:new e.Uniform1f(t,r.u_mix),u_pattern_size_a:new e.Uniform2f(t,r.u_pattern_size_a),u_pattern_size_b:new e.Uniform2f(t,r.u_pattern_size_b),u_scale_a:new e.Uniform1f(t,r.u_scale_a),u_scale_b:new e.Uniform1f(t,r.u_scale_b),u_pixel_coord_upper:new e.Uniform2f(t,r.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,r.u_pixel_coord_lower),u_tile_units_to_pixels:new e.Uniform1f(t,r.u_tile_units_to_pixels)}}};function Nr(t,r){for(var n=t.sort(function(e,t){return e.tileID.isLessThan(t.tileID)?-1:t.tileID.isLessThan(e.tileID)?1:0}),o=0;o<n.length;o++){var i={},a=n[o],s=n.slice(o+1);Br(a.tileID.wrapped(),a.tileID,s,new e.OverscaledTileID(0,a.tileID.wrap+1,0,0,0),i),a.setMask(i,r)}}function Br(t,r,n,o,i){for(var a=0;a<n.length;a++){var s=n[a];if(o.isLessThan(s.tileID))break;if(r.key===s.tileID.key)return;if(s.tileID.isChildOf(r)){for(var l=r.children(1/0),u=0;u<l.length;u++){Br(t,l[u],n.slice(a),o,i)}return}}var c=r.overscaledZ-t.overscaledZ,p=new e.CanonicalTileID(c,r.canonical.x-(t.canonical.x<<c),r.canonical.y-(t.canonical.y<<c));i[p.key]=i[p.key]||p}function Ur(e,t,r,n,o){for(var i=e.context,a=i.gl,s=o?e.useProgram("collisionCircle"):e.useProgram("collisionBox"),l=0;l<n.length;l++){var u=n[l],c=t.getTile(u),p=c.getBucket(r);if(p){var h=o?p.collisionCircle:p.collisionBox;h&&s.draw(i,o?a.TRIANGLES:a.LINES,xe.disabled,we.disabled,e.colorModeForRenderPass(),Se.disabled,br(u.posMatrix,e.transform,c),r.id,h.layoutVertexBuffer,h.indexBuffer,h.segments,null,e.transform.zoom,null,null,h.collisionVertexBuffer)}}}var Vr=e.identity(new Float32Array(16)),Gr=e.properties.layout;function qr(t,r,n,o,i,a,s,l,u,c,p,h){for(var f,d,m=t.context,y=m.gl,v=t.transform,g="map"===l,_="map"===u,b=g&&"point"!==n.layout.get("symbol-placement"),x=g&&!_&&!b,w=void 0!==n.layout.get("symbol-sort-key").constantOr(1),E=t.depthModeForSublayer(0,xe.ReadOnly),S=[],C=0,k=o;C<k.length;C+=1){var T=k[C],O=r.getTile(T),P=O.getBucket(n);if(P){var A=i?P.text:P.icon;if(A&&A.segments.get().length){var I=A.programConfigurations.get(n.id),M=i||P.sdfIcons,R=i?P.textSizeData:P.iconSizeData;f||(f=t.useProgram(M?"symbolSDF":"symbolIcon",I),d=e.evaluateSizeForZoom(R,v.zoom,Gr.properties[i?"text-size":"icon-size"])),m.activeTexture.set(y.TEXTURE0);var L=void 0,D=void 0,j=void 0;if(i)D=O.glyphAtlasTexture,j=y.LINEAR,L=O.glyphAtlasTexture.size;else{var z=1!==n.layout.get("icon-size").constantOr(0)||P.iconsNeedLinear,F=_||0!==v.pitch;D=O.imageAtlasTexture,j=M||t.options.rotating||t.options.zooming||z||F?y.LINEAR:y.NEAREST,L=O.imageAtlasTexture.size}var N=st(O,1,t.transform.zoom),B=We(T.posMatrix,_,g,t.transform,N),U=Xe(T.posMatrix,_,g,t.transform,N);b&&Ke(P,T.posMatrix,t,i,B,U,_,c);var V=t.translatePosMatrix(T.posMatrix,O,a,s),G=b?Vr:B,q=t.translatePosMatrix(U,O,a,s,!0),H=M&&0!==n.paint.get(i?"text-halo-width":"icon-halo-width").constantOr(1),W={program:f,buffers:A,uniformValues:M?Dr(R.functionType,d,x,_,t,V,G,q,i,L,!0):Lr(R.functionType,d,x,_,t,V,G,q,i,L),atlasTexture:D,atlasInterpolation:j,isSDF:M,hasHalo:H};if(w)for(var X=0,Z=A.segments.get();X<Z.length;X+=1){var Y=Z[X];S.push({segments:new e.SegmentVector([Y]),sortKey:Y.sortKey,state:W})}else S.push({segments:A.segments,sortKey:0,state:W})}}}w&&S.sort(function(e,t){return e.sortKey-t.sortKey});for(var K=0,$=S;K<$.length;K+=1){var J=$[K],Q=J.state;if(Q.atlasTexture.bind(Q.atlasInterpolation,y.CLAMP_TO_EDGE),Q.isSDF){var ee=Q.uniformValues;Q.hasHalo&&(ee.u_is_halo=1,Hr(Q.buffers,J.segments,n,t,Q.program,E,p,h,ee)),ee.u_is_halo=0}Hr(Q.buffers,J.segments,n,t,Q.program,E,p,h,Q.uniformValues)}}function Hr(e,t,r,n,o,i,a,s,l){var u=n.context,c=u.gl;o.draw(u,c.TRIANGLES,i,a,s,Se.disabled,l,r.id,e.layoutVertexBuffer,e.indexBuffer,t,r.paint,n.transform.zoom,e.programConfigurations.get(r.id),e.dynamicLayoutVertexBuffer,e.opacityVertexBuffer)}function Wr(e,t,r,n,o,i,a){var s,l,u,c,p,h=e.context.gl,f=r.paint.get("fill-pattern"),d=f&&f.constantOr(1),m=r.getCrossfadeParameters();a?(l=d&&!r.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",s=h.LINES):(l=d?"fillPattern":"fill",s=h.TRIANGLES);for(var y=0,v=n;y<v.length;y+=1){var g=v[y],_=t.getTile(g);if(!d||_.patternsLoaded()){var b=_.getBucket(r);if(b){var x=b.programConfigurations.get(r.id),w=e.useProgram(l,x);d&&(e.context.activeTexture.set(h.TEXTURE0),_.imageAtlasTexture.bind(h.LINEAR,h.CLAMP_TO_EDGE),x.updatePatternPaintBuffers(m));var E=f.constantOr(null);if(E&&_.imageAtlas){var S=_.imageAtlas.patternPositions[E.to],C=_.imageAtlas.patternPositions[E.from];S&&C&&x.setConstantPatternPositions(S,C)}var k=e.translatePosMatrix(g.posMatrix,_,r.paint.get("fill-translate"),r.paint.get("fill-translate-anchor"));if(a){c=b.indexBuffer2,p=b.segments2;var T=[h.drawingBufferWidth,h.drawingBufferHeight];u="fillOutlinePattern"===l&&d?vr(k,e,m,_,T):yr(k,T)}else c=b.indexBuffer,p=b.segments,u=d?mr(k,e,m,_):dr(k);w.draw(e.context,s,o,e.stencilModeForClipping(g),i,Se.disabled,u,r.id,b.layoutVertexBuffer,c,p,r.paint,e.transform.zoom,x)}}}}function Xr(t,r){var n=t.context,o=n.gl,i=r.viewportFrame;if(t.depthRboNeedsClear&&t.setupOffscreenDepthRenderbuffer(),!i){var a=new e.Texture(n,{width:t.width,height:t.height,data:null},o.RGBA);a.bind(o.LINEAR,o.CLAMP_TO_EDGE),(i=r.viewportFrame=n.createFramebuffer(t.width,t.height)).colorAttachment.set(a.texture)}n.bindFramebuffer.set(i.framebuffer),i.depthAttachment.set(t.depthRbo),t.depthRboNeedsClear&&(n.clear({depth:1}),t.depthRboNeedsClear=!1),n.clear({color:e.Color.transparent}),n.setStencilMode(we.disabled),n.setDepthMode(new xe(o.LEQUAL,xe.ReadWrite,[0,1])),n.setColorMode(t.colorModeForRenderPass())}function Zr(e,t,r){var n=t.viewportFrame;if(n){var o=e.context,i=o.gl;o.activeTexture.set(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,n.colorAttachment.get()),e.useProgram("extrusionTexture").draw(o,i.TRIANGLES,xe.disabled,we.disabled,e.colorModeForRenderPass(),Se.disabled,fr(e,r,0),t.id,e.viewportBuffer,e.quadTriangleIndexBuffer,e.viewportSegments,t.paint,e.transform.zoom)}}function Yr(e,t,r,n,o,i){var a=e.context,s=a.gl,l=t.fbo;if(l){var u=e.useProgram("hillshade");a.activeTexture.set(s.TEXTURE0),s.bindTexture(s.TEXTURE_2D,l.colorAttachment.get());var c=Cr(e,t,r);t.maskedBoundsBuffer&&t.maskedIndexBuffer&&t.segments?u.draw(a,s.TRIANGLES,n,o,i,Se.disabled,c,r.id,t.maskedBoundsBuffer,t.maskedIndexBuffer,t.segments):u.draw(a,s.TRIANGLES,n,o,i,Se.disabled,c,r.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments)}}function Kr(t,r,n,o,i,a,s){var l=t.context,u=l.gl;if(r.dem&&r.dem.data){var c=r.dem.dim,p=r.dem.stride,h=r.dem.getPixels();if(l.activeTexture.set(u.TEXTURE1),l.pixelStoreUnpackPremultiplyAlpha.set(!1),r.demTexture=r.demTexture||t.getTileTexture(p),r.demTexture){var f=r.demTexture;f.update(h,{premultiply:!1}),f.bind(u.NEAREST,u.CLAMP_TO_EDGE)}else r.demTexture=new e.Texture(l,h,u.RGBA,{premultiply:!1}),r.demTexture.bind(u.NEAREST,u.CLAMP_TO_EDGE);l.activeTexture.set(u.TEXTURE0);var d=r.fbo;if(!d){var m=new e.Texture(l,{width:c,height:c,data:null},u.RGBA);m.bind(u.LINEAR,u.CLAMP_TO_EDGE),(d=r.fbo=l.createFramebuffer(c,c)).colorAttachment.set(m.texture)}l.bindFramebuffer.set(d.framebuffer),l.viewport.set([0,0,c,c]),t.useProgram("hillshadePrepare").draw(l,u.TRIANGLES,i,a,s,Se.disabled,kr(r,o),n.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments),r.needsHillshadePrepare=!1}}function $r(t,r,n,o,i){var a=o.paint.get("raster-fade-duration");if(a>0){var s=e.browser.now(),l=(s-t.timeAdded)/a,u=r?(s-r.timeAdded)/a:-1,c=n.getSource(),p=i.coveringZoomLevel({tileSize:c.tileSize,roundZoom:c.roundZoom}),h=!r||Math.abs(r.tileID.overscaledZ-p)>Math.abs(t.tileID.overscaledZ-p),f=h&&t.refreshedUponExpiration?1:e.clamp(h?l:1-u,0,1);return t.refreshedUponExpiration&&l>=1&&(t.refreshedUponExpiration=!1),r?{opacity:1,mix:1-f}:{opacity:f,mix:0}}return{opacity:1,mix:0}}function Jr(t,r,n){var o=t.context,i=o.gl,a=n.posMatrix,s=t.useProgram("debug"),l=xe.disabled,u=we.disabled,c=t.colorModeForRenderPass(),p="$debug";s.draw(o,i.LINE_STRIP,l,u,c,Se.disabled,xr(a,e.Color.red),p,t.debugBuffer,t.tileBorderIndexBuffer,t.debugSegments);for(var h=function(e,t,r,n){n=n||1;var o,i,a,s,l,u,c,p,h=[];for(o=0,i=e.length;o<i;o++)if(l=Qr[e[o]]){for(p=null,a=0,s=l[1].length;a<s;a+=2)-1===l[1][a]&&-1===l[1][a+1]?p=null:(u=t+l[1][a]*n,c=r-l[1][a+1]*n,p&&h.push(p.x,p.y,u,c),p={x:u,y:c});t+=l[0]*n}return h}(n.toString(),50,200,5),f=new e.StructArrayLayout2i4,d=new e.StructArrayLayout2ui4,m=0;m<h.length;m+=2)f.emplaceBack(h[m],h[m+1]),d.emplaceBack(m,m+1);for(var y=o.createVertexBuffer(f,Rt.members),v=o.createIndexBuffer(d),g=e.SegmentVector.simpleSegment(0,0,f.length/2,f.length/2),_=r.getTile(n).tileSize,b=e.EXTENT/(Math.pow(2,t.transform.zoom-n.overscaledZ)*_),x=[[-1,-1],[-1,1],[1,-1],[1,1]],w=0;w<x.length;w++){var E=x[w];s.draw(o,i.LINES,l,u,c,Se.disabled,xr(e.translate([],a,[b*E[0],b*E[1],0]),e.Color.white),p,y,v,g)}s.draw(o,i.LINES,l,u,c,Se.disabled,xr(a,e.Color.black),p,y,v,g)}var Qr={" ":[16,[]],"!":[10,[5,21,5,7,-1,-1,5,2,4,1,5,0,6,1,5,2]],'"':[16,[4,21,4,14,-1,-1,12,21,12,14]],"#":[21,[11,25,4,-7,-1,-1,17,25,10,-7,-1,-1,4,12,18,12,-1,-1,3,6,17,6]],$:[20,[8,25,8,-4,-1,-1,12,25,12,-4,-1,-1,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],"%":[24,[21,21,3,0,-1,-1,8,21,10,19,10,17,9,15,7,14,5,14,3,16,3,18,4,20,6,21,8,21,10,20,13,19,16,19,19,20,21,21,-1,-1,17,7,15,6,14,4,14,2,16,0,18,0,20,1,21,3,21,5,19,7,17,7]],"&":[26,[23,12,23,13,22,14,21,14,20,13,19,11,17,6,15,3,13,1,11,0,7,0,5,1,4,2,3,4,3,6,4,8,5,9,12,13,13,14,14,16,14,18,13,20,11,21,9,20,8,18,8,16,9,13,11,10,16,3,18,1,20,0,22,0,23,1,23,2]],"'":[10,[5,19,4,20,5,21,6,20,6,18,5,16,4,15]],"(":[14,[11,25,9,23,7,20,5,16,4,11,4,7,5,2,7,-2,9,-5,11,-7]],")":[14,[3,25,5,23,7,20,9,16,10,11,10,7,9,2,7,-2,5,-5,3,-7]],"*":[16,[8,21,8,9,-1,-1,3,18,13,12,-1,-1,13,18,3,12]],"+":[26,[13,18,13,0,-1,-1,4,9,22,9]],",":[10,[6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"-":[26,[4,9,22,9]],".":[10,[5,2,4,1,5,0,6,1,5,2]],"/":[22,[20,25,2,-7]],0:[20,[9,21,6,20,4,17,3,12,3,9,4,4,6,1,9,0,11,0,14,1,16,4,17,9,17,12,16,17,14,20,11,21,9,21]],1:[20,[6,17,8,18,11,21,11,0]],2:[20,[4,16,4,17,5,19,6,20,8,21,12,21,14,20,15,19,16,17,16,15,15,13,13,10,3,0,17,0]],3:[20,[5,21,16,21,10,13,13,13,15,12,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],4:[20,[13,21,3,7,18,7,-1,-1,13,21,13,0]],5:[20,[15,21,5,21,4,12,5,13,8,14,11,14,14,13,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],6:[20,[16,18,15,20,12,21,10,21,7,20,5,17,4,12,4,7,5,3,7,1,10,0,11,0,14,1,16,3,17,6,17,7,16,10,14,12,11,13,10,13,7,12,5,10,4,7]],7:[20,[17,21,7,0,-1,-1,3,21,17,21]],8:[20,[8,21,5,20,4,18,4,16,5,14,7,13,11,12,14,11,16,9,17,7,17,4,16,2,15,1,12,0,8,0,5,1,4,2,3,4,3,7,4,9,6,11,9,12,13,13,15,14,16,16,16,18,15,20,12,21,8,21]],9:[20,[16,14,15,11,13,9,10,8,9,8,6,9,4,11,3,14,3,15,4,18,6,20,9,21,10,21,13,20,15,18,16,14,16,9,15,4,13,1,10,0,8,0,5,1,4,3]],":":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,5,2,4,1,5,0,6,1,5,2]],";":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"<":[24,[20,18,4,9,20,0]],"=":[26,[4,12,22,12,-1,-1,4,6,22,6]],">":[24,[4,18,20,9,4,0]],"?":[18,[3,16,3,17,4,19,5,20,7,21,11,21,13,20,14,19,15,17,15,15,14,13,13,12,9,10,9,7,-1,-1,9,2,8,1,9,0,10,1,9,2]],"@":[27,[18,13,17,15,15,16,12,16,10,15,9,14,8,11,8,8,9,6,11,5,14,5,16,6,17,8,-1,-1,12,16,10,14,9,11,9,8,10,6,11,5,-1,-1,18,16,17,8,17,6,19,5,21,5,23,7,24,10,24,12,23,15,22,17,20,19,18,20,15,21,12,21,9,20,7,19,5,17,4,15,3,12,3,9,4,6,5,4,7,2,9,1,12,0,15,0,18,1,20,2,21,3,-1,-1,19,16,18,8,18,6,19,5]],A:[18,[9,21,1,0,-1,-1,9,21,17,0,-1,-1,4,7,14,7]],B:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,-1,-1,4,11,13,11,16,10,17,9,18,7,18,4,17,2,16,1,13,0,4,0]],C:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5]],D:[21,[4,21,4,0,-1,-1,4,21,11,21,14,20,16,18,17,16,18,13,18,8,17,5,16,3,14,1,11,0,4,0]],E:[19,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11,-1,-1,4,0,17,0]],F:[18,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11]],G:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,18,8,-1,-1,13,8,18,8]],H:[22,[4,21,4,0,-1,-1,18,21,18,0,-1,-1,4,11,18,11]],I:[8,[4,21,4,0]],J:[16,[12,21,12,5,11,2,10,1,8,0,6,0,4,1,3,2,2,5,2,7]],K:[21,[4,21,4,0,-1,-1,18,21,4,7,-1,-1,9,12,18,0]],L:[17,[4,21,4,0,-1,-1,4,0,16,0]],M:[24,[4,21,4,0,-1,-1,4,21,12,0,-1,-1,20,21,12,0,-1,-1,20,21,20,0]],N:[22,[4,21,4,0,-1,-1,4,21,18,0,-1,-1,18,21,18,0]],O:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21]],P:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,10,4,10]],Q:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,-1,-1,12,4,18,-2]],R:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,4,11,-1,-1,11,11,18,0]],S:[20,[17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],T:[16,[8,21,8,0,-1,-1,1,21,15,21]],U:[22,[4,21,4,6,5,3,7,1,10,0,12,0,15,1,17,3,18,6,18,21]],V:[18,[1,21,9,0,-1,-1,17,21,9,0]],W:[24,[2,21,7,0,-1,-1,12,21,7,0,-1,-1,12,21,17,0,-1,-1,22,21,17,0]],X:[20,[3,21,17,0,-1,-1,17,21,3,0]],Y:[18,[1,21,9,11,9,0,-1,-1,17,21,9,11]],Z:[20,[17,21,3,0,-1,-1,3,21,17,21,-1,-1,3,0,17,0]],"[":[14,[4,25,4,-7,-1,-1,5,25,5,-7,-1,-1,4,25,11,25,-1,-1,4,-7,11,-7]],"\\":[14,[0,21,14,-3]],"]":[14,[9,25,9,-7,-1,-1,10,25,10,-7,-1,-1,3,25,10,25,-1,-1,3,-7,10,-7]],"^":[16,[6,15,8,18,10,15,-1,-1,3,12,8,17,13,12,-1,-1,8,17,8,0]],_:[16,[0,-2,16,-2]],"`":[10,[6,21,5,20,4,18,4,16,5,15,6,16,5,17]],a:[19,[15,14,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],b:[19,[4,21,4,0,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],c:[18,[15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],d:[19,[15,21,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],e:[18,[3,8,15,8,15,10,14,12,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],f:[12,[10,21,8,21,6,20,5,17,5,0,-1,-1,2,14,9,14]],g:[19,[15,14,15,-2,14,-5,13,-6,11,-7,8,-7,6,-6,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],h:[19,[4,21,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],i:[8,[3,21,4,20,5,21,4,22,3,21,-1,-1,4,14,4,0]],j:[10,[5,21,6,20,7,21,6,22,5,21,-1,-1,6,14,6,-3,5,-6,3,-7,1,-7]],k:[17,[4,21,4,0,-1,-1,14,14,4,4,-1,-1,8,8,15,0]],l:[8,[4,21,4,0]],m:[30,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0,-1,-1,15,10,18,13,20,14,23,14,25,13,26,10,26,0]],n:[19,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],o:[19,[8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3,16,6,16,8,15,11,13,13,11,14,8,14]],p:[19,[4,14,4,-7,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],q:[19,[15,14,15,-7,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],r:[13,[4,14,4,0,-1,-1,4,8,5,11,7,13,9,14,12,14]],s:[17,[14,11,13,13,10,14,7,14,4,13,3,11,4,9,6,8,11,7,13,6,14,4,14,3,13,1,10,0,7,0,4,1,3,3]],t:[12,[5,21,5,4,6,1,8,0,10,0,-1,-1,2,14,9,14]],u:[19,[4,14,4,4,5,1,7,0,10,0,12,1,15,4,-1,-1,15,14,15,0]],v:[16,[2,14,8,0,-1,-1,14,14,8,0]],w:[22,[3,14,7,0,-1,-1,11,14,7,0,-1,-1,11,14,15,0,-1,-1,19,14,15,0]],x:[17,[3,14,14,0,-1,-1,14,14,3,0]],y:[16,[2,14,8,0,-1,-1,14,14,8,0,6,-4,4,-6,2,-7,1,-7]],z:[17,[14,14,3,0,-1,-1,3,14,14,14,-1,-1,3,0,14,0]],"{":[14,[9,25,7,24,6,23,5,21,5,19,6,17,7,16,8,14,8,12,6,10,-1,-1,7,24,6,22,6,20,7,18,8,17,9,15,9,13,8,11,4,9,8,7,9,5,9,3,8,1,7,0,6,-2,6,-4,7,-6,-1,-1,6,8,8,6,8,4,7,2,6,1,5,-1,5,-3,6,-5,7,-6,9,-7]],"|":[8,[4,25,4,-7]],"}":[14,[5,25,7,24,8,23,9,21,9,19,8,17,7,16,6,14,6,12,8,10,-1,-1,7,24,8,22,8,20,7,18,6,17,5,15,5,13,6,11,10,9,6,7,5,5,5,3,6,1,7,0,8,-2,8,-4,7,-6,-1,-1,8,8,6,6,6,4,7,2,8,1,9,-1,9,-3,8,-5,7,-6,5,-7]],"~":[24,[3,6,3,8,4,11,6,12,8,12,10,11,14,8,16,7,18,7,20,8,21,10,-1,-1,3,8,4,10,6,11,8,11,10,10,14,7,16,6,18,6,20,7,21,10,21,12]]};var en={symbol:function(e,t,r,n){if("translucent"===e.renderPass){var o=we.disabled,i=e.colorModeForRenderPass();0!==r.paint.get("icon-opacity").constantOr(1)&&qr(e,t,r,n,!1,r.paint.get("icon-translate"),r.paint.get("icon-translate-anchor"),r.layout.get("icon-rotation-alignment"),r.layout.get("icon-pitch-alignment"),r.layout.get("icon-keep-upright"),o,i),0!==r.paint.get("text-opacity").constantOr(1)&&qr(e,t,r,n,!0,r.paint.get("text-translate"),r.paint.get("text-translate-anchor"),r.layout.get("text-rotation-alignment"),r.layout.get("text-pitch-alignment"),r.layout.get("text-keep-upright"),o,i),t.map.showCollisionBoxes&&function(e,t,r,n){Ur(e,t,r,n,!1),Ur(e,t,r,n,!0)}(e,t,r,n)}},circle:function(e,t,r,n){if("translucent"===e.renderPass){var o=r.paint.get("circle-opacity"),i=r.paint.get("circle-stroke-width"),a=r.paint.get("circle-stroke-opacity");if(0!==o.constantOr(1)||0!==i.constantOr(1)&&0!==a.constantOr(1))for(var s=e.context,l=s.gl,u=e.depthModeForSublayer(0,xe.ReadOnly),c=we.disabled,p=e.colorModeForRenderPass(),h=0;h<n.length;h++){var f=n[h],d=t.getTile(f),m=d.getBucket(r);if(m){var y=m.programConfigurations.get(r.id);e.useProgram("circle",y).draw(s,l.TRIANGLES,u,c,p,Se.disabled,gr(e,f,d,r),r.id,m.layoutVertexBuffer,m.indexBuffer,m.segments,r.paint,e.transform.zoom,y)}}}},heatmap:function(t,r,n,o){if(0!==n.paint.get("heatmap-opacity"))if("offscreen"===t.renderPass){var i=t.context,a=i.gl,s=t.depthModeForSublayer(0,xe.ReadOnly),l=we.disabled,u=new Ee([a.ONE,a.ONE],e.Color.transparent,[!0,!0,!0,!0]);!function(e,t,r){var n=e.gl;e.activeTexture.set(n.TEXTURE1),e.viewport.set([0,0,t.width/4,t.height/4]);var o=r.heatmapFbo;if(o)n.bindTexture(n.TEXTURE_2D,o.colorAttachment.get()),e.bindFramebuffer.set(o.framebuffer);else{var i=n.createTexture();n.bindTexture(n.TEXTURE_2D,i),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),o=r.heatmapFbo=e.createFramebuffer(t.width/4,t.height/4),function e(t,r,n,o){var i=t.gl;i.texImage2D(i.TEXTURE_2D,0,i.RGBA,r.width/4,r.height/4,0,i.RGBA,t.extTextureHalfFloat?t.extTextureHalfFloat.HALF_FLOAT_OES:i.UNSIGNED_BYTE,null),o.colorAttachment.set(n),t.extTextureHalfFloat&&i.checkFramebufferStatus(i.FRAMEBUFFER)!==i.FRAMEBUFFER_COMPLETE&&(t.extTextureHalfFloat=null,o.colorAttachment.setDirty(),e(t,r,n,o))}(e,t,i,o)}}(i,t,n),i.clear({color:e.Color.transparent});for(var c=0;c<o.length;c++){var p=o[c];if(!r.hasRenderableParent(p)){var h=r.getTile(p),f=h.getBucket(n);if(f){var d=f.programConfigurations.get(n.id),m=t.useProgram("heatmap",d),y=t.transform.zoom;m.draw(i,a.TRIANGLES,s,l,u,Se.disabled,Er(p.posMatrix,h,y,n.paint.get("heatmap-intensity")),n.id,f.layoutVertexBuffer,f.indexBuffer,f.segments,n.paint,t.transform.zoom,d)}}}i.viewport.set([0,0,t.width,t.height])}else"translucent"===t.renderPass&&(t.context.setColorMode(t.colorModeForRenderPass()),function(t,r){var n=t.context,o=n.gl,i=r.heatmapFbo;if(i){n.activeTexture.set(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,i.colorAttachment.get()),n.activeTexture.set(o.TEXTURE1);var a=r.colorRampTexture;a||(a=r.colorRampTexture=new e.Texture(n,r.colorRamp,o.RGBA)),a.bind(o.LINEAR,o.CLAMP_TO_EDGE),t.useProgram("heatmapTexture").draw(n,o.TRIANGLES,xe.disabled,we.disabled,t.colorModeForRenderPass(),Se.disabled,Sr(t,r,0,1),r.id,t.viewportBuffer,t.quadTriangleIndexBuffer,t.viewportSegments,r.paint,t.transform.zoom)}}(t,n))},line:function(t,r,n,o){if("translucent"===t.renderPass){var i=n.paint.get("line-opacity"),a=n.paint.get("line-width");if(0!==i.constantOr(1)&&0!==a.constantOr(1)){var s=t.depthModeForSublayer(0,xe.ReadOnly),l=t.colorModeForRenderPass(),u=n.paint.get("line-dasharray"),c=n.paint.get("line-pattern"),p=c.constantOr(1),h=n.paint.get("line-gradient"),f=n.getCrossfadeParameters(),d=u?"lineSDF":p?"linePattern":h?"lineGradient":"line",m=t.context,y=m.gl,v=!0;if(h){m.activeTexture.set(y.TEXTURE0);var g=n.gradientTexture;if(!n.gradient)return;g||(g=n.gradientTexture=new e.Texture(m,n.gradient,y.RGBA)),g.bind(y.LINEAR,y.CLAMP_TO_EDGE)}for(var _=0,b=o;_<b.length;_+=1){var x=b[_],w=r.getTile(x);if(!p||w.patternsLoaded()){var E=w.getBucket(n);if(E){var S=E.programConfigurations.get(n.id),C=t.context.program.get(),k=t.useProgram(d,S),T=v||k.program!==C,O=c.constantOr(null);if(O&&w.imageAtlas){var P=w.imageAtlas.patternPositions[O.to],A=w.imageAtlas.patternPositions[O.from];P&&A&&S.setConstantPatternPositions(P,A)}var I=u?Ar(t,w,n,u,f):p?Pr(t,w,n,f):h?Or(t,w,n):Tr(t,w,n);u&&(T||t.lineAtlas.dirty)?(m.activeTexture.set(y.TEXTURE0),t.lineAtlas.bind(m)):p&&(m.activeTexture.set(y.TEXTURE0),w.imageAtlasTexture.bind(y.LINEAR,y.CLAMP_TO_EDGE),S.updatePatternPaintBuffers(f)),k.draw(m,y.TRIANGLES,s,t.stencilModeForClipping(x),l,Se.disabled,I,n.id,E.layoutVertexBuffer,E.indexBuffer,E.segments,n.paint,t.transform.zoom,S),v=!1}}}}}},fill:function(t,r,n,o){var i=n.paint.get("fill-color"),a=n.paint.get("fill-opacity");if(0!==a.constantOr(1)){var s=t.colorModeForRenderPass(),l=n.paint.get("fill-pattern").constantOr(1)||1!==i.constantOr(e.Color.transparent).a||1!==a.constantOr(0)?"translucent":"opaque";t.renderPass===l&&Wr(t,r,n,o,t.depthModeForSublayer(1,"opaque"===t.renderPass?xe.ReadWrite:xe.ReadOnly),s,!1),"translucent"===t.renderPass&&n.paint.get("fill-antialias")&&Wr(t,r,n,o,t.depthModeForSublayer(n.getPaintProperty("fill-outline-color")?2:0,xe.ReadOnly),s,!0)}},"fill-extrusion":function(e,t,r,n){0!==r.paint.get("fill-extrusion-opacity")&&("offscreen"===e.renderPass?(Xr(e,r),function(e,t,r,n,o,i,a){for(var s=e.context,l=s.gl,u=r.paint.get("fill-extrusion-pattern"),c=u.constantOr(1),p=r.getCrossfadeParameters(),h=0,f=n;h<f.length;h+=1){var d=f[h],m=t.getTile(d),y=m.getBucket(r);if(y){var v=y.programConfigurations.get(r.id),g=e.useProgram(c?"fillExtrusionPattern":"fillExtrusion",v);c&&(e.context.activeTexture.set(l.TEXTURE0),m.imageAtlasTexture.bind(l.LINEAR,l.CLAMP_TO_EDGE),v.updatePatternPaintBuffers(p));var _=u.constantOr(null);if(_&&m.imageAtlas){var b=m.imageAtlas.patternPositions[_.to],x=m.imageAtlas.patternPositions[_.from];b&&x&&v.setConstantPatternPositions(b,x)}var w=e.translatePosMatrix(d.posMatrix,m,r.paint.get("fill-extrusion-translate"),r.paint.get("fill-extrusion-translate-anchor")),E=r.paint.get("fill-extrusion-vertical-gradient"),S=c?hr(w,e,E,d,p,m):pr(w,e,E);g.draw(s,s.gl.TRIANGLES,o,i,a,Se.backCCW,S,r.id,y.layoutVertexBuffer,y.indexBuffer,y.segments,r.paint,e.transform.zoom,v)}}}(e,t,r,n,new xe(e.context.gl.LEQUAL,xe.ReadWrite,[0,1]),we.disabled,e.colorModeForRenderPass())):"translucent"===e.renderPass&&Zr(e,r,r.paint.get("fill-extrusion-opacity")))},hillshade:function(e,t,r,n){if("offscreen"===e.renderPass||"translucent"===e.renderPass){for(var o=e.context,i=t.getSource().maxzoom,a=e.depthModeForSublayer(0,xe.ReadOnly),s=we.disabled,l=e.colorModeForRenderPass(),u=0,c=n;u<c.length;u+=1){var p=c[u],h=t.getTile(p);h.needsHillshadePrepare&&"offscreen"===e.renderPass?Kr(e,h,r,i,a,s,l):"translucent"===e.renderPass&&Yr(e,h,r,a,s,l)}o.viewport.set([0,0,e.width,e.height])}},raster:function(e,t,r,n){if("translucent"===e.renderPass&&0!==r.paint.get("raster-opacity"))for(var o=e.context,i=o.gl,a=t.getSource(),s=e.useProgram("raster"),l=we.disabled,u=e.colorModeForRenderPass(),c=n.length&&n[0].overscaledZ,p=!e.options.moving,h=0,f=n;h<f.length;h+=1){var d=f[h],m=e.depthModeForSublayer(d.overscaledZ-c,1===r.paint.get("raster-opacity")?xe.ReadWrite:xe.ReadOnly,i.LESS),y=t.getTile(d),v=e.transform.calculatePosMatrix(d.toUnwrapped(),p);y.registerFadeDuration(r.paint.get("raster-fade-duration"));var g=t.findLoadedParent(d,0),_=$r(y,g,t,r,e.transform),b=void 0,x=void 0,w="nearest"===r.paint.get("raster-resampling")?i.NEAREST:i.LINEAR;o.activeTexture.set(i.TEXTURE0),y.texture.bind(w,i.CLAMP_TO_EDGE,i.LINEAR_MIPMAP_NEAREST),o.activeTexture.set(i.TEXTURE1),g?(g.texture.bind(w,i.CLAMP_TO_EDGE,i.LINEAR_MIPMAP_NEAREST),b=Math.pow(2,g.tileID.overscaledZ-y.tileID.overscaledZ),x=[y.tileID.canonical.x*b%1,y.tileID.canonical.y*b%1]):y.texture.bind(w,i.CLAMP_TO_EDGE,i.LINEAR_MIPMAP_NEAREST);var E=Rr(v,x||[0,0],b||1,_,r);a instanceof P?s.draw(o,i.TRIANGLES,m,l,u,Se.disabled,E,r.id,a.boundsBuffer,e.quadTriangleIndexBuffer,a.boundsSegments):y.maskedBoundsBuffer&&y.maskedIndexBuffer&&y.segments?s.draw(o,i.TRIANGLES,m,l,u,Se.disabled,E,r.id,y.maskedBoundsBuffer,y.maskedIndexBuffer,y.segments,r.paint,e.transform.zoom):s.draw(o,i.TRIANGLES,m,l,u,Se.disabled,E,r.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments)}},background:function(e,t,r){var n=r.paint.get("background-color"),o=r.paint.get("background-opacity");if(0!==o){var i=e.context,a=i.gl,s=e.transform,l=s.tileSize,u=r.paint.get("background-pattern");if(!e.isPatternMissing(u)){var c=u||1!==n.a||1!==o?"translucent":"opaque";if(e.renderPass===c){var p=we.disabled,h=e.depthModeForSublayer(0,"opaque"===c?xe.ReadWrite:xe.ReadOnly),f=e.colorModeForRenderPass(),d=e.useProgram(u?"backgroundPattern":"background"),m=s.coveringTiles({tileSize:l});u&&(i.activeTexture.set(a.TEXTURE0),e.imageManager.bind(e.context));for(var y=r.getCrossfadeParameters(),v=0,g=m;v<g.length;v+=1){var _=g[v],b=e.transform.calculatePosMatrix(_.toUnwrapped()),x=u?zr(b,o,e,u,{tileID:_,tileSize:l},y):jr(b,o,n);d.draw(i,a.TRIANGLES,h,p,f,Se.disabled,x,r.id,e.tileExtentBuffer,e.quadTriangleIndexBuffer,e.tileExtentSegments)}}}}},debug:function(e,t,r){for(var n=0;n<r.length;n++)Jr(e,t,r[n])},custom:function(e,t,r){var n=e.context,o=r.implementation;if("offscreen"===e.renderPass){var i=o.prerender;i&&(e.setCustomLayerDefaults(),i.call(o,n.gl,e.transform.customLayerMatrix()),n.setDirty(),e.setBaseState()),"3d"===o.renderingMode&&(e.setCustomLayerDefaults(),Xr(e,r),o.render(n.gl,e.transform.customLayerMatrix()),n.setDirty(),e.setBaseState())}else if("translucent"===e.renderPass)if("3d"===o.renderingMode)Zr(e,r,1);else{e.setCustomLayerDefaults(),n.setColorMode(e.colorModeForRenderPass()),n.setStencilMode(we.disabled);var a=e.depthModeForSublayer(0,xe.ReadOnly);n.setDepthMode(a),o.render(n.gl,e.transform.customLayerMatrix()),n.setDirty(),e.setBaseState(),n.bindFramebuffer.set(null)}}},tn=function(t,r){this.context=new Ce(t),this.transform=r,this._tileTextures={},this.setup(),this.numSublayers=ke.maxUnderzooming+ke.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.depthRboNeedsClear=!0,this.emptyProgramConfiguration=new e.ProgramConfiguration,this.crossTileSymbolIndex=new Ot};function rn(e,t){if(e.y>t.y){var r=e;e=t,t=r}return{x0:e.x,y0:e.y,x1:t.x,y1:t.y,dx:t.x-e.x,dy:t.y-e.y}}function nn(e,t,r,n,o){var i=Math.max(r,Math.floor(t.y0)),a=Math.min(n,Math.ceil(t.y1));if(e.x0===t.x0&&e.y0===t.y0?e.x0+t.dy/e.dy*e.dx<t.x1:e.x1-t.dy/e.dy*e.dx<t.x0){var s=e;e=t,t=s}for(var l=e.dx/e.dy,u=t.dx/t.dy,c=e.dx>0,p=t.dx<0,h=i;h<a;h++){var f=l*Math.max(0,Math.min(e.dy,h+c-e.y0))+e.x0,d=u*Math.max(0,Math.min(t.dy,h+p-t.y0))+t.x0;o(Math.floor(d),Math.ceil(f),h)}}function on(e,t,r,n,o,i){var a,s=rn(e,t),l=rn(t,r),u=rn(r,e);s.dy>l.dy&&(a=s,s=l,l=a),s.dy>u.dy&&(a=s,s=u,u=a),l.dy>u.dy&&(a=l,l=u,u=a),s.dy&&nn(u,s,n,o,i),l.dy&&nn(u,l,n,o,i)}tn.prototype.resize=function(t,r){var n=this.context.gl;if(this.width=t*e.browser.devicePixelRatio,this.height=r*e.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var o=0,i=this.style._order;o<i.length;o+=1){var a=i[o];this.style._layers[a].resize()}this.depthRbo&&(n.deleteRenderbuffer(this.depthRbo),this.depthRbo=null)},tn.prototype.setup=function(){var t=this.context,r=new e.StructArrayLayout2i4;r.emplaceBack(0,0),r.emplaceBack(e.EXTENT,0),r.emplaceBack(0,e.EXTENT),r.emplaceBack(e.EXTENT,e.EXTENT),this.tileExtentBuffer=t.createVertexBuffer(r,Rt.members),this.tileExtentSegments=e.SegmentVector.simpleSegment(0,0,4,2);var n=new e.StructArrayLayout2i4;n.emplaceBack(0,0),n.emplaceBack(e.EXTENT,0),n.emplaceBack(0,e.EXTENT),n.emplaceBack(e.EXTENT,e.EXTENT),this.debugBuffer=t.createVertexBuffer(n,Rt.members),this.debugSegments=e.SegmentVector.simpleSegment(0,0,4,5);var o=new e.StructArrayLayout4i8;o.emplaceBack(0,0,0,0),o.emplaceBack(e.EXTENT,0,e.EXTENT,0),o.emplaceBack(0,e.EXTENT,0,e.EXTENT),o.emplaceBack(e.EXTENT,e.EXTENT,e.EXTENT,e.EXTENT),this.rasterBoundsBuffer=t.createVertexBuffer(o,e.rasterBoundsAttributes.members),this.rasterBoundsSegments=e.SegmentVector.simpleSegment(0,0,4,2);var i=new e.StructArrayLayout2i4;i.emplaceBack(0,0),i.emplaceBack(1,0),i.emplaceBack(0,1),i.emplaceBack(1,1),this.viewportBuffer=t.createVertexBuffer(i,Rt.members),this.viewportSegments=e.SegmentVector.simpleSegment(0,0,4,2);var a=new e.StructArrayLayout1ui2;a.emplaceBack(0),a.emplaceBack(1),a.emplaceBack(3),a.emplaceBack(2),a.emplaceBack(0),this.tileBorderIndexBuffer=t.createIndexBuffer(a);var s=new e.StructArrayLayout3ui6;s.emplaceBack(0,1,2),s.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=t.createIndexBuffer(s);var l=this.context.gl;this.stencilClearMode=new we({func:l.ALWAYS,mask:0},0,255,l.ZERO,l.ZERO,l.ZERO)},tn.prototype.clearStencil=function(){var t=this.context,r=t.gl,n=e.create$1();e.ortho(n,0,this.width,this.height,0,0,1),e.scale(n,n,[r.drawingBufferWidth,r.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(t,r.TRIANGLES,xe.disabled,this.stencilClearMode,Ee.disabled,Se.disabled,wr(n),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},tn.prototype._renderTileClippingMasks=function(e){var t=this.context,r=t.gl;t.setColorMode(Ee.disabled),t.setDepthMode(xe.disabled);var n=this.useProgram("clippingMask"),o=1;this._tileClippingMaskIDs={};for(var i=0,a=e;i<a.length;i+=1){var s=a[i],l=this._tileClippingMaskIDs[s.key]=o++;n.draw(t,r.TRIANGLES,xe.disabled,new we({func:r.ALWAYS,mask:0},l,255,r.KEEP,r.KEEP,r.REPLACE),Ee.disabled,Se.disabled,wr(s.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}},tn.prototype.stencilModeForClipping=function(e){var t=this.context.gl;return new we({func:t.EQUAL,mask:255},this._tileClippingMaskIDs[e.key],0,t.KEEP,t.KEEP,t.REPLACE)},tn.prototype.colorModeForRenderPass=function(){var t=this.context.gl;if(this._showOverdrawInspector){return new Ee([t.CONSTANT_COLOR,t.ONE],new e.Color(1/8,1/8,1/8,0),[!0,!0,!0,!0])}return"opaque"===this.renderPass?Ee.unblended:Ee.alphaBlended},tn.prototype.depthModeForSublayer=function(e,t,r){var n=1-((1+this.currentLayer)*this.numSublayers+e)*this.depthEpsilon;return new xe(r||this.context.gl.LEQUAL,t,[n,n])},tn.prototype.render=function(t,r){this.style=t,this.options=r,this.lineAtlas=t.lineAtlas,this.imageManager=t.imageManager,this.glyphManager=t.glyphManager,this.symbolFadeChange=t.placement.symbolFadeChange(e.browser.now());var n=this.style._order,o=this.style.sourceCaches;for(var i in o){var a=o[i];a.used&&a.prepare(this.context)}var s,l={},u={},c={};for(var p in o){var h=o[p];l[p]=h.getVisibleCoordinates(),u[p]=l[p].slice().reverse(),c[p]=h.getVisibleCoordinates(!0).reverse()}for(var f in o){var d=o[f],m=d.getSource();if("raster"===m.type||"raster-dem"===m.type){for(var y=[],v=0,g=l[f];v<g.length;v+=1){var _=g[v];y.push(d.getTile(_))}Nr(y,this.context)}}this.renderPass="offscreen",this.depthRboNeedsClear=!0;for(var b=0,x=n;b<x.length;b+=1){var w=x[b],E=this.style._layers[w];if(E.hasOffscreenPass()&&!E.isHidden(this.transform.zoom)){var S=u[E.source];("custom"===E.type||S.length)&&this.renderLayer(this,o[E.source],E,S)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:r.showOverdrawInspector?e.Color.black:e.Color.transparent,depth:1}),this._showOverdrawInspector=r.showOverdrawInspector,this.depthRange=(t._order.length+2)*this.numSublayers*this.depthEpsilon,this.renderPass="opaque",this.currentLayer=n.length-1;this.currentLayer>=0;this.currentLayer--){var C=this.style._layers[n[this.currentLayer]],k=o[C.source],T=l[C.source];C.source!==s&&k&&(this.clearStencil(),k.getSource().isTileClipped&&this._renderTileClippingMasks(T)),this.renderLayer(this,k,C,T),s=C.source}for(this.renderPass="translucent",this.currentLayer=0,s=null;this.currentLayer<n.length;this.currentLayer++){var O=this.style._layers[n[this.currentLayer]],P=o[O.source],A=("symbol"===O.type?c:u)[O.source];O.source!==s&&P&&(this.clearStencil(),P.getSource().isTileClipped&&this._renderTileClippingMasks(l[O.source])),this.renderLayer(this,P,O,A),s=O.source}if(this.options.showTileBoundaries)for(var I in o){en.debug(this,o[I],l[I]);break}this.setCustomLayerDefaults()},tn.prototype.setupOffscreenDepthRenderbuffer=function(){var e=this.context;this.depthRbo||(this.depthRbo=e.createRenderbuffer(e.gl.DEPTH_COMPONENT16,this.width,this.height))},tn.prototype.renderLayer=function(e,t,r,n){r.isHidden(this.transform.zoom)||("background"===r.type||"custom"===r.type||n.length)&&(this.id=r.id,en[r.type](e,t,r,n))},tn.prototype.translatePosMatrix=function(t,r,n,o,i){if(!n[0]&&!n[1])return t;var a=i?"map"===o?this.transform.angle:0:"viewport"===o?-this.transform.angle:0;if(a){var s=Math.sin(a),l=Math.cos(a);n=[n[0]*l-n[1]*s,n[0]*s+n[1]*l]}var u=[i?n[0]:st(r,n[0],this.transform.zoom),i?n[1]:st(r,n[1],this.transform.zoom),0],c=new Float32Array(16);return e.translate(c,t,u),c},tn.prototype.saveTileTexture=function(e){var t=this._tileTextures[e.size[0]];t?t.push(e):this._tileTextures[e.size[0]]=[e]},tn.prototype.getTileTexture=function(e){var t=this._tileTextures[e];return t&&t.length>0?t.pop():null},tn.prototype.isPatternMissing=function(e){if(!e)return!1;var t=this.imageManager.getPattern(e.from),r=this.imageManager.getPattern(e.to);return!t||!r},tn.prototype.useProgram=function(e,t){void 0===t&&(t=this.emptyProgramConfiguration),this.cache=this.cache||{};var r=""+e+(t.cacheKey||"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[r]||(this.cache[r]=new ur(this.context,sr[e],t,Fr[e],this._showOverdrawInspector)),this.cache[r]},tn.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},tn.prototype.setBaseState=function(){var e=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(e.FUNC_ADD)};var an=function(t,r,n){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===n||n,this._minZoom=t||0,this._maxZoom=r||22,this.setMaxBounds(),this.width=0,this.height=0,this._center=new e.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._posMatrixCache={},this._alignedPosMatrixCache={}},sn={minZoom:{configurable:!0},maxZoom:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerPoint:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};an.prototype.clone=function(){var e=new an(this._minZoom,this._maxZoom,this._renderWorldCopies);return e.tileSize=this.tileSize,e.latRange=this.latRange,e.width=this.width,e.height=this.height,e._center=this._center,e.zoom=this.zoom,e.angle=this.angle,e._fov=this._fov,e._pitch=this._pitch,e._unmodified=this._unmodified,e._calcMatrices(),e},sn.minZoom.get=function(){return this._minZoom},sn.minZoom.set=function(e){this._minZoom!==e&&(this._minZoom=e,this.zoom=Math.max(this.zoom,e))},sn.maxZoom.get=function(){return this._maxZoom},sn.maxZoom.set=function(e){this._maxZoom!==e&&(this._maxZoom=e,this.zoom=Math.min(this.zoom,e))},sn.renderWorldCopies.get=function(){return this._renderWorldCopies},sn.renderWorldCopies.set=function(e){void 0===e?e=!0:null===e&&(e=!1),this._renderWorldCopies=e},sn.worldSize.get=function(){return this.tileSize*this.scale},sn.centerPoint.get=function(){return this.size._div(2)},sn.size.get=function(){return new e.Point(this.width,this.height)},sn.bearing.get=function(){return-this.angle/Math.PI*180},sn.bearing.set=function(t){var r=-e.wrap(t,-180,180)*Math.PI/180;this.angle!==r&&(this._unmodified=!1,this.angle=r,this._calcMatrices(),this.rotationMatrix=e.create$2(),e.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},sn.pitch.get=function(){return this._pitch/Math.PI*180},sn.pitch.set=function(t){var r=e.clamp(t,0,60)/180*Math.PI;this._pitch!==r&&(this._unmodified=!1,this._pitch=r,this._calcMatrices())},sn.fov.get=function(){return this._fov/Math.PI*180},sn.fov.set=function(e){e=Math.max(.01,Math.min(60,e)),this._fov!==e&&(this._unmodified=!1,this._fov=e/180*Math.PI,this._calcMatrices())},sn.zoom.get=function(){return this._zoom},sn.zoom.set=function(e){var t=Math.min(Math.max(e,this.minZoom),this.maxZoom);this._zoom!==t&&(this._unmodified=!1,this._zoom=t,this.scale=this.zoomScale(t),this.tileZoom=Math.floor(t),this.zoomFraction=t-this.tileZoom,this._constrain(),this._calcMatrices())},sn.center.get=function(){return this._center},sn.center.set=function(e){e.lat===this._center.lat&&e.lng===this._center.lng||(this._unmodified=!1,this._center=e,this._constrain(),this._calcMatrices())},an.prototype.coveringZoomLevel=function(e){return(e.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/e.tileSize))},an.prototype.getVisibleUnwrappedCoordinates=function(t){var r=[new e.UnwrappedTileID(0,t)];if(this._renderWorldCopies)for(var n=this.pointCoordinate(new e.Point(0,0)),o=this.pointCoordinate(new e.Point(this.width,0)),i=this.pointCoordinate(new e.Point(this.width,this.height)),a=this.pointCoordinate(new e.Point(0,this.height)),s=Math.floor(Math.min(n.x,o.x,i.x,a.x)),l=Math.floor(Math.max(n.x,o.x,i.x,a.x)),u=s-1;u<=l+1;u++)0!==u&&r.push(new e.UnwrappedTileID(u,t));return r},an.prototype.coveringTiles=function(t){var r=this.coveringZoomLevel(t),n=r;if(void 0!==t.minzoom&&r<t.minzoom)return[];void 0!==t.maxzoom&&r>t.maxzoom&&(r=t.maxzoom);var o=e.MercatorCoordinate.fromLngLat(this.center),i=Math.pow(2,r),a=new e.Point(i*o.x-.5,i*o.y-.5);return function(t,r,n,o){void 0===o&&(o=!0);var i=1<<t,a={};function s(r,s,l){var u,c,p,h;if(l>=0&&l<=i)for(u=r;u<s;u++)c=Math.floor(u/i),p=(u%i+i)%i,0!==c&&!0!==o||(h=new e.OverscaledTileID(n,c,t,p,l),a[h.key]=h)}var l=r.map(function(t){return new e.Point(t.x,t.y)._mult(i)});return on(l[0],l[1],l[2],0,i,s),on(l[2],l[3],l[0],0,i,s),Object.keys(a).map(function(e){return a[e]})}(r,[this.pointCoordinate(new e.Point(0,0)),this.pointCoordinate(new e.Point(this.width,0)),this.pointCoordinate(new e.Point(this.width,this.height)),this.pointCoordinate(new e.Point(0,this.height))],t.reparseOverscaled?n:r,this._renderWorldCopies).sort(function(e,t){return a.dist(e.canonical)-a.dist(t.canonical)})},an.prototype.resize=function(e,t){this.width=e,this.height=t,this.pixelsToGLUnits=[2/e,-2/t],this._constrain(),this._calcMatrices()},sn.unmodified.get=function(){return this._unmodified},an.prototype.zoomScale=function(e){return Math.pow(2,e)},an.prototype.scaleZoom=function(e){return Math.log(e)/Math.LN2},an.prototype.project=function(t){var r=e.clamp(t.lat,-this.maxValidLatitude,this.maxValidLatitude);return new e.Point(e.mercatorXfromLng(t.lng)*this.worldSize,e.mercatorYfromLat(r)*this.worldSize)},an.prototype.unproject=function(t){return new e.MercatorCoordinate(t.x/this.worldSize,t.y/this.worldSize).toLngLat()},sn.point.get=function(){return this.project(this.center)},an.prototype.setLocationAtPoint=function(t,r){var n=this.pointCoordinate(r),o=this.pointCoordinate(this.centerPoint),i=this.locationCoordinate(t),a=new e.MercatorCoordinate(i.x-(n.x-o.x),i.y-(n.y-o.y));this.center=this.coordinateLocation(a),this._renderWorldCopies&&(this.center=this.center.wrap())},an.prototype.locationPoint=function(e){return this.coordinatePoint(this.locationCoordinate(e))},an.prototype.pointLocation=function(e){return this.coordinateLocation(this.pointCoordinate(e))},an.prototype.locationCoordinate=function(t){return e.MercatorCoordinate.fromLngLat(t)},an.prototype.coordinateLocation=function(e){return e.toLngLat()},an.prototype.pointCoordinate=function(t){var r=[t.x,t.y,0,1],n=[t.x,t.y,1,1];e.transformMat4(r,r,this.pixelMatrixInverse),e.transformMat4(n,n,this.pixelMatrixInverse);var o=r[3],i=n[3],a=r[0]/o,s=n[0]/i,l=r[1]/o,u=n[1]/i,c=r[2]/o,p=n[2]/i,h=c===p?0:(0-c)/(p-c);return new e.MercatorCoordinate(e.number(a,s,h)/this.worldSize,e.number(l,u,h)/this.worldSize)},an.prototype.coordinatePoint=function(t){var r=[t.x*this.worldSize,t.y*this.worldSize,0,1];return e.transformMat4(r,r,this.pixelMatrix),new e.Point(r[0]/r[3],r[1]/r[3])},an.prototype.getBounds=function(){return(new e.LngLatBounds).extend(this.pointLocation(new e.Point(0,0))).extend(this.pointLocation(new e.Point(this.width,0))).extend(this.pointLocation(new e.Point(this.width,this.height))).extend(this.pointLocation(new e.Point(0,this.height)))},an.prototype.getMaxBounds=function(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new e.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},an.prototype.setMaxBounds=function(e){e?(this.lngRange=[e.getWest(),e.getEast()],this.latRange=[e.getSouth(),e.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},an.prototype.calculatePosMatrix=function(t,r){void 0===r&&(r=!1);var n=t.key,o=r?this._alignedPosMatrixCache:this._posMatrixCache;if(o[n])return o[n];var i=t.canonical,a=this.worldSize/this.zoomScale(i.z),s=i.x+Math.pow(2,i.z)*t.wrap,l=e.identity(new Float64Array(16));return e.translate(l,l,[s*a,i.y*a,0]),e.scale(l,l,[a/e.EXTENT,a/e.EXTENT,1]),e.multiply(l,r?this.alignedProjMatrix:this.projMatrix,l),o[n]=new Float32Array(l),o[n]},an.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},an.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var t,r,n,o,i=-90,a=90,s=-180,l=180,u=this.size,c=this._unmodified;if(this.latRange){var p=this.latRange;i=e.mercatorYfromLat(p[1])*this.worldSize,t=(a=e.mercatorYfromLat(p[0])*this.worldSize)-i<u.y?u.y/(a-i):0}if(this.lngRange){var h=this.lngRange;s=e.mercatorXfromLng(h[0])*this.worldSize,r=(l=e.mercatorXfromLng(h[1])*this.worldSize)-s<u.x?u.x/(l-s):0}var f=this.point,d=Math.max(r||0,t||0);if(d)return this.center=this.unproject(new e.Point(r?(l+s)/2:f.x,t?(a+i)/2:f.y)),this.zoom+=this.scaleZoom(d),this._unmodified=c,void(this._constraining=!1);if(this.latRange){var m=f.y,y=u.y/2;m-y<i&&(o=i+y),m+y>a&&(o=a-y)}if(this.lngRange){var v=f.x,g=u.x/2;v-g<s&&(n=s+g),v+g>l&&(n=l-g)}void 0===n&&void 0===o||(this.center=this.unproject(new e.Point(void 0!==n?n:f.x,void 0!==o?o:f.y))),this._unmodified=c,this._constraining=!1}},an.prototype._calcMatrices=function(){if(this.height){this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var t=this._fov/2,r=Math.PI/2+this._pitch,n=Math.sin(t)*this.cameraToCenterDistance/Math.sin(Math.PI-r-t),o=this.point,i=o.x,a=o.y,s=1.01*(Math.cos(Math.PI/2-this._pitch)*n+this.cameraToCenterDistance),l=new Float64Array(16);e.perspective(l,this._fov,this.width/this.height,1,s),e.scale(l,l,[1,-1,1]),e.translate(l,l,[0,0,-this.cameraToCenterDistance]),e.rotateX(l,l,this._pitch),e.rotateZ(l,l,this.angle),e.translate(l,l,[-i,-a,0]),this.mercatorMatrix=e.scale([],l,[this.worldSize,this.worldSize,this.worldSize]),e.scale(l,l,[1,1,e.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=l;var u=this.width%2/2,c=this.height%2/2,p=Math.cos(this.angle),h=Math.sin(this.angle),f=i-Math.round(i)+p*u+h*c,d=a-Math.round(a)+p*c+h*u,m=new Float64Array(l);if(e.translate(m,m,[f>.5?f-1:f,d>.5?d-1:d,0]),this.alignedProjMatrix=m,l=e.create$1(),e.scale(l,l,[this.width/2,-this.height/2,1]),e.translate(l,l,[1,-1,0]),this.pixelMatrix=e.multiply(new Float64Array(16),l,this.projMatrix),!(l=e.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=l,this._posMatrixCache={},this._alignedPosMatrixCache={}}},an.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var t=this.pointCoordinate(new e.Point(0,0)),r=[t.x*this.worldSize,t.y*this.worldSize,0,1];return e.transformMat4(r,r,this.pixelMatrix)[3]/this.cameraToCenterDistance},an.prototype.getCameraPoint=function(){var t=this._pitch,r=Math.tan(t)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new e.Point(0,r))},an.prototype.getCameraQueryGeometry=function(t){var r=this.getCameraPoint();if(1===t.length)return[t[0],r];for(var n=r.x,o=r.y,i=r.x,a=r.y,s=0,l=t;s<l.length;s+=1){var u=l[s];n=Math.min(n,u.x),o=Math.min(o,u.y),i=Math.max(i,u.x),a=Math.max(a,u.y)}return[new e.Point(n,o),new e.Point(i,o),new e.Point(i,a),new e.Point(n,a),new e.Point(n,o)]},Object.defineProperties(an.prototype,sn);var ln=function(){var t,r,n,o,i;e.bindAll(["_onHashChange","_updateHash"],this),this._updateHash=(t=this._updateHashUnthrottled.bind(this),r=300,n=!1,o=0,i=function(){o=0,n&&(t(),o=setTimeout(i,r),n=!1)},function(){return n=!0,o||i(),o})};ln.prototype.addTo=function(t){return this._map=t,e.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},ln.prototype.remove=function(){return e.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},ln.prototype.getHashString=function(e){var t=this._map.getCenter(),r=Math.round(100*this._map.getZoom())/100,n=Math.ceil((r*Math.LN2+Math.log(512/360/.5))/Math.LN10),o=Math.pow(10,n),i=Math.round(t.lng*o)/o,a=Math.round(t.lat*o)/o,s=this._map.getBearing(),l=this._map.getPitch(),u="";return u+=e?"#/"+i+"/"+a+"/"+r:"#"+r+"/"+a+"/"+i,(s||l)&&(u+="/"+Math.round(10*s)/10),l&&(u+="/"+Math.round(l)),u},ln.prototype._onHashChange=function(){var t=e.window.location.hash.replace("#","").split("/");return t.length>=3&&(this._map.jumpTo({center:[+t[2],+t[1]],zoom:+t[0],bearing:+(t[3]||0),pitch:+(t[4]||0)}),!0)},ln.prototype._updateHashUnthrottled=function(){var t=this.getHashString();try{e.window.history.replaceState(e.window.history.state,"",t)}catch(e){}};var un=function(t){function n(n,o,i,a){void 0===a&&(a={});var s=r.mousePos(o.getCanvasContainer(),i),l=o.unproject(s);t.call(this,n,e.extend({point:s,lngLat:l,originalEvent:i},a)),this._defaultPrevented=!1,this.target=o}t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n;var o={defaultPrevented:{configurable:!0}};return n.prototype.preventDefault=function(){this._defaultPrevented=!0},o.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(n.prototype,o),n}(e.Event),cn=function(t){function n(n,o,i){var a=r.touchPos(o.getCanvasContainer(),i),s=a.map(function(e){return o.unproject(e)}),l=a.reduce(function(e,t,r,n){return e.add(t.div(n.length))},new e.Point(0,0)),u=o.unproject(l);t.call(this,n,{points:a,point:l,lngLats:s,lngLat:u,originalEvent:i}),this._defaultPrevented=!1}t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n;var o={defaultPrevented:{configurable:!0}};return n.prototype.preventDefault=function(){this._defaultPrevented=!0},o.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(n.prototype,o),n}(e.Event),pn=function(e){function t(t,r,n){e.call(this,t,{originalEvent:n}),this._defaultPrevented=!1}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={defaultPrevented:{configurable:!0}};return t.prototype.preventDefault=function(){this._defaultPrevented=!0},r.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(t.prototype,r),t}(e.Event),hn=function(t){this._map=t,this._el=t.getCanvasContainer(),this._delta=0,e.bindAll(["_onWheel","_onTimeout","_onScrollFrame","_onScrollFinished"],this)};hn.prototype.isEnabled=function(){return!!this._enabled},hn.prototype.isActive=function(){return!!this._active},hn.prototype.isZooming=function(){return!!this._zooming},hn.prototype.enable=function(e){this.isEnabled()||(this._enabled=!0,this._aroundCenter=e&&"center"===e.around)},hn.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},hn.prototype.onWheel=function(t){if(this.isEnabled()){var r=t.deltaMode===e.window.WheelEvent.DOM_DELTA_LINE?40*t.deltaY:t.deltaY,n=e.browser.now(),o=n-(this._lastWheelEventTime||0);this._lastWheelEventTime=n,0!==r&&r%4.000244140625===0?this._type="wheel":0!==r&&Math.abs(r)<4?this._type="trackpad":o>400?(this._type=null,this._lastValue=r,this._timeout=setTimeout(this._onTimeout,40,t)):this._type||(this._type=Math.abs(o*r)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,r+=this._lastValue)),t.shiftKey&&r&&(r/=4),this._type&&(this._lastWheelEvent=t,this._delta-=r,this.isActive()||this._start(t)),t.preventDefault()}},hn.prototype._onTimeout=function(e){this._type="wheel",this._delta-=this._lastValue,this.isActive()||this._start(e)},hn.prototype._start=function(t){if(this._delta){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),this._active=!0,this._zooming=!0,this._map.fire(new e.Event("movestart",{originalEvent:t})),this._map.fire(new e.Event("zoomstart",{originalEvent:t})),this._finishTimeout&&clearTimeout(this._finishTimeout);var n=r.mousePos(this._el,t);this._around=e.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(n)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onScrollFrame))}},hn.prototype._onScrollFrame=function(){var t=this;if(this._frameId=null,this.isActive()){var r=this._map.transform;if(0!==this._delta){var n="wheel"===this._type&&Math.abs(this._delta)>4.000244140625?1/450:.01,o=2/(1+Math.exp(-Math.abs(this._delta*n)));this._delta<0&&0!==o&&(o=1/o);var i="number"===typeof this._targetZoom?r.zoomScale(this._targetZoom):r.scale;this._targetZoom=Math.min(r.maxZoom,Math.max(r.minZoom,r.scaleZoom(i*o))),"wheel"===this._type&&(this._startZoom=r.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var a="number"===typeof this._targetZoom?this._targetZoom:r.zoom,s=this._startZoom,l=this._easing,u=!1;if("wheel"===this._type&&s&&l){var c=Math.min((e.browser.now()-this._lastWheelEventTime)/200,1),p=l(c);r.zoom=e.number(s,a,p),c<1?this._frameId||(this._frameId=this._map._requestRenderFrame(this._onScrollFrame)):u=!0}else r.zoom=a,u=!0;r.setLocationAtPoint(this._around,this._aroundPoint),this._map.fire(new e.Event("move",{originalEvent:this._lastWheelEvent})),this._map.fire(new e.Event("zoom",{originalEvent:this._lastWheelEvent})),u&&(this._active=!1,this._finishTimeout=setTimeout(function(){t._zooming=!1,t._map.fire(new e.Event("zoomend",{originalEvent:t._lastWheelEvent})),t._map.fire(new e.Event("moveend",{originalEvent:t._lastWheelEvent})),delete t._targetZoom},200))}},hn.prototype._smoothOutEasing=function(t){var r=e.ease;if(this._prevEase){var n=this._prevEase,o=(e.browser.now()-n.start)/n.duration,i=n.easing(o+.01)-n.easing(o),a=.27/Math.sqrt(i*i+1e-4)*.01,s=Math.sqrt(.0729-a*a);r=e.bezier(a,s,.25,1)}return this._prevEase={start:e.browser.now(),duration:t,easing:r},r};var fn=function(t,r){this._map=t,this._el=t.getCanvasContainer(),this._container=t.getContainer(),this._clickTolerance=r.clickTolerance||1,e.bindAll(["_onMouseMove","_onMouseUp","_onKeyDown"],this)};fn.prototype.isEnabled=function(){return!!this._enabled},fn.prototype.isActive=function(){return!!this._active},fn.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},fn.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},fn.prototype.onMouseDown=function(t){this.isEnabled()&&t.shiftKey&&0===t.button&&(e.window.document.addEventListener("mousemove",this._onMouseMove,!1),e.window.document.addEventListener("keydown",this._onKeyDown,!1),e.window.document.addEventListener("mouseup",this._onMouseUp,!1),r.disableDrag(),this._startPos=this._lastPos=r.mousePos(this._el,t),this._active=!0)},fn.prototype._onMouseMove=function(e){var t=r.mousePos(this._el,e);if(!(this._lastPos.equals(t)||!this._box&&t.dist(this._startPos)<this._clickTolerance)){var n=this._startPos;this._lastPos=t,this._box||(this._box=r.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",e));var o=Math.min(n.x,t.x),i=Math.max(n.x,t.x),a=Math.min(n.y,t.y),s=Math.max(n.y,t.y);r.setTransform(this._box,"translate("+o+"px,"+a+"px)"),this._box.style.width=i-o+"px",this._box.style.height=s-a+"px"}},fn.prototype._onMouseUp=function(t){if(0===t.button){var n=this._startPos,o=r.mousePos(this._el,t);this._finish(),r.suppressClick(),n.x===o.x&&n.y===o.y?this._fireEvent("boxzoomcancel",t):this._map.fitScreenCoordinates(n,o,this._map.getBearing(),{linear:!0}).fire(new e.Event("boxzoomend",{originalEvent:t}))}},fn.prototype._onKeyDown=function(e){27===e.keyCode&&(this._finish(),this._fireEvent("boxzoomcancel",e))},fn.prototype._finish=function(){this._active=!1,e.window.document.removeEventListener("mousemove",this._onMouseMove,!1),e.window.document.removeEventListener("keydown",this._onKeyDown,!1),e.window.document.removeEventListener("mouseup",this._onMouseUp,!1),this._container.classList.remove("mapboxgl-crosshair"),this._box&&(r.remove(this._box),this._box=null),r.enableDrag(),delete this._startPos,delete this._lastPos},fn.prototype._fireEvent=function(t,r){return this._map.fire(new e.Event(t,{originalEvent:r}))};var dn=e.bezier(0,0,.25,1),mn=function(t,r){this._map=t,this._el=r.element||t.getCanvasContainer(),this._state="disabled",this._button=r.button||"right",this._bearingSnap=r.bearingSnap||0,this._pitchWithRotate=!1!==r.pitchWithRotate,e.bindAll(["onMouseDown","_onMouseMove","_onMouseUp","_onBlur","_onDragFrame"],this)};mn.prototype.isEnabled=function(){return"disabled"!==this._state},mn.prototype.isActive=function(){return"active"===this._state},mn.prototype.enable=function(){this.isEnabled()||(this._state="enabled")},mn.prototype.disable=function(){if(this.isEnabled())switch(this._state){case"active":this._state="disabled",this._unbind(),this._deactivate(),this._fireEvent("rotateend"),this._pitchWithRotate&&this._fireEvent("pitchend"),this._fireEvent("moveend");break;case"pending":this._state="disabled",this._unbind();break;default:this._state="disabled"}},mn.prototype.onMouseDown=function(t){if("enabled"===this._state){if("right"===this._button){if(this._eventButton=r.mouseButton(t),this._eventButton!==(t.ctrlKey?0:2))return}else{if(t.ctrlKey||0!==r.mouseButton(t))return;this._eventButton=0}r.disableDrag(),e.window.document.addEventListener("mousemove",this._onMouseMove,{capture:!0}),e.window.document.addEventListener("mouseup",this._onMouseUp),e.window.addEventListener("blur",this._onBlur),this._state="pending",this._inertia=[[e.browser.now(),this._map.getBearing()]],this._startPos=this._lastPos=r.mousePos(this._el,t),this._center=this._map.transform.centerPoint,t.preventDefault()}},mn.prototype._onMouseMove=function(e){var t=r.mousePos(this._el,e);this._lastPos.equals(t)||(this._lastMoveEvent=e,this._lastPos=t,"pending"===this._state&&(this._state="active",this._fireEvent("rotatestart",e),this._fireEvent("movestart",e),this._pitchWithRotate&&this._fireEvent("pitchstart",e)),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onDragFrame)))},mn.prototype._onDragFrame=function(){this._frameId=null;var t=this._lastMoveEvent;if(t){var r=this._map.transform,n=this._startPos,o=this._lastPos,i=.8*(n.x-o.x),a=-.5*(n.y-o.y),s=r.bearing-i,l=r.pitch-a,u=this._inertia,c=u[u.length-1];this._drainInertiaBuffer(),u.push([e.browser.now(),this._map._normalizeBearing(s,c[1])]),r.bearing=s,this._pitchWithRotate&&(this._fireEvent("pitch",t),r.pitch=l),this._fireEvent("rotate",t),this._fireEvent("move",t),delete this._lastMoveEvent,this._startPos=this._lastPos}},mn.prototype._onMouseUp=function(e){if(r.mouseButton(e)===this._eventButton)switch(this._state){case"active":this._state="enabled",r.suppressClick(),this._unbind(),this._deactivate(),this._inertialRotate(e);break;case"pending":this._state="enabled",this._unbind()}},mn.prototype._onBlur=function(e){switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._fireEvent("rotateend",e),this._pitchWithRotate&&this._fireEvent("pitchend",e),this._fireEvent("moveend",e);break;case"pending":this._state="enabled",this._unbind()}},mn.prototype._unbind=function(){e.window.document.removeEventListener("mousemove",this._onMouseMove,{capture:!0}),e.window.document.removeEventListener("mouseup",this._onMouseUp),e.window.removeEventListener("blur",this._onBlur),r.enableDrag()},mn.prototype._deactivate=function(){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._lastMoveEvent,delete this._startPos,delete this._lastPos},mn.prototype._inertialRotate=function(e){var t=this;this._fireEvent("rotateend",e),this._drainInertiaBuffer();var r=this._map,n=r.getBearing(),o=this._inertia,i=function(){Math.abs(n)<t._bearingSnap?r.resetNorth({noMoveStart:!0},{originalEvent:e}):t._fireEvent("moveend",e),t._pitchWithRotate&&t._fireEvent("pitchend",e)};if(o.length<2)i();else{var a=o[0],s=o[o.length-1],l=o[o.length-2],u=r._normalizeBearing(n,l[1]),c=s[1]-a[1],p=c<0?-1:1,h=(s[0]-a[0])/1e3;if(0!==c&&0!==h){var f=Math.abs(c*(.25/h));f>180&&(f=180);var d=f/180;u+=p*f*(d/2),Math.abs(r._normalizeBearing(u,0))<this._bearingSnap&&(u=r._normalizeBearing(0,u)),r.rotateTo(u,{duration:1e3*d,easing:dn,noMoveStart:!0},{originalEvent:e})}else i()}},mn.prototype._fireEvent=function(t,r){return this._map.fire(new e.Event(t,r?{originalEvent:r}:{}))},mn.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,r=e.browser.now();t.length>0&&r-t[0][0]>160;)t.shift()};var yn=e.bezier(0,0,.3,1),vn=function(t,r){this._map=t,this._el=t.getCanvasContainer(),this._state="disabled",this._clickTolerance=r.clickTolerance||1,e.bindAll(["_onMove","_onMouseUp","_onTouchEnd","_onBlur","_onDragFrame"],this)};vn.prototype.isEnabled=function(){return"disabled"!==this._state},vn.prototype.isActive=function(){return"active"===this._state},vn.prototype.enable=function(){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-drag-pan"),this._state="enabled")},vn.prototype.disable=function(){if(this.isEnabled())switch(this._el.classList.remove("mapboxgl-touch-drag-pan"),this._state){case"active":this._state="disabled",this._unbind(),this._deactivate(),this._fireEvent("dragend"),this._fireEvent("moveend");break;case"pending":this._state="disabled",this._unbind();break;default:this._state="disabled"}},vn.prototype.onMouseDown=function(t){"enabled"===this._state&&(t.ctrlKey||0!==r.mouseButton(t)||(r.addEventListener(e.window.document,"mousemove",this._onMove,{capture:!0}),r.addEventListener(e.window.document,"mouseup",this._onMouseUp),this._start(t)))},vn.prototype.onTouchStart=function(t){"enabled"===this._state&&(t.touches.length>1||(r.addEventListener(e.window.document,"touchmove",this._onMove,{capture:!0,passive:!1}),r.addEventListener(e.window.document,"touchend",this._onTouchEnd),this._start(t)))},vn.prototype._start=function(t){e.window.addEventListener("blur",this._onBlur),this._state="pending",this._startPos=this._mouseDownPos=this._lastPos=r.mousePos(this._el,t),this._inertia=[[e.browser.now(),this._startPos]]},vn.prototype._onMove=function(t){t.preventDefault();var n=r.mousePos(this._el,t);this._lastPos.equals(n)||"pending"===this._state&&n.dist(this._mouseDownPos)<this._clickTolerance||(this._lastMoveEvent=t,this._lastPos=n,this._drainInertiaBuffer(),this._inertia.push([e.browser.now(),this._lastPos]),"pending"===this._state&&(this._state="active",this._fireEvent("dragstart",t),this._fireEvent("movestart",t)),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onDragFrame)))},vn.prototype._onDragFrame=function(){this._frameId=null;var e=this._lastMoveEvent;if(e){var t=this._map.transform;t.setLocationAtPoint(t.pointLocation(this._startPos),this._lastPos),this._fireEvent("drag",e),this._fireEvent("move",e),this._startPos=this._lastPos,delete this._lastMoveEvent}},vn.prototype._onMouseUp=function(e){if(0===r.mouseButton(e))switch(this._state){case"active":this._state="enabled",r.suppressClick(),this._unbind(),this._deactivate(),this._inertialPan(e);break;case"pending":this._state="enabled",this._unbind()}},vn.prototype._onTouchEnd=function(e){switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._inertialPan(e);break;case"pending":this._state="enabled",this._unbind()}},vn.prototype._onBlur=function(e){switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._fireEvent("dragend",e),this._fireEvent("moveend",e);break;case"pending":this._state="enabled",this._unbind()}},vn.prototype._unbind=function(){r.removeEventListener(e.window.document,"touchmove",this._onMove,{capture:!0,passive:!1}),r.removeEventListener(e.window.document,"touchend",this._onTouchEnd),r.removeEventListener(e.window.document,"mousemove",this._onMove,{capture:!0}),r.removeEventListener(e.window.document,"mouseup",this._onMouseUp),r.removeEventListener(e.window,"blur",this._onBlur)},vn.prototype._deactivate=function(){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._lastMoveEvent,delete this._startPos,delete this._mouseDownPos,delete this._lastPos},vn.prototype._inertialPan=function(e){this._fireEvent("dragend",e),this._drainInertiaBuffer();var t=this._inertia;if(t.length<2)this._fireEvent("moveend",e);else{var r=t[t.length-1],n=t[0],o=r[1].sub(n[1]),i=(r[0]-n[0])/1e3;if(0===i||r[1].equals(n[1]))this._fireEvent("moveend",e);else{var a=o.mult(.3/i),s=a.mag();s>1400&&(s=1400,a._unit()._mult(s));var l=s/750,u=a.mult(-l/2);this._map.panBy(u,{duration:1e3*l,easing:yn,noMoveStart:!0},{originalEvent:e})}}},vn.prototype._fireEvent=function(t,r){return this._map.fire(new e.Event(t,r?{originalEvent:r}:{}))},vn.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,r=e.browser.now();t.length>0&&r-t[0][0]>160;)t.shift()};var gn=function(t){this._map=t,this._el=t.getCanvasContainer(),e.bindAll(["_onKeyDown"],this)};function _n(e){return e*(2-e)}gn.prototype.isEnabled=function(){return!!this._enabled},gn.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener("keydown",this._onKeyDown,!1),this._enabled=!0)},gn.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("keydown",this._onKeyDown),this._enabled=!1)},gn.prototype._onKeyDown=function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t=0,r=0,n=0,o=0,i=0;switch(e.keyCode){case 61:case 107:case 171:case 187:t=1;break;case 189:case 109:case 173:t=-1;break;case 37:e.shiftKey?r=-1:(e.preventDefault(),o=-1);break;case 39:e.shiftKey?r=1:(e.preventDefault(),o=1);break;case 38:e.shiftKey?n=1:(e.preventDefault(),i=-1);break;case 40:e.shiftKey?n=-1:(i=1,e.preventDefault());break;default:return}var a=this._map,s=a.getZoom(),l={duration:300,delayEndEvents:500,easing:_n,zoom:t?Math.round(s)+t*(e.shiftKey?2:1):s,bearing:a.getBearing()+15*r,pitch:a.getPitch()+10*n,offset:[100*-o,100*-i],center:a.getCenter()};a.easeTo(l,{originalEvent:e})}};var bn=function(t){this._map=t,e.bindAll(["_onDblClick","_onZoomEnd"],this)};bn.prototype.isEnabled=function(){return!!this._enabled},bn.prototype.isActive=function(){return!!this._active},bn.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},bn.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},bn.prototype.onTouchStart=function(e){var t=this;this.isEnabled()&&(e.points.length>1||(this._tapped?(clearTimeout(this._tapped),this._tapped=null,this._zoom(e)):this._tapped=setTimeout(function(){t._tapped=null},300)))},bn.prototype.onDblClick=function(e){this.isEnabled()&&(e.originalEvent.preventDefault(),this._zoom(e))},bn.prototype._zoom=function(e){this._active=!0,this._map.on("zoomend",this._onZoomEnd),this._map.zoomTo(this._map.getZoom()+(e.originalEvent.shiftKey?-1:1),{around:e.lngLat},e)},bn.prototype._onZoomEnd=function(){this._active=!1,this._map.off("zoomend",this._onZoomEnd)};var xn=e.bezier(0,0,.15,1),wn=function(t){this._map=t,this._el=t.getCanvasContainer(),e.bindAll(["_onMove","_onEnd","_onTouchFrame"],this)};wn.prototype.isEnabled=function(){return!!this._enabled},wn.prototype.enable=function(e){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-zoom-rotate"),this._enabled=!0,this._aroundCenter=!!e&&"center"===e.around)},wn.prototype.disable=function(){this.isEnabled()&&(this._el.classList.remove("mapboxgl-touch-zoom-rotate"),this._enabled=!1)},wn.prototype.disableRotation=function(){this._rotationDisabled=!0},wn.prototype.enableRotation=function(){this._rotationDisabled=!1},wn.prototype.onStart=function(t){if(this.isEnabled()&&2===t.touches.length){var n=r.mousePos(this._el,t.touches[0]),o=r.mousePos(this._el,t.touches[1]),i=n.add(o).div(2);this._startVec=n.sub(o),this._startAround=this._map.transform.pointLocation(i),this._gestureIntent=void 0,this._inertia=[],r.addEventListener(e.window.document,"touchmove",this._onMove,{passive:!1}),r.addEventListener(e.window.document,"touchend",this._onEnd)}},wn.prototype._getTouchEventData=function(e){var t=r.mousePos(this._el,e.touches[0]),n=r.mousePos(this._el,e.touches[1]),o=t.sub(n);return{vec:o,center:t.add(n).div(2),scale:o.mag()/this._startVec.mag(),bearing:this._rotationDisabled?0:180*o.angleWith(this._startVec)/Math.PI}},wn.prototype._onMove=function(t){if(2===t.touches.length){var r=this._getTouchEventData(t),n=r.vec,o=r.scale,i=r.bearing;if(!this._gestureIntent){var a=this._rotationDisabled&&1!==o||Math.abs(1-o)>.15;Math.abs(i)>10?this._gestureIntent="rotate":a&&(this._gestureIntent="zoom"),this._gestureIntent&&(this._map.fire(new e.Event(this._gestureIntent+"start",{originalEvent:t})),this._map.fire(new e.Event("movestart",{originalEvent:t})),this._startVec=n)}this._lastTouchEvent=t,this._frameId||(this._frameId=this._map._requestRenderFrame(this._onTouchFrame)),t.preventDefault()}},wn.prototype._onTouchFrame=function(){this._frameId=null;var t=this._gestureIntent;if(t){var r=this._map.transform;this._startScale||(this._startScale=r.scale,this._startBearing=r.bearing);var n=this._getTouchEventData(this._lastTouchEvent),o=n.center,i=n.bearing,a=n.scale,s=r.pointLocation(o),l=r.locationPoint(s);"rotate"===t&&(r.bearing=this._startBearing+i),r.zoom=r.scaleZoom(this._startScale*a),r.setLocationAtPoint(this._startAround,l),this._map.fire(new e.Event(t,{originalEvent:this._lastTouchEvent})),this._map.fire(new e.Event("move",{originalEvent:this._lastTouchEvent})),this._drainInertiaBuffer(),this._inertia.push([e.browser.now(),a,o])}},wn.prototype._onEnd=function(t){r.removeEventListener(e.window.document,"touchmove",this._onMove,{passive:!1}),r.removeEventListener(e.window.document,"touchend",this._onEnd);var n=this._gestureIntent,o=this._startScale;if(this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._gestureIntent,delete this._startScale,delete this._startBearing,delete this._lastTouchEvent,n){this._map.fire(new e.Event(n+"end",{originalEvent:t})),this._drainInertiaBuffer();var i=this._inertia,a=this._map;if(i.length<2)a.snapToNorth({},{originalEvent:t});else{var s=i[i.length-1],l=i[0],u=a.transform.scaleZoom(o*s[1]),c=a.transform.scaleZoom(o*l[1]),p=u-c,h=(s[0]-l[0])/1e3,f=s[2];if(0!==h&&u!==c){var d=.15*p/h;Math.abs(d)>2.5&&(d=d>0?2.5:-2.5);var m=1e3*Math.abs(d/(12*.15)),y=u+d*m/2e3;y<0&&(y=0),a.easeTo({zoom:y,duration:m,easing:xn,around:this._aroundCenter?a.getCenter():a.unproject(f),noMoveStart:!0},{originalEvent:t})}else a.snapToNorth({},{originalEvent:t})}}},wn.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,r=e.browser.now();t.length>2&&r-t[0][0]>160;)t.shift()};var En={scrollZoom:hn,boxZoom:fn,dragRotate:mn,dragPan:vn,keyboard:gn,doubleClickZoom:bn,touchZoomRotate:wn};var Sn=function(t){function r(r,n){t.call(this),this._moving=!1,this._zooming=!1,this.transform=r,this._bearingSnap=n.bearingSnap,e.bindAll(["_renderFrameCallback"],this)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.getCenter=function(){return this.transform.center},r.prototype.setCenter=function(e,t){return this.jumpTo({center:e},t)},r.prototype.panBy=function(t,r,n){return t=e.Point.convert(t).mult(-1),this.panTo(this.transform.center,e.extend({offset:t},r),n)},r.prototype.panTo=function(t,r,n){return this.easeTo(e.extend({center:t},r),n)},r.prototype.getZoom=function(){return this.transform.zoom},r.prototype.setZoom=function(e,t){return this.jumpTo({zoom:e},t),this},r.prototype.zoomTo=function(t,r,n){return this.easeTo(e.extend({zoom:t},r),n)},r.prototype.zoomIn=function(e,t){return this.zoomTo(this.getZoom()+1,e,t),this},r.prototype.zoomOut=function(e,t){return this.zoomTo(this.getZoom()-1,e,t),this},r.prototype.getBearing=function(){return this.transform.bearing},r.prototype.setBearing=function(e,t){return this.jumpTo({bearing:e},t),this},r.prototype.rotateTo=function(t,r,n){return this.easeTo(e.extend({bearing:t},r),n)},r.prototype.resetNorth=function(t,r){return this.rotateTo(0,e.extend({duration:1e3},t),r),this},r.prototype.snapToNorth=function(e,t){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(e,t):this},r.prototype.getPitch=function(){return this.transform.pitch},r.prototype.setPitch=function(e,t){return this.jumpTo({pitch:e},t),this},r.prototype.cameraForBounds=function(t,r){return t=e.LngLatBounds.convert(t),this._cameraForBoxAndBearing(t.getNorthWest(),t.getSouthEast(),0,r)},r.prototype._cameraForBoxAndBearing=function(t,r,n,o){if("number"===typeof(o=e.extend({padding:{top:0,bottom:0,right:0,left:0},offset:[0,0],maxZoom:this.transform.maxZoom},o)).padding){var i=o.padding;o.padding={top:i,bottom:i,right:i,left:i}}if(e.isEqual(Object.keys(o.padding).sort(function(e,t){return e<t?-1:e>t?1:0}),["bottom","left","right","top"])){var a=this.transform,s=a.project(e.LngLat.convert(t)),l=a.project(e.LngLat.convert(r)),u=s.rotate(-n*Math.PI/180),c=l.rotate(-n*Math.PI/180),p=new e.Point(Math.max(u.x,c.x),Math.max(u.y,c.y)),h=new e.Point(Math.min(u.x,c.x),Math.min(u.y,c.y)),f=p.sub(h),d=(a.width-o.padding.left-o.padding.right)/f.x,m=(a.height-o.padding.top-o.padding.bottom)/f.y;if(!(m<0||d<0)){var y=Math.min(a.scaleZoom(a.scale*Math.min(d,m)),o.maxZoom),v=e.Point.convert(o.offset),g=(o.padding.left-o.padding.right)/2,_=(o.padding.top-o.padding.bottom)/2,b=new e.Point(v.x+g,v.y+_).mult(a.scale/a.zoomScale(y));return{center:a.unproject(s.add(l).div(2).sub(b)),zoom:y,bearing:n}}e.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}else e.warnOnce("options.padding must be a positive number, or an Object with keys 'bottom', 'left', 'right', 'top'")},r.prototype.fitBounds=function(e,t,r){return this._fitInternal(this.cameraForBounds(e,t),t,r)},r.prototype.fitScreenCoordinates=function(t,r,n,o,i){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(e.Point.convert(t)),this.transform.pointLocation(e.Point.convert(r)),n,o),o,i)},r.prototype._fitInternal=function(t,r,n){return t?(r=e.extend(t,r)).linear?this.easeTo(r,n):this.flyTo(r,n):this},r.prototype.jumpTo=function(t,r){this.stop();var n=this.transform,o=!1,i=!1,a=!1;return"zoom"in t&&n.zoom!==+t.zoom&&(o=!0,n.zoom=+t.zoom),void 0!==t.center&&(n.center=e.LngLat.convert(t.center)),"bearing"in t&&n.bearing!==+t.bearing&&(i=!0,n.bearing=+t.bearing),"pitch"in t&&n.pitch!==+t.pitch&&(a=!0,n.pitch=+t.pitch),this.fire(new e.Event("movestart",r)).fire(new e.Event("move",r)),o&&this.fire(new e.Event("zoomstart",r)).fire(new e.Event("zoom",r)).fire(new e.Event("zoomend",r)),i&&this.fire(new e.Event("rotatestart",r)).fire(new e.Event("rotate",r)).fire(new e.Event("rotateend",r)),a&&this.fire(new e.Event("pitchstart",r)).fire(new e.Event("pitch",r)).fire(new e.Event("pitchend",r)),this.fire(new e.Event("moveend",r))},r.prototype.easeTo=function(t,r){var n=this;this.stop(),!1===(t=e.extend({offset:[0,0],duration:500,easing:e.ease},t)).animate&&(t.duration=0);var o=this.transform,i=this.getZoom(),a=this.getBearing(),s=this.getPitch(),l="zoom"in t?+t.zoom:i,u="bearing"in t?this._normalizeBearing(t.bearing,a):a,c="pitch"in t?+t.pitch:s,p=o.centerPoint.add(e.Point.convert(t.offset)),h=o.pointLocation(p),f=e.LngLat.convert(t.center||h);this._normalizeCenter(f);var d,m,y=o.project(h),v=o.project(f).sub(y),g=o.zoomScale(l-i);return t.around&&(d=e.LngLat.convert(t.around),m=o.locationPoint(d)),this._zooming=l!==i,this._rotating=a!==u,this._pitching=c!==s,this._prepareEase(r,t.noMoveStart),clearTimeout(this._easeEndTimeoutID),this._ease(function(t){if(n._zooming&&(o.zoom=e.number(i,l,t)),n._rotating&&(o.bearing=e.number(a,u,t)),n._pitching&&(o.pitch=e.number(s,c,t)),d)o.setLocationAtPoint(d,m);else{var h=o.zoomScale(o.zoom-i),f=l>i?Math.min(2,g):Math.max(.5,g),_=Math.pow(f,1-t),b=o.unproject(y.add(v.mult(t*_)).mult(h));o.setLocationAtPoint(o.renderWorldCopies?b.wrap():b,p)}n._fireMoveEvents(r)},function(){t.delayEndEvents?n._easeEndTimeoutID=setTimeout(function(){return n._afterEase(r)},t.delayEndEvents):n._afterEase(r)},t),this},r.prototype._prepareEase=function(t,r){this._moving=!0,r||this.fire(new e.Event("movestart",t)),this._zooming&&this.fire(new e.Event("zoomstart",t)),this._rotating&&this.fire(new e.Event("rotatestart",t)),this._pitching&&this.fire(new e.Event("pitchstart",t))},r.prototype._fireMoveEvents=function(t){this.fire(new e.Event("move",t)),this._zooming&&this.fire(new e.Event("zoom",t)),this._rotating&&this.fire(new e.Event("rotate",t)),this._pitching&&this.fire(new e.Event("pitch",t))},r.prototype._afterEase=function(t){var r=this._zooming,n=this._rotating,o=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,r&&this.fire(new e.Event("zoomend",t)),n&&this.fire(new e.Event("rotateend",t)),o&&this.fire(new e.Event("pitchend",t)),this.fire(new e.Event("moveend",t))},r.prototype.flyTo=function(t,r){var n=this;this.stop(),t=e.extend({offset:[0,0],speed:1.2,curve:1.42,easing:e.ease},t);var o=this.transform,i=this.getZoom(),a=this.getBearing(),s=this.getPitch(),l="zoom"in t?e.clamp(+t.zoom,o.minZoom,o.maxZoom):i,u="bearing"in t?this._normalizeBearing(t.bearing,a):a,c="pitch"in t?+t.pitch:s,p=o.zoomScale(l-i),h=o.centerPoint.add(e.Point.convert(t.offset)),f=o.pointLocation(h),d=e.LngLat.convert(t.center||f);this._normalizeCenter(d);var m=o.project(f),y=o.project(d).sub(m),v=t.curve,g=Math.max(o.width,o.height),_=g/p,b=y.mag();if("minZoom"in t){var x=e.clamp(Math.min(t.minZoom,i,l),o.minZoom,o.maxZoom),w=g/o.zoomScale(x-i);v=Math.sqrt(w/b*2)}var E=v*v;function S(e){var t=(_*_-g*g+(e?-1:1)*E*E*b*b)/(2*(e?_:g)*E*b);return Math.log(Math.sqrt(t*t+1)-t)}function C(e){return(Math.exp(e)-Math.exp(-e))/2}function k(e){return(Math.exp(e)+Math.exp(-e))/2}var T=S(0),O=function(e){return k(T)/k(T+v*e)},P=function(e){return g*((k(T)*(C(t=T+v*e)/k(t))-C(T))/E)/b;var t},A=(S(1)-T)/v;if(Math.abs(b)<1e-6||!isFinite(A)){if(Math.abs(g-_)<1e-6)return this.easeTo(t,r);var I=_<g?-1:1;A=Math.abs(Math.log(_/g))/v,P=function(){return 0},O=function(e){return Math.exp(I*v*e)}}if("duration"in t)t.duration=+t.duration;else{var M="screenSpeed"in t?+t.screenSpeed/v:+t.speed;t.duration=1e3*A/M}return t.maxDuration&&t.duration>t.maxDuration&&(t.duration=0),this._zooming=!0,this._rotating=a!==u,this._pitching=c!==s,this._prepareEase(r,!1),this._ease(function(t){var p=t*A,f=1/O(p);o.zoom=1===t?l:i+o.scaleZoom(f),n._rotating&&(o.bearing=e.number(a,u,t)),n._pitching&&(o.pitch=e.number(s,c,t));var v=1===t?d:o.unproject(m.add(y.mult(P(p))).mult(f));o.setLocationAtPoint(o.renderWorldCopies?v.wrap():v,h),n._fireMoveEvents(r)},function(){return n._afterEase(r)},t),this},r.prototype.isEasing=function(){return!!this._easeFrameId},r.prototype.stop=function(){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var e=this._onEaseEnd;delete this._onEaseEnd,e.call(this)}return this},r.prototype._ease=function(t,r,n){!1===n.animate||0===n.duration?(t(1),r()):(this._easeStart=e.browser.now(),this._easeOptions=n,this._onEaseFrame=t,this._onEaseEnd=r,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},r.prototype._renderFrameCallback=function(){var t=Math.min((e.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(t)),t<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},r.prototype._normalizeBearing=function(t,r){t=e.wrap(t,-180,180);var n=Math.abs(t-r);return Math.abs(t-360-r)<n&&(t-=360),Math.abs(t+360-r)<n&&(t+=360),t},r.prototype._normalizeCenter=function(e){var t=this.transform;if(t.renderWorldCopies&&!t.lngRange){var r=e.lng-t.center.lng;e.lng+=r>180?-360:r<-180?360:0}},r}(e.Evented),Cn=function(t){void 0===t&&(t={}),this.options=t,e.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)};Cn.prototype.getDefaultPosition=function(){return"bottom-right"},Cn.prototype.onAdd=function(e){var t=this.options&&this.options.compact;return this._map=e,this._container=r.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._innerContainer=r.create("div","mapboxgl-ctrl-attrib-inner",this._container),t&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===t&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},Cn.prototype.onRemove=function(){r.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0},Cn.prototype._updateEditLink=function(){var t=this._editLink;t||(t=this._editLink=this._container.querySelector(".mapbox-improve-map"));var r=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:e.config.ACCESS_TOKEN}];if(t){var n=r.reduce(function(e,t,n){return t.value&&(e+=t.key+"="+t.value+(n<r.length-1?"&":"")),e},"?");t.href=e.config.FEEDBACK_URL+"/"+n+(this._map._hash?this._map._hash.getHashString(!0):"")}},Cn.prototype._updateData=function(e){!e||"metadata"!==e.sourceDataType&&"style"!==e.dataType||(this._updateAttributions(),this._updateEditLink())},Cn.prototype._updateAttributions=function(){if(this._map.style){var e=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?e=e.concat(this.options.customAttribution.map(function(e){return"string"!==typeof e?"":e})):"string"===typeof this.options.customAttribution&&e.push(this.options.customAttribution)),this._map.style.stylesheet){var t=this._map.style.stylesheet;this.styleOwner=t.owner,this.styleId=t.id}var r=this._map.style.sourceCaches;for(var n in r){var o=r[n];if(o.used){var i=o.getSource();i.attribution&&e.indexOf(i.attribution)<0&&e.push(i.attribution)}}e.sort(function(e,t){return e.length-t.length}),(e=e.filter(function(t,r){for(var n=r+1;n<e.length;n++)if(e[n].indexOf(t)>=0)return!1;return!0})).length?(this._innerContainer.innerHTML=e.join(" | "),this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null}},Cn.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact")};var kn=function(){e.bindAll(["_updateLogo"],this),e.bindAll(["_updateCompact"],this)};kn.prototype.onAdd=function(e){this._map=e,this._container=r.create("div","mapboxgl-ctrl");var t=r.create("a","mapboxgl-ctrl-logo");return t.target="_blank",t.href="https://www.mapbox.com/",t.setAttribute("aria-label","Mapbox logo"),t.setAttribute("rel","noopener"),this._container.appendChild(t),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},kn.prototype.onRemove=function(){r.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},kn.prototype.getDefaultPosition=function(){return"bottom-left"},kn.prototype._updateLogo=function(e){e&&"metadata"!==e.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},kn.prototype._logoRequired=function(){if(this._map.style){var e=this._map.style.sourceCaches;for(var t in e){if(e[t].getSource().mapbox_logo)return!0}return!1}},kn.prototype._updateCompact=function(){var e=this._container.children;if(e.length){var t=e[0];this._map.getCanvasContainer().offsetWidth<250?t.classList.add("mapboxgl-compact"):t.classList.remove("mapboxgl-compact")}};var Tn=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};Tn.prototype.add=function(e){var t=++this._id;return this._queue.push({callback:e,id:t,cancelled:!1}),t},Tn.prototype.remove=function(e){for(var t=this._currentlyRunning,r=0,n=t?this._queue.concat(t):this._queue;r<n.length;r+=1){var o=n[r];if(o.id===e)return void(o.cancelled=!0)}},Tn.prototype.run=function(){var e=this._currentlyRunning=this._queue;this._queue=[];for(var t=0,r=e;t<r.length;t+=1){var n=r[t];if(!n.cancelled&&(n.callback(),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},Tn.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var On=e.window.HTMLImageElement,Pn=e.window.HTMLElement,An={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:0,maxZoom:22,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,bearingSnap:7,clickTolerance:3,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,transformRequest:null,fadeDuration:300,crossSourceCollisions:!0},In=function(n){function o(t){var o=this;if(null!=(t=e.extend({},An,t)).minZoom&&null!=t.maxZoom&&t.minZoom>t.maxZoom)throw new Error("maxZoom must be greater than minZoom");var i=new an(t.minZoom,t.maxZoom,t.renderWorldCopies);n.call(this,i,t),this._interactive=t.interactive,this._maxTileCacheSize=t.maxTileCacheSize,this._failIfMajorPerformanceCaveat=t.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=t.preserveDrawingBuffer,this._trackResize=t.trackResize,this._bearingSnap=t.bearingSnap,this._refreshExpiredTiles=t.refreshExpiredTiles,this._fadeDuration=t.fadeDuration,this._crossSourceCollisions=t.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=t.collectResourceTiming,this._renderTaskQueue=new Tn,this._controls=[],this._mapId=e.uniqueId();var a=t.transformRequest;if(this._transformRequest=a?function(e,t){return a(e,t)||{url:e}}:function(e){return{url:e}},"string"===typeof t.container){if(this._container=e.window.document.getElementById(t.container),!this._container)throw new Error("Container '"+t.container+"' not found.")}else{if(!(t.container instanceof Pn))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=t.container}if(t.maxBounds&&this.setMaxBounds(t.maxBounds),e.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return o._update(!1)}),this.on("moveend",function(){return o._update(!1)}),this.on("zoom",function(){return o._update(!0)}),"undefined"!==typeof e.window&&(e.window.addEventListener("online",this._onWindowOnline,!1),e.window.addEventListener("resize",this._onWindowResize,!1)),function(e,t){var n=e.getCanvasContainer(),o=null,i=!1,a=null;for(var s in En)e[s]=new En[s](e,t),t.interactive&&t[s]&&e[s].enable(t[s]);r.addEventListener(n,"mouseout",function(t){e.fire(new un("mouseout",e,t))}),r.addEventListener(n,"mousedown",function(o){i=!0,a=r.mousePos(n,o);var s=new un("mousedown",e,o);e.fire(s),s.defaultPrevented||(t.interactive&&!e.doubleClickZoom.isActive()&&e.stop(),e.boxZoom.onMouseDown(o),e.boxZoom.isActive()||e.dragPan.isActive()||e.dragRotate.onMouseDown(o),e.boxZoom.isActive()||e.dragRotate.isActive()||e.dragPan.onMouseDown(o))}),r.addEventListener(n,"mouseup",function(t){var r=e.dragRotate.isActive();o&&!r&&e.fire(new un("contextmenu",e,o)),o=null,i=!1,e.fire(new un("mouseup",e,t))}),r.addEventListener(n,"mousemove",function(t){if(!e.dragPan.isActive()&&!e.dragRotate.isActive()){for(var r=t.target;r&&r!==n;)r=r.parentNode;r===n&&e.fire(new un("mousemove",e,t))}}),r.addEventListener(n,"mouseover",function(t){for(var r=t.target;r&&r!==n;)r=r.parentNode;r===n&&e.fire(new un("mouseover",e,t))}),r.addEventListener(n,"touchstart",function(r){var n=new cn("touchstart",e,r);e.fire(n),n.defaultPrevented||(t.interactive&&e.stop(),e.boxZoom.isActive()||e.dragRotate.isActive()||e.dragPan.onTouchStart(r),e.touchZoomRotate.onStart(r),e.doubleClickZoom.onTouchStart(n))},{passive:!1}),r.addEventListener(n,"touchmove",function(t){e.fire(new cn("touchmove",e,t))},{passive:!1}),r.addEventListener(n,"touchend",function(t){e.fire(new cn("touchend",e,t))}),r.addEventListener(n,"touchcancel",function(t){e.fire(new cn("touchcancel",e,t))}),r.addEventListener(n,"click",function(o){var i=r.mousePos(n,o);(i.equals(a)||i.dist(a)<t.clickTolerance)&&e.fire(new un("click",e,o))}),r.addEventListener(n,"dblclick",function(t){var r=new un("dblclick",e,t);e.fire(r),r.defaultPrevented||e.doubleClickZoom.onDblClick(r)}),r.addEventListener(n,"contextmenu",function(t){var r=e.dragRotate.isActive();i||r?i&&(o=t):e.fire(new un("contextmenu",e,t)),(e.dragRotate.isEnabled()||e.listens("contextmenu"))&&t.preventDefault()}),r.addEventListener(n,"wheel",function(r){t.interactive&&e.stop();var n=new pn("wheel",e,r);e.fire(n),n.defaultPrevented||e.scrollZoom.onWheel(r)},{passive:!1})}(this,t),this._hash=t.hash&&(new ln).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:t.center,zoom:t.zoom,bearing:t.bearing,pitch:t.pitch}),t.bounds&&(this.resize(),this.fitBounds(t.bounds,e.extend({},t.fitBoundsOptions,{duration:0})))),this.resize(),t.style&&this.setStyle(t.style,{localIdeographFontFamily:t.localIdeographFontFamily}),t.attributionControl&&this.addControl(new Cn({customAttribution:t.customAttribution})),this.addControl(new kn,t.logoPosition),this.on("style.load",function(){o.transform.unmodified&&o.jumpTo(o.style.stylesheet)}),this.on("data",function(t){o._update("style"===t.dataType),o.fire(new e.Event(t.dataType+"data",t))}),this.on("dataloading",function(t){o.fire(new e.Event(t.dataType+"dataloading",t))})}n&&(o.__proto__=n),o.prototype=Object.create(n&&n.prototype),o.prototype.constructor=o;var i={showTileBoundaries:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0}};return o.prototype._getMapId=function(){return this._mapId},o.prototype.addControl=function(t,r){if(void 0===r&&t.getDefaultPosition&&(r=t.getDefaultPosition()),void 0===r&&(r="top-right"),!t||!t.onAdd)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var n=t.onAdd(this);this._controls.push(t);var o=this._controlPositions[r];return-1!==r.indexOf("bottom")?o.insertBefore(n,o.firstChild):o.appendChild(n),this},o.prototype.removeControl=function(t){if(!t||!t.onRemove)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var r=this._controls.indexOf(t);return r>-1&&this._controls.splice(r,1),t.onRemove(this),this},o.prototype.resize=function(t){var r=this._containerDimensions(),n=r[0],o=r[1];return this._resizeCanvas(n,o),this.transform.resize(n,o),this.painter.resize(n,o),this.fire(new e.Event("movestart",t)).fire(new e.Event("move",t)).fire(new e.Event("resize",t)).fire(new e.Event("moveend",t)),this},o.prototype.getBounds=function(){return this.transform.getBounds()},o.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},o.prototype.setMaxBounds=function(t){return this.transform.setMaxBounds(e.LngLatBounds.convert(t)),this._update()},o.prototype.setMinZoom=function(e){if((e=null===e||void 0===e?0:e)>=0&&e<=this.transform.maxZoom)return this.transform.minZoom=e,this._update(),this.getZoom()<e&&this.setZoom(e),this;throw new Error("minZoom must be between 0 and the current maxZoom, inclusive")},o.prototype.getMinZoom=function(){return this.transform.minZoom},o.prototype.setMaxZoom=function(e){if((e=null===e||void 0===e?22:e)>=this.transform.minZoom)return this.transform.maxZoom=e,this._update(),this.getZoom()>e&&this.setZoom(e),this;throw new Error("maxZoom must be greater than the current minZoom")},o.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},o.prototype.setRenderWorldCopies=function(e){return this.transform.renderWorldCopies=e,this._update()},o.prototype.getMaxZoom=function(){return this.transform.maxZoom},o.prototype.project=function(t){return this.transform.locationPoint(e.LngLat.convert(t))},o.prototype.unproject=function(t){return this.transform.pointLocation(e.Point.convert(t))},o.prototype.isMoving=function(){return this._moving||this.dragPan.isActive()||this.dragRotate.isActive()||this.scrollZoom.isActive()},o.prototype.isZooming=function(){return this._zooming||this.scrollZoom.isZooming()},o.prototype.isRotating=function(){return this._rotating||this.dragRotate.isActive()},o.prototype.on=function(e,t,r){var o=this;if(void 0===r)return n.prototype.on.call(this,e,t);var i=function(){var n;if("mouseenter"===e||"mouseover"===e){var i=!1;return{layer:t,listener:r,delegates:{mousemove:function(n){var a=o.getLayer(t)?o.queryRenderedFeatures(n.point,{layers:[t]}):[];a.length?i||(i=!0,r.call(o,new un(e,o,n.originalEvent,{features:a}))):i=!1},mouseout:function(){i=!1}}}}if("mouseleave"===e||"mouseout"===e){var a=!1;return{layer:t,listener:r,delegates:{mousemove:function(n){(o.getLayer(t)?o.queryRenderedFeatures(n.point,{layers:[t]}):[]).length?a=!0:a&&(a=!1,r.call(o,new un(e,o,n.originalEvent)))},mouseout:function(t){a&&(a=!1,r.call(o,new un(e,o,t.originalEvent)))}}}}return{layer:t,listener:r,delegates:(n={},n[e]=function(e){var n=o.getLayer(t)?o.queryRenderedFeatures(e.point,{layers:[t]}):[];n.length&&(e.features=n,r.call(o,e),delete e.features)},n)}}();for(var a in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[e]=this._delegatedListeners[e]||[],this._delegatedListeners[e].push(i),i.delegates)this.on(a,i.delegates[a]);return this},o.prototype.off=function(e,t,r){if(void 0===r)return n.prototype.off.call(this,e,t);if(this._delegatedListeners&&this._delegatedListeners[e])for(var o=this._delegatedListeners[e],i=0;i<o.length;i++){var a=o[i];if(a.layer===t&&a.listener===r){for(var s in a.delegates)this.off(s,a.delegates[s]);return o.splice(i,1),this}}return this},o.prototype.queryRenderedFeatures=function(t,r){if(!this.style)return[];var n;if(void 0!==r||void 0===t||t instanceof e.Point||Array.isArray(t)||(r=t,t=void 0),r=r||{},(t=t||[[0,0],[this.transform.width,this.transform.height]])instanceof e.Point||"number"===typeof t[0])n=[e.Point.convert(t)];else{var o=e.Point.convert(t[0]),i=e.Point.convert(t[1]);n=[o,new e.Point(i.x,o.y),i,new e.Point(o.x,i.y),o]}return this.style.queryRenderedFeatures(n,r,this.transform)},o.prototype.querySourceFeatures=function(e,t){return this.style.querySourceFeatures(e,t)},o.prototype.setStyle=function(e,t){return(!t||!1!==t.diff&&!t.localIdeographFontFamily)&&this.style&&e?(this._diffStyle(e,t),this):this._updateStyle(e,t)},o.prototype._updateStyle=function(e,t){return this.style&&(this.style.setEventedParent(null),this.style._remove()),e?(this.style=new Mt(this,t||{}),this.style.setEventedParent(this,{style:this.style}),"string"===typeof e?this.style.loadURL(e):this.style.loadJSON(e),this):(delete this.style,this)},o.prototype._diffStyle=function(t,r){var n=this;if("string"===typeof t){var o=e.normalizeStyleURL(t),i=this._transformRequest(o,e.ResourceType.Style);e.getJSON(i,function(t,o){t?n.fire(new e.ErrorEvent(t)):o&&n._updateDiff(o,r)})}else"object"===typeof t&&this._updateDiff(t,r)},o.prototype._updateDiff=function(t,r){try{this.style.setState(t)&&this._update(!0)}catch(n){e.warnOnce("Unable to perform style diff: "+(n.message||n.error||n)+".  Rebuilding the style from scratch."),this._updateStyle(t,r)}},o.prototype.getStyle=function(){if(this.style)return this.style.serialize()},o.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():e.warnOnce("There is no style added to the map.")},o.prototype.addSource=function(e,t){return this.style.addSource(e,t),this._update(!0)},o.prototype.isSourceLoaded=function(t){var r=this.style&&this.style.sourceCaches[t];if(void 0!==r)return r.loaded();this.fire(new e.ErrorEvent(new Error("There is no source with ID '"+t+"'")))},o.prototype.areTilesLoaded=function(){var e=this.style&&this.style.sourceCaches;for(var t in e){var r=e[t]._tiles;for(var n in r){var o=r[n];if("loaded"!==o.state&&"errored"!==o.state)return!1}}return!0},o.prototype.addSourceType=function(e,t,r){return this.style.addSourceType(e,t,r)},o.prototype.removeSource=function(e){return this.style.removeSource(e),this._update(!0)},o.prototype.getSource=function(e){return this.style.getSource(e)},o.prototype.addImage=function(t,r,n){void 0===n&&(n={});var o=n.pixelRatio;void 0===o&&(o=1);var i=n.sdf;if(void 0===i&&(i=!1),r instanceof On){var a=e.browser.getImageData(r),s=a.width,l=a.height,u=a.data;this.style.addImage(t,{data:new e.RGBAImage({width:s,height:l},u),pixelRatio:o,sdf:i})}else{if(void 0===r.width||void 0===r.height)return this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var c=r.width,p=r.height,h=r.data;this.style.addImage(t,{data:new e.RGBAImage({width:c,height:p},new Uint8Array(h)),pixelRatio:o,sdf:i})}},o.prototype.hasImage=function(t){return t?!!this.style.getImage(t):(this.fire(new e.ErrorEvent(new Error("Missing required image id"))),!1)},o.prototype.removeImage=function(e){this.style.removeImage(e)},o.prototype.loadImage=function(t,r){e.getImage(this._transformRequest(t,e.ResourceType.Image),r)},o.prototype.listImages=function(){return this.style.listImages()},o.prototype.addLayer=function(e,t){return this.style.addLayer(e,t),this._update(!0)},o.prototype.moveLayer=function(e,t){return this.style.moveLayer(e,t),this._update(!0)},o.prototype.removeLayer=function(e){return this.style.removeLayer(e),this._update(!0)},o.prototype.getLayer=function(e){return this.style.getLayer(e)},o.prototype.setFilter=function(e,t,r){return void 0===r&&(r={}),this.style.setFilter(e,t,r),this._update(!0)},o.prototype.setLayerZoomRange=function(e,t,r){return this.style.setLayerZoomRange(e,t,r),this._update(!0)},o.prototype.getFilter=function(e){return this.style.getFilter(e)},o.prototype.setPaintProperty=function(e,t,r,n){return void 0===n&&(n={}),this.style.setPaintProperty(e,t,r,n),this._update(!0)},o.prototype.getPaintProperty=function(e,t){return this.style.getPaintProperty(e,t)},o.prototype.setLayoutProperty=function(e,t,r,n){return void 0===n&&(n={}),this.style.setLayoutProperty(e,t,r,n),this._update(!0)},o.prototype.getLayoutProperty=function(e,t){return this.style.getLayoutProperty(e,t)},o.prototype.setLight=function(e,t){return void 0===t&&(t={}),this.style.setLight(e,t),this._update(!0)},o.prototype.getLight=function(){return this.style.getLight()},o.prototype.setFeatureState=function(e,t){return this.style.setFeatureState(e,t),this._update()},o.prototype.removeFeatureState=function(e,t){return this.style.removeFeatureState(e,t),this._update()},o.prototype.getFeatureState=function(e){return this.style.getFeatureState(e)},o.prototype.getContainer=function(){return this._container},o.prototype.getCanvasContainer=function(){return this._canvasContainer},o.prototype.getCanvas=function(){return this._canvas},o.prototype._containerDimensions=function(){var e=0,t=0;return this._container&&(e=this._container.clientWidth||400,t=this._container.clientHeight||300),[e,t]},o.prototype._detectMissingCSS=function(){"rgb(250, 128, 114)"!==e.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&e.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},o.prototype._setupContainer=function(){var e=this._container;e.classList.add("mapboxgl-map"),(this._missingCSSCanary=r.create("div","mapboxgl-canary",e)).style.visibility="hidden",this._detectMissingCSS();var t=this._canvasContainer=r.create("div","mapboxgl-canvas-container",e);this._interactive&&t.classList.add("mapboxgl-interactive"),this._canvas=r.create("canvas","mapboxgl-canvas",t),this._canvas.style.position="absolute",this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map");var n=this._containerDimensions();this._resizeCanvas(n[0],n[1]);var o=this._controlContainer=r.create("div","mapboxgl-control-container",e),i=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(e){i[e]=r.create("div","mapboxgl-ctrl-"+e,o)})},o.prototype._resizeCanvas=function(t,r){var n=e.window.devicePixelRatio||1;this._canvas.width=n*t,this._canvas.height=n*r,this._canvas.style.width=t+"px",this._canvas.style.height=r+"px"},o.prototype._setupPainter=function(){var r=e.extend({failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer},t.webGLContextAttributes),n=this._canvas.getContext("webgl",r)||this._canvas.getContext("experimental-webgl",r);n?(this.painter=new tn(n,this.transform),e.webpSupported.testSupport(n)):this.fire(new e.ErrorEvent(new Error("Failed to initialize WebGL")))},o.prototype._contextLost=function(t){t.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new e.Event("webglcontextlost",{originalEvent:t}))},o.prototype._contextRestored=function(t){this._setupPainter(),this.resize(),this._update(),this.fire(new e.Event("webglcontextrestored",{originalEvent:t}))},o.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},o.prototype._update=function(e){return this.style?(this._styleDirty=this._styleDirty||e,this._sourcesDirty=!0,this.triggerRepaint(),this):this},o.prototype._requestRenderFrame=function(e){return this._update(),this._renderTaskQueue.add(e)},o.prototype._cancelRenderFrame=function(e){this._renderTaskQueue.remove(e)},o.prototype._render=function(){this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run();var t=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var r=this.transform.zoom,n=e.browser.now();this.style.zoomHistory.update(r,n);var o=new e.EvaluationParameters(r,{now:n,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),i=o.crossFadingFactor();1===i&&i===this._crossFadingFactor||(t=!0,this._crossFadingFactor=i),this.style.update(o)}return this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration}),this.fire(new e.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new e.Event("load"))),this.style&&(this.style.hasTransitions()||t)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this._sourcesDirty||this._repaint||this._styleDirty||this._placementDirty?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new e.Event("idle")),this},o.prototype.remove=function(){this._hash&&this._hash.remove();for(var t=0,r=this._controls;t<r.length;t+=1){r[t].onRemove(this)}this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.setStyle(null),"undefined"!==typeof e.window&&(e.window.removeEventListener("resize",this._onWindowResize,!1),e.window.removeEventListener("online",this._onWindowOnline,!1));var n=this.painter.context.gl.getExtension("WEBGL_lose_context");n&&n.loseContext(),Mn(this._canvasContainer),Mn(this._controlContainer),Mn(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this.fire(new e.Event("remove"))},o.prototype.triggerRepaint=function(){var t=this;this.style&&!this._frame&&(this._frame=e.browser.frame(function(){t._frame=null,t._render()}))},o.prototype._onWindowOnline=function(){this._update()},o.prototype._onWindowResize=function(){this._trackResize&&this.resize()._update()},i.showTileBoundaries.get=function(){return!!this._showTileBoundaries},i.showTileBoundaries.set=function(e){this._showTileBoundaries!==e&&(this._showTileBoundaries=e,this._update())},i.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},i.showCollisionBoxes.set=function(e){this._showCollisionBoxes!==e&&(this._showCollisionBoxes=e,e?this.style._generateCollisionBoxes():this._update())},i.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},i.showOverdrawInspector.set=function(e){this._showOverdrawInspector!==e&&(this._showOverdrawInspector=e,this._update())},i.repaint.get=function(){return!!this._repaint},i.repaint.set=function(e){this._repaint!==e&&(this._repaint=e,this.triggerRepaint())},i.vertices.get=function(){return!!this._vertices},i.vertices.set=function(e){this._vertices=e,this._update()},Object.defineProperties(o.prototype,i),o}(Sn);function Mn(e){e.parentNode&&e.parentNode.removeChild(e)}var Rn={showCompass:!0,showZoom:!0},Ln=function(t){var n=this;this.options=e.extend({},Rn,t),this._container=r.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(e){return e.preventDefault()}),this.options.showZoom&&(this._zoomInButton=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-zoom-in","Zoom in",function(){return n._map.zoomIn()}),this._zoomOutButton=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-zoom-out","Zoom out",function(){return n._map.zoomOut()})),this.options.showCompass&&(e.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-compass","Reset bearing to north",function(){return n._map.resetNorth()}),this._compassArrow=r.create("span","mapboxgl-ctrl-compass-arrow",this._compass))};function Dn(t,r,n){if(t=new e.LngLat(t.lng,t.lat),r){var o=new e.LngLat(t.lng-360,t.lat),i=new e.LngLat(t.lng+360,t.lat),a=n.locationPoint(t).distSqr(r);n.locationPoint(o).distSqr(r)<a?t=o:n.locationPoint(i).distSqr(r)<a&&(t=i)}for(;Math.abs(t.lng-n.center.lng)>180;){var s=n.locationPoint(t);if(s.x>=0&&s.y>=0&&s.x<=n.width&&s.y<=n.height)break;t.lng>n.center.lng?t.lng-=360:t.lng+=360}return t}Ln.prototype._rotateCompassArrow=function(){var e="rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassArrow.style.transform=e},Ln.prototype.onAdd=function(e){return this._map=e,this.options.showCompass&&(this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new mn(e,{button:"left",element:this._compass}),r.addEventListener(this._compass,"mousedown",this._handler.onMouseDown),this._handler.enable()),this._container},Ln.prototype.onRemove=function(){r.remove(this._container),this.options.showCompass&&(this._map.off("rotate",this._rotateCompassArrow),r.removeEventListener(this._compass,"mousedown",this._handler.onMouseDown),this._handler.disable(),delete this._handler),delete this._map},Ln.prototype._createButton=function(e,t,n){var o=r.create("button",e,this._container);return o.type="button",o.title=t,o.setAttribute("aria-label",t),o.addEventListener("click",n),o};var jn={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function zn(e,t,r){var n=e.classList;for(var o in jn)n.remove("mapboxgl-"+r+"-anchor-"+o);n.add("mapboxgl-"+r+"-anchor-"+t)}var Fn,Nn=function(t){function n(n,o){if(t.call(this),(n instanceof e.window.HTMLElement||o)&&(n=e.extend({element:n},o)),e.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick"],this),this._anchor=n&&n.anchor||"center",this._color=n&&n.color||"#3FB1CE",this._draggable=n&&n.draggable||!1,this._state="inactive",n&&n.element)this._element=n.element,this._offset=e.Point.convert(n&&n.offset||[0,0]);else{this._defaultMarker=!0,this._element=r.create("div");var i=r.createNS("http://www.w3.org/2000/svg","svg");i.setAttributeNS(null,"height","41px"),i.setAttributeNS(null,"width","27px"),i.setAttributeNS(null,"viewBox","0 0 27 41");var a=r.createNS("http://www.w3.org/2000/svg","g");a.setAttributeNS(null,"stroke","none"),a.setAttributeNS(null,"stroke-width","1"),a.setAttributeNS(null,"fill","none"),a.setAttributeNS(null,"fill-rule","evenodd");var s=r.createNS("http://www.w3.org/2000/svg","g");s.setAttributeNS(null,"fill-rule","nonzero");var l=r.createNS("http://www.w3.org/2000/svg","g");l.setAttributeNS(null,"transform","translate(3.0, 29.0)"),l.setAttributeNS(null,"fill","#000000");for(var u=0,c=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];u<c.length;u+=1){var p=c[u],h=r.createNS("http://www.w3.org/2000/svg","ellipse");h.setAttributeNS(null,"opacity","0.04"),h.setAttributeNS(null,"cx","10.5"),h.setAttributeNS(null,"cy","5.80029008"),h.setAttributeNS(null,"rx",p.rx),h.setAttributeNS(null,"ry",p.ry),l.appendChild(h)}var f=r.createNS("http://www.w3.org/2000/svg","g");f.setAttributeNS(null,"fill",this._color);var d=r.createNS("http://www.w3.org/2000/svg","path");d.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),f.appendChild(d);var m=r.createNS("http://www.w3.org/2000/svg","g");m.setAttributeNS(null,"opacity","0.25"),m.setAttributeNS(null,"fill","#000000");var y=r.createNS("http://www.w3.org/2000/svg","path");y.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),m.appendChild(y);var v=r.createNS("http://www.w3.org/2000/svg","g");v.setAttributeNS(null,"transform","translate(6.0, 7.0)"),v.setAttributeNS(null,"fill","#FFFFFF");var g=r.createNS("http://www.w3.org/2000/svg","g");g.setAttributeNS(null,"transform","translate(8.0, 8.0)");var _=r.createNS("http://www.w3.org/2000/svg","circle");_.setAttributeNS(null,"fill","#000000"),_.setAttributeNS(null,"opacity","0.25"),_.setAttributeNS(null,"cx","5.5"),_.setAttributeNS(null,"cy","5.5"),_.setAttributeNS(null,"r","5.4999962");var b=r.createNS("http://www.w3.org/2000/svg","circle");b.setAttributeNS(null,"fill","#FFFFFF"),b.setAttributeNS(null,"cx","5.5"),b.setAttributeNS(null,"cy","5.5"),b.setAttributeNS(null,"r","5.4999962"),g.appendChild(_),g.appendChild(b),s.appendChild(l),s.appendChild(f),s.appendChild(m),s.appendChild(v),s.appendChild(g),i.appendChild(s),this._element.appendChild(i),this._offset=e.Point.convert(n&&n.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._popup=null}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.addTo=function(e){return this.remove(),this._map=e,e.getCanvasContainer().appendChild(this._element),e.on("move",this._update),e.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},n.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),delete this._map),r.remove(this._element),this._popup&&this._popup.remove(),this},n.prototype.getLngLat=function(){return this._lngLat},n.prototype.setLngLat=function(t){return this._lngLat=e.LngLat.convert(t),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},n.prototype.getElement=function(){return this._element},n.prototype.setPopup=function(e){if(this._popup&&(this._popup.remove(),this._popup=null),e){if(!("offset"in e.options)){var t=Math.sqrt(Math.pow(13.5,2)/2);e.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[t,-1*(24.6+t)],"bottom-right":[-t,-1*(24.6+t)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=e,this._lngLat&&this._popup.setLngLat(this._lngLat)}return this},n.prototype._onMapClick=function(e){var t=e.originalEvent.target,r=this._element;this._popup&&(t===r||r.contains(t))&&this.togglePopup()},n.prototype.getPopup=function(){return this._popup},n.prototype.togglePopup=function(){var e=this._popup;return e?(e.isOpen()?e.remove():e.addTo(this._map),this):this},n.prototype._update=function(e){this._map&&(this._map.transform.renderWorldCopies&&(this._lngLat=Dn(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset),e&&"moveend"!==e.type||(this._pos=this._pos.round()),r.setTransform(this._element,jn[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px)"),zn(this._element,this._anchor,"marker"))},n.prototype.getOffset=function(){return this._offset},n.prototype.setOffset=function(t){return this._offset=e.Point.convert(t),this._update(),this},n.prototype._onMove=function(t){this._pos=t.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new e.Event("dragstart"))),this.fire(new e.Event("drag"))},n.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new e.Event("dragend")),this._state="inactive"},n.prototype._addDragHandler=function(e){this._element.contains(e.originalEvent.target)&&(e.preventDefault(),this._positionDelta=e.point.sub(this._pos).add(this._offset),this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},n.prototype.setDraggable=function(e){return this._draggable=!!e,this._map&&(e?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},n.prototype.isDraggable=function(){return this._draggable},n}(e.Evented),Bn={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showUserLocation:!0};var Un=function(t){function n(r){t.call(this),this.options=e.extend({},Bn,r),e.bindAll(["_onSuccess","_onError","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.onAdd=function(t){var n;return this._map=t,this._container=r.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),n=this._setupUI,void 0!==Fn?n(Fn):void 0!==e.window.navigator.permissions?e.window.navigator.permissions.query({name:"geolocation"}).then(function(e){Fn="denied"!==e.state,n(Fn)}):(Fn=!!e.window.navigator.geolocation,n(Fn)),this._container},n.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(e.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),r.remove(this._container),this._map=void 0},n.prototype._onSuccess=function(t){if(this.options.trackUserLocation)switch(this._lastKnownPosition=t,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(t),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(t),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new e.Event("geolocate",t)),this._finish()},n.prototype._updateCamera=function(t){var r=new e.LngLat(t.coords.longitude,t.coords.latitude),n=t.coords.accuracy;this._map.fitBounds(r.toBounds(n),this.options.fitBoundsOptions,{geolocateSource:!0})},n.prototype._updateMarker=function(e){e?this._userLocationDotMarker.setLngLat([e.coords.longitude,e.coords.latitude]).addTo(this._map):this._userLocationDotMarker.remove()},n.prototype._onError=function(t){if(this.options.trackUserLocation)if(1===t.code)this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),void 0!==this._geolocationWatchID&&this._clearWatch();else switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new e.Event("error",t)),this._finish()},n.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},n.prototype._setupUI=function(t){var n=this;!1!==t?(this._container.addEventListener("contextmenu",function(e){return e.preventDefault()}),this._geolocateButton=r.create("button","mapboxgl-ctrl-icon mapboxgl-ctrl-geolocate",this._container),this._geolocateButton.type="button",this._geolocateButton.setAttribute("aria-label","Geolocate"),this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=r.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new Nn(this._dotElement),this.options.trackUserLocation&&(this._watchState="OFF")),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(t){t.geolocateSource||"ACTIVE_LOCK"!==n._watchState||(n._watchState="BACKGROUND",n._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),n._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),n.fire(new e.Event("trackuserlocationend")))})):e.warnOnce("Geolocation support is not available, the GeolocateControl will not be visible.")},n.prototype.trigger=function(){if(!this._setup)return e.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new e.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new e.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new e.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}"OFF"===this._watchState&&void 0!==this._geolocationWatchID?this._clearWatch():void 0===this._geolocationWatchID&&(this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._geolocationWatchID=e.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,this.options.positionOptions))}else e.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},n.prototype._clearWatch=function(){e.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},n}(e.Evented),Vn={maxWidth:100,unit:"metric"},Gn=function(t){this.options=e.extend({},Vn,t),e.bindAll(["_onMove","setUnit"],this)};function qn(e,t,r){var n,o,i,a,s,l,u=r&&r.maxWidth||100,c=e._container.clientHeight/2,p=(n=e.unproject([0,c]),o=e.unproject([u,c]),i=Math.PI/180,a=n.lat*i,s=o.lat*i,l=Math.sin(a)*Math.sin(s)+Math.cos(a)*Math.cos(s)*Math.cos((o.lng-n.lng)*i),6371e3*Math.acos(Math.min(l,1)));if(r&&"imperial"===r.unit){var h=3.2808*p;if(h>5280)Hn(t,u,h/5280,"mi");else Hn(t,u,h,"ft")}else if(r&&"nautical"===r.unit){Hn(t,u,p/1852,"nm")}else Hn(t,u,p,"m")}function Hn(e,t,r,n){var o,i,a,s=(o=r,i=Math.pow(10,(""+Math.floor(o)).length-1),a=(a=o/i)>=10?10:a>=5?5:a>=3?3:a>=2?2:a>=1?1:function(e){var t=Math.pow(10,Math.ceil(-Math.log(e)/Math.LN10));return Math.round(e*t)/t}(a),i*a),l=s/r;"m"===n&&s>=1e3&&(s/=1e3,n="km"),e.style.width=t*l+"px",e.innerHTML=s+n}Gn.prototype.getDefaultPosition=function(){return"bottom-left"},Gn.prototype._onMove=function(){qn(this._map,this._container,this.options)},Gn.prototype.onAdd=function(e){return this._map=e,this._container=r.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",e.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},Gn.prototype.onRemove=function(){r.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},Gn.prototype.setUnit=function(e){this.options.unit=e,qn(this._map,this._container,this.options)};var Wn=function(t){this._fullscreen=!1,t&&t.container&&(t.container instanceof e.window.HTMLElement?this._container=t.container:e.warnOnce("Full screen control 'container' must be a DOM element.")),e.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in e.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in e.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in e.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in e.window.document&&(this._fullscreenchange="MSFullscreenChange"),this._className="mapboxgl-ctrl"};Wn.prototype.onAdd=function(t){return this._map=t,this._container||(this._container=this._map.getContainer()),this._controlContainer=r.create("div",this._className+" mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",e.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},Wn.prototype.onRemove=function(){r.remove(this._controlContainer),this._map=null,e.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Wn.prototype._checkFullscreenSupport=function(){return!!(e.window.document.fullscreenEnabled||e.window.document.mozFullScreenEnabled||e.window.document.msFullscreenEnabled||e.window.document.webkitFullscreenEnabled)},Wn.prototype._setupUI=function(){var t=this._fullscreenButton=r.create("button",this._className+"-icon "+this._className+"-fullscreen",this._controlContainer);t.setAttribute("aria-label","Toggle fullscreen"),t.type="button",this._fullscreenButton.addEventListener("click",this._onClickFullscreen),e.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Wn.prototype._isFullscreen=function(){return this._fullscreen},Wn.prototype._changeIcon=function(){(e.window.document.fullscreenElement||e.window.document.mozFullScreenElement||e.window.document.webkitFullscreenElement||e.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle(this._className+"-shrink"),this._fullscreenButton.classList.toggle(this._className+"-fullscreen"))},Wn.prototype._onClickFullscreen=function(){this._isFullscreen()?e.window.document.exitFullscreen?e.window.document.exitFullscreen():e.window.document.mozCancelFullScreen?e.window.document.mozCancelFullScreen():e.window.document.msExitFullscreen?e.window.document.msExitFullscreen():e.window.document.webkitCancelFullScreen&&e.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var Xn={closeButton:!0,closeOnClick:!0,className:""},Zn=function(t){function n(r){t.call(this),this.options=e.extend(Object.create(Xn),r),e.bindAll(["_update","_onClickClose","remove"],this)}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.addTo=function(t){return this._map=t,this._map.on("move",this._update),this.options.closeOnClick&&this._map.on("click",this._onClickClose),this._map.on("remove",this.remove),this._update(),this.fire(new e.Event("open")),this},n.prototype.isOpen=function(){return!!this._map},n.prototype.remove=function(){return this._content&&r.remove(this._content),this._container&&(r.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("click",this._onClickClose),this._map.off("remove",this.remove),delete this._map),this.fire(new e.Event("close")),this},n.prototype.getLngLat=function(){return this._lngLat},n.prototype.setLngLat=function(t){return this._lngLat=e.LngLat.convert(t),this._pos=null,this._update(),this},n.prototype.setText=function(t){return this.setDOMContent(e.window.document.createTextNode(t))},n.prototype.setHTML=function(t){var r,n=e.window.document.createDocumentFragment(),o=e.window.document.createElement("body");for(o.innerHTML=t;r=o.firstChild;)n.appendChild(r);return this.setDOMContent(n)},n.prototype.setDOMContent=function(e){return this._createContent(),this._content.appendChild(e),this._update(),this},n.prototype._createContent=function(){this._content&&r.remove(this._content),this._content=r.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=r.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClickClose))},n.prototype._update=function(){var t=this;if(this._map&&this._lngLat&&this._content){this._container||(this._container=r.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=r.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(e){return t._container.classList.add(e)})),this._map.transform.renderWorldCopies&&(this._lngLat=Dn(this._lngLat,this._pos,this._map.transform));var n=this._pos=this._map.project(this._lngLat),o=this.options.anchor,i=function t(r){if(r){if("number"===typeof r){var n=Math.round(Math.sqrt(.5*Math.pow(r,2)));return{center:new e.Point(0,0),top:new e.Point(0,r),"top-left":new e.Point(n,n),"top-right":new e.Point(-n,n),bottom:new e.Point(0,-r),"bottom-left":new e.Point(n,-n),"bottom-right":new e.Point(-n,-n),left:new e.Point(r,0),right:new e.Point(-r,0)}}if(r instanceof e.Point||Array.isArray(r)){var o=e.Point.convert(r);return{center:o,top:o,"top-left":o,"top-right":o,bottom:o,"bottom-left":o,"bottom-right":o,left:o,right:o}}return{center:e.Point.convert(r.center||[0,0]),top:e.Point.convert(r.top||[0,0]),"top-left":e.Point.convert(r["top-left"]||[0,0]),"top-right":e.Point.convert(r["top-right"]||[0,0]),bottom:e.Point.convert(r.bottom||[0,0]),"bottom-left":e.Point.convert(r["bottom-left"]||[0,0]),"bottom-right":e.Point.convert(r["bottom-right"]||[0,0]),left:e.Point.convert(r.left||[0,0]),right:e.Point.convert(r.right||[0,0])}}return t(new e.Point(0,0))}(this.options.offset);if(!o){var a,s=this._container.offsetWidth,l=this._container.offsetHeight;a=n.y+i.bottom.y<l?["top"]:n.y>this._map.transform.height-l?["bottom"]:[],n.x<s/2?a.push("left"):n.x>this._map.transform.width-s/2&&a.push("right"),o=0===a.length?"bottom":a.join("-")}var u=n.add(i[o]).round();r.setTransform(this._container,jn[o]+" translate("+u.x+"px,"+u.y+"px)"),zn(this._container,o,"popup")}},n.prototype._onClickClose=function(){this.remove()},n}(e.Evented);var Yn={version:e.version,supported:t,setRTLTextPlugin:e.setRTLTextPlugin,Map:In,NavigationControl:Ln,GeolocateControl:Un,AttributionControl:Cn,ScaleControl:Gn,FullscreenControl:Wn,Popup:Zn,Marker:Nn,Style:Mt,LngLat:e.LngLat,LngLatBounds:e.LngLatBounds,Point:e.Point,MercatorCoordinate:e.MercatorCoordinate,Evented:e.Evented,config:e.config,get accessToken(){return e.config.ACCESS_TOKEN},set accessToken(t){e.config.ACCESS_TOKEN=t},get baseApiUrl(){return e.config.API_URL},set baseApiUrl(t){e.config.API_URL=t},get workerCount(){return Ae.workerCount},set workerCount(e){Ae.workerCount=e},get maxParallelImageRequests(){return e.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(t){e.config.MAX_PARALLEL_IMAGE_REQUESTS=t},workerUrl:""};return Yn}),r},e.exports=n()},function(e,t,r){"use strict";function n(e,t,r){void 0===r&&(r={});var n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function o(e,t,r){return void 0===r&&(r={}),n({type:"Point",coordinates:e},t,r)}function i(e,t,r){void 0===r&&(r={});for(var o=0,i=e;o<i.length;o++){var a=i[o];if(a.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<a[a.length-1].length;s++)if(a[a.length-1][s]!==a[0][s])throw new Error("First and last Position are not equivalent.")}return n({type:"Polygon",coordinates:e},t,r)}function a(e,t,r){if(void 0===r&&(r={}),e.length<2)throw new Error("coordinates must be an array of two or more positions");return n({type:"LineString",coordinates:e},t,r)}function s(e,t){void 0===t&&(t={});var r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function l(e,t,r){return void 0===r&&(r={}),n({type:"MultiLineString",coordinates:e},t,r)}function u(e,t,r){return void 0===r&&(r={}),n({type:"MultiPoint",coordinates:e},t,r)}function c(e,t,r){return void 0===r&&(r={}),n({type:"MultiPolygon",coordinates:e},t,r)}function p(e,r){void 0===r&&(r="kilometers");var n=t.factors[r];if(!n)throw new Error(r+" units is invalid");return e*n}function h(e,r){void 0===r&&(r="kilometers");var n=t.factors[r];if(!n)throw new Error(r+" units is invalid");return e/n}function f(e){return 180*(e%(2*Math.PI))/Math.PI}function d(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)&&!/^\s*$/.test(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.earthRadius=6371008.8,t.factors={centimeters:100*t.earthRadius,centimetres:100*t.earthRadius,degrees:t.earthRadius/111325,feet:3.28084*t.earthRadius,inches:39.37*t.earthRadius,kilometers:t.earthRadius/1e3,kilometres:t.earthRadius/1e3,meters:t.earthRadius,metres:t.earthRadius,miles:t.earthRadius/1609.344,millimeters:1e3*t.earthRadius,millimetres:1e3*t.earthRadius,nauticalmiles:t.earthRadius/1852,radians:1,yards:t.earthRadius/1.0936},t.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/t.earthRadius,yards:1/1.0936},t.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:3.86e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046},t.feature=n,t.geometry=function(e,t,r){switch(void 0===r&&(r={}),e){case"Point":return o(t).geometry;case"LineString":return a(t).geometry;case"Polygon":return i(t).geometry;case"MultiPoint":return u(t).geometry;case"MultiLineString":return l(t).geometry;case"MultiPolygon":return c(t).geometry;default:throw new Error(e+" is invalid")}},t.point=o,t.points=function(e,t,r){return void 0===r&&(r={}),s(e.map(function(e){return o(e,t)}),r)},t.polygon=i,t.polygons=function(e,t,r){return void 0===r&&(r={}),s(e.map(function(e){return i(e,t)}),r)},t.lineString=a,t.lineStrings=function(e,t,r){return void 0===r&&(r={}),s(e.map(function(e){return a(e,t)}),r)},t.featureCollection=s,t.multiLineString=l,t.multiPoint=u,t.multiPolygon=c,t.geometryCollection=function(e,t,r){return void 0===r&&(r={}),n({type:"GeometryCollection",geometries:e},t,r)},t.round=function(e,t){if(void 0===t&&(t=0),t&&!(t>=0))throw new Error("precision must be a positive number");var r=Math.pow(10,t||0);return Math.round(e*r)/r},t.radiansToLength=p,t.lengthToRadians=h,t.lengthToDegrees=function(e,t){return f(h(e,t))},t.bearingToAzimuth=function(e){var t=e%360;return t<0&&(t+=360),t},t.radiansToDegrees=f,t.degreesToRadians=function(e){return e%360*Math.PI/180},t.convertLength=function(e,t,r){if(void 0===t&&(t="kilometers"),void 0===r&&(r="kilometers"),!(e>=0))throw new Error("length must be a positive number");return p(h(e,t),r)},t.convertArea=function(e,r,n){if(void 0===r&&(r="meters"),void 0===n&&(n="kilometers"),!(e>=0))throw new Error("area must be a positive number");var o=t.areaFactors[r];if(!o)throw new Error("invalid original units");var i=t.areaFactors[n];if(!i)throw new Error("invalid final units");return e/o*i},t.isNumber=d,t.isObject=function(e){return!!e&&e.constructor===Object},t.validateBBox=function(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach(function(e){if(!d(e))throw new Error("bbox must only contain numbers")})},t.validateId=function(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")},t.radians2degrees=function(){throw new Error("method has been renamed to `radiansToDegrees`")},t.degrees2radians=function(){throw new Error("method has been renamed to `degreesToRadians`")},t.distanceToDegrees=function(){throw new Error("method has been renamed to `lengthToDegrees`")},t.distanceToRadians=function(){throw new Error("method has been renamed to `lengthToRadians`")},t.radiansToDistance=function(){throw new Error("method has been renamed to `radiansToLength`")},t.bearingToAngle=function(){throw new Error("method has been renamed to `bearingToAzimuth`")},t.convertDistance=function(){throw new Error("method has been renamed to `convertLength`")}},function(e,t,r){"use strict";t.d=function(){if(!f.a.editMode)return;var e=new k;f.a.map.addControl(e,"top-left"),a.a.render(o.a.createElement(l.a,null),e._container),f.a.map.on("draw.create",function(e){if(e.features&&e.features.length)if(Object(y.a)("draw.create.1"),f.a.activeFeature&&f.a.activeFeature.editing){Object(y.a)("draw.create.2");var t=e.features[0];if(!t)return Object(y.b)("disableEdit missing editedFeature"),void C();if(t.id!==f.a.activeFeature.id)return Object(y.b)("disableEdit id mismatch"),void C();Object(y.a)("draw.create.3"),f.a.activeFeature.setGeometry(t.geometry),f.a.activeFeature.setEditing(!1),Object(y.a)("draw.create.4"),window.setTimeout(function(){C()},0)}else{Object(y.a)("draw.create.5");var r=p.a.addFeature({geometry:e.features[0].geometry,properties:{title:"New item",label:"label"===f.a.editableState}});h.a.simplify&&f.a.map.getZoom()<h.a.simplify&&["point","label"].includes(r.type)&&f.a.map.easeTo({center:r.getCenter(),zoom:h.a.simplify+.5}),f.a&&Object(y.a)("draw.create.6"),f.a.saveOn(),window.setTimeout(function(){Object(y.a)("draw.create.7"),f.a.activateFeature(r,{skipDrawWarning:!0}),r.titleTextarea&&r.titleTextarea.select(),Object(y.a)("draw.create.8"),C(),Object(y.a)("draw.create.9")},0)}else Object(y.b)("draw.create no feature")})},t.c=S,t.b=C,t.e=function(e){var t=e.newMode;if(!f.a.editMode)return;Object(y.a)("updateMode: start",{newMode:t}),f.a.activeFeature&&f.a.activeFeature.disableEdit();C(),f.a.deactivateAll(),f.a.setEditorTool(t),"multi_select"===t&&Object(x.b)();"point"!==t&&"label"!==t||S({mode:"draw_point"});"polyline"===t&&S({mode:"draw_line_string"});"polygon"===t&&S({mode:"draw_polygon"});"image"===t&&d.a.showCustom(o.a.createElement(s.a,null),function(){f.a.setEditorTool("select")},"Close");f.a.setPanelState("item"),Object(y.a)("updateMode: done")},t.a=function(){if(!f.a.draw||!["direct_select","draw_line_string"].includes(f.a.draw.getMode()))return;f.a.draw.trash()};var n=r(0),o=r.n(n),i=r(37),a=r.n(i),s=r(588),l=r(650),u=r(651),c=r.n(u),p=r(18),h=r(23),f=r(1),d=r(15),m=r(194),y=r(5),v=r(695),g=r(696),_=r(697),b=r.n(_),x=r(277),w=r(698),E=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function S(e){var t=e.mode,r=e.feature;Object(y.a)("enableDraw: "+t,r),f.a.isIE11?Object(m.a)():(f.a.map.doubleClickZoom.disable(),f.a.draw=new c.a({keybindings:!1,boxSelect:!1,defaultMode:"simple_select",clickBuffer:8,styles:b.a,modes:{simple_select:w.a,direct_select:v.a,draw_point:c.a.modes.draw_point,draw_line_string:g.a,draw_polygon:c.a.modes.draw_polygon},displayControlsDefault:!1}),f.a.map.addControl(f.a.draw,"bottom-left"),r&&["polygon","polyline"].includes(r.type)?(f.a.draw.add(r.geojsonMapBox),f.a.draw.changeMode("direct_select",{featureId:r.id}),f.a.setEditorTool(r.type)):f.a.draw.changeMode(t))}function C(){f.a.draw&&(Object(y.a)("disableDraw"),f.a.draw.changeMode("simple_select"),f.a.map.removeControl(f.a.draw),f.a.draw=null,f.a.setEditorTool("select"),f.a.map.doubleClickZoom.enable())}var k=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return E(e,[{key:"onAdd",value:function(){return this._container=document.createElement("div"),this._container.className="mapboxgl-ctrl map-bar maphub-edit-control",this._container.addEventListener("contextmenu",function(e){return e.preventDefault()}),this._container}},{key:"onRemove",value:function(){this._container.parentNode.removeChild(this._container)}}]),e}()},function(e,t,r){"use strict";t.a=function(e){return getComputedStyle(e)},t.b=function(e,t){for(var r in t){var n=t[r];"number"===typeof n&&(n+="px"),e.style[r]=n}return e}},function(e,t,r){"use strict";t.a=i,t.c=a,t.d=function(e,t){i(e,t),a(e,t)};var n={main:"ps",element:{thumb:function(e){return"ps__thumb-"+e},rail:function(e){return"ps__rail-"+e},consuming:"ps__child--consume"},state:{focus:"ps--focus",clicking:"ps--clicking",active:function(e){return"ps--active-"+e},scrolling:function(e){return"ps--scrolling-"+e}}};t.b=n;var o={x:null,y:null};function i(e,t){var r=e.element.classList,i=n.state.scrolling(t);r.contains(i)?clearTimeout(o[t]):r.add(i)}function a(e,t){o[t]=setTimeout(function(){return e.isAlive&&e.element.classList.remove(n.state.scrolling(t))},e.settings.scrollingThreshold)}},function(e,t,r){"use strict";var n=r(76),o=r(98),i=r(77),a=r(79);function s(e,t){return e.settings.minScrollbarLength&&(t=Math.max(t,e.settings.minScrollbarLength)),e.settings.maxScrollbarLength&&(t=Math.min(t,e.settings.maxScrollbarLength)),t}t.a=function(e){var t=e.element,r=Math.floor(t.scrollTop);e.containerWidth=t.clientWidth,e.containerHeight=t.clientHeight,e.contentWidth=t.scrollWidth,e.contentHeight=t.scrollHeight,t.contains(e.scrollbarXRail)||(o.c(t,i.b.element.rail("x")).forEach(function(e){return o.d(e)}),t.appendChild(e.scrollbarXRail)),t.contains(e.scrollbarYRail)||(o.c(t,i.b.element.rail("y")).forEach(function(e){return o.d(e)}),t.appendChild(e.scrollbarYRail)),!e.settings.suppressScrollX&&e.containerWidth+e.settings.scrollXMarginOffset<e.contentWidth?(e.scrollbarXActive=!0,e.railXWidth=e.containerWidth-e.railXMarginWidth,e.railXRatio=e.containerWidth/e.railXWidth,e.scrollbarXWidth=s(e,Object(a.d)(e.railXWidth*e.containerWidth/e.contentWidth)),e.scrollbarXLeft=Object(a.d)((e.negativeScrollAdjustment+t.scrollLeft)*(e.railXWidth-e.scrollbarXWidth)/(e.contentWidth-e.containerWidth))):e.scrollbarXActive=!1,!e.settings.suppressScrollY&&e.containerHeight+e.settings.scrollYMarginOffset<e.contentHeight?(e.scrollbarYActive=!0,e.railYHeight=e.containerHeight-e.railYMarginHeight,e.railYRatio=e.containerHeight/e.railYHeight,e.scrollbarYHeight=s(e,Object(a.d)(e.railYHeight*e.containerHeight/e.contentHeight)),e.scrollbarYTop=Object(a.d)(r*(e.railYHeight-e.scrollbarYHeight)/(e.contentHeight-e.containerHeight))):e.scrollbarYActive=!1,e.scrollbarXLeft>=e.railXWidth-e.scrollbarXWidth&&(e.scrollbarXLeft=e.railXWidth-e.scrollbarXWidth),e.scrollbarYTop>=e.railYHeight-e.scrollbarYHeight&&(e.scrollbarYTop=e.railYHeight-e.scrollbarYHeight),function(e,t){var r={width:t.railXWidth},o=Math.floor(e.scrollTop);t.isRtl?r.left=t.negativeScrollAdjustment+e.scrollLeft+t.containerWidth-t.contentWidth:r.left=e.scrollLeft;t.isScrollbarXUsingBottom?r.bottom=t.scrollbarXBottom-o:r.top=t.scrollbarXTop+o;n.b(t.scrollbarXRail,r);var i={top:o,height:t.railYHeight};t.isScrollbarYUsingRight?t.isRtl?i.right=t.contentWidth-(t.negativeScrollAdjustment+e.scrollLeft)-t.scrollbarYRight-t.scrollbarYOuterWidth:i.right=t.scrollbarYRight-e.scrollLeft:t.isRtl?i.left=t.negativeScrollAdjustment+e.scrollLeft+2*t.containerWidth-t.contentWidth-t.scrollbarYLeft-t.scrollbarYOuterWidth:i.left=t.scrollbarYLeft+e.scrollLeft;n.b(t.scrollbarYRail,i),n.b(t.scrollbarX,{left:t.scrollbarXLeft,width:t.scrollbarXWidth-t.railBorderXWidth}),n.b(t.scrollbarY,{top:t.scrollbarYTop,height:t.scrollbarYHeight-t.railBorderYWidth})}(t,e),e.scrollbarXActive?t.classList.add(i.b.state.active("x")):(t.classList.remove(i.b.state.active("x")),e.scrollbarXWidth=0,e.scrollbarXLeft=0,t.scrollLeft=0),e.scrollbarYActive?t.classList.add(i.b.state.active("y")):(t.classList.remove(i.b.state.active("y")),e.scrollbarYHeight=0,e.scrollbarYTop=0,t.scrollTop=0)}},function(e,t,r){"use strict";t.d=i,t.b=function(e){return o.b(e,"input,[contenteditable]")||o.b(e,"select,[contenteditable]")||o.b(e,"textarea,[contenteditable]")||o.b(e,"button,[contenteditable]")},t.c=function(e){var t=n.a(e);return i(t.width)+i(t.paddingLeft)+i(t.paddingRight)+i(t.borderLeftWidth)+i(t.borderRightWidth)},r.d(t,"a",function(){return a});var n=r(76),o=r(98);function i(e){return parseInt(e,10)||0}var a={isWebKit:"undefined"!==typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!==typeof window&&("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!==typeof navigator&&navigator.msMaxTouchPoints,isChrome:"undefined"!==typeof navigator&&/Chrome/i.test(navigator&&navigator.userAgent)}},function(e,t,r){"use strict";var n,o=r(22),i=r(719),a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function s(e,t,r,n,o){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var l=new(s((n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.markerArray=o.m.array()}return a(e,[{key:"addMarker",value:function(e){if(!this.markerMap.has(e.id)){var t=new i.a(e);return this.markerArray.push(t),t}}},{key:"removeMarker",value:function(e){if(e){var t=this.markerArray.findIndex(function(t){return t.id===e.id});this.markerArray.splice(t,1)}}},{key:"clear",value:function(){this.markerArray.clear()}},{key:"markerMap",get:function(){return new Map(this.markerArray.map(function(e){return[e.id,e]}))}},{key:"count",get:function(){return this.markerArray.length}}]),e}()).prototype,"markerMap",[o.f],Object.getOwnPropertyDescriptor(n.prototype,"markerMap"),n.prototype),s(n.prototype,"count",[o.f],Object.getOwnPropertyDescriptor(n.prototype,"count"),n.prototype),s(n.prototype,"addMarker",[o.d],Object.getOwnPropertyDescriptor(n.prototype,"addMarker"),n.prototype),s(n.prototype,"removeMarker",[o.d],Object.getOwnPropertyDescriptor(n.prototype,"removeMarker"),n.prototype),s(n.prototype,"clear",[o.d],Object.getOwnPropertyDescriptor(n.prototype,"clear"),n.prototype),n);t.a=l},function(e,t,r){"use strict";r.d(t,"a",function(){return p});var n=r(8),o=r.n(n),i=r(0),a=r.n(i),s=r(124),l=r.n(s),u=r(5),c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),c(t,[{key:"render",value:function(){var e=this.props,t=e.text,r=e.icon,n=e.iconName,i=e.additionalClasses,s=e.style,c=Boolean(this.props.disabled);if(r)return Object(u.b)("icon used: "+r),null;var p,h,f,d="";return n&&!(d=l.a[n]||"")?(Object(u.b)("icon not found: "+n),null):a.a.createElement("span",{className:o()("button",i,(p={"button-disabled":c,icon:n},h="icon-"+d,f=n,h in p?Object.defineProperty(p,h,{value:f,enumerable:!0,configurable:!0,writable:!0}):p[h]=f,p)),title:n&&t,onClick:c?null:this.props.onClick,style:s},!n&&t)}}]),t}()},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports={}},function(e,t,r){"use strict";var n=r(10);r.n(n)},function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+n).toString(36))}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){e.exports={}},function(e,t,r){var n=r(222),o=r(152);e.exports=Object.keys||function(e){return n(e,o)}},function(e,t,r){var n=r(147),o=Math.min;e.exports=function(e){return e>0?o(n(e),9007199254740991):0}},function(e,t,r){"use strict";e.exports=function(e){for(var t=arguments.length-1,r="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,n=0;n<t;n++)r+="&args[]="+encodeURIComponent(arguments[n+1]);r+=" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";var o=new Error(r);throw o.name="Invariant Violation",o.framesToPop=1,o}},function(e,t,r){"use strict";var n={};e.exports=n},function(e,t,r){"use strict";var n=r(93),o=r(157),i=r(249),a=r(250),s=(r(9),n.getListener);function l(e,t,r){var n=function(e,t,r){var n=t.dispatchConfig.phasedRegistrationNames[r];return s(e,n)}(e,r,t);n&&(r._dispatchListeners=i(r._dispatchListeners,n),r._dispatchInstances=i(r._dispatchInstances,e))}function u(e){e&&e.dispatchConfig.phasedRegistrationNames&&o.traverseTwoPhase(e._targetInst,l,e)}function c(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst,r=t?o.getParentInstance(t):null;o.traverseTwoPhase(r,l,e)}}function p(e,t,r){if(r&&r.dispatchConfig.registrationName){var n=r.dispatchConfig.registrationName,o=s(e,n);o&&(r._dispatchListeners=i(r._dispatchListeners,o),r._dispatchInstances=i(r._dispatchInstances,e))}}function h(e){e&&e.dispatchConfig.registrationName&&p(e._targetInst,0,e)}var f={accumulateTwoPhaseDispatches:function(e){a(e,u)},accumulateTwoPhaseDispatchesSkipTarget:function(e){a(e,c)},accumulateDirectDispatches:function(e){a(e,h)},accumulateEnterLeaveDispatches:function(e,t,r,n){o.traverseEnterLeave(r,n,p,e,t)}};e.exports=f},function(e,t,r){"use strict";var n=r(7),o=r(156),i=r(157),a=r(158),s=r(249),l=r(250),u=(r(2),{}),c=null,p=function(e,t){e&&(i.executeDispatchesInOrder(e,t),e.isPersistent()||e.constructor.release(e))},h=function(e){return p(e,!0)},f=function(e){return p(e,!1)},d=function(e){return"."+e._rootNodeID};var m={injection:{injectEventPluginOrder:o.injectEventPluginOrder,injectEventPluginsByName:o.injectEventPluginsByName},putListener:function(e,t,r){"function"!==typeof r&&n("94",t,typeof r);var i=d(e);(u[t]||(u[t]={}))[i]=r;var a=o.registrationNameModules[t];a&&a.didPutListener&&a.didPutListener(e,t,r)},getListener:function(e,t){var r=u[t];if(function(e,t,r){switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":return!(!r.disabled||(n=t,"button"!==n&&"input"!==n&&"select"!==n&&"textarea"!==n));default:return!1}var n}(t,e._currentElement.type,e._currentElement.props))return null;var n=d(e);return r&&r[n]},deleteListener:function(e,t){var r=o.registrationNameModules[t];r&&r.willDeleteListener&&r.willDeleteListener(e,t);var n=u[t];n&&delete n[d(e)]},deleteAllListeners:function(e){var t=d(e);for(var r in u)if(u.hasOwnProperty(r)&&u[r][t]){var n=o.registrationNameModules[r];n&&n.willDeleteListener&&n.willDeleteListener(e,r),delete u[r][t]}},extractEvents:function(e,t,r,n){for(var i,a=o.plugins,l=0;l<a.length;l++){var u=a[l];if(u){var c=u.extractEvents(e,t,r,n);c&&(i=s(i,c))}}return i},enqueueEvents:function(e){e&&(c=s(c,e))},processEventQueue:function(e){var t=c;c=null,l(t,e?h:f),c&&n("95"),a.rethrowCaughtError()},__purge:function(){u={}},__getListenerBank:function(){return u}};e.exports=m},function(e,t,r){"use strict";var n=r(46),o=r(159),i={view:function(e){if(e.view)return e.view;var t=o(e);if(t.window===t)return t;var r=t.ownerDocument;return r?r.defaultView||r.parentWindow:window},detail:function(e){return e.detail||0}};function a(e,t,r,o){return n.call(this,e,t,r,o)}n.augmentClass(a,i),e.exports=a},function(e,t,r){"use strict";var n={remove:function(e){e._reactInternalInstance=void 0},get:function(e){return e._reactInternalInstance},has:function(e){return void 0!==e._reactInternalInstance},set:function(e,t){e._reactInternalInstance=t}};e.exports=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r(502)),o=s(r(503)),i=s(r(504)),a=s(r(505));function s(e){return e&&e.__esModule?e:{default:e}}var l={state:{detectHover:n.default,detectPointer:o.default,detectTouchEvents:i.default,detectPassiveEvents:a.default},update:function(){l.state.detectHover.update(),l.state.detectPointer.update(),l.state.detectTouchEvents.update(),l.state.detectPassiveEvents.update(),l.updateOnlyOwnProperties()},updateOnlyOwnProperties:function(){if("undefined"!==typeof window){l.passiveEvents=l.state.detectPassiveEvents.hasSupport||!1,l.hasTouch=l.state.detectTouchEvents.hasSupport||!1,l.deviceType=(t=l.hasTouch,r=l.state.detectHover.anyHover,n=l.state.detectPointer.anyFine,o=l.state,t&&(r||n)?"hybrid":t&&Object.keys(o.detectHover).filter(function(e){return"update"!==e}).every(function(e){return!1===o.detectHover[e]})&&Object.keys(o.detectPointer).filter(function(e){return"update"!==e}).every(function(e){return!1===o.detectPointer[e]})?window.navigator&&/android/.test(window.navigator.userAgent.toLowerCase())?"touchOnly":"hybrid":t?"touchOnly":"mouseOnly"),l.hasMouse="touchOnly"!==l.deviceType,l.primaryInput=("mouseOnly"===l.deviceType?"mouse":"touchOnly"===l.deviceType&&"touch")||l.state.detectPointer.fine&&"mouse"||l.state.detectPointer.coarse&&"touch"||"mouse";/windows/.test(window.navigator.userAgent.toLowerCase())&&/chrome/.test(window.navigator.userAgent.toLowerCase())&&((e=parseInt(/Chrome\/([0-9.]+)/.exec(navigator.userAgent)[1],10))>=59&&e<62)&&l.hasTouch&&(l.deviceType="hybrid",l.hasMouse=!0,l.primaryInput="mouse")}var e,t,r,n,o}};l.updateOnlyOwnProperties(),t.default=l},function(e,t){e.exports={enable:function(e){setTimeout(function(){e.map&&e.map.doubleClickZoom&&e._ctx&&e._ctx.store&&e._ctx.store.getInitialConfigValue&&e._ctx.store.getInitialConfigValue("doubleClickZoom")&&e.map.doubleClickZoom.enable()},0)},disable:function(e){setTimeout(function(){e.map&&e.map.doubleClickZoom&&e.map.doubleClickZoom.disable()},0)}}},function(e,t,r){"use strict";t.a=function(e){var t=document.createElement("div");return t.className=e,t},t.b=o,t.d=function(e){e.remove?e.remove():e.parentNode&&e.parentNode.removeChild(e)},t.c=function(e,t){return Array.prototype.filter.call(e.children,function(e){return o(e,t)})};var n="undefined"!==typeof Element&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function o(e,t){if(!n)throw new Error("No element matching method supported");return n.call(e,t)}},function(e,t,r){"use strict";var n,o,i,a,s,l,u=r(8),c=r.n(u),p=r(307),h=r.n(p),f=r(73),d=r.n(f),m=r(22),y=r(283),v=r.n(y),g=r(75),_=r(195),b=r(724),x=r(63),w=r(5),E=r(20),S=r(18),C=r(1),k=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),T=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function O(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function P(e,t,r,n,o){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var A=(n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),O(this,"searchText",o,this),O(this,"message",i,this),O(this,"waiting",a,this),O(this,"selectedId",s,this),O(this,"expanded",l,this),this.results=m.m.array(),this.search=h()(function(){this.searchFor(this.searchText)},1e3,{leading:!0,trailing:!1})}return T(e,[{key:"setInputText",value:function(e){this.searchText=e}},{key:"setMessage",value:function(e){this.message=e}},{key:"setExpanded",value:function(e){this.expanded=e}},{key:"reset",value:function(e){var t=e.text,r=void 0===t||t,n=e.marker,o=void 0===n||n;r&&(this.searchText=""),o&&this.removeSearchMarker(),this.message="",this.selectedId=null,this.results.clear()}},{key:"addResult",value:function(e){this.results.push(e)}},{key:"setWaiting",value:function(e){this.waiting=e}},{key:"searchFor",value:function(e){var t=this;this.setWaiting(!0),Object(g.e)({newMode:"select"});var r={q:e,language:"en",no_annotations:1,no_record:1,key:"03913b2b15c34fac8781ee256057c022"};v.a.get("https://api.opencagedata.com/geocode/v1/json").query(r).end(function(r,n){if(t.setWaiting(!1),n&&n.ok&&n.body)if(200===n.body.status.code){t.reset({text:!1}),n.body.results.length||t.setMessage("No results were found."),C.a.map.once("click",function(){t.reset({})});var o=!0,i=!1,a=void 0;try{for(var s,l=n.body.results.entries()[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var u=s.value,c=k(u,2),p=c[0],h=I(c[1]);h.id=p,t.addResult(h)}}catch(r){i=!0,a=r}finally{try{!o&&l.return&&l.return()}finally{if(i)throw a}}}else{var f="Error with OpenCageData Search: res\n";f+='search text: "'+e+'"\n',r&&(f+='error: "'+r+'"\n'),n&&n.body&&n.body.status&&(f+='status code: "'+n.body.status.code+'"\nstatus message: "'+n.body.status.message+'"\n'),Object(w.b)(f)}})}},{key:"activateResult",value:function(e){if(this.selectedId=e.id,this.searchText=e.text,e.boundsNorthEast.lat){var t=e.getBounds();C.a.map.fitBounds(t,{maxZoom:16,padding:C.a.paddingSize,linear:!0,animate:!1})}else C.a.map.jumpTo({center:e.getPosition(),zoom:12});this.showSearchMarker(e.text,e.getPosition()),C.a.mobile&&this.reset({marker:!1})}},{key:"activateSelected",value:function(){this.activateResult(this.selected)}},{key:"moveSelectionDown",value:function(){this.hasResults&&(null===this.selectedId?this.selectedId=0:(this.selectedId+=1,this.selectedId=Object(E.i)(this.selectedId,this.results.length)),this.activateSelected())}},{key:"moveSelectionUp",value:function(){this.hasResults&&(null===this.selectedId?this.selectedId=this.results.length-1:(this.selectedId-=1,this.selectedId=Object(E.i)(this.selectedId,this.results.length)),this.activateSelected())}},{key:"showSearchMarker",value:function(e,t){var r=this;this.removeSearchMarker(),C.a.map.getSource("search").setData({type:"Point",coordinates:t});var n=Object(x.c)("div",{className:c()("maphub-popup-inner","maphub-popup-text"),children:[Object(x.c)("div",{className:c()("nicetext",{"ui-font":C.a.hasCyrillicData}),children:[Object(x.c)("h1",{innerHTML:e}),Object(x.c)("span",{className:"map-search-popup-savebox",children:[Object(x.c)("span",{className:"button",textContent:"Add",onclick:function(){return r.saveSearchResult(e,t)}})]})]})]});this.popup=new d.a.Popup({anchor:"bottom",offset:[0,-40],closeButton:!1}).setLngLat(t).setDOMContent(n).addTo(C.a.map),this.popup.once("close",function(){C.a.map.getSource("search").setData(Object(_.a)())})}},{key:"removeSearchMarker",value:function(){C.a.map.getSource("search").setData(Object(_.a)()),this.popup&&this.popup.remove()}},{key:"saveSearchResult",value:function(e,t){this.reset({});var r={type:"Point",coordinates:t},n=S.a.addFeature({geometry:r,properties:{title:e}});C.a.activateFeature(n),C.a.saveOn()}},{key:"selected",get:function(){return this.hasResults?null===this.selectedId?null:this.results[this.selectedId]:null}},{key:"hasResults",get:function(){return!!this.results.length}}]),e}(),o=P(n.prototype,"searchText",[m.m],{enumerable:!0,initializer:function(){return""}}),i=P(n.prototype,"message",[m.m],{enumerable:!0,initializer:function(){return""}}),a=P(n.prototype,"waiting",[m.m],{enumerable:!0,initializer:function(){return!1}}),s=P(n.prototype,"selectedId",[m.m],{enumerable:!0,initializer:function(){return null}}),l=P(n.prototype,"expanded",[m.m],{enumerable:!0,initializer:function(){return!1}}),P(n.prototype,"selected",[m.f],Object.getOwnPropertyDescriptor(n.prototype,"selected"),n.prototype),P(n.prototype,"hasResults",[m.f],Object.getOwnPropertyDescriptor(n.prototype,"hasResults"),n.prototype),P(n.prototype,"setInputText",[m.d],Object.getOwnPropertyDescriptor(n.prototype,"setInputText"),n.prototype),P(n.prototype,"setMessage",[m.d],Object.getOwnPropertyDescriptor(n.prototype,"setMessage"),n.prototype),P(n.prototype,"setExpanded",[m.d],Object.getOwnPropertyDescriptor(n.prototype,"setExpanded"),n.prototype),P(n.prototype,"reset",[m.d],Object.getOwnPropertyDescriptor(n.prototype,"reset"),n.prototype),P(n.prototype,"addResult",[m.d],Object.getOwnPropertyDescriptor(n.prototype,"addResult"),n.prototype),P(n.prototype,"setWaiting",[m.d],Object.getOwnPropertyDescriptor(n.prototype,"setWaiting"),n.prototype),P(n.prototype,"searchFor",[m.d],Object.getOwnPropertyDescriptor(n.prototype,"searchFor"),n.prototype),P(n.prototype,"activateResult",[m.d],Object.getOwnPropertyDescriptor(n.prototype,"activateResult"),n.prototype),P(n.prototype,"moveSelectionDown",[m.d],Object.getOwnPropertyDescriptor(n.prototype,"moveSelectionDown"),n.prototype),P(n.prototype,"moveSelectionUp",[m.d],Object.getOwnPropertyDescriptor(n.prototype,"moveSelectionUp"),n.prototype),n);function I(e){var t=new b.a;return e.bounds&&(t.boundsNorthEast.lat=e.bounds.northeast.lat,t.boundsNorthEast.lng=e.bounds.northeast.lng,t.boundsSouthWest.lat=e.bounds.southwest.lat,t.boundsSouthWest.lng=e.bounds.southwest.lng),t.text=e.formatted,t.position.lat=e.geometry.lat,t.position.lng=e.geometry.lng,t}t.a=new A},function(e,t){e.exports=!0},function(e,t,r){var n=r(136);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,o){return e.call(t,r,n,o)}}return function(){return e.apply(t,arguments)}}},function(e,t,r){var n=r(316),o=r(204);e.exports=Object.keys||function(e){return n(e,o)}},function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t,r){"use strict";function n(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function o(e){this.setState(function(t){var r=this.constructor.getDerivedStateFromProps(e,t);return null!==r&&void 0!==r?r:null}.bind(this))}function i(e,t){try{var r=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}function a(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var r=null,a=null,s=null;if("function"===typeof t.componentWillMount?r="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(r="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?a="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?s="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==r||null!==a||null!==s){var l=e.displayName||e.name,u="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+l+" uses "+u+" but also contains the following legacy lifecycles:"+(null!==r?"\n  "+r:"")+(null!==a?"\n  "+a:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=n,t.componentWillReceiveProps=o),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=i;var c=t.componentDidUpdate;t.componentDidUpdate=function(e,t,r){var n=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:r;c.call(this,e,t,n)}}return e}r.d(t,"a",function(){return a}),n.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0},function(e,t,r){"use strict";r.d(t,"a",function(){return s}),r.d(t,"b",function(){return l});var n=r(785),o=r.n(n),i=r(800),a=r(10),s=(r.n(a),function(e){return Object(i.a)(e.id)}),l=function(e,t){var r=void 0;o.a.resolve().then(function(){r=Date.now()});var n={id:Object(i.b)(function o(){Date.now()-r>=t?e.call():n.id=Object(i.b)(o)})};return n}},function(e,t,r){"use strict";var n=r(10);r.n(n)},function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t){e.exports=!1},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,r){var n=r(44).f,o=r(59),i=r(21)("toStringTag");e.exports=function(e,t,r){e&&!o(e=r?e:e.prototype,i)&&n(e,i,{configurable:!0,value:t})}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,r){"use strict";var n=r(7),o=(r(2),{}),i={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(e,t,r,o,i,a,s,l){var u,c;this.isInTransaction()&&n("27");try{this._isInTransaction=!0,u=!0,this.initializeAll(0),c=e.call(t,r,o,i,a,s,l),u=!1}finally{try{if(u)try{this.closeAll(0)}catch(e){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return c},initializeAll:function(e){for(var t=this.transactionWrappers,r=e;r<t.length;r++){var n=t[r];try{this.wrapperInitData[r]=o,this.wrapperInitData[r]=n.initialize?n.initialize.call(this):null}finally{if(this.wrapperInitData[r]===o)try{this.initializeAll(r+1)}catch(e){}}}},closeAll:function(e){this.isInTransaction()||n("28");for(var t=this.transactionWrappers,r=e;r<t.length;r++){var i,a=t[r],s=this.wrapperInitData[r];try{i=!0,s!==o&&a.close&&a.close.call(this,s),i=!1}finally{if(i)try{this.closeAll(r+1)}catch(e){}}}this.wrapperInitData.length=0}};e.exports=i},function(e,t,r){"use strict";var n=r(94),o=r(256),i={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:r(161),button:function(e){var t=e.button;return"which"in e?t:2===t?2:4===t?1:0},buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},pageX:function(e){return"pageX"in e?e.pageX:e.clientX+o.currentScrollLeft},pageY:function(e){return"pageY"in e?e.pageY:e.clientY+o.currentScrollTop}};function a(e,t,r,o){return n.call(this,e,t,r,o)}n.augmentClass(a,i),e.exports=a},function(e,t,r){"use strict";var n,o=r(27),i=r(163),a=/^[ \r\n\t\f]/,s=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,l=r(164)(function(e,t){if(e.namespaceURI!==i.svg||"innerHTML"in e)e.innerHTML=t;else{(n=n||document.createElement("div")).innerHTML="<svg>"+t+"</svg>";for(var r=n.firstChild;r.firstChild;)e.appendChild(r.firstChild)}});if(o.canUseDOM){var u=document.createElement("div");u.innerHTML=" ",""===u.innerHTML&&(l=function(e,t){if(e.parentNode&&e.parentNode.replaceChild(e,e),a.test(t)||"<"===t[0]&&s.test(t)){e.innerHTML=String.fromCharCode(65279)+t;var r=e.firstChild;1===r.data.length?e.removeChild(r):r.deleteData(0,1)}else e.innerHTML=t}),u=null}e.exports=l},function(e,t,r){"use strict";var n=/["'&<>]/;e.exports=function(e){return"boolean"===typeof e||"number"===typeof e?""+e:function(e){var t,r=""+e,o=n.exec(r);if(!o)return r;var i="",a=0,s=0;for(a=o.index;a<r.length;a++){switch(r.charCodeAt(a)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}s!==a&&(i+=r.substring(s,a)),s=a+1,i+=t}return s!==a?i+r.substring(s,a):i}(e)}},function(e,t,r){"use strict";var n,o=r(12),i=r(156),a=r(457),s=r(256),l=r(458),u=r(160),c={},p=!1,h=0,f={topAbort:"abort",topAnimationEnd:l("animationend")||"animationend",topAnimationIteration:l("animationiteration")||"animationiteration",topAnimationStart:l("animationstart")||"animationstart",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:l("transitionend")||"transitionend",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},d="_reactListenersID"+String(Math.random()).slice(2);var m=o({},a,{ReactEventListener:null,injection:{injectReactEventListener:function(e){e.setHandleTopLevel(m.handleTopLevel),m.ReactEventListener=e}},setEnabled:function(e){m.ReactEventListener&&m.ReactEventListener.setEnabled(e)},isEnabled:function(){return!(!m.ReactEventListener||!m.ReactEventListener.isEnabled())},listenTo:function(e,t){for(var r=t,n=function(e){return Object.prototype.hasOwnProperty.call(e,d)||(e[d]=h++,c[e[d]]={}),c[e[d]]}(r),o=i.registrationNameDependencies[e],a=0;a<o.length;a++){var s=o[a];n.hasOwnProperty(s)&&n[s]||("topWheel"===s?u("wheel")?m.ReactEventListener.trapBubbledEvent("topWheel","wheel",r):u("mousewheel")?m.ReactEventListener.trapBubbledEvent("topWheel","mousewheel",r):m.ReactEventListener.trapBubbledEvent("topWheel","DOMMouseScroll",r):"topScroll"===s?u("scroll",!0)?m.ReactEventListener.trapCapturedEvent("topScroll","scroll",r):m.ReactEventListener.trapBubbledEvent("topScroll","scroll",m.ReactEventListener.WINDOW_HANDLE):"topFocus"===s||"topBlur"===s?(u("focus",!0)?(m.ReactEventListener.trapCapturedEvent("topFocus","focus",r),m.ReactEventListener.trapCapturedEvent("topBlur","blur",r)):u("focusin")&&(m.ReactEventListener.trapBubbledEvent("topFocus","focusin",r),m.ReactEventListener.trapBubbledEvent("topBlur","focusout",r)),n.topBlur=!0,n.topFocus=!0):f.hasOwnProperty(s)&&m.ReactEventListener.trapBubbledEvent(s,f[s],r),n[s]=!0)}},trapBubbledEvent:function(e,t,r){return m.ReactEventListener.trapBubbledEvent(e,t,r)},trapCapturedEvent:function(e,t,r){return m.ReactEventListener.trapCapturedEvent(e,t,r)},supportsEventPageXY:function(){if(!document.createEvent)return!1;var e=document.createEvent("MouseEvent");return null!=e&&"pageX"in e},ensureScrollValueMonitoring:function(){if(void 0===n&&(n=m.supportsEventPageXY()),!n&&!p){var e=s.refreshScrollValues;m.ReactEventListener.monitorScrollValue(e),p=!0}}});e.exports=m},function(e,t,r){(function(t){var r=Object.assign?Object.assign:function(e,t,r,n){for(var o=1;o<arguments.length;o++)s(Object(arguments[o]),function(t,r){e[r]=t});return e},n=function(){if(Object.create)return function(e,t,n,o){var i=a(arguments,1);return r.apply(this,[Object.create(e)].concat(i))};{function e(){}return function(t,n,o,i){var s=a(arguments,1);return e.prototype=t,r.apply(this,[new e].concat(s))}}}(),o=String.prototype.trim?function(e){return String.prototype.trim.call(e)}:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},i="undefined"!==typeof window?window:t;function a(e,t){return Array.prototype.slice.call(e,t||0)}function s(e,t){l(e,function(e,r){return t(e,r),!1})}function l(e,t){if(u(e)){for(var r=0;r<e.length;r++)if(t(e[r],r))return e[r]}else for(var n in e)if(e.hasOwnProperty(n)&&t(e[n],n))return e[n]}function u(e){return null!=e&&"function"!=typeof e&&"number"==typeof e.length}e.exports={assign:r,create:n,trim:o,bind:function(e,t){return function(){return t.apply(e,Array.prototype.slice.call(arguments,0))}},slice:a,each:s,map:function(e,t){var r=u(e)?[]:{};return l(e,function(e,n){return r[n]=t(e,n),!1}),r},pluck:l,isList:u,isFunction:function(e){return e&&"[object Function]"==={}.toString.call(e)},isObject:function(e){return e&&"[object Object]"==={}.toString.call(e)},Global:i}}).call(t,r(32))},function(e,t,r){var n=r(178)(Object,"create");e.exports=n},function(e,t,r){var n=r(531),o="object"==typeof self&&self&&self.Object===Object&&self,i=n||o||Function("return this")();e.exports=i},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,r){var n=r(545);e.exports=function(e,t){for(var r=e.length;r--;)if(n(e[r][0],t))return r;return-1}},function(e,t,r){var n=r(551);e.exports=function(e,t){var r=e.__data__;return n(t)?r["string"==typeof t?"string":"hash"]:r.map}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t){e.exports={select:"pointer",multi_select:"multi_select",point:"map-pin",polyline:"linegraph",polygon:"puzzle",label:"type",image:"cam2",layers:"layers",location:"my_location",edit:"ion-arrow-move",delete:"trash-o",directions:"ion-android-navigate",private:"ion-android-lock",panelLeft:"chevron-left-outline",panelRight:"chevron-right-outline",save:"save",fitAll:"resize-full-screen",link:"external-link",groupExpanded:"triangle-down",groupCollapsed:"triangle-right",visible:"visibility",hidden:"visibility_off"}},function(e,t,r){var n=r(656),o=r(659),i=r(11),a=r(126),s=[i.meta.FEATURE,i.meta.MIDPOINT,i.meta.VERTEX];function l(e,t,r,i){if(null===r.map)return[];var l=e?o(e,i):t,u={};r.options.styles&&(u.layers=r.options.styles.map(function(e){return e.id}));var c=r.map.queryRenderedFeatures(l,u).filter(function(e){return-1!==s.indexOf(e.properties.meta)}),p=new a,h=[];return c.forEach(function(e){var t=e.properties.id;p.has(t)||(p.add(t),h.push(e))}),n(h)}e.exports={click:function(e,t,r){return l(e,t,r,r.options.clickBuffer)},touch:function(e,t,r){return l(e,t,r,r.options.touchBuffer)}}},function(e,t){function r(e){if(this._items={},this._nums={},this._length=e?e.length:0,e)for(var t=0,r=e.length;t<r;t++)this.add(e[t]),void 0!==e[t]&&("string"===typeof e[t]?this._items[e[t]]=t:this._nums[e[t]]=t)}r.prototype.add=function(e){return this.has(e)?this:(this._length++,"string"===typeof e?this._items[e]=this._length:this._nums[e]=this._length,this)},r.prototype.delete=function(e){return!1===this.has(e)?this:(this._length--,delete this._items[e],delete this._nums[e],this)},r.prototype.has=function(e){return("string"===typeof e||"number"===typeof e)&&(void 0!==this._items[e]||void 0!==this._nums[e])},r.prototype.values=function(){var e=this,t=[];return Object.keys(this._items).forEach(function(r){t.push({k:r,v:e._items[r]})}),Object.keys(this._nums).forEach(function(r){t.push({k:JSON.parse(r),v:e._nums[r]})}),t.sort(function(e,t){return e.v-t.v}).map(function(e){return e.k})},r.prototype.clear=function(){return this._length=0,this._items={},this._nums={},this},e.exports=r},function(e,t,r){var n=r(187),o=r(11),i=function(e,t){this.ctx=e,this.properties=t.properties||{},this.coordinates=t.geometry.coordinates,this.id=t.id||n(),this.type=t.geometry.type};i.prototype.changed=function(){this.ctx.store.featureChanged(this.id)},i.prototype.incomingCoords=function(e){this.setCoordinates(e)},i.prototype.setCoordinates=function(e){this.coordinates=e,this.changed()},i.prototype.getCoordinates=function(){return JSON.parse(JSON.stringify(this.coordinates))},i.prototype.setProperty=function(e,t){this.properties[e]=t},i.prototype.toGeoJSON=function(){return JSON.parse(JSON.stringify({id:this.id,type:o.geojsonTypes.FEATURE,properties:this.properties,geometry:{coordinates:this.getCoordinates(),type:this.type}}))},i.prototype.internal=function(e){var t={id:this.id,meta:o.meta.FEATURE,"meta:type":this.type,active:o.activeStates.INACTIVE,mode:e};if(this.ctx.options.userProperties)for(var r in this.properties)t["user_"+r]=this.properties[r];return{type:o.geojsonTypes.FEATURE,properties:t,geometry:{coordinates:this.getCoordinates(),type:this.type}}},e.exports=i},function(e,t,r){var n=r(127),o=r(11),i=r(187),a={MultiPoint:r(186),MultiLineString:r(188),MultiPolygon:r(189)},s=function(e,t,r,n,o){var i=r.split("."),a=parseInt(i[0],10),s=i[1]?i.slice(1).join("."):null;return e[a][t](s,n,o)},l=function(e,t){if(n.call(this,e,t),delete this.coordinates,this.model=a[t.geometry.type],void 0===this.model)throw new TypeError(t.geometry.type+" is not a valid type");this.features=this._coordinatesToFeatures(t.geometry.coordinates)};(l.prototype=Object.create(n.prototype))._coordinatesToFeatures=function(e){var t=this,r=this.model.bind(this);return e.map(function(e){return new r(t.ctx,{id:i(),type:o.geojsonTypes.FEATURE,properties:{},geometry:{coordinates:e,type:t.type.replace("Multi","")}})})},l.prototype.isValid=function(){return this.features.every(function(e){return e.isValid()})},l.prototype.setCoordinates=function(e){this.features=this._coordinatesToFeatures(e),this.changed()},l.prototype.getCoordinate=function(e){return s(this.features,"getCoordinate",e)},l.prototype.getCoordinates=function(){return JSON.parse(JSON.stringify(this.features.map(function(e){return e.type===o.geojsonTypes.POLYGON?e.getCoordinates():e.coordinates})))},l.prototype.updateCoordinate=function(e,t,r){s(this.features,"updateCoordinate",e,t,r),this.changed()},l.prototype.addCoordinate=function(e,t,r){s(this.features,"addCoordinate",e,t,r),this.changed()},l.prototype.removeCoordinate=function(e){s(this.features,"removeCoordinate",e),this.changed()},l.prototype.getFeatures=function(){return this.features},e.exports=l},function(e,t,r){var n=r(11);e.exports=function(e,t,r,o){return{type:n.geojsonTypes.FEATURE,properties:{meta:n.meta.VERTEX,parent:e,coord_path:r,active:o?n.activeStates.ACTIVE:n.activeStates.INACTIVE},geometry:{type:n.geojsonTypes.POINT,coordinates:t}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(74);t.getCoord=function(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return e.geometry.coordinates;if("Point"===e.type)return e.coordinates}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return e;throw new Error("coord must be GeoJSON Point or an Array of numbers")},t.getCoords=function(e){if(Array.isArray(e))return e;if("Feature"===e.type){if(null!==e.geometry)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")},t.containsNumber=function e(t){if(t.length>1&&n.isNumber(t[0])&&n.isNumber(t[1]))return!0;if(Array.isArray(t[0])&&t[0].length)return e(t[0]);throw new Error("coordinates must only contain numbers")},t.geojsonType=function(e,t,r){if(!t||!r)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.type)},t.featureOf=function(e,t,r){if(!e)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+e.geometry.type)},t.collectionOf=function(e,t,r){if(!e)throw new Error("No featureCollection passed");if(!r)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+r+", FeatureCollection required");for(var n=0,o=e.features;n<o.length;n++){var i=o[n];if(!i||"Feature"!==i.type||!i.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!i.geometry||i.geometry.type!==t)throw new Error("Invalid input to "+r+": must be a "+t+", given "+i.geometry.type)}},t.getGeom=function(e){return"Feature"===e.type?e.geometry:e},t.getType=function(e,t){return"FeatureCollection"===e.type?"FeatureCollection":"GeometryCollection"===e.type?"GeometryCollection":"Feature"===e.type&&null!==e.geometry?e.geometry.type:e.type}},function(e,t,r){"use strict";t.b=function(e){var t=void 0,r=void 0,n=void 0,i=void 0;if(e.image){(t=new Image).alt=e.title,e.image.avg_color&&(t.style.backgroundColor=e.image.avg_color);var v=u.h[u.h.length-1];i=Object(m.b)(v.w,v.h,e.image.w,e.image.h),Object(y.c)("popup fitMax",i)}t&&e.url&&(r=Object(d.c)("a",{attrs:{href:e.url,target:"_blank",rel:"noopener nofollow"},children:[t]}));e.image&&e.hide_text||(n=Object(d.c)("div",{className:o()("nicetext",{"ui-font":p.a.hasCyrillicData}),children:[Object(d.c)("div",{innerHTML:Object(s.renderToStaticMarkup)(a.a.createElement(l.a,{feature:e}))}),e.description&&Object(d.c)("div",{innerHTML:e.descriptionHTML})]}),p.a.editMode&&n.addEventListener("dblclick",function(){h.a.showText("You can edit your item in the panel --\x3e")}));var g=Object(d.c)("div",{className:o()("maphub-popup-inner",{"maphub-popup-img":t&&!n,"maphub-popup-text":!t&&n,"maphub-popup-imgtext":t&&n}),children:[r||t,n]});if(n){Object(y.c)("popup text"),g.style.maxHeight=p.a.popupHeight+"px",g.style.maxWidth=p.a.popupWidth+"px";var _=p.a.popupHeight-85;if(Object(f.a)(".mapboxgl-popup-content p img, .mapboxgl-popup-content p iframe","max-height: "+_+"px;"),Object(f.a)(".mapboxgl-popup-anchor-bottom .mapboxgl-popup-tip",""),t){Object(y.c)("popup text-img");var b=Object(m.b)(p.a.popupWidth,_,i.w,i.h);Object(y.c)("popup fit",b),t.src=Object(m.a)(e,b.w,b.h),t.style.width=b.w+"px",t.style.minHeight=b.h-1+"px";var x=p.a.mobile?200:300;g.style.maxWidth=Math.max(b.w,x)+"px"}new c.a(g,{handlers:["drag-thumb","wheel","touch"],minScrollbarLength:50,maxScrollbarLength:100,suppressScrollX:!0})}else{Object(y.c)("popup img");var w=Object(m.b)(p.a.popupWidth,p.a.popupHeight,i.w,i.h);t.src=Object(m.a)(e,w.w,w.h),t.style.height=w.h+"px",t.style.minWidth=w.w-4+"px",Object(f.a)(".mapboxgl-popup-content p img, .mapboxgl-popup-content p iframe",""),Object(f.a)(".mapboxgl-popup-anchor-bottom .mapboxgl-popup-tip","border-top-color: "+(e.image.tip_color||"#fff")+";")}return g},t.a=function(e,t){var r=0,n=0,o=function(){if(e.popup&&e.popup.isOpen()&&e.popup._container){var o=e.popup._container.offsetWidth,i=e.popup._container.offsetHeight;if(Math.abs(o-r)>8||Math.abs(i-n)>8){r=o,n=i;var a=e.popup._pos.x,s=e.popup._pos.y,l=e.popup._pos.y+e.popupOffset[1],u=[0,0];e.popup._content.offsetWidth>.9*p.a.popupWidth||e.popup._content.offsetHeight>.9*p.a.popupHeight?(Object(y.c)("popup center"),u[0]=a-p.a.map.transform.width/2,u[1]=s-p.a.map.transform.height/2-i/2):(Object(y.c)("popup padding"),a<o/2+40?u[0]=a-(o/2+40):a>p.a.map.transform.width-o/2-40&&(u[0]=a-(p.a.map.transform.width-o/2-40)),l<i?u[1]=l-i:l>p.a.map.transform.height-40&&(u[1]=l-(p.a.map.transform.height-40)));var c={panOffset:u,width:o,height:i};Object(y.c)("resizePopup",c),t(c)}}},i=!0,a=!1,s=void 0;try{for(var l,u=[100,200,500,1e3,1500,2e3,2500,3e3][Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var c=l.value;clearTimeout(v[c]),v[c]=setTimeout(o,c)}}catch(e){a=!0,s=e}finally{try{!i&&u.return&&u.return()}finally{if(a)throw s}}},t.d=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=p.a.activeFeature;if(!t||!t.popup||"point"!==t.type)return;t.popup.options.offset=t.popupOffset,e&&t.popup._update()},t.c=function(){var e={width:Math.max(p.a.map.transform.width,320),height:p.a.map.transform.height};p.a.mobile&&!p.a.embedPanel&&(e.width=document.documentElement.clientWidth);var t=p.a.mobile?90:300,r=p.a.mobile?120:150;p.a.embedPanel&&(t=40,r=80);var n=e.height-r,o=e.width-t;p.a.popupWidth=o,p.a.popupHeight=n};var n=r(8),o=r.n(n),i=r(0),a=r.n(i),s=r(706),l=(r.n(s),r(305)),u=r(28),c=r(710),p=r(1),h=r(15),f=r(306),d=r(63),m=r(132),y=r(5),v={}},function(e,t,r){"use strict";t.c=i,t.b=a,t.a=function(e,t,r){if(!e.image)return"";for(var s=a(t,r,e.image.w,e.image.h),l=1.6*s.w,u=1.6*s.h,c=[n.h[0]],p=1;p<n.h.length;p++){var h=n.h[p-1],f=n.h[p];(e.image.w>h.w||e.image.h>h.h)&&c.push(f)}var d=void 0,m=!0,y=!1,v=void 0;try{for(var g,_=c[Symbol.iterator]();!(m=(g=_.next()).done);m=!0){var b=g.value;if(d=b,l<=b.w&&u<=b.h)break}}catch(e){y=!0,v=e}finally{try{!m&&_.return&&_.return()}finally{if(y)throw v}}Object(o.c)("imageUrl debug",{wantedSize:[t,r],featureImage:[e.image.w,e.image.h],fitImage:s,scaled:[l,u],possibleSizes:c,selectedSize:d});var x=d.w+"_"+d.h;return""+window.data_json.urls.images+i(e.image.id)+"/"+x+".jpg"};var n=r(28),o=r(5);function i(e){if(e.length<3)throw new Error("Hash lenght < 3");return"/"+e.slice(0,1)+"/"+e.slice(1,3)+"/"+e}function a(e,t,r,n){var o=void 0,i=void 0;return r/n>e/t?i=(o=Math.min(r,e))*n/r:o=(i=Math.min(n,t))*r/n,{w:o,h:i,aspect:o/i}}},function(e,t,r){"use strict";t.c=function(e,t){(t=Object.assign({openPopup:!0,feature:e},t)).openPopup&&(e.openPopup({fitView:!1}),e.popup&&e.popup._container&&(e.popup._container.style.transition="opacity 750ms",Object(u.b)(e.popup._container,"hidden-opacity",1500)));if("label"===e.type)l.a.map.easeTo({center:e.geometry.coordinates,zoom:Math.max(l.a.map.getZoom(),s.a.simplify+.5),duration:1500});else if("point"===e.type)t.openPopup?Object(d.a)(e,function(r){l.a.map.easeTo({center:e.geometry.coordinates,offset:[0,r.height/2],zoom:m(t),duration:1500})}):l.a.map.easeTo({center:e.geometry.coordinates,zoom:m(),duration:1500});else{var r=void 0;if(t.prevFeature&&t.feature){var n=y([t.prevFeature,t.feature]);if(n){var i=l.a.map.cameraForBounds(n,{maxZoom:17});i&&(r=i.zoom)}}var a=o()(e.geometry),c=l.a.map.cameraForBounds(a,{padding:l.a.mobile?10:100,maxZoom:17});c||(c=l.a.map.cameraForBounds(a,{maxZoom:17}));var p=r||c.zoom;t.openPopup?Object(d.a)(e,function(e){l.a.map.easeTo({center:c.center,offset:[0,e.height/2],zoom:p,duration:1500})}):l.a.map.easeTo({center:c.center,zoom:p,duration:1500})}},t.a=function(e){if(!e||!e.length)return;var t=y(e);if(!t||t.includes(1/0))return;Object(p.a)("bounds",t),l.a.map.fitBounds(t,{maxZoom:17,padding:l.a.paddingSize,linear:!0})},t.b=function(){l.a.setMobile(Object(c.a)());var e=void 0;e=l.a.embedPanel?Object(f.b)(.25*document.documentElement.clientWidth,200,300):Object(f.b)(.4*document.documentElement.clientWidth,200,300);Object(h.a)("#panel.size_1","width: "+e+"px;"),Object(h.a)("#map.size_1","right: "+e+"px;"),l.a.embedPanel&&Object(h.a)(".embed-maphub-logo","right: "+(e+5)+"px;");l.a.map.stop().resize()._update()};var n=r(282),o=r.n(n),i=r(18),a=r(48),s=r(23),l=r(1),u=r(63),c=r(308),p=r(5),h=r(306),f=r(20),d=r(131);function m(e){if((e=e||{}).prevFeature&&e.feature){Object(p.c)("getMarkerZoom: prevFeature && feature");var t=y([e.prevFeature,e.feature]);if(t){var r=l.a.map.cameraForBounds(t,{maxZoom:17});if(r)return r.zoom}}var n=y(i.a.featureArray);if(!n)return l.a.map.getZoom();var o=l.a.map.cameraForBounds(n,{maxZoom:17});if(!o)return l.a.map.getZoom();var a=void 0;return s.a.simplify?(Object(p.c)("getMarkerZoom: simplify"),a=Math.max(s.a.simplify-1,o.zoom+2)):(Object(p.c)("getMarkerZoom: no simplify"),a=o.zoom+2),Math.min(17,Math.max(l.a.map.getZoom()-2,a))}function y(e){var t={type:"FeatureCollection",features:e.filter(function(e){var t=e.group;return!(t&&!t.visible)&&(!!e.geometry&&(!(a.a.hasFilter&&!a.a.featureMap.has(e.id))&&e.visible))}).map(function(e){return e.geojsonGeom()})};if(t.features.length)return o()(t)}},function(e,t,r){var n=r(196);e.exports=function(e){return Object(n(e))}},function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+n).toString(36))}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,r){"use strict";var n=r(750)(!0);r(314)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})})},function(e,t,r){var n=r(53).f,o=r(64),i=r(30)("toStringTag");e.exports=function(e,t,r){e&&!o(e=r?e:e.prototype,i)&&n(e,i,{configurable:!0,value:t})}},function(e,t,r){r(755);for(var n=r(29),o=r(65),i=r(83),a=r(30)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<s.length;l++){var u=s[l],c=n[u],p=c&&c.prototype;p&&!p[a]&&o(p,a,u),i[u]=i.Array}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,r){"use strict";var n=r(0),o=(r.n(n),r(10));r.n(o)},function(e,t,r){"use strict";t.a={ASC:"ASC",DESC:"DESC"}},function(e,t,r){"use strict";var n=r(851),o=r(852),i=r(853),a=r(854),s=r(0),l=r.n(s),u=r(10),c=(r.n(u),!!document.documentElement.currentStyle),p={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},h=["letter-spacing","line-height","font-family","font-weight","font-size","font-style","tab-size","text-rendering","text-transform","width","text-indent","padding-top","padding-right","padding-bottom","padding-left","border-top-width","border-right-width","border-bottom-width","border-left-width","box-sizing"],f={},d=document.createElement("textarea"),m=function(e){Object.keys(p).forEach(function(t){e.style.setProperty(t,p[t],"important")})};function y(e,t,r,n,o){void 0===r&&(r=!1),void 0===n&&(n=null),void 0===o&&(o=null),null===d.parentNode&&document.body.appendChild(d);var i=function(e,t,r){void 0===r&&(r=!1);if(r&&f[t])return f[t];var n=window.getComputedStyle(e);if(null===n)return null;var o=h.reduce(function(e,t){return e[t]=n.getPropertyValue(t),e},{}),i=o["box-sizing"];if(""===i)return null;c&&"border-box"===i&&(o.width=parseFloat(o.width)+parseFloat(n["border-right-width"])+parseFloat(n["border-left-width"])+parseFloat(n["padding-right"])+parseFloat(n["padding-left"])+"px");var a=parseFloat(o["padding-bottom"])+parseFloat(o["padding-top"]),s=parseFloat(o["border-bottom-width"])+parseFloat(o["border-top-width"]),l={sizingStyle:o,paddingSize:a,borderSize:s,boxSizing:i};r&&(f[t]=l);return l}(e,t,r);if(null===i)return null;var a=i.paddingSize,s=i.borderSize,l=i.boxSizing,u=i.sizingStyle;Object.keys(u).forEach(function(e){d.style[e]=u[e]}),m(d),d.value=e.value||e.placeholder||"x";var p=-1/0,y=1/0,v=d.scrollHeight;"border-box"===l?v+=s:"content-box"===l&&(v-=a),d.value="x";var g=d.scrollHeight-a,_=Math.floor(v/g);return null!==n&&(p=g*n,"border-box"===l&&(p=p+a+s),v=Math.max(p,v)),null!==o&&(y=g*o,"border-box"===l&&(y=y+a+s),v=Math.min(y,v)),{height:v,minHeight:p,maxHeight:y,rowCount:Math.floor(v/g),valueRowCount:_}}m(d);var v=function(){},g=0,_=function(e){function t(t){var r;return(r=e.call(this,t)||this)._onRef=function(e){r._ref=e;var t=r.props.inputRef;"function"!==typeof t?t.current=e:t(e)},r._onChange=function(e){r._controlled||r._resizeComponent(),r.props.onChange(e,Object(a.a)(Object(a.a)(r)))},r._resizeComponent=function(e){void 0===e&&(e=v);var t=y(r._ref,r._uid,r.props.useCacheForDOMMeasurements,r.props.minRows,r.props.maxRows);if(null!==t){var n=t.height,o=t.minHeight,i=t.maxHeight,a=t.rowCount,s=t.valueRowCount;r.rowCount=a,r.valueRowCount=s,r.state.height===n&&r.state.minHeight===o&&r.state.maxHeight===i?e():r.setState({height:n,minHeight:o,maxHeight:i},e)}else e()},r.state={height:t.style&&t.style.height||0,minHeight:-1/0,maxHeight:1/0},r._uid=g++,r._controlled=void 0!==t.value,r._resizeLock=!1,r}Object(i.a)(t,e);var r=t.prototype;return r.render=function(){var e=this.props,t=(e.inputRef,e.maxRows,e.minRows,e.onHeightChange,e.useCacheForDOMMeasurements,Object(o.a)(e,["inputRef","maxRows","minRows","onHeightChange","useCacheForDOMMeasurements"]));return t.style=Object(n.a)({},t.style,{height:this.state.height}),Math.max(t.style.maxHeight||1/0,this.state.maxHeight)<this.state.height&&(t.style.overflow="hidden"),l.a.createElement("textarea",Object(n.a)({},t,{onChange:this._onChange,ref:this._onRef}))},r.componentDidMount=function(){var e=this;this._resizeComponent(),this._resizeListener=function(){e._resizeLock||(e._resizeLock=!0,e._resizeComponent(function(){e._resizeLock=!1}))},window.addEventListener("resize",this._resizeListener)},r.componentDidUpdate=function(e,t){e!==this.props&&this._resizeComponent(),this.state.height!==t.height&&this.props.onHeightChange(this.state.height,this)},r.componentWillUnmount=function(){var e;window.removeEventListener("resize",this._resizeListener),e=this._uid,delete f[e]},t}(l.a.Component);_.defaultProps={inputRef:v,onChange:v,onHeightChange:v,useCacheForDOMMeasurements:!1},t.a=_},function(e,t,r){var n=r(19),o=r(36),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:r(108)?"pure":"global",copyright:"\xa9 2018 Denis Pushkarev (zloirock.ru)"})},function(e,t,r){var n=r(33);e.exports=function(e,t){if(!n(e))return e;var r,o;if(t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;if("function"==typeof(r=e.valueOf)&&!n(o=r.call(e)))return o;if(!t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},function(e,t,r){"use strict";var n=r(108),o=r(34),i=r(56),a=r(57),s=r(87),l=r(368),u=r(110),c=r(371),p=r(21)("iterator"),h=!([].keys&&"next"in[].keys()),f=function(){return this};e.exports=function(e,t,r,d,m,y,v){l(r,t,d);var g,_,b,x=function(e){if(!h&&e in C)return C[e];switch(e){case"keys":case"values":return function(){return new r(this,e)}}return function(){return new r(this,e)}},w=t+" Iterator",E="values"==m,S=!1,C=e.prototype,k=C[p]||C["@@iterator"]||m&&C[m],T=k||x(m),O=m?E?x("entries"):T:void 0,P="Array"==t&&C.entries||k;if(P&&(b=c(P.call(new e)))!==Object.prototype&&b.next&&(u(b,w,!0),n||"function"==typeof b[p]||a(b,p,f)),E&&k&&"values"!==k.name&&(S=!0,T=function(){return k.call(this)}),n&&!v||!h&&!S&&C[p]||a(C,p,T),s[t]=T,s[w]=f,m)if(g={values:E?T:x("values"),keys:y?T:x("keys"),entries:O},v)for(_ in g)_ in C||i(C,_,g[_]);else o(o.P+o.F*(h||S),t,g);return g}},function(e,t,r){var n=r(58),o=r(369),i=r(152),a=r(151)("IE_PROTO"),s=function(){},l=function(){var e,t=r(220)("iframe"),n=i.length;for(t.style.display="none",r(370).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;n--;)delete l.prototype[i[n]];return l()};e.exports=Object.create||function(e,t){var r;return null!==e?(s.prototype=n(e),r=new s,s.prototype=null,r[a]=e):r=l(),void 0===t?r:o(r,t)}},function(e,t,r){var n=r(107);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t,r){var n=r(145)("keys"),o=r(85);e.exports=function(e){return n[e]||(n[e]=o(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,r){var n=r(109);e.exports=function(e){return Object(n(e))}},function(e,t,r){var n=r(21)("unscopables"),o=Array.prototype;void 0==o[n]&&r(57)(o,n,{}),e.exports=function(e){o[n][e]=!0}},function(e,t,r){var n=r(85)("meta"),o=r(33),i=r(59),a=r(44).f,s=0,l=Object.isExtensible||function(){return!0},u=!r(67)(function(){return l(Object.preventExtensions({}))}),c=function(e){a(e,n,{value:{i:"O"+ ++s,w:{}}})},p=e.exports={KEY:n,NEED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,n)){if(!l(e))return"F";if(!t)return"E";c(e)}return e[n].i},getWeak:function(e,t){if(!i(e,n)){if(!l(e))return!0;if(!t)return!1;c(e)}return e[n].w},onFreeze:function(e){return u&&p.NEED&&l(e)&&!i(e,n)&&c(e),e}}},function(e,t,r){"use strict";var n=r(7),o=(r(2),null),i={};function a(){if(o)for(var e in i){var t=i[e],r=o.indexOf(e);if(r>-1||n("96",e),!u.plugins[r]){t.extractEvents||n("97",e),u.plugins[r]=t;var a=t.eventTypes;for(var l in a)s(a[l],t,l)||n("98",l,e)}}}function s(e,t,r){u.eventNameDispatchConfigs.hasOwnProperty(r)&&n("99",r),u.eventNameDispatchConfigs[r]=e;var o=e.phasedRegistrationNames;if(o){for(var i in o){if(o.hasOwnProperty(i))l(o[i],t,r)}return!0}return!!e.registrationName&&(l(e.registrationName,t,r),!0)}function l(e,t,r){u.registrationNameModules[e]&&n("100",e),u.registrationNameModules[e]=t,u.registrationNameDependencies[e]=t.eventTypes[r].dependencies}var u={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},possibleRegistrationNames:null,injectEventPluginOrder:function(e){o&&n("101"),o=Array.prototype.slice.call(e),a()},injectEventPluginsByName:function(e){var t=!1;for(var r in e)if(e.hasOwnProperty(r)){var o=e[r];i.hasOwnProperty(r)&&i[r]===o||(i[r]&&n("102",r),i[r]=o,t=!0)}t&&a()},getPluginModuleForEvent:function(e){var t=e.dispatchConfig;if(t.registrationName)return u.registrationNameModules[t.registrationName]||null;if(void 0!==t.phasedRegistrationNames){var r=t.phasedRegistrationNames;for(var n in r)if(r.hasOwnProperty(n)){var o=u.registrationNameModules[r[n]];if(o)return o}}return null},_resetEventPlugins:function(){for(var e in o=null,i)i.hasOwnProperty(e)&&delete i[e];u.plugins.length=0;var t=u.eventNameDispatchConfigs;for(var r in t)t.hasOwnProperty(r)&&delete t[r];var n=u.registrationNameModules;for(var a in n)n.hasOwnProperty(a)&&delete n[a]}};e.exports=u},function(e,t,r){"use strict";var n,o,i=r(7),a=r(158);r(2),r(9);function s(e,t,r,n){var o=e.type||"unknown-event";e.currentTarget=l.getNodeFromInstance(n),t?a.invokeGuardedCallbackWithCatch(o,r,e):a.invokeGuardedCallback(o,r,e),e.currentTarget=null}var l={isEndish:function(e){return"topMouseUp"===e||"topTouchEnd"===e||"topTouchCancel"===e},isMoveish:function(e){return"topMouseMove"===e||"topTouchMove"===e},isStartish:function(e){return"topMouseDown"===e||"topTouchStart"===e},executeDirectDispatch:function(e){var t=e._dispatchListeners,r=e._dispatchInstances;Array.isArray(t)&&i("103"),e.currentTarget=t?l.getNodeFromInstance(r):null;var n=t?t(e):null;return e.currentTarget=null,e._dispatchListeners=null,e._dispatchInstances=null,n},executeDispatchesInOrder:function(e,t){var r=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(r))for(var o=0;o<r.length&&!e.isPropagationStopped();o++)s(e,t,r[o],n[o]);else r&&s(e,t,r,n);e._dispatchListeners=null,e._dispatchInstances=null},executeDispatchesInOrderStopAtTrue:function(e){var t=function(e){var t=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(t)){for(var n=0;n<t.length&&!e.isPropagationStopped();n++)if(t[n](e,r[n]))return r[n]}else if(t&&t(e,r))return r;return null}(e);return e._dispatchInstances=null,e._dispatchListeners=null,t},hasDispatches:function(e){return!!e._dispatchListeners},getInstanceFromNode:function(e){return n.getInstanceFromNode(e)},getNodeFromInstance:function(e){return n.getNodeFromInstance(e)},isAncestor:function(e,t){return o.isAncestor(e,t)},getLowestCommonAncestor:function(e,t){return o.getLowestCommonAncestor(e,t)},getParentInstance:function(e){return o.getParentInstance(e)},traverseTwoPhase:function(e,t,r){return o.traverseTwoPhase(e,t,r)},traverseEnterLeave:function(e,t,r,n,i){return o.traverseEnterLeave(e,t,r,n,i)},injection:{injectComponentTree:function(e){n=e},injectTreeTraversal:function(e){o=e}}};e.exports=l},function(e,t,r){"use strict";var n=null;function o(e,t,r){try{t(r)}catch(e){null===n&&(n=e)}}var i={invokeGuardedCallback:o,invokeGuardedCallbackWithCatch:o,rethrowCaughtError:function(){if(n){var e=n;throw n=null,e}}};e.exports=i},function(e,t,r){"use strict";e.exports=function(e){var t=e.target||e.srcElement||window;return t.correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}},function(e,t,r){"use strict";var n,o=r(27);o.canUseDOM&&(n=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("","")),e.exports=function(e,t){if(!o.canUseDOM||t&&!("addEventListener"in document))return!1;var r="on"+e,i=r in document;if(!i){var a=document.createElement("div");a.setAttribute(r,"return;"),i="function"===typeof a[r]}return!i&&n&&"wheel"===e&&(i=document.implementation.hasFeature("Events.wheel","3.0")),i}},function(e,t,r){"use strict";var n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function o(e){var t=this.nativeEvent;if(t.getModifierState)return t.getModifierState(e);var r=n[e];return!!r&&!!t[r]}e.exports=function(e){return o}},function(e,t,r){"use strict";var n=r(72),o=r(442),i=(r(14),r(35),r(164)),a=r(114),s=r(257);function l(e,t){return Array.isArray(t)&&(t=t[1]),t?t.nextSibling:e.firstChild}var u=i(function(e,t,r){e.insertBefore(t,r)});function c(e,t,r){n.insertTreeBefore(e,t,r)}function p(e,t,r){Array.isArray(t)?function(e,t,r,n){var o=t;for(;;){var i=o.nextSibling;if(u(e,o,n),o===r)break;o=i}}(e,t[0],t[1],r):u(e,t,r)}function h(e,t){if(Array.isArray(t)){var r=t[1];f(e,t=t[0],r),e.removeChild(r)}e.removeChild(t)}function f(e,t,r){for(;;){var n=t.nextSibling;if(n===r)break;e.removeChild(n)}}var d=o.dangerouslyReplaceNodeWithMarkup;var m={dangerouslyReplaceNodeWithMarkup:d,replaceDelimitedText:function(e,t,r){var n=e.parentNode,o=e.nextSibling;o===t?r&&u(n,document.createTextNode(r),o):r?(s(o,r),f(n,o,t)):f(n,e,t)},processUpdates:function(e,t){for(var r=0;r<t.length;r++){var n=t[r];switch(n.type){case"INSERT_MARKUP":c(e,n.content,l(e,n.afterNode));break;case"MOVE_EXISTING":p(e,n.fromNode,l(e,n.afterNode));break;case"SET_MARKUP":a(e,n.content);break;case"TEXT_CONTENT":s(e,n.content);break;case"REMOVE_NODE":h(e,n.fromNode)}}}};e.exports=m},function(e,t,r){"use strict";e.exports={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"}},function(e,t,r){"use strict";e.exports=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,r,n,o){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,o)})}:e}},function(e,t,r){"use strict";var n=r(7),o=r(460),i=r(245)(r(60).isValidElement),a=(r(2),r(9),{button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0});function s(e){null!=e.checkedLink&&null!=e.valueLink&&n("87")}function l(e){s(e),(null!=e.value||null!=e.onChange)&&n("88")}function u(e){s(e),(null!=e.checked||null!=e.onChange)&&n("89")}var c={value:function(e,t,r){return!e[t]||a[e.type]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,t,r){return!e[t]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:i.func},p={};function h(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}var f={checkPropTypes:function(e,t,r){for(var n in c){if(c.hasOwnProperty(n))var i=c[n](t,n,e,"prop",null,o);if(i instanceof Error&&!(i.message in p)){p[i.message]=!0;h(r)}}},getValue:function(e){return e.valueLink?(l(e),e.valueLink.value):e.value},getChecked:function(e){return e.checkedLink?(u(e),e.checkedLink.value):e.checked},executeOnChange:function(e,t){return e.valueLink?(l(e),e.valueLink.requestChange(t.target.value)):e.checkedLink?(u(e),e.checkedLink.requestChange(t.target.checked)):e.onChange?e.onChange.call(void 0,t):void 0}};e.exports=f},function(e,t,r){"use strict";var n=r(7),o=(r(2),!1),i={replaceNodeWithMarkup:null,processChildrenUpdates:null,injection:{injectEnvironment:function(e){o&&n("104"),i.replaceNodeWithMarkup=e.replaceNodeWithMarkup,i.processChildrenUpdates=e.processChildrenUpdates,o=!0}}};e.exports=i},function(e,t,r){"use strict";var n=r(7),o=r(12),i=r(465),a=r(263),s=r(264),l=(r(466),r(2),r(9),function(e){this.construct(e)});function u(e,t){var r;if(null===e||!1===e)r=a.create(u);else if("object"===typeof e){var o=e,i=o.type;if("function"!==typeof i&&"string"!==typeof i){var c="";0,c+=function(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}(o._owner),n("130",null==i?i:typeof i,c)}"string"===typeof o.type?r=s.createInternalComponent(o):!function(e){return"function"===typeof e&&"undefined"!==typeof e.prototype&&"function"===typeof e.prototype.mountComponent&&"function"===typeof e.prototype.receiveComponent}(o.type)?r=new l(o):(r=new o.type(o)).getHostNode||(r.getHostNode=r.getNativeNode)}else"string"===typeof e||"number"===typeof e?r=s.createInstanceForText(e):n("131",typeof e);return r._mountIndex=0,r._mountImage=null,r}o(l.prototype,i,{_instantiateReactComponent:u}),e.exports=u},function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty;function o(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}e.exports=function(e,t){if(o(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(var a=0;a<r.length;a++)if(!n.call(t,r[a])||!o(e[r[a]],t[r[a]]))return!1;return!0}},function(e,t,r){"use strict";e.exports=function(e,t){var r=null===e||!1===e,n=null===t||!1===t;if(r||n)return r===n;var o=typeof e,i=typeof t;return"string"===o||"number"===o?"string"===i||"number"===i:"object"===i&&e.type===t.type&&e.key===t.key}},function(e,t,r){"use strict";var n={escape:function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})},unescape:function(e){var t={"=0":"=","=2":":"};return(""+("."===e[0]&&"$"===e[1]?e.substring(2):e.substring(1))).replace(/(=0|=2)/g,function(e){return t[e]})}};e.exports=n},function(e,t,r){"use strict";var n=r(7),o=(r(45),r(95)),i=(r(35),r(38));r(2),r(9);function a(e){i.enqueueUpdate(e)}function s(e){var t=typeof e;if("object"!==t)return t;var r=e.constructor&&e.constructor.name||t,n=Object.keys(e);return n.length>0&&n.length<20?r+" (keys: "+n.join(", ")+")":r}function l(e,t){var r=o.get(e);return r||null}var u={isMounted:function(e){var t=o.get(e);return!!t&&!!t._renderedComponent},enqueueCallback:function(e,t,r){u.validateCallback(t,r);var n=l(e);if(!n)return null;n._pendingCallbacks?n._pendingCallbacks.push(t):n._pendingCallbacks=[t],a(n)},enqueueCallbackInternal:function(e,t){e._pendingCallbacks?e._pendingCallbacks.push(t):e._pendingCallbacks=[t],a(e)},enqueueForceUpdate:function(e){var t=l(e);t&&(t._pendingForceUpdate=!0,a(t))},enqueueReplaceState:function(e,t,r){var n=l(e);n&&(n._pendingStateQueue=[t],n._pendingReplaceState=!0,void 0!==r&&null!==r&&(u.validateCallback(r,"replaceState"),n._pendingCallbacks?n._pendingCallbacks.push(r):n._pendingCallbacks=[r]),a(n))},enqueueSetState:function(e,t){var r=l(e);r&&((r._pendingStateQueue||(r._pendingStateQueue=[])).push(t),a(r))},enqueueElementInternal:function(e,t,r){e._pendingElement=t,e._context=r,a(e)},validateCallback:function(e,t){e&&"function"!==typeof e&&n("122",t,s(e))}};e.exports=u},function(e,t,r){"use strict";r(12);var n=r(39),o=(r(9),n);e.exports=o},function(e,t,r){"use strict";e.exports=function(e){var t,r=e.keyCode;return"charCode"in e?0===(t=e.charCode)&&13===r&&(t=13):t=r,t>=32||13===t?t:0}},function(e,t,r){(function(t){var n=r(278),o="undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:{};function i(e){return void 0===e}function a(e){return"[object Object]"===Object.prototype.toString.call(e)}function s(e){return"[object String]"===Object.prototype.toString.call(e)}function l(e){return"[object Array]"===Object.prototype.toString.call(e)}function u(){if(!("fetch"in o))return!1;try{return new Headers,new Request(""),new Response,!0}catch(e){return!1}}function c(e,t){var r,n;if(i(e.length))for(r in e)h(e,r)&&t.call(null,r,e[r]);else if(n=e.length)for(r=0;r<n;r++)t.call(null,r,e[r])}function p(e,t){if("number"!==typeof t)throw new Error("2nd argument to `truncate` function should be a number");return"string"!==typeof e||0===t?e:e.length<=t?e:e.substr(0,t)+"\u2026"}function h(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function f(e){for(var t,r=[],n=0,o=e.length;n<o;n++)s(t=e[n])?r.push(t.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):t&&t.source&&r.push(t.source);return new RegExp(r.join("|"),"i")}function d(e){var t,r,n,o,i,a=[];if(!e||!e.tagName)return"";if(a.push(e.tagName.toLowerCase()),e.id&&a.push("#"+e.id),(t=e.className)&&s(t))for(r=t.split(/\s+/),i=0;i<r.length;i++)a.push("."+r[i]);var l=["type","name","title","alt"];for(i=0;i<l.length;i++)n=l[i],(o=e.getAttribute(n))&&a.push("["+n+'="'+o+'"]');return a.join("")}function m(e,t){return!!(!!e^!!t)}function y(e,t){if(m(e,t))return!1;var r,n,o=e.frames,i=t.frames;if(void 0===o||void 0===i)return!1;if(o.length!==i.length)return!1;for(var a=0;a<o.length;a++)if(r=o[a],n=i[a],r.filename!==n.filename||r.lineno!==n.lineno||r.colno!==n.colno||r.function!==n.function)return!1;return!0}var v=3,g=51200,_=40;function b(e){return function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(e))}function x(e){if("string"===typeof e){return p(e,40)}if("number"===typeof e||"boolean"===typeof e||"undefined"===typeof e)return e;var t=Object.prototype.toString.call(e);return"[object Object]"===t?"[Object]":"[object Array]"===t?"[Array]":"[object Function]"===t?e.name?"[Function: "+e.name+"]":"[Function]":e}e.exports={isObject:function(e){return"object"===typeof e&&null!==e},isError:function(e){switch(Object.prototype.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return e instanceof Error}},isErrorEvent:function(e){return"[object ErrorEvent]"===Object.prototype.toString.call(e)},isDOMError:function(e){return"[object DOMError]"===Object.prototype.toString.call(e)},isDOMException:function(e){return"[object DOMException]"===Object.prototype.toString.call(e)},isUndefined:i,isFunction:function(e){return"function"===typeof e},isPlainObject:a,isString:s,isArray:l,isEmptyObject:function(e){if(!a(e))return!1;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},supportsErrorEvent:function(){try{return new ErrorEvent(""),!0}catch(e){return!1}},supportsDOMError:function(){try{return new DOMError(""),!0}catch(e){return!1}},supportsDOMException:function(){try{return new DOMException(""),!0}catch(e){return!1}},supportsFetch:u,supportsReferrerPolicy:function(){if(!u())return!1;try{return new Request("pickleRick",{referrerPolicy:"origin"}),!0}catch(e){return!1}},supportsPromiseRejectionEvent:function(){return"function"===typeof PromiseRejectionEvent},wrappedCallback:function(e){return function(t,r){var n=e(t)||t;return r&&r(n)||n}},each:c,objectMerge:function(e,t){return t?(c(t,function(t,r){e[t]=r}),e):e},truncate:p,objectFrozen:function(e){return!!Object.isFrozen&&Object.isFrozen(e)},hasKey:h,joinRegExp:f,urlencode:function(e){var t=[];return c(e,function(e,r){t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}),t.join("&")},uuid4:function(){var e=o.crypto||o.msCrypto;if(!i(e)&&e.getRandomValues){var t=new Uint16Array(8);e.getRandomValues(t),t[3]=4095&t[3]|16384,t[4]=16383&t[4]|32768;var r=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t};return r(t[0])+r(t[1])+r(t[2])+r(t[3])+r(t[4])+r(t[5])+r(t[6])+r(t[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},htmlTreeAsString:function(e){for(var t,r=[],n=0,o=0,i=" > ".length;e&&n++<5&&!("html"===(t=d(e))||n>1&&o+r.length*i+t.length>=80);)r.push(t),o+=t.length,e=e.parentNode;return r.reverse().join(" > ")},htmlElementAsString:d,isSameException:function(e,t){return!m(e,t)&&(e=e.values[0],t=t.values[0],e.type===t.type&&e.value===t.value&&(r=e.stacktrace,n=t.stacktrace,(!i(r)||!i(n))&&y(e.stacktrace,t.stacktrace)));var r,n},isSameStacktrace:y,parseUrl:function(e){if("string"!==typeof e)return{};var t=e.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/),r=t[6]||"",n=t[8]||"";return{protocol:t[2],host:t[4],path:t[5],relative:t[5]+r+n}},fill:function(e,t,r,n){if(null!=e){var o=e[t];e[t]=r(o),e[t].__raven__=!0,e[t].__orig__=o,n&&n.push([e,t,o])}},safeJoin:function(e,t){if(!l(e))return"";for(var r=[],n=0;n<e.length;n++)try{r.push(String(e[n]))}catch(e){r.push("[value cannot be serialized]")}return r.join(t)},serializeException:function e(t,r,o){if(!a(t))return t;o="number"!==typeof(r="number"!==typeof r?v:r)?g:o;var i=function e(t,r){return 0===r?x(t):a(t)?Object.keys(t).reduce(function(n,o){return n[o]=e(t[o],r-1),n},{}):Array.isArray(t)?t.map(function(t){return e(t,r-1)}):x(t)}(t,r);return b(n(i))>o?e(t,r-1):i},serializeKeysForMessage:function(e,t){if("number"===typeof e||"string"===typeof e)return e.toString();if(!Array.isArray(e))return"";if(0===(e=e.filter(function(e){return"string"===typeof e})).length)return"[object has no keys]";if(t="number"!==typeof t?_:t,e[0].length>=t)return e[0];for(var r=e.length;r>0;r--){var n=e.slice(0,r).join(", ");if(!(n.length>t))return r===e.length?n:n+"\u2026"}return""},sanitize:function(e,t){if(!l(t)||l(t)&&0===t.length)return e;var r,o=f(t),i="********";try{r=JSON.parse(n(e))}catch(t){return e}return function e(t){return l(t)?t.map(function(t){return e(t)}):a(t)?Object.keys(t).reduce(function(r,n){return o.test(n)?r[n]=i:r[n]=e(t[n]),r},{}):t}(r)}}}).call(t,r(32))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(74);function o(e,t,r){if(null!==e)for(var n,i,a,s,l,u,c,p,h=0,f=0,d=e.type,m="FeatureCollection"===d,y="Feature"===d,v=m?e.features.length:1,g=0;g<v;g++){l=(p=!!(c=m?e.features[g].geometry:y?e.geometry:e)&&"GeometryCollection"===c.type)?c.geometries.length:1;for(var _=0;_<l;_++){var b=0,x=0;if(null!==(s=p?c.geometries[_]:c)){u=s.coordinates;var w=s.type;switch(h=!r||"Polygon"!==w&&"MultiPolygon"!==w?0:1,w){case null:break;case"Point":if(!1===t(u,f,g,b,x))return!1;f++,b++;break;case"LineString":case"MultiPoint":for(n=0;n<u.length;n++){if(!1===t(u[n],f,g,b,x))return!1;f++,"MultiPoint"===w&&b++}"LineString"===w&&b++;break;case"Polygon":case"MultiLineString":for(n=0;n<u.length;n++){for(i=0;i<u[n].length-h;i++){if(!1===t(u[n][i],f,g,b,x))return!1;f++}"MultiLineString"===w&&b++,"Polygon"===w&&x++}"Polygon"===w&&b++;break;case"MultiPolygon":for(n=0;n<u.length;n++){for(x=0,i=0;i<u[n].length;i++){for(a=0;a<u[n][i].length-h;a++){if(!1===t(u[n][i][a],f,g,b,x))return!1;f++}x++}b++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(!1===o(s.geometries[n],t,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function i(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length&&!1!==t(e.features[r].properties,r);r++);break;case"Feature":t(e.properties,0)}}function a(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length&&!1!==t(e.features[r],r);r++);}function s(e,t){var r,n,o,i,a,s,l,u,c,p,h=0,f="FeatureCollection"===e.type,d="Feature"===e.type,m=f?e.features.length:1;for(r=0;r<m;r++){for(s=f?e.features[r].geometry:d?e.geometry:e,u=f?e.features[r].properties:d?e.properties:{},c=f?e.features[r].bbox:d?e.bbox:void 0,p=f?e.features[r].id:d?e.id:void 0,a=(l=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,o=0;o<a;o++)if(null!==(i=l?s.geometries[o]:s))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(i,h,u,c,p))return!1;break;case"GeometryCollection":for(n=0;n<i.geometries.length;n++)if(!1===t(i.geometries[n],h,u,c,p))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,h,u,c,p))return!1;h++}}function l(e,t){s(e,function(e,r,o,i,a){var s,l=null===e?null:e.type;switch(l){case null:case"Point":case"LineString":case"Polygon":return!1!==t(n.feature(e,o,{bbox:i,id:a}),r,0)&&void 0}switch(l){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var u=0;u<e.coordinates.length;u++){var c={type:s,coordinates:e.coordinates[u]};if(!1===t(n.feature(c,o),r,u))return!1}})}function u(e,t){l(e,function(e,r,i){var a=0;if(e.geometry){var s=e.geometry.type;if("Point"!==s&&"MultiPoint"!==s){var l,u=0,c=0,p=0;return!1!==o(e,function(o,s,h,f,d){if(void 0===l||r>u||f>c||d>p)return l=o,u=r,c=f,p=d,void(a=0);var m=n.lineString([l,o],e.properties);if(!1===t(m,r,i,d,a))return!1;a++,l=o})&&void 0}}})}function c(e,t){if(!e)throw new Error("geojson is required");l(e,function(e,r,o){if(null!==e.geometry){var i=e.geometry.type,a=e.geometry.coordinates;switch(i){case"LineString":if(!1===t(e,r,o,0,0))return!1;break;case"Polygon":for(var s=0;s<a.length;s++)if(!1===t(n.lineString(a[s],e.properties),r,o,s))return!1}}})}t.coordEach=o,t.coordReduce=function(e,t,r,n){var i=r;return o(e,function(e,n,o,a,s){i=0===n&&void 0===r?e:t(i,e,n,o,a,s)},n),i},t.propEach=i,t.propReduce=function(e,t,r){var n=r;return i(e,function(e,o){n=0===o&&void 0===r?e:t(n,e,o)}),n},t.featureEach=a,t.featureReduce=function(e,t,r){var n=r;return a(e,function(e,o){n=0===o&&void 0===r?e:t(n,e,o)}),n},t.coordAll=function(e){var t=[];return o(e,function(e){t.push(e)}),t},t.geomEach=s,t.geomReduce=function(e,t,r){var n=r;return s(e,function(e,o,i,a,s){n=0===o&&void 0===r?e:t(n,e,o,i,a,s)}),n},t.flattenEach=l,t.flattenReduce=function(e,t,r){var n=r;return l(e,function(e,o,i){n=0===o&&0===i&&void 0===r?e:t(n,e,o,i)}),n},t.segmentEach=u,t.segmentReduce=function(e,t,r){var n=r,o=!1;return u(e,function(e,i,a,s,l){n=!1===o&&void 0===r?e:t(n,e,i,a,s,l),o=!0}),n},t.lineEach=c,t.lineReduce=function(e,t,r){var n=r;return c(e,function(e,o,i,a){n=0===o&&void 0===r?e:t(n,e,o,i,a)}),n},t.findSegment=function(e,t){if(t=t||{},!n.isObject(t))throw new Error("options is invalid");var r,o=t.featureIndex||0,i=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.segmentIndex||0,l=t.properties;switch(e.type){case"FeatureCollection":o<0&&(o=e.features.length+o),l=l||e.features[o].properties,r=e.features[o].geometry;break;case"Feature":l=l||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var u=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=u.length+s-1),n.lineString([u[s],u[s+1]],l,t);case"Polygon":return a<0&&(a=u.length+a),s<0&&(s=u[a].length+s-1),n.lineString([u[a][s],u[a][s+1]],l,t);case"MultiLineString":return i<0&&(i=u.length+i),s<0&&(s=u[i].length+s-1),n.lineString([u[i][s],u[i][s+1]],l,t);case"MultiPolygon":return i<0&&(i=u.length+i),a<0&&(a=u[i].length+a),s<0&&(s=u[i][a].length-s-1),n.lineString([u[i][a][s],u[i][a][s+1]],l,t)}throw new Error("geojson is invalid")},t.findPoint=function(e,t){if(t=t||{},!n.isObject(t))throw new Error("options is invalid");var r,o=t.featureIndex||0,i=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.coordIndex||0,l=t.properties;switch(e.type){case"FeatureCollection":o<0&&(o=e.features.length+o),l=l||e.features[o].properties,r=e.features[o].geometry;break;case"Feature":l=l||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var u=r.coordinates;switch(r.type){case"Point":return n.point(u,l,t);case"MultiPoint":return i<0&&(i=u.length+i),n.point(u[i],l,t);case"LineString":return s<0&&(s=u.length+s),n.point(u[s],l,t);case"Polygon":return a<0&&(a=u.length+a),s<0&&(s=u[a].length+s),n.point(u[a][s],l,t);case"MultiLineString":return i<0&&(i=u.length+i),s<0&&(s=u[i].length+s),n.point(u[i][s],l,t);case"MultiPolygon":return i<0&&(i=u.length+i),a<0&&(a=u[i].length+a),s<0&&(s=u[i][a].length-s),n.point(u[i][a][s],l,t)}throw new Error("geojson is invalid")}},function(e,t,r){"use strict";t.a=function(e){return{west:e.getWest(),south:e.getSouth(),east:e.getEast(),north:e.getNorth()}},t.b=function(e){var t=new o.a.LngLat(e.west,e.south),r=new o.a.LngLat(e.east,e.north);return new o.a.LngLatBounds(t,r)},t.c=function(e){Object(i.a)({url:"/ajax/client_location"},function(t,r){if(!r)if(t.location&&t.location[0]&&t.location[1])e.jumpTo({center:t.location,zoom:7});else{e.fitBounds([[-135,-36],[44,64]],{linear:!0,animate:!1})}})},t.d=function(){document.getElementById("app").remove();var e=document.getElementById("old-browser-map-page");if(!e)return;Object(a.f)(e,"hidden");var t=e.getElementsByTagName("img")[0];if(!t)return;t.src=t.getAttribute("data-src")};var n=r(73),o=r.n(n),i=r(51),a=r(63)},function(e,t,r){"use strict";r.d(t,"a",function(){return i}),t.b=function(e){return e.touches&&e.touches.length?{x:e.touches[0].pageX,y:e.touches[0].pageY}:e.changedTouches&&e.changedTouches.length?{x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY}:{x:e.pageX,y:e.pageY}};var n=r(96),o=r.n(n),i=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};"passive"in n&&o.a.passiveEvents?e.addEventListener(t,r,n):e.addEventListener(t,r,n.capture)}},function(e,t,r){var n=r(530),o=r(537);e.exports=function(e,t){var r=o(e,t);return n(r)?r:void 0}},function(e,t,r){var n=r(180),o=r(532),i=r(533),a="[object Null]",s="[object Undefined]",l=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?s:a:l&&l in Object(e)?o(e):i(e)}},function(e,t,r){var n=r(119).Symbol;e.exports=n},function(e,t,r){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!("string"===typeof e||e instanceof String)){var t;throw t=null===e?"null":"object"===(t=n(e))&&e.constructor&&e.constructor.hasOwnProperty("name")?e.constructor.name:"a ".concat(t),new TypeError("Expected string but received ".concat(t,"."))}},e.exports=t.default,e.exports.default=t.default},function(e,t){e.exports=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/},function(e,t,r){"use strict";function n(){this.__rules__=[],this.__cache__=null}n.prototype.__find__=function(e){for(var t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1},n.prototype.__compile__=function(){var e=this,t=[""];e.__rules__.forEach(function(e){e.enabled&&e.alt.forEach(function(e){t.indexOf(e)<0&&t.push(e)})}),e.__cache__={},t.forEach(function(t){e.__cache__[t]=[],e.__rules__.forEach(function(r){r.enabled&&(t&&r.alt.indexOf(t)<0||e.__cache__[t].push(r.fn))})})},n.prototype.at=function(e,t,r){var n=this.__find__(e),o=r||{};if(-1===n)throw new Error("Parser rule not found: "+e);this.__rules__[n].fn=t,this.__rules__[n].alt=o.alt||[],this.__cache__=null},n.prototype.before=function(e,t,r,n){var o=this.__find__(e),i=n||{};if(-1===o)throw new Error("Parser rule not found: "+e);this.__rules__.splice(o,0,{name:t,enabled:!0,fn:r,alt:i.alt||[]}),this.__cache__=null},n.prototype.after=function(e,t,r,n){var o=this.__find__(e),i=n||{};if(-1===o)throw new Error("Parser rule not found: "+e);this.__rules__.splice(o+1,0,{name:t,enabled:!0,fn:r,alt:i.alt||[]}),this.__cache__=null},n.prototype.push=function(e,t,r){var n=r||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:n.alt||[]}),this.__cache__=null},n.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);var r=[];return e.forEach(function(e){var n=this.__find__(e);if(n<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[n].enabled=!0,r.push(e)},this),this.__cache__=null,r},n.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach(function(e){e.enabled=!1}),this.enable(e,t)},n.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);var r=[];return e.forEach(function(e){var n=this.__find__(e);if(n<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[n].enabled=!1,r.push(e)},this),this.__cache__=null,r},n.prototype.getRules=function(e){return null===this.__cache__&&this.__compile__(),this.__cache__[e]||[]},e.exports=n},function(e,t,r){"use strict";function n(e,t,r){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=r,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}n.prototype.attrIndex=function(e){var t,r,n;if(!this.attrs)return-1;for(r=0,n=(t=this.attrs).length;r<n;r++)if(t[r][0]===e)return r;return-1},n.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]},n.prototype.attrSet=function(e,t){var r=this.attrIndex(e),n=[e,t];r<0?this.attrPush(n):this.attrs[r]=n},n.prototype.attrGet=function(e){var t=this.attrIndex(e),r=null;return t>=0&&(r=this.attrs[t][1]),r},n.prototype.attrJoin=function(e,t){var r=this.attrIndex(e);r<0?this.attrPush([e,t]):this.attrs[r][1]=this.attrs[r][1]+" "+t},e.exports=n},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){var n=r(127),o=function(e,t){n.call(this,e,t)};(o.prototype=Object.create(n.prototype)).isValid=function(){return"number"===typeof this.coordinates[0]&&"number"===typeof this.coordinates[1]},o.prototype.updateCoordinate=function(e,t,r){3===arguments.length?this.coordinates=[t,r]:this.coordinates=[e,t],this.changed()},o.prototype.getCoordinate=function(){return this.getCoordinates()},e.exports=o},function(e,t){var r=e.exports=function(e,t){if(t||(t=16),void 0===e&&(e=128),e<=0)return"0";for(var n=Math.log(Math.pow(2,e))/Math.log(t),o=2;n===1/0;o*=2)n=Math.log(Math.pow(2,e/o))/Math.log(t)*o;var i=n-Math.floor(n),a="";for(o=0;o<Math.floor(n);o++){a=Math.floor(Math.random()*t).toString(t)+a}if(i){var s=Math.pow(t,i);a=Math.floor(Math.random()*s).toString(t)+a}var l=parseInt(a,t);return l!==1/0&&l>=Math.pow(2,e)?r(e,t):a};r.rack=function(e,t,n){var o=function(o){var a=0;do{if(a++>10){if(!n)throw new Error("too many ID collisions, use more bits");e+=n}var s=r(e,t)}while(Object.hasOwnProperty.call(i,s));return i[s]=o,s},i=o.hats={};return o.get=function(e){return o.hats[e]},o.set=function(e,t){return o.hats[e]=t,o},o.bits=e||128,o.base=t||16,o}},function(e,t,r){var n=r(127),o=function(e,t){n.call(this,e,t)};(o.prototype=Object.create(n.prototype)).isValid=function(){return this.coordinates.length>1},o.prototype.addCoordinate=function(e,t,r){this.changed();var n=parseInt(e,10);this.coordinates.splice(n,0,[t,r])},o.prototype.getCoordinate=function(e){var t=parseInt(e,10);return JSON.parse(JSON.stringify(this.coordinates[t]))},o.prototype.removeCoordinate=function(e){this.changed(),this.coordinates.splice(parseInt(e,10),1)},o.prototype.updateCoordinate=function(e,t,r){var n=parseInt(e,10);this.coordinates[n]=[t,r],this.changed()},e.exports=o},function(e,t,r){var n=r(127),o=function(e,t){n.call(this,e,t),this.coordinates=this.coordinates.map(function(e){return e.slice(0,-1)})};(o.prototype=Object.create(n.prototype)).isValid=function(){return 0!==this.coordinates.length&&this.coordinates.every(function(e){return e.length>2})},o.prototype.incomingCoords=function(e){this.coordinates=e.map(function(e){return e.slice(0,-1)}),this.changed()},o.prototype.setCoordinates=function(e){this.coordinates=e,this.changed()},o.prototype.addCoordinate=function(e,t,r){this.changed();var n=e.split(".").map(function(e){return parseInt(e,10)});this.coordinates[n[0]].splice(n[1],0,[t,r])},o.prototype.removeCoordinate=function(e){this.changed();var t=e.split(".").map(function(e){return parseInt(e,10)}),r=this.coordinates[t[0]];r&&(r.splice(t[1],1),r.length<3&&this.coordinates.splice(t[0],1))},o.prototype.getCoordinate=function(e){var t=e.split(".").map(function(e){return parseInt(e,10)}),r=this.coordinates[t[0]];return JSON.parse(JSON.stringify(r[t[1]]))},o.prototype.getCoordinates=function(){return this.coordinates.map(function(e){return e.concat([e[0]])})},o.prototype.updateCoordinate=function(e,t,r){this.changed();var n=e.split("."),o=parseInt(n[0],10),i=parseInt(n[1],10);void 0===this.coordinates[o]&&(this.coordinates[o]=[]),this.coordinates[o][i]=[t,r]},e.exports=o},function(e,t){e.exports=function(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var o in n)r.call(n,o)&&(e[o]=n[o])}return e};var r=Object.prototype.hasOwnProperty},function(e,t,r){var n=r(129),o=r(675),i=r(11);e.exports=function e(t){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,l=t.geometry,u=l.type,c=l.coordinates,p=t.properties&&t.properties.id,h=[];function f(e,t){var r="",i=null;e.forEach(function(e,s){var l=void 0!==t&&null!==t?t+"."+s:String(s),u=n(p,e,l,d(l));if(a.midpoints&&i){var c=o(p,i,u,a.map);c&&h.push(c)}i=u;var f=JSON.stringify(e);r!==f&&h.push(u),0===s&&(r=f)})}function d(e){return!!a.selectedPaths&&-1!==a.selectedPaths.indexOf(e)}return u===i.geojsonTypes.POINT?h.push(n(p,c,s,d(s))):u===i.geojsonTypes.POLYGON?c.forEach(function(e,t){f(e,null!==s?s+"."+t:String(t))}):u===i.geojsonTypes.LINE_STRING?f(c,s):0===u.indexOf(i.geojsonTypes.MULTI_PREFIX)&&(r=u.replace(i.geojsonTypes.MULTI_PREFIX,""),c.forEach(function(n,o){var s={type:i.geojsonTypes.FEATURE,properties:t.properties,geometry:{type:r,coordinates:n}};h=h.concat(e(s,a,o))})),h}},function(e,t,r){var n=r(676),o=r(11),i=o.LAT_MIN,a=o.LAT_MAX,s=o.LAT_RENDERED_MIN,l=o.LAT_RENDERED_MAX,u=o.LNG_MIN,c=o.LNG_MAX;e.exports=function(e,t){var r=i,o=a,p=i,h=a,f=c,d=u;e.forEach(function(e){var t=n(e),i=t[1],a=t[3],s=t[0],l=t[2];i>r&&(r=i),a<o&&(o=a),a>p&&(p=a),i<h&&(h=i),s<f&&(f=s),l>d&&(d=l)});var m=t;return r+m.lat>l&&(m.lat=l-r),p+m.lat>a&&(m.lat=a-p),o+m.lat<s&&(m.lat=s-o),h+m.lat<i&&(m.lat=i-h),f+m.lng<=u&&(m.lng+=360*Math.ceil(Math.abs(m.lng)/360)),d+m.lng>=c&&(m.lng-=360*Math.ceil(Math.abs(m.lng)/360)),m}},function(e,t){e.exports=function(e,t){return!!e.lngLat&&e.lngLat.lng===t[0]&&e.lngLat.lat===t[1]}},function(e,t,r){"use strict";t.c=function(){var e=document.createElement("canvas"),t=Object.create({antialias:!1,alpha:!0,stencil:!0,depth:!0,failIfMajorPerformanceCaveat:!1});return e.probablySupportsContext?e.probablySupportsContext("webgl",t)||e.probablySupportsContext("experimental-webgl",t):e.supportsContext?e.supportsContext("webgl",t)||e.supportsContext("experimental-webgl",t):e.getContext("webgl",t)||e.getContext("experimental-webgl",t)},t.a=function(){i.a.showCustom(o.a.createElement("div",null,o.a.createElement("p",{className:"overlay-title"},"Unsupported browser"),o.a.createElement("p",null,"Drawing is not supported in ",o.a.createElement("br",null),"Internet Explorer 11."),o.a.createElement("p",null,"Please use a different browser!"))),Object(a.b)("IE11 not supported")},t.b=function(){return{isBrowser:!("undefined"===typeof window||"undefined"===typeof document),isArraySupported:!!(Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray),isFunctionSupported:!(!Function.prototype||!Function.prototype.bind),isObjectSupported:!!(Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions),isJSONSupported:!!("JSON"in window&&"parse"in JSON&&"stringify"in JSON),isWorkerSupported:!!function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var e=new Blob([""],{type:"text/javascript"}),t=URL.createObjectURL(e),r=void 0,n=void 0;try{n=new Worker(t),r=!0}catch(e){r=!1}n&&n.terminate();return URL.revokeObjectURL(t),r}(),isUint8ClampedArraySupported:!!("Uint8ClampedArray"in window),isArrayBufferSupported:!!ArrayBuffer.isView}};var n=r(0),o=r.n(n),i=r(15),a=r(5)},function(e,t,r){"use strict";t.b=function(e,t){if(!e)return"point";if(t.label)return"label";return n[e.type]},t.c=function(e,t){if("point"===e&&t["marker-color"])return t["marker-color"];if("polyline"===e&&t.stroke)return t.stroke;if("polygon"===e){if(t.stroke)return t.stroke;if(t.fill)return t.fill}},t.a=function(){return{type:"FeatureCollection",features:[]}};var n={Point:"point",LineString:"polyline",Polygon:"polygon"}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,r){var n=r(198)("keys"),o=r(135);e.exports=function(e){return n[e]||(n[e]=o(e))}},function(e,t,r){var n=r(17),o=r(29),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:r(100)?"pure":"global",copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t,r){var n=r(41),o=r(17),i=r(82);e.exports=function(e,t){var r=(o.Object||{})[e]||Object[e],a={};a[e]=t(r),n(n.S+n.F*i(function(){r(1)}),"Object",a)}},function(e,t,r){var n=r(54),o=r(29).document,i=n(o)&&n(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t,r){var n=r(54);e.exports=function(e,t){if(!n(e))return e;var r,o;if(t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;if("function"==typeof(r=e.valueOf)&&!n(o=r.call(e)))return o;if(!t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},function(e,t,r){var n=r(42),o=r(752),i=r(204),a=r(197)("IE_PROTO"),s=function(){},l=function(){var e,t=r(200)("iframe"),n=i.length;for(t.style.display="none",r(319).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;n--;)delete l.prototype[i[n]];return l()};e.exports=Object.create||function(e,t){var r;return null!==e?(s.prototype=n(e),r=new s,s.prototype=null,r[a]=e):r=l(),void 0===t?r:o(r,t)}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,r){t.f=r(30)},function(e,t,r){var n=r(29),o=r(17),i=r(100),a=r(205),s=r(53).f;e.exports=function(e){var t=o.Symbol||(o.Symbol=i?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,r){var n=r(141),o=r(137),i=r(66),a=r(201),s=r(64),l=r(311),u=Object.getOwnPropertyDescriptor;t.f=r(55)?u:function(e,t){if(e=i(e),t=a(t,!0),l)try{return u(e,t)}catch(e){}if(s(e,t))return o(!n.f.call(e,t),e[t])}},function(e,t,r){"use strict";var n=r(210),o=r.n(n),i=r(13),a=r.n(i),s=r(16),l=r.n(s),u=r(778),c=r(779),p=(r(4),function(){function e(t){var r=t.maxScrollSize,n=void 0===r?Object(c.a)():r,i=o()(t,["maxScrollSize"]);a()(this,e),this._cellSizeAndPositionManager=new u.a(i),this._maxScrollSize=n}return l()(e,[{key:"areOffsetsAdjusted",value:function(){return this._cellSizeAndPositionManager.getTotalSize()>this._maxScrollSize}},{key:"configure",value:function(e){this._cellSizeAndPositionManager.configure(e)}},{key:"getCellCount",value:function(){return this._cellSizeAndPositionManager.getCellCount()}},{key:"getEstimatedCellSize",value:function(){return this._cellSizeAndPositionManager.getEstimatedCellSize()}},{key:"getLastMeasuredIndex",value:function(){return this._cellSizeAndPositionManager.getLastMeasuredIndex()}},{key:"getOffsetAdjustment",value:function(e){var t=e.containerSize,r=e.offset,n=this._cellSizeAndPositionManager.getTotalSize(),o=this.getTotalSize(),i=this._getOffsetPercentage({containerSize:t,offset:r,totalSize:o});return Math.round(i*(o-n))}},{key:"getSizeAndPositionOfCell",value:function(e){return this._cellSizeAndPositionManager.getSizeAndPositionOfCell(e)}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._cellSizeAndPositionManager.getSizeAndPositionOfLastMeasuredCell()}},{key:"getTotalSize",value:function(){return Math.min(this._maxScrollSize,this._cellSizeAndPositionManager.getTotalSize())}},{key:"getUpdatedOffsetForIndex",value:function(e){var t=e.align,r=void 0===t?"auto":t,n=e.containerSize,o=e.currentOffset,i=e.targetIndex;o=this._safeOffsetToOffset({containerSize:n,offset:o});var a=this._cellSizeAndPositionManager.getUpdatedOffsetForIndex({align:r,containerSize:n,currentOffset:o,targetIndex:i});return this._offsetToSafeOffset({containerSize:n,offset:a})}},{key:"getVisibleCellRange",value:function(e){var t=e.containerSize,r=e.offset;return r=this._safeOffsetToOffset({containerSize:t,offset:r}),this._cellSizeAndPositionManager.getVisibleCellRange({containerSize:t,offset:r})}},{key:"resetCell",value:function(e){this._cellSizeAndPositionManager.resetCell(e)}},{key:"_getOffsetPercentage",value:function(e){var t=e.containerSize,r=e.offset,n=e.totalSize;return n<=t?0:r/(n-t)}},{key:"_offsetToSafeOffset",value:function(e){var t=e.containerSize,r=e.offset,n=this._cellSizeAndPositionManager.getTotalSize(),o=this.getTotalSize();if(n===o)return r;var i=this._getOffsetPercentage({containerSize:t,offset:r,totalSize:n});return Math.round(i*(o-t))}},{key:"_safeOffsetToOffset",value:function(e){var t=e.containerSize,r=e.offset,n=this._cellSizeAndPositionManager.getTotalSize(),o=this.getTotalSize();if(n===o)return r;var i=this._getOffsetPercentage({containerSize:t,offset:r,totalSize:o});return Math.round(i*(n-t))}}]),e}());t.a=p},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}},function(e,t,r){"use strict";t.a=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t={};return function(r){var n=r.callback,i=r.indices,a=o()(i),s=!e||a.every(function(e){var t=i[e];return Array.isArray(t)?t.length>0:t>=0}),l=a.length!==o()(t).length||a.some(function(e){var r=t[e],n=i[e];return Array.isArray(n)?r.join(",")!==n.join(","):r!==n});t=i,s&&l&&n(i)}};var n=r(212),o=r.n(n)},function(e,t,r){e.exports={default:r(780),__esModule:!0}},function(e,t,r){var n=r(103),o=r(30)("toStringTag"),i="Arguments"==n(function(){return arguments}());e.exports=function(e){var t,r,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?r:i?n(t):"Object"==(a=n(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,r){"use strict";var n=r(136);e.exports.f=function(e){return new function(e){var t,r;this.promise=new e(function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n}),this.resolve=n(t),this.reject=n(r)}(e)}},function(e,t,r){"use strict";var n=r(43),o=r.n(n),i=r(822),a=r.n(i),s=r(24),l=r.n(s),u=r(13),c=r.n(u),p=r(16),h=r.n(p),f=r(25),d=r.n(f),m=r(26),y=r.n(m),v=r(8),g=r.n(v),_=r(0),b=(r.n(_),r(104)),x=r(823),w=r(105),E=r(10),S=(r.n(E),function(e){function t(){var e,r,n,o;c()(this,t);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=n=d()(this,(e=t.__proto__||l()(t)).call.apply(e,[this].concat(a))),n.state={isScrolling:!1,scrollTop:0},n._invalidateOnUpdateStartIndex=null,n._invalidateOnUpdateStopIndex=null,n._positionCache=new x.a,n._startIndex=null,n._startIndexMemoized=null,n._stopIndex=null,n._stopIndexMemoized=null,n._debounceResetIsScrollingCallback=function(){n.setState({isScrolling:!1})},n._setScrollingContainerRef=function(e){n._scrollingContainer=e},n._onScroll=function(e){var t=n.props.height,r=e.target.scrollTop,o=Math.min(Math.max(0,n._getEstimatedTotalHeight()-t),r);r===o&&(n._debounceResetIsScrolling(),n.state.scrollTop!==o&&n.setState({isScrolling:!0,scrollTop:o}))},o=r,d()(n,o)}return y()(t,e),h()(t,[{key:"clearCellPositions",value:function(){this._positionCache=new x.a,this.forceUpdate()}},{key:"invalidateCellSizeAfterRender",value:function(e){var t=e.rowIndex;null===this._invalidateOnUpdateStartIndex?(this._invalidateOnUpdateStartIndex=t,this._invalidateOnUpdateStopIndex=t):(this._invalidateOnUpdateStartIndex=Math.min(this._invalidateOnUpdateStartIndex,t),this._invalidateOnUpdateStopIndex=Math.max(this._invalidateOnUpdateStopIndex,t))}},{key:"recomputeCellPositions",value:function(){var e=this._positionCache.count-1;this._positionCache=new x.a,this._populatePositionCache(0,e),this.forceUpdate()}},{key:"componentDidMount",value:function(){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback()}},{key:"componentDidUpdate",value:function(e,t){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback(),this.props.scrollTop!==e.scrollTop&&this._debounceResetIsScrolling()}},{key:"componentWillUnmount",value:function(){this._debounceResetIsScrollingId&&Object(w.a)(this._debounceResetIsScrollingId)}},{key:"render",value:function(){var e=this,t=this.props,r=t.autoHeight,n=t.cellCount,i=t.cellMeasurerCache,s=t.cellRenderer,l=t.className,u=t.height,c=t.id,p=t.keyMapper,h=t.overscanByPixels,f=t.role,d=t.style,m=t.tabIndex,y=t.width,v=t.rowDirection,b=this.state,x=b.isScrolling,w=b.scrollTop,E=[],S=this._getEstimatedTotalHeight(),C=this._positionCache.shortestColumnSize,k=this._positionCache.count,T=0,O=void 0;if(this._positionCache.range(Math.max(0,w-h),u+2*h,function(t,r,n){var o;"undefined"===typeof O?(T=t,O=t):(T=Math.min(T,t),O=Math.max(O,t)),E.push(s({index:t,isScrolling:x,key:p(t),parent:e,style:(o={height:i.getHeight(t)},a()(o,"ltr"===v?"left":"right",r),a()(o,"position","absolute"),a()(o,"top",n),a()(o,"width",i.getWidth(t)),o)}))}),C<w+u+h&&k<n)for(var P=Math.min(n-k,Math.ceil((w+u+h-C)/i.defaultHeight*y/i.defaultWidth)),A=k;A<k+P;A++)O=A,E.push(s({index:A,isScrolling:x,key:p(A),parent:this,style:{width:i.getWidth(A)}}));return this._startIndex=T,this._stopIndex=O,_.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:g()("ReactVirtualized__Masonry",l),id:c,onScroll:this._onScroll,role:f,style:o()({boxSizing:"border-box",direction:"ltr",height:r?"auto":u,overflowX:"hidden",overflowY:S<u?"hidden":"auto",position:"relative",width:y,WebkitOverflowScrolling:"touch",willChange:"transform"},d),tabIndex:m},_.createElement("div",{className:"ReactVirtualized__Masonry__innerScrollContainer",style:{width:"100%",height:S,maxWidth:"100%",maxHeight:S,overflow:"hidden",pointerEvents:x?"none":"",position:"relative"}},E))}},{key:"_checkInvalidateOnUpdate",value:function(){if("number"===typeof this._invalidateOnUpdateStartIndex){var e=this._invalidateOnUpdateStartIndex,t=this._invalidateOnUpdateStopIndex;this._invalidateOnUpdateStartIndex=null,this._invalidateOnUpdateStopIndex=null,this._populatePositionCache(e,t),this.forceUpdate()}}},{key:"_debounceResetIsScrolling",value:function(){var e=this.props.scrollingResetTimeInterval;this._debounceResetIsScrollingId&&Object(w.a)(this._debounceResetIsScrollingId),this._debounceResetIsScrollingId=Object(w.b)(this._debounceResetIsScrollingCallback,e)}},{key:"_getEstimatedTotalHeight",value:function(){var e=this.props,t=e.cellCount,r=e.cellMeasurerCache,n=e.width,o=Math.max(1,Math.floor(n/r.defaultWidth));return this._positionCache.estimateTotalHeight(t,o,r.defaultHeight)}},{key:"_invokeOnScrollCallback",value:function(){var e=this.props,t=e.height,r=e.onScroll,n=this.state.scrollTop;this._onScrollMemoized!==n&&(r({clientHeight:t,scrollHeight:this._getEstimatedTotalHeight(),scrollTop:n}),this._onScrollMemoized=n)}},{key:"_invokeOnCellsRenderedCallback",value:function(){this._startIndexMemoized===this._startIndex&&this._stopIndexMemoized===this._stopIndex||((0,this.props.onCellsRendered)({startIndex:this._startIndex,stopIndex:this._stopIndex}),this._startIndexMemoized=this._startIndex,this._stopIndexMemoized=this._stopIndex)}},{key:"_populatePositionCache",value:function(e,t){for(var r=this.props,n=r.cellMeasurerCache,o=r.cellPositioner,i=e;i<=t;i++){var a=o(i),s=a.left,l=a.top;this._positionCache.setPosition(i,s,l,n.getHeight(i))}}}],[{key:"getDerivedStateFromProps",value:function(e,t){return void 0!==e.scrollTop&&t.scrollTop!==e.scrollTop?{isScrolling:!0,scrollTop:e.scrollTop}:null}}]),t}(_.PureComponent));function C(){}S.defaultProps={autoHeight:!1,keyMapper:function(e){return e},onCellsRendered:C,onScroll:C,overscanByPixels:20,role:"grid",scrollingResetTimeInterval:150,style:{},tabIndex:0,rowDirection:"ltr"},S.propTypes=null;Object(b.a)(S),t.a=S},function(e,t,r){"use strict";var n=r(361);function o(){}var i=null,a={};function s(e){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof e)throw new TypeError("Promise constructor's argument is not a function");this._75=0,this._83=0,this._18=null,this._38=null,e!==o&&f(e,this)}function l(e,t){for(;3===e._83;)e=e._18;if(s._47&&s._47(e),0===e._83)return 0===e._75?(e._75=1,void(e._38=t)):1===e._75?(e._75=2,void(e._38=[e._38,t])):void e._38.push(t);!function(e,t){n(function(){var r=1===e._83?t.onFulfilled:t.onRejected;if(null!==r){var n=function(e,t){try{return e(t)}catch(e){return i=e,a}}(r,e._18);n===a?c(t.promise,i):u(t.promise,n)}else 1===e._83?u(t.promise,e._18):c(t.promise,e._18)})}(e,t)}function u(e,t){if(t===e)return c(e,new TypeError("A promise cannot be resolved with itself."));if(t&&("object"===typeof t||"function"===typeof t)){var r=function(e){try{return e.then}catch(e){return i=e,a}}(t);if(r===a)return c(e,i);if(r===e.then&&t instanceof s)return e._83=3,e._18=t,void p(e);if("function"===typeof r)return void f(r.bind(t),e)}e._83=1,e._18=t,p(e)}function c(e,t){e._83=2,e._18=t,s._71&&s._71(e,t),p(e)}function p(e){if(1===e._75&&(l(e,e._38),e._38=null),2===e._75){for(var t=0;t<e._38.length;t++)l(e,e._38[t]);e._38=null}}function h(e,t,r){this.onFulfilled="function"===typeof e?e:null,this.onRejected="function"===typeof t?t:null,this.promise=r}function f(e,t){var r=!1,n=function(e,t,r){try{e(t,r)}catch(e){return i=e,a}}(e,function(e){r||(r=!0,u(t,e))},function(e){r||(r=!0,c(t,e))});r||n!==a||(r=!0,c(t,i))}e.exports=s,s._47=null,s._71=null,s._44=o,s.prototype.then=function(e,t){if(this.constructor!==s)return function(e,t,r){return new e.constructor(function(n,i){var a=new s(o);a.then(n,i),l(e,new h(t,r,a))})}(this,e,t);var r=new s(o);return l(this,new h(e,t,r)),r}},function(e,t,r){"use strict";var n=r(218),o={};o[r(21)("toStringTag")]="z",o+""!="[object z]"&&r(56)(Object.prototype,"toString",function(){return"[object "+n(this)+"]"},!0)},function(e,t,r){var n=r(107),o=r(21)("toStringTag"),i="Arguments"==n(function(){return arguments}());e.exports=function(e){var t,r,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?r:i?n(t):"Object"==(a=n(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,r){e.exports=!r(49)&&!r(67)(function(){return 7!=Object.defineProperty(r(220)("div"),"a",{get:function(){return 7}}).a})},function(e,t,r){var n=r(33),o=r(36).document,i=n(o)&&n(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t,r){"use strict";var n=r(366)(!0);r(148)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})})},function(e,t,r){var n=r(59),o=r(50),i=r(223)(!1),a=r(151)("IE_PROTO");e.exports=function(e,t){var r,s=o(e),l=0,u=[];for(r in s)r!=a&&n(s,r)&&u.push(r);for(;t.length>l;)n(s,r=t[l++])&&(~i(u,r)||u.push(r));return u}},function(e,t,r){var n=r(50),o=r(89),i=r(224);e.exports=function(e){return function(t,r,a){var s,l=n(t),u=o(l.length),c=i(a,u);if(e&&r!=r){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===r)return e||c||0;return!e&&-1}}},function(e,t,r){var n=r(147),o=Math.max,i=Math.min;e.exports=function(e,t){return(e=n(e))<0?o(e+t,0):i(e,t)}},function(e,t,r){for(var n=r(372),o=r(88),i=r(56),a=r(36),s=r(57),l=r(87),u=r(21),c=u("iterator"),p=u("toStringTag"),h=l.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},d=o(f),m=0;m<d.length;m++){var y,v=d[m],g=f[v],_=a[v],b=_&&_.prototype;if(b&&(b[c]||s(b,c,h),b[p]||s(b,p,v),l[v]=h,g))for(y in n)b[y]||i(b,y,n[y],!0)}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,r){var n=r(56);e.exports=function(e,t,r){for(var o in t)n(e,o,t[o],r);return e}},function(e,t){e.exports=function(e,t,r,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(r+": incorrect invocation!");return e}},function(e,t,r){var n=r(68),o=r(230),i=r(231),a=r(58),s=r(89),l=r(232),u={},c={};(t=e.exports=function(e,t,r,p,h){var f,d,m,y,v=h?function(){return e}:l(e),g=n(r,p,t?2:1),_=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(i(v)){for(f=s(e.length);f>_;_++)if((y=t?g(a(d=e[_])[0],d[1]):g(e[_]))===u||y===c)return y}else for(m=v.call(e);!(d=m.next()).done;)if((y=o(m,g,d.value,t))===u||y===c)return y}).BREAK=u,t.RETURN=c},function(e,t,r){var n=r(58);e.exports=function(e,t,r,o){try{return o?t(n(r)[0],r[1]):t(r)}catch(t){var i=e.return;throw void 0!==i&&n(i.call(e)),t}}},function(e,t,r){var n=r(87),o=r(21)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||i[o]===e)}},function(e,t,r){var n=r(218),o=r(21)("iterator"),i=r(87);e.exports=r(19).getIteratorMethod=function(e){if(void 0!=e)return e[o]||e["@@iterator"]||i[n(e)]}},function(e,t,r){var n=r(33);e.exports=function(e,t){if(!n(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,r){var n=r(21)("iterator"),o=!1;try{var i=[7][n]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var r=!1;try{var i=[7],a=i[n]();a.next=function(){return{done:r=!0}},i[n]=function(){return a},e(i)}catch(e){}return r}},function(e,t,r){var n=r(111),o=r(86),i=r(50),a=r(146),s=r(59),l=r(219),u=Object.getOwnPropertyDescriptor;t.f=r(49)?u:function(e,t){if(e=i(e),t=a(t,!0),l)try{return u(e,t)}catch(e){}if(s(e,t))return o(!n.f.call(e,t),e[t])}},function(e,t,r){t.f=r(21)},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,r){var n=r(107);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,r){var n=r(222),o=r(152).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,o)}},function(e,t,r){var n=r(88),o=r(50),i=r(111).f;e.exports=function(e){return function(t){for(var r,a=o(t),s=n(a),l=s.length,u=0,c=[];l>u;)i.call(a,r=s[u++])&&c.push(e?[r,a[r]]:a[r]);return c}}},function(e,t,r){"use strict";var n=r(90),o=r(12),i=r(242),a=(r(243),r(91));r(2),r(413);function s(e,t,r){this.props=e,this.context=t,this.refs=a,this.updater=r||i}function l(e,t,r){this.props=e,this.context=t,this.refs=a,this.updater=r||i}function u(){}s.prototype.isReactComponent={},s.prototype.setState=function(e,t){"object"!==typeof e&&"function"!==typeof e&&null!=e&&n("85"),this.updater.enqueueSetState(this,e),t&&this.updater.enqueueCallback(this,t,"setState")},s.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this),e&&this.updater.enqueueCallback(this,e,"forceUpdate")},u.prototype=s.prototype,l.prototype=new u,l.prototype.constructor=l,o(l.prototype,s.prototype),l.prototype.isPureReactComponent=!0,e.exports={Component:s,PureComponent:l}},function(e,t,r){"use strict";r(9);var n={isMounted:function(e){return!1},enqueueCallback:function(e,t){},enqueueForceUpdate:function(e){},enqueueReplaceState:function(e,t){},enqueueSetState:function(e,t){}};e.exports=n},function(e,t,r){"use strict";var n=!1;e.exports=n},function(e,t,r){"use strict";var n="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;e.exports=n},function(e,t,r){"use strict";var n=r(421);e.exports=function(e){return n(e,!1)}},function(e,t,r){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,r){"use strict";e.exports={hasCachedChildNodes:1}},function(e,t,r){"use strict";var n=r(430),o=r(431),i=r(435),a=r(438),s=r(439),l=r(440),u=r(441),c=r(447),p=r(14),h=r(471),f=r(472),d=r(473),m=r(268),y=r(474),v=r(476),g=r(477),_=r(483),b=r(484),x=r(485),w=!1;e.exports={inject:function(){w||(w=!0,v.EventEmitter.injectReactEventListener(y),v.EventPluginHub.injectEventPluginOrder(a),v.EventPluginUtils.injectComponentTree(p),v.EventPluginUtils.injectTreeTraversal(f),v.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:x,EnterLeaveEventPlugin:s,ChangeEventPlugin:i,SelectEventPlugin:b,BeforeInputEventPlugin:o}),v.HostComponent.injectGenericComponentClass(c),v.HostComponent.injectTextComponentClass(d),v.DOMProperty.injectDOMPropertyConfig(n),v.DOMProperty.injectDOMPropertyConfig(l),v.DOMProperty.injectDOMPropertyConfig(_),v.EmptyComponent.injectEmptyComponentFactory(function(e){return new h(e)}),v.Updates.injectReconcileTransaction(g),v.Updates.injectBatchingStrategy(m),v.Component.injectEnvironment(u))}}},function(e,t,r){"use strict";var n=r(7);r(2);e.exports=function(e,t){return null==t&&n("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}},function(e,t,r){"use strict";e.exports=function(e,t,r){Array.isArray(e)?e.forEach(t,r):e&&t.call(r,e)}},function(e,t,r){"use strict";var n=r(27),o=null;e.exports=function(){return!o&&n.canUseDOM&&(o="textContent"in document.documentElement?"textContent":"innerText"),o}},function(e,t,r){"use strict";var n=r(7);var o=r(61),i=(r(2),function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._callbacks=null,this._contexts=null,this._arg=t}return e.prototype.enqueue=function(e,t){this._callbacks=this._callbacks||[],this._callbacks.push(e),this._contexts=this._contexts||[],this._contexts.push(t)},e.prototype.notifyAll=function(){var e=this._callbacks,t=this._contexts,r=this._arg;if(e&&t){e.length!==t.length&&n("24"),this._callbacks=null,this._contexts=null;for(var o=0;o<e.length;o++)e[o].call(t[o],r);e.length=0,t.length=0}},e.prototype.checkpoint=function(){return this._callbacks?this._callbacks.length:0},e.prototype.rollback=function(e){this._callbacks&&this._contexts&&(this._callbacks.length=e,this._contexts.length=e)},e.prototype.reset=function(){this._callbacks=null,this._contexts=null},e.prototype.destructor=function(){this.reset()},e}());e.exports=o.addPoolingTo(i)},function(e,t,r){"use strict";e.exports={logTopLevelRenders:!1}},function(e,t,r){"use strict";var n=r(14);function o(e){var t=e.type,r=e.nodeName;return r&&"input"===r.toLowerCase()&&("checkbox"===t||"radio"===t)}function i(e){return e._wrapperState.valueTracker}var a={_getTrackerFromNode:function(e){return i(n.getInstanceFromNode(e))},track:function(e){if(!i(e)){var t=n.getNodeFromInstance(e),r=o(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),s=""+t[r];t.hasOwnProperty(r)||"function"!==typeof a.get||"function"!==typeof a.set||(Object.defineProperty(t,r,{enumerable:a.enumerable,configurable:!0,get:function(){return a.get.call(this)},set:function(e){s=""+e,a.set.call(this,e)}}),function(e,t){e._wrapperState.valueTracker=t}(e,{getValue:function(){return s},setValue:function(e){s=""+e},stopTracking:function(){!function(e){e._wrapperState.valueTracker=null}(e),delete t[r]}}))}},updateValueIfChanged:function(e){if(!e)return!1;var t=i(e);if(!t)return a.track(e),!0;var r,s,l=t.getValue(),u=((r=n.getNodeFromInstance(e))&&(s=o(r)?""+r.checked:r.value),s);return u!==l&&(t.setValue(u),!0)},stopTracking:function(e){var t=i(e);t&&t.stopTracking()}};e.exports=a},function(e,t,r){"use strict";var n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};e.exports=function(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!n[e.type]:"textarea"===t}},function(e,t,r){"use strict";var n={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(e){n.currentScrollLeft=e.x,n.currentScrollTop=e.y}};e.exports=n},function(e,t,r){"use strict";var n=r(27),o=r(115),i=r(114),a=function(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t};n.canUseDOM&&("textContent"in document.documentElement||(a=function(e,t){3!==e.nodeType?i(e,o(t)):e.nodeValue=t})),e.exports=a},function(e,t,r){"use strict";e.exports=function(e){try{e.focus()}catch(e){}}},function(e,t,r){"use strict";var n={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};var o=["Webkit","ms","Moz","O"];Object.keys(n).forEach(function(e){o.forEach(function(t){n[function(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}(t,e)]=n[e]})});var i={isUnitlessNumber:n,shorthandPropertyExpansions:{background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}}};e.exports=i},function(e,t,r){"use strict";var n=r(71),o=(r(14),r(35),r(456)),i=(r(9),new RegExp("^["+n.ATTRIBUTE_NAME_START_CHAR+"]["+n.ATTRIBUTE_NAME_CHAR+"]*$")),a={},s={};function l(e){return!!s.hasOwnProperty(e)||!a.hasOwnProperty(e)&&(i.test(e)?(s[e]=!0,!0):(a[e]=!0,!1))}function u(e,t){return null==t||e.hasBooleanValue&&!t||e.hasNumericValue&&isNaN(t)||e.hasPositiveNumericValue&&t<1||e.hasOverloadedBooleanValue&&!1===t}var c={createMarkupForID:function(e){return n.ID_ATTRIBUTE_NAME+"="+o(e)},setAttributeForID:function(e,t){e.setAttribute(n.ID_ATTRIBUTE_NAME,t)},createMarkupForRoot:function(){return n.ROOT_ATTRIBUTE_NAME+'=""'},setAttributeForRoot:function(e){e.setAttribute(n.ROOT_ATTRIBUTE_NAME,"")},createMarkupForProperty:function(e,t){var r=n.properties.hasOwnProperty(e)?n.properties[e]:null;if(r){if(u(r,t))return"";var i=r.attributeName;return r.hasBooleanValue||r.hasOverloadedBooleanValue&&!0===t?i+'=""':i+"="+o(t)}return n.isCustomAttribute(e)?null==t?"":e+"="+o(t):null},createMarkupForCustomAttribute:function(e,t){return l(e)&&null!=t?e+"="+o(t):""},setValueForProperty:function(e,t,r){var o=n.properties.hasOwnProperty(t)?n.properties[t]:null;if(o){var i=o.mutationMethod;if(i)i(e,r);else{if(u(o,r))return void this.deleteValueForProperty(e,t);if(o.mustUseProperty)e[o.propertyName]=r;else{var a=o.attributeName,s=o.attributeNamespace;s?e.setAttributeNS(s,a,""+r):o.hasBooleanValue||o.hasOverloadedBooleanValue&&!0===r?e.setAttribute(a,""):e.setAttribute(a,""+r)}}}else if(n.isCustomAttribute(t))return void c.setValueForAttribute(e,t,r)},setValueForAttribute:function(e,t,r){l(t)&&(null==r?e.removeAttribute(t):e.setAttribute(t,""+r))},deleteValueForAttribute:function(e,t){e.removeAttribute(t)},deleteValueForProperty:function(e,t){var r=n.properties.hasOwnProperty(t)?n.properties[t]:null;if(r){var o=r.mutationMethod;if(o)o(e,void 0);else if(r.mustUseProperty){var i=r.propertyName;r.hasBooleanValue?e[i]=!1:e[i]=""}else e.removeAttribute(r.attributeName)}else n.isCustomAttribute(t)&&e.removeAttribute(t)}};e.exports=c},function(e,t,r){"use strict";var n=r(12),o=r(165),i=r(14),a=r(38),s=(r(9),!1);function l(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var e=this._currentElement.props,t=o.getValue(e);null!=t&&u(this,Boolean(e.multiple),t)}}function u(e,t,r){var n,o,a=i.getNodeFromInstance(e).options;if(t){for(n={},o=0;o<r.length;o++)n[""+r[o]]=!0;for(o=0;o<a.length;o++){var s=n.hasOwnProperty(a[o].value);a[o].selected!==s&&(a[o].selected=s)}}else{for(n=""+r,o=0;o<a.length;o++)if(a[o].value===n)return void(a[o].selected=!0);a.length&&(a[0].selected=!0)}}var c={getHostProps:function(e,t){return n({},t,{onChange:e._wrapperState.onChange,value:void 0})},mountWrapper:function(e,t){var r=o.getValue(t);e._wrapperState={pendingUpdate:!1,initialValue:null!=r?r:t.defaultValue,listeners:null,onChange:function(e){var t=this._currentElement.props,r=o.executeOnChange(t,e);this._rootNodeID&&(this._wrapperState.pendingUpdate=!0);return a.asap(l,this),r}.bind(e),wasMultiple:Boolean(t.multiple)},void 0===t.value||void 0===t.defaultValue||s||(s=!0)},getSelectValueContext:function(e){return e._wrapperState.initialValue},postUpdateWrapper:function(e){var t=e._currentElement.props;e._wrapperState.initialValue=void 0;var r=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=Boolean(t.multiple);var n=o.getValue(t);null!=n?(e._wrapperState.pendingUpdate=!1,u(e,Boolean(t.multiple),n)):r!==Boolean(t.multiple)&&(null!=t.defaultValue?u(e,Boolean(t.multiple),t.defaultValue):u(e,Boolean(t.multiple),t.multiple?[]:""))}};e.exports=c},function(e,t,r){"use strict";var n=r(7),o=r(60),i=(r(2),{HOST:0,COMPOSITE:1,EMPTY:2,getType:function(e){return null===e||!1===e?i.EMPTY:o.isValidElement(e)?"function"===typeof e.type?i.COMPOSITE:i.HOST:void n("26",e)}});e.exports=i},function(e,t,r){"use strict";var n,o={injectEmptyComponentFactory:function(e){n=e}},i={create:function(e){return n(e)}};i.injection=o,e.exports=i},function(e,t,r){"use strict";var n=r(7),o=(r(2),null),i=null;var a={createInternalComponent:function(e){return o||n("111",e.type),new o(e)},createInstanceForText:function(e){return new i(e)},isTextComponent:function(e){return e instanceof i},injection:{injectGenericComponentClass:function(e){o=e},injectTextComponentClass:function(e){i=e}}};e.exports=a},function(e,t,r){"use strict";var n=r(7),o=(r(45),r(467)),i=r(468),a=(r(2),r(170)),s=(r(9),"."),l=":";function u(e,t){return e&&"object"===typeof e&&null!=e.key?a.escape(e.key):t.toString(36)}e.exports=function(e,t,r){return null==e?0:function e(t,r,c,p){var h,f=typeof t;if("undefined"!==f&&"boolean"!==f||(t=null),null===t||"string"===f||"number"===f||"object"===f&&t.$$typeof===o)return c(p,t,""===r?s+u(t,0):r),1;var d=0,m=""===r?s:r+l;if(Array.isArray(t))for(var y=0;y<t.length;y++)d+=e(h=t[y],m+u(h,y),c,p);else{var v=i(t);if(v){var g,_=v.call(t);if(v!==t.entries)for(var b=0;!(g=_.next()).done;)d+=e(h=g.value,m+u(h,b++),c,p);else for(;!(g=_.next()).done;){var x=g.value;x&&(d+=e(h=x[1],m+a.escape(x[0])+l+u(h,0),c,p))}}else if("object"===f){var w="",E=String(t);n("31","[object Object]"===E?"object with keys {"+Object.keys(t).join(", ")+"}":E,w)}}return d}(e,"",t,r)}},function(e,t,r){"use strict";var n,o,i,a,s,l,u,c=r(90),p=r(45);r(2),r(9);function h(e){var t=Function.prototype.toString,r=Object.prototype.hasOwnProperty,n=RegExp("^"+t.call(r).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");try{var o=t.call(e);return n.test(o)}catch(e){return!1}}if("function"===typeof Array.from&&"function"===typeof Map&&h(Map)&&null!=Map.prototype&&"function"===typeof Map.prototype.keys&&h(Map.prototype.keys)&&"function"===typeof Set&&h(Set)&&null!=Set.prototype&&"function"===typeof Set.prototype.keys&&h(Set.prototype.keys)){var f=new Map,d=new Set;n=function(e,t){f.set(e,t)},o=function(e){return f.get(e)},i=function(e){f.delete(e)},a=function(){return Array.from(f.keys())},s=function(e){d.add(e)},l=function(e){d.delete(e)},u=function(){return Array.from(d.keys())}}else{var m={},y={},v=function(e){return"."+e},g=function(e){return parseInt(e.substr(1),10)};n=function(e,t){var r=v(e);m[r]=t},o=function(e){var t=v(e);return m[t]},i=function(e){var t=v(e);delete m[t]},a=function(){return Object.keys(m).map(g)},s=function(e){var t=v(e);y[t]=!0},l=function(e){var t=v(e);delete y[t]},u=function(){return Object.keys(y).map(g)}}var _=[];function b(e){var t=o(e);if(t){var r=t.childIDs;i(e),r.forEach(b)}}function x(e,t,r){return"\n    in "+(e||"Unknown")+(t?" (at "+t.fileName.replace(/^.*[\\\/]/,"")+":"+t.lineNumber+")":r?" (created by "+r+")":"")}function w(e){return null==e?"#empty":"string"===typeof e||"number"===typeof e?"#text":"string"===typeof e.type?e.type:e.type.displayName||e.type.name||"Unknown"}function E(e){var t,r=S.getDisplayName(e),n=S.getElement(e),o=S.getOwnerID(e);return o&&(t=S.getDisplayName(o)),x(r,n&&n._source,t)}var S={onSetChildren:function(e,t){var r=o(e);r||c("144"),r.childIDs=t;for(var n=0;n<t.length;n++){var i=t[n],a=o(i);a||c("140"),null==a.childIDs&&"object"===typeof a.element&&null!=a.element&&c("141"),a.isMounted||c("71"),null==a.parentID&&(a.parentID=e),a.parentID!==e&&c("142",i,a.parentID,e)}},onBeforeMountComponent:function(e,t,r){n(e,{element:t,parentID:r,text:null,childIDs:[],isMounted:!1,updateCount:0})},onBeforeUpdateComponent:function(e,t){var r=o(e);r&&r.isMounted&&(r.element=t)},onMountComponent:function(e){var t=o(e);t||c("144"),t.isMounted=!0,0===t.parentID&&s(e)},onUpdateComponent:function(e){var t=o(e);t&&t.isMounted&&t.updateCount++},onUnmountComponent:function(e){var t=o(e);t&&(t.isMounted=!1,0===t.parentID&&l(e));_.push(e)},purgeUnmountedComponents:function(){if(!S._preventPurging){for(var e=0;e<_.length;e++){b(_[e])}_.length=0}},isMounted:function(e){var t=o(e);return!!t&&t.isMounted},getCurrentStackAddendum:function(e){var t="";if(e){var r=w(e),n=e._owner;t+=x(r,e._source,n&&n.getName())}var o=p.current,i=o&&o._debugID;return t+=S.getStackAddendumByID(i)},getStackAddendumByID:function(e){for(var t="";e;)t+=E(e),e=S.getParentID(e);return t},getChildIDs:function(e){var t=o(e);return t?t.childIDs:[]},getDisplayName:function(e){var t=S.getElement(e);return t?w(t):null},getElement:function(e){var t=o(e);return t?t.element:null},getOwnerID:function(e){var t=S.getElement(e);return t&&t._owner?t._owner._debugID:null},getParentID:function(e){var t=o(e);return t?t.parentID:null},getSource:function(e){var t=o(e),r=t?t.element:null;return null!=r?r._source:null},getText:function(e){var t=S.getElement(e);return"string"===typeof t?t:"number"===typeof t?""+t:null},getUpdateCount:function(e){var t=o(e);return t?t.updateCount:0},getRootIDs:u,getRegisteredIDs:a,pushNonStandardWarningStack:function(e,t){if("function"===typeof console.reactStack){var r=[],n=p.current,o=n&&n._debugID;try{for(e&&r.push({name:o?S.getDisplayName(o):null,fileName:t?t.fileName:null,lineNumber:t?t.lineNumber:null});o;){var i=S.getElement(o),a=S.getParentID(o),s=S.getOwnerID(o),l=s?S.getDisplayName(s):null,u=i&&i._source;r.push({name:l,fileName:u?u.fileName:null,lineNumber:u?u.lineNumber:null}),o=a}}catch(e){}console.reactStack(r)}},popNonStandardWarningStack:function(){"function"===typeof console.reactStackEnd&&console.reactStackEnd()}};e.exports=S},function(e,t,r){"use strict";var n=r(12),o=r(61),i=r(112),a=(r(35),r(470)),s=[];var l={enqueue:function(){}};function u(e){this.reinitializeTransaction(),this.renderToStaticMarkup=e,this.useCreateElement=!1,this.updateQueue=new a(this)}var c={getTransactionWrappers:function(){return s},getReactMountReady:function(){return l},getUpdateQueue:function(){return this.updateQueue},destructor:function(){},checkpoint:function(){},rollback:function(){}};n(u.prototype,i,c),o.addPoolingTo(u),e.exports=u},function(e,t,r){"use strict";var n=r(12),o=r(38),i=r(112),a=r(39),s={initialize:a,close:function(){p.isBatchingUpdates=!1}},l=[{initialize:a,close:o.flushBatchedUpdates.bind(o)},s];function u(){this.reinitializeTransaction()}n(u.prototype,i,{getTransactionWrappers:function(){return l}});var c=new u,p={isBatchingUpdates:!1,batchedUpdates:function(e,t,r,n,o,i){var a=p.isBatchingUpdates;return p.isBatchingUpdates=!0,a?e(t,r,n,o,i):c.perform(e,null,t,r,n,o,i)}};e.exports=p},function(e,t,r){"use strict";var n=r(39),o={listen:function(e,t,r){return e.addEventListener?(e.addEventListener(t,r,!1),{remove:function(){e.removeEventListener(t,r,!1)}}):e.attachEvent?(e.attachEvent("on"+t,r),{remove:function(){e.detachEvent("on"+t,r)}}):void 0},capture:function(e,t,r){return e.addEventListener?(e.addEventListener(t,r,!0),{remove:function(){e.removeEventListener(t,r,!0)}}):{remove:n}},registerDefault:function(){}};e.exports=o},function(e,t,r){"use strict";var n=r(478),o=r(480),i=r(258),a=r(271);var s={hasSelectionCapabilities:function(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)},getSelectionInformation:function(){var e=a();return{focusedElem:e,selectionRange:s.hasSelectionCapabilities(e)?s.getSelection(e):null}},restoreSelection:function(e){var t,r=a(),n=e.focusedElem,l=e.selectionRange;r!==n&&(t=n,o(document.documentElement,t))&&(s.hasSelectionCapabilities(n)&&s.setSelection(n,l),i(n))},getSelection:function(e){var t;if("selectionStart"in e)t={start:e.selectionStart,end:e.selectionEnd};else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var r=document.selection.createRange();r.parentElement()===e&&(t={start:-r.moveStart("character",-e.value.length),end:-r.moveEnd("character",-e.value.length)})}else t=n.getOffsets(e);return t||{start:0,end:0}},setSelection:function(e,t){var r=t.start,o=t.end;if(void 0===o&&(o=r),"selectionStart"in e)e.selectionStart=r,e.selectionEnd=Math.min(o,e.value.length);else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var i=e.createTextRange();i.collapse(!0),i.moveStart("character",r),i.moveEnd("character",o-r),i.select()}else n.setOffsets(e,t)}};e.exports=s},function(e,t,r){"use strict";e.exports=function(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}},function(e,t,r){"use strict";var n=r(7),o=r(72),i=r(71),a=r(60),s=r(116),l=(r(45),r(14)),u=r(273),c=r(495),p=r(253),h=r(95),f=(r(35),r(274)),d=r(62),m=r(171),y=r(38),v=r(91),g=r(167),_=(r(2),r(114)),b=r(169),x=(r(9),i.ID_ATTRIBUTE_NAME),w=i.ROOT_ATTRIBUTE_NAME,E=1,S=9,C=11,k={};function T(e){return e?e.nodeType===S?e.documentElement:e.firstChild:null}function O(e){return e.getAttribute&&e.getAttribute(x)||""}function P(e,t,r,n,o){var i;if(p.logTopLevelRenders){var a=e._currentElement.props.child.type;i="React mount: "+("string"===typeof a?a:a.displayName||a.name),console.time(i)}var s=d.mountComponent(e,r,null,u(e,t),o,0);i&&console.timeEnd(i),e._renderedComponent._topLevelWrapper=e,z._mountImageIntoNode(s,t,e,n,r)}function A(e,t,r,n){var o=y.ReactReconcileTransaction.getPooled(!r&&c.useCreateElement);o.perform(P,null,e,t,o,r,n),y.ReactReconcileTransaction.release(o)}function I(e,t,r){for(0,d.unmountComponent(e,r),t.nodeType===S&&(t=t.documentElement);t.lastChild;)t.removeChild(t.lastChild)}function M(e){var t=T(e);if(t){var r=l.getInstanceFromNode(t);return!(!r||!r._hostParent)}}function R(e){return!(!e||e.nodeType!==E&&e.nodeType!==S&&e.nodeType!==C)}function L(e){var t=function(e){var t=T(e),r=t&&l.getInstanceFromNode(t);return r&&!r._hostParent?r:null}(e);return t?t._hostContainerInfo._topLevelWrapper:null}var D=1,j=function(){this.rootID=D++};j.prototype.isReactComponent={},j.prototype.render=function(){return this.props.child},j.isReactTopLevelWrapper=!0;var z={TopLevelWrapper:j,_instancesByReactRootID:k,scrollMonitor:function(e,t){t()},_updateRootComponent:function(e,t,r,n,o){return z.scrollMonitor(n,function(){m.enqueueElementInternal(e,t,r),o&&m.enqueueCallbackInternal(e,o)}),e},_renderNewRootComponent:function(e,t,r,o){R(t)||n("37"),s.ensureScrollValueMonitoring();var i=g(e,!1);y.batchedUpdates(A,i,t,r,o);var a=i._instance.rootID;return k[a]=i,i},renderSubtreeIntoContainer:function(e,t,r,o){return null!=e&&h.has(e)||n("38"),z._renderSubtreeIntoContainer(e,t,r,o)},_renderSubtreeIntoContainer:function(e,t,r,o){m.validateCallback(o,"ReactDOM.render"),a.isValidElement(t)||n("39","string"===typeof t?" Instead of passing a string like 'div', pass React.createElement('div') or <div />.":"function"===typeof t?" Instead of passing a class like Foo, pass React.createElement(Foo) or <Foo />.":null!=t&&void 0!==t.props?" This may be caused by unintentionally loading two independent copies of React.":"");var i,s=a.createElement(j,{child:t});if(e){var l=h.get(e);i=l._processChildContext(l._context)}else i=v;var u=L(r);if(u){var c=u._currentElement.props.child;if(b(c,t)){var p=u._renderedComponent.getPublicInstance(),f=o&&function(){o.call(p)};return z._updateRootComponent(u,s,i,r,f),p}z.unmountComponentAtNode(r)}var d=T(r),y=d&&!!O(d),g=M(r),_=y&&!u&&!g,x=z._renderNewRootComponent(s,r,_,i)._renderedComponent.getPublicInstance();return o&&o.call(x),x},render:function(e,t,r){return z._renderSubtreeIntoContainer(null,e,t,r)},unmountComponentAtNode:function(e){R(e)||n("40");var t=L(e);if(!t){M(e),1===e.nodeType&&e.hasAttribute(w);return!1}return delete k[t._instance.rootID],y.batchedUpdates(I,t,e,!1),!0},_mountImageIntoNode:function(e,t,r,i,a){if(R(t)||n("41"),i){var s=T(t);if(f.canReuseMarkup(e,s))return void l.precacheNode(r,s);var u=s.getAttribute(f.CHECKSUM_ATTR_NAME);s.removeAttribute(f.CHECKSUM_ATTR_NAME);var c=s.outerHTML;s.setAttribute(f.CHECKSUM_ATTR_NAME,u);var p=e,h=function(e,t){for(var r=Math.min(e.length,t.length),n=0;n<r;n++)if(e.charAt(n)!==t.charAt(n))return n;return e.length===t.length?-1:r}(p,c),d=" (client) "+p.substring(h-20,h+20)+"\n (server) "+c.substring(h-20,h+20);t.nodeType===S&&n("42",d)}if(t.nodeType===S&&n("43"),a.useCreateElement){for(;t.lastChild;)t.removeChild(t.lastChild);o.insertTreeBefore(t,e,null)}else _(t,e),l.precacheNode(r,t.firstChild)}};e.exports=z},function(e,t,r){"use strict";r(172);var n=9;e.exports=function(e,t){var r={_topLevelWrapper:e,_idCounter:1,_ownerDocument:t?t.nodeType===n?t:t.ownerDocument:null,_node:t,_tag:t?t.nodeName.toLowerCase():null,_namespaceURI:t?t.namespaceURI:null};return r}},function(e,t,r){"use strict";var n=r(496),o=/\/?>/,i=/^<\!\-\-/,a={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(e){var t=n(e);return i.test(e)?e:e.replace(o," "+a.CHECKSUM_ATTR_NAME+'="'+t+'"$&')},canReuseMarkup:function(e,t){var r=t.getAttribute(a.CHECKSUM_ATTR_NAME);return r=r&&parseInt(r,10),n(e)===r}};e.exports=a},function(e,t,r){"use strict";e.exports="15.6.2"},function(e,t,r){"use strict";var n=r(262);e.exports=function(e){for(var t;(t=e._renderedNodeType)===n.COMPOSITE;)e=e._renderedComponent;return t===n.HOST?e._renderedComponent:t===n.EMPTY?null:void 0}},function(e,t,r){"use strict";t.b=function(){if(!s.a.editMode)return;if(!o.a.hasMouse)return;Object(l.a)("startMultiSelect"),(c=s.a.map.getCanvasContainer()).addEventListener("mousedown",m,!0)},t.a=d;var n=r(96),o=r.n(n),i=r(73),a=r.n(i),s=r(1),l=r(5),u=r(279),c=void 0,p=void 0,h=void 0,f=void 0;function d(e,t){if(s.a.editMode)if(Object(l.a)("finishMultiSelect "+!!e),document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",v),f&&(f.parentNode.removeChild(f),f=null),e&&t){var r=s.a.map.queryRenderedFeatures(e,{layers:u.b}),n=void 0;n=t.shiftKey||t.altKey?s.a.selectedMap.toJS():new Map;var o=!0,i=!1,a=void 0;try{for(var p,h=r[Symbol.iterator]();!(o=(p=h.next()).done);o=!0){var d=p.value;t.altKey?n.delete(d.id):n.set(d.id,1)}}catch(e){i=!0,a=e}finally{try{!o&&h.return&&h.return()}finally{if(i)throw a}}s.a.setSelected(n)}else s.a.setSelected(null),s.a.map.dragPan.enable(),c&&c.removeEventListener("mousedown",m,!0)}function m(e){0===e.button&&(s.a.map.dragPan.disable(),document.addEventListener("mousemove",y),document.addEventListener("mouseup",v),p=g(e))}function y(e){h=g(e),f||((f=document.createElement("div")).classList.add("boxdraw"),c.appendChild(f));var t=Math.min(p.x,h.x),r=Math.max(p.x,h.x),n=Math.min(p.y,h.y),o=Math.max(p.y,h.y),i="translate("+t+"px,"+n+"px)";f.style.transform=i,f.style.WebkitTransform=i,f.style.width=r-t+"px",f.style.height=o-n+"px"}function v(e){d([p,g(e)],e)}function g(e){var t=c.getBoundingClientRect();return new a.a.Point(e.clientX-t.left-c.clientLeft,e.clientY-t.top-c.clientTop)}},function(e,t){function r(e,t){for(var r=0;r<e.length;++r)if(e[r]===t)return r;return-1}function n(e,t){var n=[],o=[];return null==t&&(t=function(e,t){return n[0]===t?"[Circular ~]":"[Circular ~."+o.slice(0,r(n,t)).join(".")+"]"}),function(i,a){if(n.length>0){var s=r(n,this);~s?n.splice(s+1):n.push(this),~s?o.splice(s,1/0,i):o.push(i),~r(n,a)&&(a=t.call(this,i,a))}else n.push(a);return null==e?a instanceof Error?function(e){var t={stack:e.stack,message:e.message,name:e.name};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}(a):a:e.call(this,i,a)}}(e.exports=function(e,t,r,o){return JSON.stringify(e,n(t,o),r)}).getSerialize=n},function(e,t,r){"use strict";r.d(t,"b",function(){return h}),t.a=function(){var e=a.a.map;e.on("load",function(){var t=!0,r=!1,o=void 0;try{for(var h,b=n.l[Symbol.iterator]();!(t=(h=b.next()).done);t=!0){var x=h.value;e.addSource(x,{type:"geojson",data:Object(l.a)()})}}catch(e){r=!0,o=e}finally{try{!t&&b.return&&b.return()}finally{if(r)throw o}}e.addLayer({id:"polygon-selected-fill",filter:["has","selected"],type:"fill",source:"polygon",paint:{"fill-color":_,"fill-opacity":.2}}),e.addLayer({id:"polygon-selected-stroke",filter:["has","selected"],type:"line",source:"polygon",layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":20,"line-color":_,"line-blur":20}}),e.addLayer({id:"polygon-fill",type:"fill",source:"polygon",paint:{"fill-color":["get","color"],"fill-opacity":.2}}),e.addLayer({id:"polygon-stroke",type:"line",source:"polygon",layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":n.d,"line-color":["get","color"]}}),e.addLayer({id:"polyline-selected",filter:["has","selected"],type:"line",source:"polyline",layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":20,"line-color":_,"line-blur":20}}),e.addLayer({id:"polyline-click",type:"line",source:"polyline",paint:{"line-width":12,"line-opacity":0}}),e.addLayer({id:"polyline",type:"line",source:"polyline",layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":n.d,"line-color":["get","color"]}}),e.addLayer({id:"point-select-helper",type:"circle",source:"point",paint:{"circle-radius":10,"circle-opacity":0}}),e.addLayer({id:"point-selected",filter:["has","selected"],type:"circle",source:"point",paint:{"circle-radius":20,"circle-color":_,"circle-blur":1}}),e.addLayer({id:"point-simplify",filter:["<",["zoom"],["number",["get","simplify"]]],type:"circle",source:"point",paint:{"circle-radius":6,"circle-color":["get","color"],"circle-stroke-width":1,"circle-stroke-color":"#fff"}}),e.addLayer({id:"point-click",filter:["all",[">=",["zoom"],["number",["get","simplify"]]],["!",["has","marker_image_id"]]],type:"circle",source:"point",paint:{"circle-radius":18,"circle-translate":[0,-22],"circle-opacity":0}}),e.addLayer({id:"point-outside",filter:["all",[">=",["zoom"],["number",["get","simplify"]]],["!",["has","marker_image_id"]]],type:"symbol",source:"point",layout:m,paint:{"text-color":["get","color"]}}),e.addLayer({id:"point-inside",filter:["all",[">=",["zoom"],["number",["get","simplify"]]],["!",["has","marker_image_id"]]],type:"symbol",source:"point",layout:y,paint:{"text-color":"#fff"}}),e.addLayer({id:"point-custom",filter:["all",[">=",["zoom"],["number",["get","simplify"]]],["has","marker_image_id"]],type:"symbol",source:"point",layout:{"icon-image":["get","marker_image_id"],"icon-size":.5,"icon-allow-overlap":!0,"icon-ignore-placement":!0,"icon-offset":[0,-41],"symbol-z-order":"source"}}),e.addLayer({id:"search-outside",type:"symbol",source:"search",layout:m,paint:{"text-color":n.b}}),e.addLayer({id:"search-inside",type:"symbol",source:"search",layout:Object.assign({},y,{"text-field":String.fromCodePoint(i.a["primitive-dot"])}),paint:{"text-color":"#fff"}}),e.addLayer({id:"label",filter:[">=",["zoom"],["number",["get","simplify"]]],type:"symbol",source:"label",layout:v,paint:g}),e.addSource("point-drag",{type:"geojson",data:Object(l.a)()}),e.addLayer({id:"point-drag-outside",type:"symbol",source:"point-drag",layout:m,paint:{"text-color":["get","color"],"text-halo-color":"#3cc954","text-halo-blur":4,"text-halo-width":2}}),e.addLayer({id:"point-drag-inside",type:"symbol",source:"point-drag",layout:y,paint:{"text-color":"#fff"}}),e.addSource("label-drag",{type:"geojson",data:Object(l.a)()}),e.addLayer({id:"label-drag",type:"symbol",source:"label-drag",layout:v,paint:Object.assign({},g,{"text-halo-width":3})}),e.on("click",function(t){if(!a.a.draw&&!a.a.pointDragging){var r=e.queryRenderedFeatures(t.point,{layers:p});r.length&&a.a.activateFeatureId(r[0].id,{})}});var w=!0,E=!1,S=void 0;try{for(var C,k=p[Symbol.iterator]();!(w=(C=k.next()).done);w=!0){var T=C.value;e.on("mouseenter",T,f),e.on("mouseleave",T,d)}}catch(e){E=!0,S=e}finally{try{!w&&k.return&&k.return()}finally{if(E)throw S}}e.on("zoom",function(){Object(u.d)()}),window.addEventListener("resize",c.b,!1),Object(c.b)(),e.on("resize",u.c),Object(u.c)(),Object(s.a)()})};var n=r(28),o=r(280),i=r.n(o),a=r(1),s=r(281),l=r(195),u=r(131),c=r(133),p=["point-click","point-simplify","point-custom","polyline-click","polygon-fill","polygon-stroke","label"],h=["point-select-helper","polyline","polygon-fill","label"];function f(){a.a.draw||a.a.pointDragging||(a.a.map.getCanvas().style.cursor="pointer")}function d(e){a.a.draw||a.a.pointDragging||e.features&&e.features.length||(a.a.map.getCanvas().style.cursor="")}var m={"text-field":String.fromCodePoint(i.a["maphub-outside-marker-fit"]),"text-font":["maphub_map_icons"],"text-size":40,"text-allow-overlap":!0,"text-ignore-placement":!0,"text-offset":[0,-.32],"symbol-z-order":"source"},y={"text-field":"{iconCode}","text-font":["maphub_map_icons"],"text-size":24,"text-allow-overlap":!0,"text-ignore-placement":!0,"text-offset":[0,-.85],"symbol-z-order":"source"},v={"text-field":"{title}","text-font":["Noto Sans Bold"],"text-size":19,"text-allow-overlap":!0,"text-ignore-placement":!0,"symbol-z-order":"source"},g={"text-color":"#000","text-halo-color":"#fff","text-halo-blur":.5,"text-halo-width":2},_="#67c975"},function(e,t){e.exports={"airport-24":59670,"alcohol-shop-24":59671,"basketball-11":59653,"bicycle-share-15":59654,book:59698,building:59700,"building-15":59655,cablecar:59649,cam7:59703,"campsite-24":59672,"car-24":59673,"cinema-15":59656,"cross-24":59674,"dam-15":59657,"danger-24":59675,"drinking-water-15":59658,envelope:59693,"fast-food-24":59676,"fire-station-15":59659,"fuel-24":59677,"gift-15":59660,"golf-24":59678,"harbor-24":59679,"hospital-24":59680,hotel:59702,"industry-15":59661,info:59705,"ion-android-walk":59691,landing:59651,library:59694,"maphub-inside-house":59652,"maphub-outside-marker-fit":59648,"mountain-15":59662,museum:59704,"park-24":59681,"park2-24":59682,"parking-garage-24":59683,phone:59692,"picnic-site-15":59663,"place-of-worship-15":59664,"playground-15":59665,"primitive-dot":59696,"radio-tower":59697,recycle:59701,"religious-christian-24":59684,restaurant:59650,"shelter-15":59666,shopping_cart:59695,"skiing-24":59685,"star-15":59667,"swimming-24":59686,"theatre-24":59687,"toilets-24":59688,"triangle-24":59689,warning:59699,"waste-basket-15":59668,"water-24":59690,"zoo-15":59669}},function(e,t,r){"use strict";t.a=v,t.b=g;var n=r(0),o=r.n(n),i=r(512),a=r.n(i),s=r(18),l=r(47),u=r(23),c=r(1),p=r(15),h=r(99),f=r(51),d=r(5),m=r(20),y=r(176);function v(e){if(e=e||{},Object(d.a)("loadAndDisplayMap: start",{opt:e}),u.a.id)!function(e){Object(d.a)("loadServer: existing map, load it",{id:u.a.id});var t="/ajax/map_load/"+u.a.id;Object(f.a)({url:t},function(t,r){if(!r){if(Object(d.a)("loadServer: app_version",{js_version:window.app_version,backend_version:t.app_version}),window.app_version!==t.app_version&&Object(d.a)("loadServer: app_version mismatch / js version: "+window.app_version+", backend version: "+t.app_version),c.a.saveOff(),u.a.setTitle(t.name,!0),u.a.setDescription(t.description,!0),u.a.setSlug(t.slug,!0),!c.a.editMode&&window.location.hash.startsWith("#basemap=")){var n=Object(m.h)(window.location.hash,"#basemap=");u.a.setBasemap(n,!0)}else u.a.setBasemap(t.basemap_slug,!0);if(c.a.url=t.url,c.a.screenshot_hash=t.screenshot_hash,u.a.setPublic(t.public,!0),u.a.setDisableEmbed(t.advanced_settings.disable_embed,!0),u.a.setDisableDownload(t.advanced_settings.disable_download,!0),c.a.setHasCyrillicData(t.advanced_settings.has_cyrillic),e.bbox_viewport=t.bbox_viewport,Object(d.a)("loadServer: ajax / received",{embedMode:c.a.embedMode,locationHref:window.location.href,mapUrl:c.a.url}),!c.a.embedMode&&window.location.href.split("#")[0]!==c.a.url)return Object(d.a)("loadServer: ajax / changing url"),void(window.location.href=c.a.url);s.a.loadGeoJSON(t.geojson,e);var o=!0,i=!1,a=void 0;try{for(var p,h=c.a.previouslyExpandedGroupIds[Symbol.iterator]();!(o=(p=h.next()).done);o=!0){var f=p.value,y=l.a.groupMap.get(f);y&&y.setExpanded(!0)}}catch(r){i=!0,a=r}finally{try{!o&&h.return&&h.return()}finally{if(i)throw a}}var v=document.getElementById("embed-arrow");v&&(v.classList.add("hidden-opacity"),window.setTimeout(function(){return v.remove()},2e3)),Object(d.a)("loadServer: ajax / done")}})}(e);else if(Object(d.a)("loadAndDisplayMap: no id, new map"),c.a.requestUserName&&"#save"!==window.location.hash)Object(d.a)("loadAndDisplayMap: user, loadCleanMap",{userName:c.a.requestUserName}),_();else{Object(d.a)("loadAndDisplayMap: no user or #save",{userName:c.a.requestUserName,hash:window.location.hash});try{!function(){Object(d.a)("loadStore");var e=a.a.get("new-map");u.a.setTitle(e.name,!0),u.a.setDescription(e.description,!0),u.a.setSlug(e.slug,!0),u.a.setBasemap(e.basemap_slug,!0),s.a.loadGeoJSON(e.geojson,{bbox_viewport:e.bbox_viewport}),c.a.saveOn(),c.a.tutorialActive;"#save"===window.location.hash&&(Object(d.a)("loadStore: #save"),g())}()}catch(e){Object(d.a)("loadAndDisplayMap: no user, loadCleanMap"),_()}}}function g(){Object(d.a)("saveMap"),c.a.tutorialActive,c.a.deactivateAll();var e=s.a.geojsonExport(),t=Object(m.f)(JSON.stringify({name:u.a.title,description:u.a.description,geojson:e})),r={disable_download:u.a.disableDownload,disable_embed:u.a.disableEmbed,has_cyrillic:t},n={name:u.a.title,slug:u.a.slug,description:u.a.description,geojson:e,basemap_slug:u.a.basemap_slug,public:u.a.public,bbox_viewport:Object(y.a)(c.a.map.getBounds()),advanced_settings:r};if(c.a.requestUserName){n.id=u.a.id,c.a.previouslyExpandedGroupIds=l.a.groupArray.filter(function(e){return e.expanded}).map(function(e){return e.id}),Object(f.a)({url:"/ajax/map_save",data:n},function(e,t){if(t)return c.a.setSaving(!1),void("public_no_verify"===t&&p.a.showCustom(o.a.createElement("div",null,o.a.createElement("p",{className:"overlay-title"},"Please verify your email"),o.a.createElement("p",null,"You need to verify your email to save a public map.")),function(){window.open("/auth/verify_email","_blank")},"Send verification email","Close"));u.a.setId(e.id),a.a.remove("new-map"),Object(d.a)("saveMap: app_version",{js_version:window.app_version,backend_version:e.app_version}),window.app_version!==e.app_version?(Object(d.a)("saveMap: reloading because of app_version",{js_version:window.app_version,backend_version:e.app_version}),c.a.saveOff(),window.location.reload(!0)):v({fitView:!1})})}else a.a.set("new-map",n),window.onbeforeunload=null,window.location.href="/register?next="+encodeURIComponent("/map#save")}function _(){u.a.setBasemap(null,!0),h.a.setExpanded(!0),Object(y.c)(c.a.map)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(175);t.default=function(e){var t=[1/0,1/0,-1/0,-1/0];return n.coordEach(e,function(e){t[0]>e[0]&&(t[0]=e[0]),t[1]>e[1]&&(t[1]=e[1]),t[2]<e[0]&&(t[2]=e[0]),t[3]<e[1]&&(t[3]=e[1])}),t}},function(e,t,r){var n;"undefined"!==typeof window?n=window:"undefined"!==typeof self?n=self:(console.warn("Using browser-only version of superagent in non-browser environment"),n=this);var o=r(518),i=r(519),a=r(284),s=r(520),l=r(522);function u(){}var c=t=e.exports=function(e,r){return"function"==typeof r?new t.Request("GET",e).end(r):1==arguments.length?new t.Request("GET",e):new t.Request(e,r)};t.Request=v,c.getXHR=function(){if(!(!n.XMLHttpRequest||n.location&&"file:"==n.location.protocol&&n.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}throw Error("Browser-only version of superagent could not find XHR")};var p="".trim?function(e){return e.trim()}:function(e){return e.replace(/(^\s*|\s*$)/g,"")};function h(e){if(!a(e))return e;var t=[];for(var r in e)f(t,r,e[r]);return t.join("&")}function f(e,t,r){if(null!=r)if(Array.isArray(r))r.forEach(function(r){f(e,t,r)});else if(a(r))for(var n in r)f(e,t+"["+n+"]",r[n]);else e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));else null===r&&e.push(encodeURIComponent(t))}function d(e){for(var t,r,n={},o=e.split("&"),i=0,a=o.length;i<a;++i)-1==(r=(t=o[i]).indexOf("="))?n[decodeURIComponent(t)]="":n[decodeURIComponent(t.slice(0,r))]=decodeURIComponent(t.slice(r+1));return n}function m(e){return/[\/+]json($|[^-\w])/.test(e)}function y(e){this.req=e,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||"undefined"===typeof this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var t=this.xhr.status;1223===t&&(t=204),this._setStatusProperties(t),this.header=this.headers=function(e){for(var t,r,n,o,i=e.split(/\r?\n/),a={},s=0,l=i.length;s<l;++s)-1!==(t=(r=i[s]).indexOf(":"))&&(n=r.slice(0,t).toLowerCase(),o=p(r.slice(t+1)),a[n]=o);return a}(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&e._responseType?this.body=this.xhr.response:this.body="HEAD"!=this.req.method?this._parseBody(this.text?this.text:this.xhr.response):null}function v(e,t){var r=this;this._query=this._query||[],this.method=e,this.url=t,this.header={},this._header={},this.on("end",function(){var e,t=null,n=null;try{n=new y(r)}catch(e){return(t=new Error("Parser is unable to parse the response")).parse=!0,t.original=e,r.xhr?(t.rawResponse="undefined"==typeof r.xhr.responseType?r.xhr.responseText:r.xhr.response,t.status=r.xhr.status?r.xhr.status:null,t.statusCode=t.status):(t.rawResponse=null,t.status=null),r.callback(t)}r.emit("response",n);try{r._isResponseOK(n)||(e=new Error(n.statusText||"Unsuccessful HTTP response"))}catch(t){e=t}e?(e.original=t,e.response=n,e.status=n.status,r.callback(e,n)):r.callback(null,n)})}function g(e,t,r){var n=c("DELETE",e);return"function"==typeof t&&(r=t,t=null),t&&n.send(t),r&&n.end(r),n}c.serializeObject=h,c.parseString=d,c.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},c.serialize={"application/x-www-form-urlencoded":h,"application/json":JSON.stringify},c.parse={"application/x-www-form-urlencoded":d,"application/json":JSON.parse},s(y.prototype),y.prototype._parseBody=function(e){var t=c.parse[this.type];return this.req._parser?this.req._parser(this,e):(!t&&m(this.type)&&(t=c.parse["application/json"]),t&&e&&(e.length||e instanceof Object)?t(e):null)},y.prototype.toError=function(){var e=this.req,t=e.method,r=e.url,n="cannot "+t+" "+r+" ("+this.status+")",o=new Error(n);return o.status=this.status,o.method=t,o.url=r,o},c.Response=y,o(v.prototype),i(v.prototype),v.prototype.type=function(e){return this.set("Content-Type",c.types[e]||e),this},v.prototype.accept=function(e){return this.set("Accept",c.types[e]||e),this},v.prototype.auth=function(e,t,r){1===arguments.length&&(t=""),"object"===typeof t&&null!==t&&(r=t,t=""),r||(r={type:"function"===typeof btoa?"basic":"auto"});return this._auth(e,t,r,function(e){if("function"===typeof btoa)return btoa(e);throw new Error("Cannot use basic auth, btoa is not a function")})},v.prototype.query=function(e){return"string"!=typeof e&&(e=h(e)),e&&this._query.push(e),this},v.prototype.attach=function(e,t,r){if(t){if(this._data)throw Error("superagent can't mix .send() and .attach()");this._getFormData().append(e,t,r||t.name)}return this},v.prototype._getFormData=function(){return this._formData||(this._formData=new n.FormData),this._formData},v.prototype.callback=function(e,t){if(this._shouldRetry(e,t))return this._retry();var r=this._callback;this.clearTimeout(),e&&(this._maxRetries&&(e.retries=this._retries-1),this.emit("error",e)),r(e,t)},v.prototype.crossDomainError=function(){var e=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");e.crossDomain=!0,e.status=this.status,e.method=this.method,e.url=this.url,this.callback(e)},v.prototype.buffer=v.prototype.ca=v.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},v.prototype.pipe=v.prototype.write=function(){throw Error("Streaming is not supported in browser version of superagent")},v.prototype._isHost=function(e){return e&&"object"===typeof e&&!Array.isArray(e)&&"[object Object]"!==Object.prototype.toString.call(e)},v.prototype.end=function(e){return this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=e||u,this._finalizeQueryString(),this._end()},v.prototype._end=function(){var e=this,t=this.xhr=c.getXHR(),r=this._formData||this._data;this._setTimeouts(),t.onreadystatechange=function(){var r=t.readyState;if(r>=2&&e._responseTimeoutTimer&&clearTimeout(e._responseTimeoutTimer),4==r){var n;try{n=t.status}catch(e){n=0}if(!n){if(e.timedout||e._aborted)return;return e.crossDomainError()}e.emit("end")}};var n=function(t,r){r.total>0&&(r.percent=r.loaded/r.total*100),r.direction=t,e.emit("progress",r)};if(this.hasListeners("progress"))try{t.onprogress=n.bind(null,"download"),t.upload&&(t.upload.onprogress=n.bind(null,"upload"))}catch(e){}try{this.username&&this.password?t.open(this.method,this.url,!0,this.username,this.password):t.open(this.method,this.url,!0)}catch(e){return this.callback(e)}if(this._withCredentials&&(t.withCredentials=!0),!this._formData&&"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof r&&!this._isHost(r)){var o=this._header["content-type"],i=this._serializer||c.serialize[o?o.split(";")[0]:""];!i&&m(o)&&(i=c.serialize["application/json"]),i&&(r=i(r))}for(var a in this.header)null!=this.header[a]&&this.header.hasOwnProperty(a)&&t.setRequestHeader(a,this.header[a]);return this._responseType&&(t.responseType=this._responseType),this.emit("request",this),t.send("undefined"!==typeof r?r:null),this},c.agent=function(){return new l},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach(function(e){l.prototype[e.toLowerCase()]=function(t,r){var n=new c.Request(e,t);return this._setDefaults(n),r&&n.end(r),n}}),l.prototype.del=l.prototype.delete,c.get=function(e,t,r){var n=c("GET",e);return"function"==typeof t&&(r=t,t=null),t&&n.query(t),r&&n.end(r),n},c.head=function(e,t,r){var n=c("HEAD",e);return"function"==typeof t&&(r=t,t=null),t&&n.query(t),r&&n.end(r),n},c.options=function(e,t,r){var n=c("OPTIONS",e);return"function"==typeof t&&(r=t,t=null),t&&n.send(t),r&&n.end(r),n},c.del=g,c.delete=g,c.patch=function(e,t,r){var n=c("PATCH",e);return"function"==typeof t&&(r=t,t=null),t&&n.send(t),r&&n.end(r),n},c.post=function(e,t,r){var n=c("POST",e);return"function"==typeof t&&(r=t,t=null),t&&n.send(t),r&&n.end(r),n},c.put=function(e,t,r){var n=c("PUT",e);return"function"==typeof t&&(r=t,t=null),t&&n.send(t),r&&n.end(r),n}},function(e,t,r){"use strict";e.exports=function(e){return null!==e&&"object"===typeof e}},function(e,t,r){var n=r(179),o=r(120),i="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",l="[object Proxy]";e.exports=function(e){if(!o(e))return!1;var t=n(e);return t==a||t==s||t==i||t==l}},function(e,t){e.exports=function(e){return e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;for(var r in t)"undefined"===typeof e[r]&&(e[r]=t[r]);return e},e.exports=t.default,e.exports.default=t.default},function(e,t){e.exports={default:"primitive-dot",star:"star-15",hotel:"hotel",house:"maphub-inside-house",building_small:"building-15",building:"building",museum:"museum",library:"library",book:"book",post_office:"envelope",theatre:"theatre-24",cinema:"cinema-15",hospital:"hospital-24",camera:"cam7",airport:"airport-24",industry:"industry-15",church:"religious-christian-24",place_of_worship:"place-of-worship-15",bar:"alcohol-shop-24",restaurant:"restaurant",fast_food:"fast-food-24",shop:"shopping_cart",water:"water-24",drinking_water:"drinking-water-15",toilets:"toilets-24",waste_basket:"waste-basket-15",recycle:"recycle",playground:"playground-15",swimming:"swimming-24",bicycle:"bicycle-share-15",basketball:"basketball-11",skiing:"skiing-24",golf:"golf-24",landing:"landing",trail:"ion-android-walk",picnic:"picnic-site-15",park:"park2-24",forest:"park-24",zoo:"zoo-15",campsite:"campsite-24",shelter:"shelter-15",cablecar:"cablecar",mountain:"mountain-15",summit:"triangle-24",harbor:"harbor-24",dam:"dam-15",geocache:"gift-15",car:"car-24",fuel:"fuel-24",parking:"parking-garage-24",telephone:"phone",radio_tower:"radio-tower",fire_station:"fire-station-15",information:"info",crossing:"cross-24",danger:"danger-24",warning:"warning"}},function(e,t,r){"use strict";var n=r(590),o=r.n(n),i=r(645),a=r.n(i),s=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=void 0;function u(e){var t=s(e,4),r=t[1],n=t[2],o=t[3];return r?(o||(n=1920,o=1080),'<iframe src="'+r+'" width="'+n+'" height="'+o+'"></iframe>'):""}t.a=function(e){return l||function(){(l=new o.a({linkify:!0,typographer:!0,breaks:!0})).renderer.rules.link_open=function(e,t,r,n,o){return e[t].attrPush(["target","_blank"]),o.renderToken(e,t,r)};var e=a()(/{iframe\s*src="(https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,4}\b(?:[-a-zA-Z0-9@:%._+~#=?&/]*))"\s*(?:width="(\d+)")?\s*(?:height="(\d+)")?\s*}/,u);l.use(e)}(),l.render(e)}},function(e,t,r){"use strict";e.exports=r(592)},function(e,t,r){"use strict";e.exports.encode=r(593),e.exports.decode=r(594),e.exports.format=r(595),e.exports.parse=r(596)},function(e,t){e.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},function(e,t){e.exports=/[\0-\x1F\x7F-\x9F]/},function(e,t){e.exports=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/},function(e,t,r){"use strict";var n="<[A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*\\/?>",o="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",i=new RegExp("^(?:"+n+"|"+o+"|\x3c!----\x3e|\x3c!--(?:-?[^>-])(?:-?[^-])*--\x3e|<[?].*?[?]>|<![A-Z]+\\s+[^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)"),a=new RegExp("^(?:"+n+"|"+o+")");e.exports.HTML_TAG_RE=i,e.exports.HTML_OPEN_CLOSE_TAG_RE=a},function(e,t,r){"use strict";e.exports.tokenize=function(e,t){var r,n,o,i,a=e.pos,s=e.src.charCodeAt(a);if(t)return!1;if(126!==s)return!1;if(o=(n=e.scanDelims(e.pos,!0)).length,i=String.fromCharCode(s),o<2)return!1;for(o%2&&(e.push("text","",0).content=i,o--),r=0;r<o;r+=2)e.push("text","",0).content=i+i,e.delimiters.push({marker:s,jump:r,token:e.tokens.length-1,level:e.level,end:-1,open:n.can_open,close:n.can_close});return e.pos+=n.length,!0},e.exports.postProcess=function(e){var t,r,n,o,i,a=[],s=e.delimiters,l=e.delimiters.length;for(t=0;t<l;t++)126===(n=s[t]).marker&&-1!==n.end&&(o=s[n.end],(i=e.tokens[n.token]).type="s_open",i.tag="s",i.nesting=1,i.markup="~~",i.content="",(i=e.tokens[o.token]).type="s_close",i.tag="s",i.nesting=-1,i.markup="~~",i.content="","text"===e.tokens[o.token-1].type&&"~"===e.tokens[o.token-1].content&&a.push(o.token-1));for(;a.length;){for(r=(t=a.pop())+1;r<e.tokens.length&&"s_close"===e.tokens[r].type;)r++;t!==--r&&(i=e.tokens[r],e.tokens[r]=e.tokens[t],e.tokens[t]=i)}}},function(e,t,r){"use strict";e.exports.tokenize=function(e,t){var r,n,o=e.pos,i=e.src.charCodeAt(o);if(t)return!1;if(95!==i&&42!==i)return!1;for(n=e.scanDelims(e.pos,42===i),r=0;r<n.length;r++)e.push("text","",0).content=String.fromCharCode(i),e.delimiters.push({marker:i,length:n.length,jump:r,token:e.tokens.length-1,level:e.level,end:-1,open:n.can_open,close:n.can_close});return e.pos+=n.length,!0},e.exports.postProcess=function(e){var t,r,n,o,i,a,s=e.delimiters;for(t=e.delimiters.length-1;t>=0;t--)95!==(r=s[t]).marker&&42!==r.marker||-1!==r.end&&(n=s[r.end],a=t>0&&s[t-1].end===r.end+1&&s[t-1].token===r.token-1&&s[r.end+1].token===n.token+1&&s[t-1].marker===r.marker,i=String.fromCharCode(r.marker),(o=e.tokens[r.token]).type=a?"strong_open":"em_open",o.tag=a?"strong":"em",o.nesting=1,o.markup=a?i+i:i,o.content="",(o=e.tokens[n.token]).type=a?"strong_close":"em_close",o.tag=a?"strong":"em",o.nesting=-1,o.markup=a?i+i:i,o.content="",a&&(e.tokens[s[t-1].token].content="",e.tokens[s[r.end+1].token].content="",t--))}},function(e,t,r){(function(e,n){var o=/%[sdj%]/g;t.format=function(e){if(!v(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(s(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,i=n.length,a=String(e).replace(o,function(e){if("%%"===e)return"%";if(r>=i)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}}),l=n[r];r<i;l=n[++r])m(l)||!b(l)?a+=" "+l:a+=" "+s(l);return a},t.deprecate=function(r,o){if(g(e.process))return function(){return t.deprecate(r,o).apply(this,arguments)};if(!0===n.noDeprecation)return r;var i=!1;return function(){if(!i){if(n.throwDeprecation)throw new Error(o);n.traceDeprecation?console.trace(o):console.error(o),i=!0}return r.apply(this,arguments)}};var i,a={};function s(e,r){var n={seen:[],stylize:u};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),d(r)?n.showHidden=r:r&&t._extend(n,r),g(n.showHidden)&&(n.showHidden=!1),g(n.depth)&&(n.depth=2),g(n.colors)&&(n.colors=!1),g(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=l),c(n,e,n.depth)}function l(e,t){var r=s.styles[t];return r?"\x1b["+s.colors[r][0]+"m"+e+"\x1b["+s.colors[r][1]+"m":e}function u(e,t){return e}function c(e,r,n){if(e.customInspect&&r&&E(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var o=r.inspect(n,e);return v(o)||(o=c(e,o,n)),o}var i=function(e,t){if(g(t))return e.stylize("undefined","undefined");if(v(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(y(t))return e.stylize(""+t,"number");if(d(t))return e.stylize(""+t,"boolean");if(m(t))return e.stylize("null","null")}(e,r);if(i)return i;var a=Object.keys(r),s=function(e){var t={};return e.forEach(function(e,r){t[e]=!0}),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(r)),w(r)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return p(r);if(0===a.length){if(E(r)){var l=r.name?": "+r.name:"";return e.stylize("[Function"+l+"]","special")}if(_(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(x(r))return e.stylize(Date.prototype.toString.call(r),"date");if(w(r))return p(r)}var u,b="",S=!1,C=["{","}"];(f(r)&&(S=!0,C=["[","]"]),E(r))&&(b=" [Function"+(r.name?": "+r.name:"")+"]");return _(r)&&(b=" "+RegExp.prototype.toString.call(r)),x(r)&&(b=" "+Date.prototype.toUTCString.call(r)),w(r)&&(b=" "+p(r)),0!==a.length||S&&0!=r.length?n<0?_(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),u=S?function(e,t,r,n,o){for(var i=[],a=0,s=t.length;a<s;++a)T(t,String(a))?i.push(h(e,t,r,n,String(a),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(h(e,t,r,n,o,!0))}),i}(e,r,n,s,a):a.map(function(t){return h(e,r,n,s,t,S)}),e.seen.pop(),function(e,t,r){if(e.reduce(function(e,t){return 0,t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(u,b,C)):C[0]+b+C[1]}function p(e){return"["+Error.prototype.toString.call(e)+"]"}function h(e,t,r,n,o,i){var a,s,l;if((l=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?s=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(s=e.stylize("[Setter]","special")),T(n,o)||(a="["+o+"]"),s||(e.seen.indexOf(l.value)<0?(s=m(r)?c(e,l.value,null):c(e,l.value,r-1)).indexOf("\n")>-1&&(s=i?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),g(a)){if(i&&o.match(/^\d+$/))return s;(a=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function f(e){return Array.isArray(e)}function d(e){return"boolean"===typeof e}function m(e){return null===e}function y(e){return"number"===typeof e}function v(e){return"string"===typeof e}function g(e){return void 0===e}function _(e){return b(e)&&"[object RegExp]"===S(e)}function b(e){return"object"===typeof e&&null!==e}function x(e){return b(e)&&"[object Date]"===S(e)}function w(e){return b(e)&&("[object Error]"===S(e)||e instanceof Error)}function E(e){return"function"===typeof e}function S(e){return Object.prototype.toString.call(e)}function C(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(g(i)&&(i=Object({NODE_ENV:"production",PUBLIC_URL:""}).NODE_DEBUG||""),e=e.toUpperCase(),!a[e])if(new RegExp("\\b"+e+"\\b","i").test(i)){var r=n.pid;a[e]=function(){var n=t.format.apply(t,arguments);console.error("%s %d: %s",e,r,n)}}else a[e]=function(){};return a[e]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=f,t.isBoolean=d,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=y,t.isString=v,t.isSymbol=function(e){return"symbol"===typeof e},t.isUndefined=g,t.isRegExp=_,t.isObject=b,t.isDate=x,t.isError=w,t.isFunction=E,t.isPrimitive=function(e){return null===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e||"symbol"===typeof e||"undefined"===typeof e},t.isBuffer=r(647);var k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function T(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){var e,r;console.log("%s - %s",(e=new Date,r=[C(e.getHours()),C(e.getMinutes()),C(e.getSeconds())].join(":"),[e.getDate(),k[e.getMonth()],r].join(" ")),t.format.apply(t,arguments))},t.inherits=r(648),t._extend=function(e,t){if(!t||!b(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}}).call(t,r(32),r(69))},function(e,t){e.exports=function(e,t){var r=e.x-t.x,n=e.y-t.y;return Math.sqrt(r*r+n*n)}},function(e,t,r){e.exports={simple_select:r(672),direct_select:r(682),draw_point:r(683),draw_polygon:r(684),draw_line_string:r(685)}},function(e,t,r){var n=r(192),o=r(11);e.exports=function(e,t){var r=n(e.map(function(e){return e.toGeoJSON()}),t);e.forEach(function(e){var t=e.getCoordinates(),n=function(e){var t={lng:e[0]+r.lng,lat:e[1]+r.lat};return[t.lng,t.lat]},i=function(e){return e.map(function(e){return n(e)})},a=void 0;e.type===o.geojsonTypes.POINT?a=n(t):e.type===o.geojsonTypes.LINE_STRING||e.type===o.geojsonTypes.MULTI_POINT?a=t.map(n):e.type===o.geojsonTypes.POLYGON||e.type===o.geojsonTypes.MULTI_LINE_STRING?a=t.map(i):e.type===o.geojsonTypes.MULTI_POLYGON&&(a=t.map(function(e){return e.map(function(e){return i(e)})})),e.incomingCoords(a)})}},function(e,t){e.exports=function(e){if(!e||!e.type)return null;var t=r[e.type];if(!t)return null;if("geometry"===t)return{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:e}]};if("feature"===t)return{type:"FeatureCollection",features:[e]};if("featurecollection"===t)return e};var r={Point:"geometry",MultiPoint:"geometry",LineString:"geometry",MultiLineString:"geometry",Polygon:"geometry",MultiPolygon:"geometry",GeometryCollection:"geometry",Feature:"feature",FeatureCollection:"featurecollection"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(130),o=r(74);t.default=function(e,t,r){void 0===r&&(r={});var i=n.getCoord(e),a=n.getCoord(t),s=o.degreesToRadians(a[1]-i[1]),l=o.degreesToRadians(a[0]-i[0]),u=o.degreesToRadians(i[1]),c=o.degreesToRadians(a[1]),p=Math.pow(Math.sin(s/2),2)+Math.pow(Math.sin(l/2),2)*Math.cos(u)*Math.cos(c);return o.radiansToLength(2*Math.atan2(Math.sqrt(p),Math.sqrt(1-p)),r.units)}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(303)),i=r(175);t.default=function(e,t){return void 0===t&&(t={}),i.segmentReduce(e,function(e,r){var n=r.geometry.coordinates;return e+o.default(n[0],n[1],t)},0)}},function(e,t,r){"use strict";r.d(t,"a",function(){return s});var n=r(0),o=r.n(n),i=r(40),a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["Component"]),a(t,[{key:"render",value:function(){var e=this.props.feature;if(!e)return null;var t=e.title.split("\n"),r=t.map(function(e,r){return o.a.createElement("span",{key:r},e,r!==t.length-1&&o.a.createElement("br",null))});return o.a.createElement("div",{className:"nicetext-title"},e.url&&o.a.createElement("a",{href:e.url,target:"_blank",rel:"noopener nofollow"},o.a.createElement("h1",null,r," ",o.a.createElement(i.a,{iconName:"link"}))),!e.url&&o.a.createElement("h1",null,r))}}]),t}()},function(e,t,r){"use strict";t.a=function(e,t){o||((o=document.createElement("style")).appendChild(document.createTextNode("")),document.head.appendChild(o),i=o.sheet);for(var r=[],a=0;a<i.cssRules.length;a++){var s=i.cssRules[a];s.selectorText===e&&r.push(a)}var l=!0,u=!1,c=void 0;try{for(var p,h=r[Symbol.iterator]();!(l=(p=h.next()).done);l=!0){var f=p.value;i.deleteRule(f)}}catch(e){u=!0,c=e}finally{try{!l&&h.return&&h.return()}finally{if(u)throw c}}if(!t)return;i.insertRule(e+" {"+t+"}",0),Object(n.c)("CSS rules: "+i.cssRules.length)};var n=r(5),o=void 0,i=void 0},function(e,t,r){var n=r(120),o=r(721),i=r(722),a="Expected a function",s=Math.max,l=Math.min;e.exports=function(e,t,r){var u,c,p,h,f,d,m=0,y=!1,v=!1,g=!0;if("function"!=typeof e)throw new TypeError(a);function _(t){var r=u,n=c;return u=c=void 0,m=t,h=e.apply(n,r)}function b(e){var r=e-d;return void 0===d||r>=t||r<0||v&&e-m>=p}function x(){var e=o();if(b(e))return w(e);f=setTimeout(x,function(e){var r=t-(e-d);return v?l(r,p-(e-m)):r}(e))}function w(e){return f=void 0,g&&u?_(e):(u=c=void 0,h)}function E(){var e=o(),r=b(e);if(u=arguments,c=this,d=e,r){if(void 0===f)return function(e){return m=e,f=setTimeout(x,t),y?_(e):h}(d);if(v)return f=setTimeout(x,t),_(d)}return void 0===f&&(f=setTimeout(x,t)),h}return t=i(t)||0,n(r)&&(y=!!r.leading,p=(v="maxWait"in r)?s(i(r.maxWait)||0,t):p,g="trailing"in r?!!r.trailing:g),E.cancel=function(){void 0!==f&&clearTimeout(f),m=0,u=d=c=f=void 0},E.flush=function(){return void 0===f?h:w(o())},E}},function(e,t,r){"use strict";t.a=function(){return window.matchMedia("(max-width: 669px)").matches}},function(e,t,r){"use strict";var n=r(24),o=r.n(n),i=r(13),a=r.n(i),s=r(16),l=r.n(s),u=r(25),c=r.n(u),p=r(26),h=r.n(p),f=r(0),d=(r.n(f),r(104)),m=(r(31),r(332),r(10)),y=(r.n(m),function(e){function t(){var e,r,n,i;a()(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return r=n=c()(this,(e=t.__proto__||o()(t)).call.apply(e,[this].concat(l))),n.state={scrollToColumn:0,scrollToRow:0},n._columnStartIndex=0,n._columnStopIndex=0,n._rowStartIndex=0,n._rowStopIndex=0,n._onKeyDown=function(e){var t=n.props,r=t.columnCount,o=t.disabled,i=t.mode,a=t.rowCount;if(!o){var s=n._getScrollState(),l=s.scrollToColumn,u=s.scrollToRow,c=n._getScrollState(),p=c.scrollToColumn,h=c.scrollToRow;switch(e.key){case"ArrowDown":h="cells"===i?Math.min(h+1,a-1):Math.min(n._rowStopIndex+1,a-1);break;case"ArrowLeft":p="cells"===i?Math.max(p-1,0):Math.max(n._columnStartIndex-1,0);break;case"ArrowRight":p="cells"===i?Math.min(p+1,r-1):Math.min(n._columnStopIndex+1,r-1);break;case"ArrowUp":h="cells"===i?Math.max(h-1,0):Math.max(n._rowStartIndex-1,0)}p===l&&h===u||(e.preventDefault(),n._updateScrollState({scrollToColumn:p,scrollToRow:h}))}},n._onSectionRendered=function(e){var t=e.columnStartIndex,r=e.columnStopIndex,o=e.rowStartIndex,i=e.rowStopIndex;n._columnStartIndex=t,n._columnStopIndex=r,n._rowStartIndex=o,n._rowStopIndex=i},i=r,c()(n,i)}return h()(t,e),l()(t,[{key:"setScrollIndexes",value:function(e){var t=e.scrollToColumn,r=e.scrollToRow;this.setState({scrollToRow:r,scrollToColumn:t})}},{key:"render",value:function(){var e=this.props,t=e.className,r=e.children,n=this._getScrollState(),o=n.scrollToColumn,i=n.scrollToRow;return f.createElement("div",{className:t,onKeyDown:this._onKeyDown},r({onSectionRendered:this._onSectionRendered,scrollToColumn:o,scrollToRow:i}))}},{key:"_getScrollState",value:function(){return this.props.isControlled?this.props:this.state}},{key:"_updateScrollState",value:function(e){var t=e.scrollToColumn,r=e.scrollToRow,n=this.props,o=n.isControlled,i=n.onScrollToChange;"function"===typeof i&&i({scrollToColumn:t,scrollToRow:r}),o||this.setState({scrollToColumn:t,scrollToRow:r})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.isControlled?null:e.scrollToColumn!==t.scrollToColumn||e.scrollToRow!==t.scrollToRow?{scrollToColumn:e.scrollToColumn,scrollToRow:e.scrollToRow}:null}}]),t}(f.PureComponent));y.defaultProps={disabled:!1,isControlled:!1,mode:"edges",scrollToColumn:0,scrollToRow:0},y.propTypes=null,Object(d.a)(y)},function(e,t,r){var n=r(64),o=r(134),i=r(197)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),n(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,r){e.exports=!r(55)&&!r(82)(function(){return 7!=Object.defineProperty(r(200)("div"),"a",{get:function(){return 7}}).a})},function(e,t,r){e.exports={default:r(746),__esModule:!0}},function(e,t,r){"use strict";t.__esModule=!0;var n=a(r(748)),o=a(r(758)),i="function"===typeof o.default&&"symbol"===typeof n.default?function(e){return typeof e}:function(e){return e&&"function"===typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":typeof e};function a(e){return e&&e.__esModule?e:{default:e}}t.default="function"===typeof o.default&&"symbol"===i(n.default)?function(e){return"undefined"===typeof e?"undefined":i(e)}:function(e){return e&&"function"===typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":"undefined"===typeof e?"undefined":i(e)}},function(e,t,r){"use strict";var n=r(100),o=r(41),i=r(315),a=r(65),s=r(83),l=r(751),u=r(139),c=r(310),p=r(30)("iterator"),h=!([].keys&&"next"in[].keys()),f=function(){return this};e.exports=function(e,t,r,d,m,y,v){l(r,t,d);var g,_,b,x=function(e){if(!h&&e in C)return C[e];switch(e){case"keys":case"values":return function(){return new r(this,e)}}return function(){return new r(this,e)}},w=t+" Iterator",E="values"==m,S=!1,C=e.prototype,k=C[p]||C["@@iterator"]||m&&C[m],T=k||x(m),O=m?E?x("entries"):T:void 0,P="Array"==t&&C.entries||k;if(P&&(b=c(P.call(new e)))!==Object.prototype&&b.next&&(u(b,w,!0),n||"function"==typeof b[p]||a(b,p,f)),E&&k&&"values"!==k.name&&(S=!0,T=function(){return k.call(this)}),n&&!v||!h&&!S&&C[p]||a(C,p,T),s[t]=T,s[w]=f,m)if(g={values:E?T:x("values"),keys:y?T:x("keys"),entries:O},v)for(_ in g)_ in C||i(C,_,g[_]);else o(o.P+o.F*(h||S),t,g);return g}},function(e,t,r){e.exports=r(65)},function(e,t,r){var n=r(64),o=r(66),i=r(753)(!1),a=r(197)("IE_PROTO");e.exports=function(e,t){var r,s=o(e),l=0,u=[];for(r in s)r!=a&&n(s,r)&&u.push(r);for(;t.length>l;)n(s,r=t[l++])&&(~i(u,r)||u.push(r));return u}},function(e,t,r){var n=r(103);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t,r){var n=r(202),o=Math.min;e.exports=function(e){return e>0?o(n(e),9007199254740991):0}},function(e,t,r){var n=r(29).document;e.exports=n&&n.documentElement},function(e,t,r){var n=r(316),o=r(204).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,o)}},function(e,t){},function(e,t,r){"use strict";var n=r(323),o=r.n(n),i=r(43),a=r.n(i),s=r(24),l=r.n(s),u=r(13),c=r.n(u),p=r(16),h=r.n(p),f=r(25),d=r.n(f),m=r(26),y=r.n(m),v=r(0),g=(r.n(v),r(8)),_=r.n(g),b=r(777),x=r(209),w=r(211),E=r(324),S=r(782),C=r(325),k=r(326),T=r.n(k),O=r(104),P=r(105),A=(r(4),r(10)),I=(r.n(A),"observed"),M="requested",R=function(e){function t(e){c()(this,t);var r=d()(this,(t.__proto__||l()(t)).call(this,e));r._onGridRenderedMemoizer=Object(w.a)(),r._onScrollMemoizer=Object(w.a)(!1),r._deferredInvalidateColumnIndex=null,r._deferredInvalidateRowIndex=null,r._recomputeScrollLeftFlag=!1,r._recomputeScrollTopFlag=!1,r._horizontalScrollBarSize=0,r._verticalScrollBarSize=0,r._scrollbarPresenceChanged=!1,r._renderedColumnStartIndex=0,r._renderedColumnStopIndex=0,r._renderedRowStartIndex=0,r._renderedRowStopIndex=0,r._styleCache={},r._cellCache={},r._debounceScrollEndedCallback=function(){r._disablePointerEventsTimeoutId=null,r.setState({isScrolling:!1,needToResetStyleCache:!1})},r._invokeOnGridRenderedHelper=function(){var e=r.props.onSectionRendered;r._onGridRenderedMemoizer({callback:e,indices:{columnOverscanStartIndex:r._columnStartIndex,columnOverscanStopIndex:r._columnStopIndex,columnStartIndex:r._renderedColumnStartIndex,columnStopIndex:r._renderedColumnStopIndex,rowOverscanStartIndex:r._rowStartIndex,rowOverscanStopIndex:r._rowStopIndex,rowStartIndex:r._renderedRowStartIndex,rowStopIndex:r._renderedRowStopIndex}})},r._setScrollingContainerRef=function(e){r._scrollingContainer=e},r._onScroll=function(e){e.target===r._scrollingContainer&&r.handleScrollEvent(e.target)};var n=new x.a({cellCount:e.columnCount,cellSizeGetter:function(r){return t._wrapSizeGetter(e.columnWidth)(r)},estimatedCellSize:t._getEstimatedColumnSize(e)}),o=new x.a({cellCount:e.rowCount,cellSizeGetter:function(r){return t._wrapSizeGetter(e.rowHeight)(r)},estimatedCellSize:t._getEstimatedRowSize(e)});return r.state={instanceProps:{columnSizeAndPositionManager:n,rowSizeAndPositionManager:o,prevColumnWidth:e.columnWidth,prevRowHeight:e.rowHeight,prevColumnCount:e.columnCount,prevRowCount:e.rowCount,prevIsScrolling:!0===e.isScrolling,prevScrollToColumn:e.scrollToColumn,prevScrollToRow:e.scrollToRow,scrollbarSize:0,scrollbarSizeMeasured:!1},isScrolling:!1,scrollDirectionHorizontal:E.b,scrollDirectionVertical:E.b,scrollLeft:0,scrollTop:0,scrollPositionChangeReason:null,needToResetStyleCache:!1},e.scrollToRow>0&&(r._initialScrollTop=r._getCalculatedScrollTop(e,r.state)),e.scrollToColumn>0&&(r._initialScrollLeft=r._getCalculatedScrollLeft(e,r.state)),r}return y()(t,e),h()(t,[{key:"getOffsetForCell",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.alignment,r=void 0===t?this.props.scrollToAlignment:t,n=e.columnIndex,o=void 0===n?this.props.scrollToColumn:n,i=e.rowIndex,s=void 0===i?this.props.scrollToRow:i,l=a()({},this.props,{scrollToAlignment:r,scrollToColumn:o,scrollToRow:s});return{scrollLeft:this._getCalculatedScrollLeft(l),scrollTop:this._getCalculatedScrollTop(l)}}},{key:"getTotalRowsHeight",value:function(){return this.state.instanceProps.rowSizeAndPositionManager.getTotalSize()}},{key:"getTotalColumnsWidth",value:function(){return this.state.instanceProps.columnSizeAndPositionManager.getTotalSize()}},{key:"handleScrollEvent",value:function(e){var t=e.scrollLeft,r=void 0===t?0:t,n=e.scrollTop,o=void 0===n?0:n;if(!(o<0)){this._debounceScrollEnded();var i=this.props,a=i.autoHeight,s=i.autoWidth,l=i.height,u=i.width,c=this.state.instanceProps,p=c.scrollbarSize,h=c.rowSizeAndPositionManager.getTotalSize(),f=c.columnSizeAndPositionManager.getTotalSize(),d=Math.min(Math.max(0,f-u+p),r),m=Math.min(Math.max(0,h-l+p),o);if(this.state.scrollLeft!==d||this.state.scrollTop!==m){var y={isScrolling:!0,scrollDirectionHorizontal:d!==this.state.scrollLeft?d>this.state.scrollLeft?E.b:E.a:this.state.scrollDirectionHorizontal,scrollDirectionVertical:m!==this.state.scrollTop?m>this.state.scrollTop?E.b:E.a:this.state.scrollDirectionVertical,scrollPositionChangeReason:I};a||(y.scrollTop=m),s||(y.scrollLeft=d),y.needToResetStyleCache=!1,this.setState(y)}this._invokeOnScrollMemoizer({scrollLeft:d,scrollTop:m,totalColumnsWidth:f,totalRowsHeight:h})}}},{key:"invalidateCellSizeAfterRender",value:function(e){var t=e.columnIndex,r=e.rowIndex;this._deferredInvalidateColumnIndex="number"===typeof this._deferredInvalidateColumnIndex?Math.min(this._deferredInvalidateColumnIndex,t):t,this._deferredInvalidateRowIndex="number"===typeof this._deferredInvalidateRowIndex?Math.min(this._deferredInvalidateRowIndex,r):r}},{key:"measureAllCells",value:function(){var e=this.props,t=e.columnCount,r=e.rowCount,n=this.state.instanceProps;n.columnSizeAndPositionManager.getSizeAndPositionOfCell(t-1),n.rowSizeAndPositionManager.getSizeAndPositionOfCell(r-1)}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,r=void 0===t?0:t,n=e.rowIndex,o=void 0===n?0:n,i=this.props,a=i.scrollToColumn,s=i.scrollToRow,l=this.state.instanceProps;l.columnSizeAndPositionManager.resetCell(r),l.rowSizeAndPositionManager.resetCell(o),this._recomputeScrollLeftFlag=a>=0&&(this.state.scrollDirectionHorizontal===E.b?r<=a:r>=a),this._recomputeScrollTopFlag=s>=0&&(this.state.scrollDirectionVertical===E.b?o<=s:o>=s),this._styleCache={},this._cellCache={},this.forceUpdate()}},{key:"scrollToCell",value:function(e){var t=e.columnIndex,r=e.rowIndex,n=this.props.columnCount,o=this.props;n>1&&void 0!==t&&this._updateScrollLeftForScrollToColumn(a()({},o,{scrollToColumn:t})),void 0!==r&&this._updateScrollTopForScrollToRow(a()({},o,{scrollToRow:r}))}},{key:"componentDidMount",value:function(){var e=this.props,r=e.getScrollbarSize,n=e.height,o=e.scrollLeft,i=e.scrollToColumn,s=e.scrollTop,l=e.scrollToRow,u=e.width,c=this.state.instanceProps;if(this._initialScrollTop=0,this._initialScrollLeft=0,this._handleInvalidatedGridSize(),c.scrollbarSizeMeasured||this.setState(function(e){var t=a()({},e,{needToResetStyleCache:!1});return t.instanceProps.scrollbarSize=r(),t.instanceProps.scrollbarSizeMeasured=!0,t}),"number"===typeof o&&o>=0||"number"===typeof s&&s>=0){var p=t._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:o,scrollTop:s});p&&(p.needToResetStyleCache=!1,this.setState(p))}this._scrollingContainer&&(this._scrollingContainer.scrollLeft!==this.state.scrollLeft&&(this._scrollingContainer.scrollLeft=this.state.scrollLeft),this._scrollingContainer.scrollTop!==this.state.scrollTop&&(this._scrollingContainer.scrollTop=this.state.scrollTop));var h=n>0&&u>0;i>=0&&h&&this._updateScrollLeftForScrollToColumn(),l>=0&&h&&this._updateScrollTopForScrollToRow(),this._invokeOnGridRenderedHelper(),this._invokeOnScrollMemoizer({scrollLeft:o||0,scrollTop:s||0,totalColumnsWidth:c.columnSizeAndPositionManager.getTotalSize(),totalRowsHeight:c.rowSizeAndPositionManager.getTotalSize()}),this._maybeCallOnScrollbarPresenceChange()}},{key:"componentDidUpdate",value:function(e,t){var r=this,n=this.props,o=n.autoHeight,i=n.autoWidth,a=n.columnCount,s=n.height,l=n.rowCount,u=n.scrollToAlignment,c=n.scrollToColumn,p=n.scrollToRow,h=n.width,f=this.state,d=f.scrollLeft,m=f.scrollPositionChangeReason,y=f.scrollTop,v=f.instanceProps;this._handleInvalidatedGridSize();var g=a>0&&0===e.columnCount||l>0&&0===e.rowCount;m===M&&(!i&&d>=0&&(d!==this._scrollingContainer.scrollLeft||g)&&(this._scrollingContainer.scrollLeft=d),!o&&y>=0&&(y!==this._scrollingContainer.scrollTop||g)&&(this._scrollingContainer.scrollTop=y));var _=(0===e.width||0===e.height)&&s>0&&h>0;if(this._recomputeScrollLeftFlag?(this._recomputeScrollLeftFlag=!1,this._updateScrollLeftForScrollToColumn(this.props)):Object(S.a)({cellSizeAndPositionManager:v.columnSizeAndPositionManager,previousCellsCount:e.columnCount,previousCellSize:e.columnWidth,previousScrollToAlignment:e.scrollToAlignment,previousScrollToIndex:e.scrollToColumn,previousSize:e.width,scrollOffset:d,scrollToAlignment:u,scrollToIndex:c,size:h,sizeJustIncreasedFromZero:_,updateScrollIndexCallback:function(){return r._updateScrollLeftForScrollToColumn(r.props)}}),this._recomputeScrollTopFlag?(this._recomputeScrollTopFlag=!1,this._updateScrollTopForScrollToRow(this.props)):Object(S.a)({cellSizeAndPositionManager:v.rowSizeAndPositionManager,previousCellsCount:e.rowCount,previousCellSize:e.rowHeight,previousScrollToAlignment:e.scrollToAlignment,previousScrollToIndex:e.scrollToRow,previousSize:e.height,scrollOffset:y,scrollToAlignment:u,scrollToIndex:p,size:s,sizeJustIncreasedFromZero:_,updateScrollIndexCallback:function(){return r._updateScrollTopForScrollToRow(r.props)}}),this._invokeOnGridRenderedHelper(),d!==t.scrollLeft||y!==t.scrollTop){var b=v.rowSizeAndPositionManager.getTotalSize(),x=v.columnSizeAndPositionManager.getTotalSize();this._invokeOnScrollMemoizer({scrollLeft:d,scrollTop:y,totalColumnsWidth:x,totalRowsHeight:b})}this._maybeCallOnScrollbarPresenceChange()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&Object(P.a)(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var e=this.props,t=e.autoContainerWidth,r=e.autoHeight,n=e.autoWidth,o=e.className,i=e.containerProps,s=e.containerRole,l=e.containerStyle,u=e.height,c=e.id,p=e.noContentRenderer,h=e.role,f=e.style,d=e.tabIndex,m=e.width,y=this.state,g=y.instanceProps,b=y.needToResetStyleCache,x=this._isScrolling(),w={boxSizing:"border-box",direction:"ltr",height:r?"auto":u,position:"relative",width:n?"auto":m,WebkitOverflowScrolling:"touch",willChange:"transform"};b&&(this._styleCache={}),this.state.isScrolling||this._resetStyleCache(),this._calculateChildrenToRender(this.props,this.state);var E=g.columnSizeAndPositionManager.getTotalSize(),S=g.rowSizeAndPositionManager.getTotalSize(),C=S>u?g.scrollbarSize:0,k=E>m?g.scrollbarSize:0;k===this._horizontalScrollBarSize&&C===this._verticalScrollBarSize||(this._horizontalScrollBarSize=k,this._verticalScrollBarSize=C,this._scrollbarPresenceChanged=!0),w.overflowX=E+C<=m?"hidden":"auto",w.overflowY=S+k<=u?"hidden":"auto";var T=this._childrenToDisplay,O=0===T.length&&u>0&&m>0;return v.createElement("div",a()({ref:this._setScrollingContainerRef},i,{"aria-label":this.props["aria-label"],"aria-readonly":this.props["aria-readonly"],className:_()("ReactVirtualized__Grid",o),id:c,onScroll:this._onScroll,role:h,style:a()({},w,f),tabIndex:d}),T.length>0&&v.createElement("div",{className:"ReactVirtualized__Grid__innerScrollContainer",role:s,style:a()({width:t?"auto":E,height:S,maxWidth:E,maxHeight:S,overflow:"hidden",pointerEvents:x?"none":"",position:"relative"},l)},T),O&&p())}},{key:"_calculateChildrenToRender",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,r=e.cellRenderer,n=e.cellRangeRenderer,o=e.columnCount,i=e.deferredMeasurementCache,a=e.height,s=e.overscanColumnCount,l=e.overscanIndicesGetter,u=e.overscanRowCount,c=e.rowCount,p=e.width,h=e.isScrollingOptOut,f=t.scrollDirectionHorizontal,d=t.scrollDirectionVertical,m=t.instanceProps,y=this._initialScrollTop>0?this._initialScrollTop:t.scrollTop,v=this._initialScrollLeft>0?this._initialScrollLeft:t.scrollLeft,g=this._isScrolling(e,t);if(this._childrenToDisplay=[],a>0&&p>0){var _=m.columnSizeAndPositionManager.getVisibleCellRange({containerSize:p,offset:v}),b=m.rowSizeAndPositionManager.getVisibleCellRange({containerSize:a,offset:y}),x=m.columnSizeAndPositionManager.getOffsetAdjustment({containerSize:p,offset:v}),w=m.rowSizeAndPositionManager.getOffsetAdjustment({containerSize:a,offset:y});this._renderedColumnStartIndex=_.start,this._renderedColumnStopIndex=_.stop,this._renderedRowStartIndex=b.start,this._renderedRowStopIndex=b.stop;var E=l({direction:"horizontal",cellCount:o,overscanCellsCount:s,scrollDirection:f,startIndex:"number"===typeof _.start?_.start:0,stopIndex:"number"===typeof _.stop?_.stop:-1}),S=l({direction:"vertical",cellCount:c,overscanCellsCount:u,scrollDirection:d,startIndex:"number"===typeof b.start?b.start:0,stopIndex:"number"===typeof b.stop?b.stop:-1}),C=E.overscanStartIndex,k=E.overscanStopIndex,T=S.overscanStartIndex,O=S.overscanStopIndex;if(i){if(!i.hasFixedHeight())for(var P=T;P<=O;P++)if(!i.has(P,0)){C=0,k=o-1;break}if(!i.hasFixedWidth())for(var A=C;A<=k;A++)if(!i.has(0,A)){T=0,O=c-1;break}}this._childrenToDisplay=n({cellCache:this._cellCache,cellRenderer:r,columnSizeAndPositionManager:m.columnSizeAndPositionManager,columnStartIndex:C,columnStopIndex:k,deferredMeasurementCache:i,horizontalOffsetAdjustment:x,isScrolling:g,isScrollingOptOut:h,parent:this,rowSizeAndPositionManager:m.rowSizeAndPositionManager,rowStartIndex:T,rowStopIndex:O,scrollLeft:v,scrollTop:y,styleCache:this._styleCache,verticalOffsetAdjustment:w,visibleColumnIndices:_,visibleRowIndices:b}),this._columnStartIndex=C,this._columnStopIndex=k,this._rowStartIndex=T,this._rowStopIndex=O}}},{key:"_debounceScrollEnded",value:function(){var e=this.props.scrollingResetTimeInterval;this._disablePointerEventsTimeoutId&&Object(P.a)(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=Object(P.b)(this._debounceScrollEndedCallback,e)}},{key:"_handleInvalidatedGridSize",value:function(){if("number"===typeof this._deferredInvalidateColumnIndex&&"number"===typeof this._deferredInvalidateRowIndex){var e=this._deferredInvalidateColumnIndex,t=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:e,rowIndex:t})}}},{key:"_invokeOnScrollMemoizer",value:function(e){var t=this,r=e.scrollLeft,n=e.scrollTop,o=e.totalColumnsWidth,i=e.totalRowsHeight;this._onScrollMemoizer({callback:function(e){var r=e.scrollLeft,n=e.scrollTop,a=t.props,s=a.height;(0,a.onScroll)({clientHeight:s,clientWidth:a.width,scrollHeight:i,scrollLeft:r,scrollTop:n,scrollWidth:o})},indices:{scrollLeft:r,scrollTop:n}})}},{key:"_isScrolling",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return Object.hasOwnProperty.call(e,"isScrolling")?Boolean(e.isScrolling):Boolean(t.isScrolling)}},{key:"_maybeCallOnScrollbarPresenceChange",value:function(){if(this._scrollbarPresenceChanged){var e=this.props.onScrollbarPresenceChange;this._scrollbarPresenceChanged=!1,e({horizontal:this._horizontalScrollBarSize>0,size:this.state.instanceProps.scrollbarSize,vertical:this._verticalScrollBarSize>0})}}},{key:"scrollToPosition",value:function(e){var r=e.scrollLeft,n=e.scrollTop,o=t._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:r,scrollTop:n});o&&(o.needToResetStyleCache=!1,this.setState(o))}},{key:"_getCalculatedScrollLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return t._getCalculatedScrollLeft(e,r)}},{key:"_updateScrollLeftForScrollToColumn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,n=t._getScrollLeftForScrollToColumnStateUpdate(e,r);n&&(n.needToResetStyleCache=!1,this.setState(n))}},{key:"_getCalculatedScrollTop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return t._getCalculatedScrollTop(e,r)}},{key:"_resetStyleCache",value:function(){var e=this._styleCache,t=this._cellCache,r=this.props.isScrollingOptOut;this._cellCache={},this._styleCache={};for(var n=this._rowStartIndex;n<=this._rowStopIndex;n++)for(var o=this._columnStartIndex;o<=this._columnStopIndex;o++){var i=n+"-"+o;this._styleCache[i]=e[i],r&&(this._cellCache[i]=t[i])}}},{key:"_updateScrollTopForScrollToRow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,n=t._getScrollTopForScrollToRowStateUpdate(e,r);n&&(n.needToResetStyleCache=!1,this.setState(n))}}],[{key:"getDerivedStateFromProps",value:function(e,r){var n={};0===e.columnCount&&0!==r.scrollLeft||0===e.rowCount&&0!==r.scrollTop?(n.scrollLeft=0,n.scrollTop=0):(e.scrollLeft!==r.scrollLeft&&e.scrollToColumn<0||e.scrollTop!==r.scrollTop&&e.scrollToRow<0)&&o()(n,t._getScrollToPositionStateUpdate({prevState:r,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}));var i=r.instanceProps;n.needToResetStyleCache=!1,e.columnWidth===i.prevColumnWidth&&e.rowHeight===i.prevRowHeight||(n.needToResetStyleCache=!0),i.columnSizeAndPositionManager.configure({cellCount:e.columnCount,estimatedCellSize:t._getEstimatedColumnSize(e),cellSizeGetter:t._wrapSizeGetter(e.columnWidth)}),i.rowSizeAndPositionManager.configure({cellCount:e.rowCount,estimatedCellSize:t._getEstimatedRowSize(e),cellSizeGetter:t._wrapSizeGetter(e.rowHeight)}),0!==i.prevColumnCount&&0!==i.prevRowCount||(i.prevColumnCount=0,i.prevRowCount=0),e.autoHeight&&!1===e.isScrolling&&!0===i.prevIsScrolling&&o()(n,{isScrolling:!1});var s=void 0,l=void 0;return Object(b.a)({cellCount:i.prevColumnCount,cellSize:"number"===typeof i.prevColumnWidth?i.prevColumnWidth:null,computeMetadataCallback:function(){return i.columnSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:e,nextCellsCount:e.columnCount,nextCellSize:"number"===typeof e.columnWidth?e.columnWidth:null,nextScrollToIndex:e.scrollToColumn,scrollToIndex:i.prevScrollToColumn,updateScrollOffsetForScrollToIndex:function(){s=t._getScrollLeftForScrollToColumnStateUpdate(e,r)}}),Object(b.a)({cellCount:i.prevRowCount,cellSize:"number"===typeof i.prevRowHeight?i.prevRowHeight:null,computeMetadataCallback:function(){return i.rowSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:e,nextCellsCount:e.rowCount,nextCellSize:"number"===typeof e.rowHeight?e.rowHeight:null,nextScrollToIndex:e.scrollToRow,scrollToIndex:i.prevScrollToRow,updateScrollOffsetForScrollToIndex:function(){l=t._getScrollTopForScrollToRowStateUpdate(e,r)}}),i.prevColumnCount=e.columnCount,i.prevColumnWidth=e.columnWidth,i.prevIsScrolling=!0===e.isScrolling,i.prevRowCount=e.rowCount,i.prevRowHeight=e.rowHeight,i.prevScrollToColumn=e.scrollToColumn,i.prevScrollToRow=e.scrollToRow,i.scrollbarSize=e.getScrollbarSize(),void 0===i.scrollbarSize?(i.scrollbarSizeMeasured=!1,i.scrollbarSize=0):i.scrollbarSizeMeasured=!0,n.instanceProps=i,a()({},n,s,l)}},{key:"_getEstimatedColumnSize",value:function(e){return"number"===typeof e.columnWidth?e.columnWidth:e.estimatedColumnSize}},{key:"_getEstimatedRowSize",value:function(e){return"number"===typeof e.rowHeight?e.rowHeight:e.estimatedRowSize}},{key:"_getScrollToPositionStateUpdate",value:function(e){var t=e.prevState,r=e.scrollLeft,n=e.scrollTop,o={scrollPositionChangeReason:M};return"number"===typeof r&&r>=0&&(o.scrollDirectionHorizontal=r>t.scrollLeft?E.b:E.a,o.scrollLeft=r),"number"===typeof n&&n>=0&&(o.scrollDirectionVertical=n>t.scrollTop?E.b:E.a,o.scrollTop=n),"number"===typeof r&&r>=0&&r!==t.scrollLeft||"number"===typeof n&&n>=0&&n!==t.scrollTop?o:null}},{key:"_wrapSizeGetter",value:function(e){return"function"===typeof e?e:function(){return e}}},{key:"_getCalculatedScrollLeft",value:function(e,t){var r=e.columnCount,n=e.height,o=e.scrollToAlignment,i=e.scrollToColumn,a=e.width,s=t.scrollLeft,l=t.instanceProps;if(r>0){var u=r-1,c=i<0?u:Math.min(u,i),p=l.rowSizeAndPositionManager.getTotalSize(),h=l.scrollbarSizeMeasured&&p>n?l.scrollbarSize:0;return l.columnSizeAndPositionManager.getUpdatedOffsetForIndex({align:o,containerSize:a-h,currentOffset:s,targetIndex:c})}return 0}},{key:"_getScrollLeftForScrollToColumnStateUpdate",value:function(e,r){var n=r.scrollLeft,o=t._getCalculatedScrollLeft(e,r);return"number"===typeof o&&o>=0&&n!==o?t._getScrollToPositionStateUpdate({prevState:r,scrollLeft:o,scrollTop:-1}):null}},{key:"_getCalculatedScrollTop",value:function(e,t){var r=e.height,n=e.rowCount,o=e.scrollToAlignment,i=e.scrollToRow,a=e.width,s=t.scrollTop,l=t.instanceProps;if(n>0){var u=n-1,c=i<0?u:Math.min(u,i),p=l.columnSizeAndPositionManager.getTotalSize(),h=l.scrollbarSizeMeasured&&p>a?l.scrollbarSize:0;return l.rowSizeAndPositionManager.getUpdatedOffsetForIndex({align:o,containerSize:r-h,currentOffset:s,targetIndex:c})}return 0}},{key:"_getScrollTopForScrollToRowStateUpdate",value:function(e,r){var n=r.scrollTop,o=t._getCalculatedScrollTop(e,r);return"number"===typeof o&&o>=0&&n!==o?t._getScrollToPositionStateUpdate({prevState:r,scrollLeft:-1,scrollTop:o}):null}}]),t}(v.PureComponent);R.defaultProps={"aria-label":"grid","aria-readonly":!0,autoContainerWidth:!1,autoHeight:!1,autoWidth:!1,cellRangeRenderer:C.a,containerRole:"rowgroup",containerStyle:{},estimatedColumnSize:100,estimatedRowSize:30,getScrollbarSize:T.a,noContentRenderer:function(){return null},onScroll:function(){},onScrollbarPresenceChange:function(){},onSectionRendered:function(){},overscanColumnCount:0,overscanIndicesGetter:E.c,overscanRowCount:10,role:"grid",scrollingResetTimeInterval:150,scrollToAlignment:"auto",scrollToColumn:-1,scrollToRow:-1,style:{},tabIndex:0,isScrollingOptOut:!1},R.propTypes=null,Object(O.a)(R),t.a=R},function(e,t,r){e.exports={default:r(774),__esModule:!0}},function(e,t,r){"use strict";r.d(t,"a",function(){return n}),r.d(t,"b",function(){return o}),t.c=function(e){var t=e.cellCount,r=e.overscanCellsCount,n=e.scrollDirection,i=e.startIndex,a=e.stopIndex;return n===o?{overscanStartIndex:Math.max(0,i),overscanStopIndex:Math.min(t-1,a+r)}:{overscanStartIndex:Math.max(0,i-r),overscanStopIndex:Math.min(t-1,a)}};r(4);var n=-1,o=1},function(e,t,r){"use strict";t.a=function(e){for(var t=e.cellCache,r=e.cellRenderer,n=e.columnSizeAndPositionManager,o=e.columnStartIndex,i=e.columnStopIndex,a=e.deferredMeasurementCache,s=e.horizontalOffsetAdjustment,l=e.isScrolling,u=e.isScrollingOptOut,c=e.parent,p=e.rowSizeAndPositionManager,h=e.rowStartIndex,f=e.rowStopIndex,d=e.styleCache,m=e.verticalOffsetAdjustment,y=e.visibleColumnIndices,v=e.visibleRowIndices,g=[],_=n.areOffsetsAdjusted()||p.areOffsetsAdjusted(),b=!l&&!_,x=h;x<=f;x++)for(var w=p.getSizeAndPositionOfCell(x),E=o;E<=i;E++){var S=n.getSizeAndPositionOfCell(E),C=E>=y.start&&E<=y.stop&&x>=v.start&&x<=v.stop,k=x+"-"+E,T=void 0;b&&d[k]?T=d[k]:a&&!a.has(x,E)?T={height:"auto",left:0,position:"absolute",top:0,width:"auto"}:(T={height:w.size,left:S.offset+s,position:"absolute",top:w.offset+m,width:S.size},d[k]=T);var O={columnIndex:E,isScrolling:l,isVisible:C,key:k,parent:c,rowIndex:x,style:T},P=void 0;!u&&!l||s||m?P=r(O):(t[k]||(t[k]=r(O)),P=t[k]),null!=P&&!1!==P&&g.push(P)}return g};r(4)},function(e,t,r){"use strict";var n=r(783);t.__esModule=!0,t.default=function(e){if((!o&&0!==o||e)&&i.default){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),o=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return o};var o,i=n(r(784));e.exports=t.default},function(e,t,r){var n=r(213),o=r(30)("iterator"),i=r(83);e.exports=r(17).getIteratorMethod=function(e){if(void 0!=e)return e[o]||e["@@iterator"]||i[n(e)]}},function(e,t,r){var n=r(42),o=r(136),i=r(30)("species");e.exports=function(e,t){var r,a=n(e).constructor;return void 0===a||void 0==(r=n(a)[i])?t:o(r)}},function(e,t,r){var n,o,i,a=r(101),s=r(792),l=r(319),u=r(200),c=r(29),p=c.process,h=c.setImmediate,f=c.clearImmediate,d=c.MessageChannel,m=c.Dispatch,y=0,v={},g=function(){var e=+this;if(v.hasOwnProperty(e)){var t=v[e];delete v[e],t()}},_=function(e){g.call(e.data)};h&&f||(h=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return v[++y]=function(){s("function"==typeof e?e:Function(e),t)},n(y),y},f=function(e){delete v[e]},"process"==r(103)(p)?n=function(e){p.nextTick(a(g,e,1))}:m&&m.now?n=function(e){m.now(a(g,e,1))}:d?(i=(o=new d).port2,o.port1.onmessage=_,n=a(i.postMessage,i,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(n=function(e){c.postMessage(e+"","*")},c.addEventListener("message",_,!1)):n="onreadystatechange"in u("script")?function(e){l.appendChild(u("script")).onreadystatechange=function(){l.removeChild(this),g.call(e)}}:function(e){setTimeout(a(g,e,1),0)}),e.exports={set:h,clear:f}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,r){var n=r(42),o=r(54),i=r(214);e.exports=function(e,t){if(n(e),o(t)&&t.constructor===e)return t;var r=i.f(e);return(0,r.resolve)(t),r.promise}},function(e,t,r){"use strict";var n=r(10);r.n(n)},function(e,t,r){"use strict";var n=r(43),o=r.n(n),i=r(24),a=r.n(i),s=r(13),l=r.n(s),u=r(16),c=r.n(u),p=r(25),h=r.n(p),f=r(26),d=r.n(f),m=r(0),y=(r.n(m),r(334)),v=r(10),g=(r.n(v),function(e){function t(){var e,r,n,o;l()(this,t);for(var i=arguments.length,s=Array(i),u=0;u<i;u++)s[u]=arguments[u];return r=n=h()(this,(e=t.__proto__||a()(t)).call.apply(e,[this].concat(s))),n.state={height:n.props.defaultHeight||0,width:n.props.defaultWidth||0},n._onResize=function(){var e=n.props,t=e.disableHeight,r=e.disableWidth,o=e.onResize;if(n._parentNode){var i=n._parentNode.offsetHeight||0,a=n._parentNode.offsetWidth||0,s=window.getComputedStyle(n._parentNode)||{},l=parseInt(s.paddingLeft,10)||0,u=parseInt(s.paddingRight,10)||0,c=parseInt(s.paddingTop,10)||0,p=parseInt(s.paddingBottom,10)||0,h=i-c-p,f=a-l-u;(!t&&n.state.height!==h||!r&&n.state.width!==f)&&(n.setState({height:i-c-p,width:a-l-u}),o({height:i,width:a}))}},n._setRef=function(e){n._autoSizer=e},o=r,h()(n,o)}return d()(t,e),c()(t,[{key:"componentDidMount",value:function(){var e=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._detectElementResize=Object(y.a)(e),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var e=this.props,t=e.children,r=e.className,n=e.disableHeight,i=e.disableWidth,a=e.style,s=this.state,l=s.height,u=s.width,c={overflow:"visible"},p={};return n||(c.height=0,p.height=l),i||(c.width=0,p.width=u),m.createElement("div",{className:r,ref:this._setRef,style:o()({},c,a)},t(p))}}]),t}(m.PureComponent));g.defaultProps={onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}},g.propTypes=null,t.a=g},function(e,t,r){"use strict";(function(e){t.a=function(t){var r;r="undefined"!==typeof window?window:"undefined"!==typeof self?self:e;var n="undefined"!==typeof document&&document.attachEvent;if(!n){var o=(b=r.requestAnimationFrame||r.mozRequestAnimationFrame||r.webkitRequestAnimationFrame||function(e){return r.setTimeout(e,20)},function(e){return b(e)}),i=(_=r.cancelAnimationFrame||r.mozCancelAnimationFrame||r.webkitCancelAnimationFrame||r.clearTimeout,function(e){return _(e)}),a=function(e){var t=e.__resizeTriggers__,r=t.firstElementChild,n=t.lastElementChild,o=r.firstElementChild;n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight,o.style.width=r.offsetWidth+1+"px",o.style.height=r.offsetHeight+1+"px",r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight},s=function(e){if(!(e.target.className&&"function"===typeof e.target.className.indexOf&&e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0)){var t=this;a(this),this.__resizeRAF__&&i(this.__resizeRAF__),this.__resizeRAF__=o(function(){(function(e){return e.offsetWidth!=e.__resizeLast__.width||e.offsetHeight!=e.__resizeLast__.height})(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach(function(r){r.call(t,e)}))})}},l=!1,u="",c="animationstart",p="Webkit Moz O ms".split(" "),h="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),f="",d=document.createElement("fakeelement");if(void 0!==d.style.animationName&&(l=!0),!1===l)for(var m=0;m<p.length;m++)if(void 0!==d.style[p[m]+"AnimationName"]){f=p[m],u="-"+f.toLowerCase()+"-",c=h[m],l=!0;break}var y="resizeanim",v="@"+u+"keyframes "+y+" { from { opacity: 0; } to { opacity: 0; } } ",g=u+"animation: 1ms "+y+"; "}var _;var b;return{addResizeListener:function(e,o){if(n)e.attachEvent("onresize",o);else{if(!e.__resizeTriggers__){var i=e.ownerDocument,l=r.getComputedStyle(e);l&&"static"==l.position&&(e.style.position="relative"),function(e){if(!e.getElementById("detectElementResize")){var r=(v||"")+".resize-triggers { "+(g||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',n=e.head||e.getElementsByTagName("head")[0],o=e.createElement("style");o.id="detectElementResize",o.type="text/css",null!=t&&o.setAttribute("nonce",t),o.styleSheet?o.styleSheet.cssText=r:o.appendChild(e.createTextNode(r)),n.appendChild(o)}}(i),e.__resizeLast__={},e.__resizeListeners__=[],(e.__resizeTriggers__=i.createElement("div")).className="resize-triggers",e.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',e.appendChild(e.__resizeTriggers__),a(e),e.addEventListener("scroll",s,!0),c&&(e.__resizeTriggers__.__animationListener__=function(t){t.animationName==y&&a(e)},e.__resizeTriggers__.addEventListener(c,e.__resizeTriggers__.__animationListener__))}e.__resizeListeners__.push(o)}},removeResizeListener:function(e,t){if(n)e.detachEvent("onresize",t);else if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",s,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(c,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(e){}}}}}}).call(t,r(32))},function(e,t,r){"use strict";var n=r(803);r(804),n.a},function(e,t,r){"use strict";var n=r(10);r.n(n)},function(e,t,r){"use strict";var n=r(43),o=r.n(n),i=r(817),a=r.n(i),s=r(24),l=r.n(s),u=r(13),c=r.n(u),p=r(16),h=r.n(p),f=r(25),d=r.n(f),m=r(26),y=r.n(m),v=r(31),g=r(0),_=(r.n(g),r(8)),b=r.n(_),x=(r(142),r(10)),w=(r.n(x),function(e){function t(){var e,r,n,o;c()(this,t);for(var i=arguments.length,s=Array(i),u=0;u<i;u++)s[u]=arguments[u];return r=n=d()(this,(e=t.__proto__||l()(t)).call.apply(e,[this].concat(s))),n._cellRenderer=function(e){var t=e.parent,r=e.rowIndex,o=e.style,i=e.isScrolling,s=e.isVisible,l=e.key,u=n.props.rowRenderer;return a()(o,"width").writable&&(o.width="100%"),u({index:r,style:o,isScrolling:i,isVisible:s,key:l,parent:t})},n._setRef=function(e){n.Grid=e},n._onScroll=function(e){var t=e.clientHeight,r=e.scrollHeight,o=e.scrollTop;(0,n.props.onScroll)({clientHeight:t,scrollHeight:r,scrollTop:o})},n._onSectionRendered=function(e){var t=e.rowOverscanStartIndex,r=e.rowOverscanStopIndex,o=e.rowStartIndex,i=e.rowStopIndex;(0,n.props.onRowsRendered)({overscanStartIndex:t,overscanStopIndex:r,startIndex:o,stopIndex:i})},o=r,d()(n,o)}return y()(t,e),h()(t,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(e){var t=e.alignment,r=e.index;return this.Grid?this.Grid.getOffsetForCell({alignment:t,rowIndex:r,columnIndex:0}).scrollTop:0}},{key:"invalidateCellSizeAfterRender",value:function(e){var t=e.columnIndex,r=e.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:r,columnIndex:t})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,r=void 0===t?0:t,n=e.rowIndex,o=void 0===n?0:n;this.Grid&&this.Grid.recomputeGridSize({rowIndex:o,columnIndex:r})}},{key:"recomputeRowHeights",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:e,columnIndex:0})}},{key:"scrollToPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:e})}},{key:"scrollToRow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:e})}},{key:"render",value:function(){var e=this.props,t=e.className,r=e.noRowsRenderer,n=e.scrollToIndex,i=e.width,a=b()("ReactVirtualized__List",t);return g.createElement(v.b,o()({},this.props,{autoContainerWidth:!0,cellRenderer:this._cellRenderer,className:a,columnWidth:i,columnCount:1,noContentRenderer:r,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,scrollToRow:n}))}}]),t}(g.PureComponent));w.defaultProps={autoHeight:!1,estimatedRowSize:30,onScroll:function(){},noRowsRenderer:function(){return null},onRowsRendered:function(){},overscanIndicesGetter:v.a,overscanRowCount:10,scrollToAlignment:"auto",scrollToIndex:-1,style:{}},w.propTypes=null,t.a=w},function(e,t,r){"use strict";t.a=function(e){var t=e.dataKey,r=e.rowData;return"function"===typeof r.get?r.get(t):r[t]};r(106)},function(e,t,r){"use strict";t.a=function(e){var t=e.cellData;return null==t?"":String(t)};r(106)},function(e,t,r){"use strict";t.a=i;var n=r(0),o=(r.n(n),r(106),r(10));r.n(o);function i(e){var t=e.className,r=e.columns,o=e.style;return n.createElement("div",{className:t,role:"row",style:o},r)}i.propTypes=null},function(e,t,r){"use strict";t.a=a;var n=r(0),o=(r.n(n),r(342)),i=(r(106),r(10));r.n(i);function a(e){var t=e.dataKey,r=e.label,i=e.sortBy,a=e.sortDirection,s=i===t,l=[n.createElement("span",{className:"ReactVirtualized__Table__headerTruncatedText",key:"label",title:r},r)];return s&&l.push(n.createElement(o.a,{key:"SortIndicator",sortDirection:a})),l}a.propTypes=null},function(e,t,r){"use strict";t.a=l;var n=r(8),o=r.n(n),i=r(10),a=(r.n(i),r(0)),s=(r.n(a),r(143));function l(e){var t=e.sortDirection,r=o()("ReactVirtualized__Table__sortableHeaderIcon",{"ReactVirtualized__Table__sortableHeaderIcon--ASC":t===s.a.ASC,"ReactVirtualized__Table__sortableHeaderIcon--DESC":t===s.a.DESC});return a.createElement("svg",{className:r,width:18,height:18,viewBox:"0 0 24 24"},t===s.a.ASC?a.createElement("path",{d:"M7 14l5-5 5 5z"}):a.createElement("path",{d:"M7 10l5 5 5-5z"}),a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}l.propTypes={}},function(e,t,r){"use strict";t.a=s;var n=r(43),o=r.n(n),i=r(0),a=(r.n(i),r(106),r(10));r.n(a);function s(e){var t=e.className,r=e.columns,n=e.index,a=e.key,s=e.onRowClick,l=e.onRowDoubleClick,u=e.onRowMouseOut,c=e.onRowMouseOver,p=e.onRowRightClick,h=e.rowData,f=e.style,d={"aria-rowindex":n+1};return(s||l||u||c||p)&&(d["aria-label"]="row",d.tabIndex=0,s&&(d.onClick=function(e){return s({event:e,index:n,rowData:h})}),l&&(d.onDoubleClick=function(e){return l({event:e,index:n,rowData:h})}),u&&(d.onMouseOut=function(e){return u({event:e,index:n,rowData:h})}),c&&(d.onMouseOver=function(e){return c({event:e,index:n,rowData:h})}),p&&(d.onContextMenu=function(e){return p({event:e,index:n,rowData:h})})),i.createElement("div",o()({},d,{className:t,key:a,role:"row",style:f}),r)}s.propTypes=null},function(e,t,r){"use strict";var n=r(24),o=r.n(n),i=r(13),a=r.n(i),s=r(25),l=r.n(s),u=r(26),c=r.n(u),p=r(10),h=(r.n(p),r(0)),f=(r.n(h),r(341)),d=r(339),m=r(338),y=r(143),v=function(e){function t(){return a()(this,t),l()(this,(t.__proto__||o()(t)).apply(this,arguments))}return c()(t,e),t}(h.Component);v.defaultProps={cellDataGetter:m.a,cellRenderer:d.a,defaultSortDirection:y.a.ASC,flexGrow:0,flexShrink:1,headerRenderer:f.a,style:{}};v.propTypes={}},function(e,t,r){"use strict";var n=r(43),o=r.n(n),i=r(24),a=r.n(i),s=r(13),l=r.n(s),u=r(16),c=r.n(u),p=r(25),h=r.n(p),f=r(26),d=r.n(f),m=r(0),y=(r.n(m),r(37)),v=(r.n(y),r(842)),g=r(843),_=r(334),b=r(10),x=(r.n(b),function(){return"undefined"!==typeof window?window:void 0}),w=function(e){function t(){var e,r,n,i;l()(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return r=n=h()(this,(e=t.__proto__||a()(t)).call.apply(e,[this].concat(u))),n._window=x(),n._isMounted=!1,n._positionFromTop=0,n._positionFromLeft=0,n.state=o()({},Object(g.a)(n.props.scrollElement,n.props),{isScrolling:!1,scrollLeft:0,scrollTop:0}),n._registerChild=function(e){!e||e instanceof Element||console.warn("WindowScroller registerChild expects to be passed Element or null"),n._child=e,n.updatePosition()},n._onChildScroll=function(e){var t=e.scrollTop;if(n.state.scrollTop!==t){var r=n.props.scrollElement;r&&("function"===typeof r.scrollTo?r.scrollTo(0,t+n._positionFromTop):r.scrollTop=t+n._positionFromTop)}},n._registerResizeListener=function(e){e===window?window.addEventListener("resize",n._onResize,!1):n._detectElementResize.addResizeListener(e,n._onResize)},n._unregisterResizeListener=function(e){e===window?window.removeEventListener("resize",n._onResize,!1):e&&n._detectElementResize.removeResizeListener(e,n._onResize)},n._onResize=function(){n.updatePosition()},n.__handleWindowScrollEvent=function(){if(n._isMounted){var e=n.props.onScroll,t=n.props.scrollElement;if(t){var r=Object(g.c)(t),o=Math.max(0,r.left-n._positionFromLeft),i=Math.max(0,r.top-n._positionFromTop);n.setState({isScrolling:!0,scrollLeft:o,scrollTop:i}),e({scrollLeft:o,scrollTop:i})}}},n.__resetIsScrolling=function(){n.setState({isScrolling:!1})},i=r,h()(n,i)}return d()(t,e),c()(t,[{key:"updatePosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.scrollElement,t=this.props.onResize,r=this.state,n=r.height,o=r.width,i=this._child||y.findDOMNode(this);if(i instanceof Element&&e){var a=Object(g.b)(i,e);this._positionFromTop=a.top,this._positionFromLeft=a.left}var s=Object(g.a)(e,this.props);n===s.height&&o===s.width||(this.setState({height:s.height,width:s.width}),t({height:s.height,width:s.width}))}},{key:"componentDidMount",value:function(){var e=this.props.scrollElement;this._detectElementResize=Object(_.a)(),this.updatePosition(e),e&&(Object(v.a)(this,e),this._registerResizeListener(e)),this._isMounted=!0}},{key:"componentDidUpdate",value:function(e,t){var r=this.props.scrollElement,n=e.scrollElement;n!==r&&null!=n&&null!=r&&(this.updatePosition(r),Object(v.b)(this,n),Object(v.a)(this,r),this._unregisterResizeListener(n),this._registerResizeListener(r))}},{key:"componentWillUnmount",value:function(){var e=this.props.scrollElement;e&&(Object(v.b)(this,e),this._unregisterResizeListener(e)),this._isMounted=!1}},{key:"render",value:function(){var e=this.props.children,t=this.state,r=t.isScrolling,n=t.scrollTop,o=t.scrollLeft,i=t.height,a=t.width;return e({onChildScroll:this._onChildScroll,registerChild:this._registerChild,height:i,isScrolling:r,scrollLeft:o,scrollTop:n,width:a})}}]),t}(m.PureComponent);w.defaultProps={onResize:function(){},onScroll:function(){},scrollingResetTimeInterval:150,scrollElement:x(),serverHeight:0,serverWidth:0},w.propTypes=null,t.a=w},function(e,t,r){"use strict";r.d(t,"b",function(){return v}),r.d(t,"a",function(){return g});var n,o,i=r(3),a=r(0),s=r.n(a),l=r(18),u=r(48),c=r(1),p=r(20),h=r(40),f=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=Object(i.a)(n=function(e){function t(){return d(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,a["Component"]),f(t,[{key:"render",value:function(){var e=c.a.editableState,t=void 0;return"select"===e&&(t=l.a.count?u.a.hasFilter?s.a.createElement("div",null,s.a.createElement("p",{className:"panel-label"},"Filter results"),s.a.createElement("p",{className:"panel-meta-div-p"},Object(p.k)(u.a.featureMap.size,"item"))):s.a.createElement("p",null,s.a.createElement("b",null,"Select")," an item from map or from the items list below."):s.a.createElement("p",null,"You can create new items by using the tools on the left.")),"image"===e&&(t=s.a.createElement("p",null,s.a.createElement("b",null,"Add")," an image to the map.")),"multi_select"===e&&(t=l.a.count?s.a.createElement("div",null,s.a.createElement("p",null,s.a.createElement("b",null,"Select")," multiple items from the map by drawing a rectangle."),s.a.createElement("p",null,s.a.createElement("b",null,"Add")," to the selection by pressing the ",s.a.createElement("b",null,"Shift")," key."),s.a.createElement("p",null,s.a.createElement("b",null,"Remove")," from the selection by pressing the ",s.a.createElement("b",null,"Alt")," key.")):s.a.createElement("p",null,"You can create new items by using the tools on the left.")),"point"===e&&(t=s.a.createElement("div",null,s.a.createElement("p",null,s.a.createElement("b",null,"Place a marker")," by clicking on the map."),s.a.createElement("p",null,"Later, you will be able to ",s.a.createElement("b",null,"move")," it by clicking on"," ",s.a.createElement(h.a,{iconName:"edit",additionalClasses:"button button-fix"}),"."))),"label"===e&&(t=s.a.createElement("div",null,s.a.createElement("p",null,s.a.createElement("b",null,"Place a label")," by clicking on the map."),s.a.createElement("p",null,"After placing it, you will be able to ",s.a.createElement("b",null,"set the title")," here."),s.a.createElement("p",null,"Later, you will be able to ",s.a.createElement("b",null,"move")," it by clicking on"," ",s.a.createElement(h.a,{iconName:"edit",additionalClasses:"button button-fix"}),"."))),"polyline"===e&&(t=s.a.createElement("div",null,s.a.createElement("p",null,s.a.createElement("b",null,"Start a line")," by clicking on the map."),s.a.createElement("p",null,s.a.createElement("b",null,"Add")," points by subsequent clicking."),s.a.createElement("p",null,s.a.createElement("b",null,"Finish")," the line by clicking on the last point, or by pressing the Enter or Esc key."),s.a.createElement("p",null,"Make the line ",s.a.createElement("b",null,"closed")," by clicking on the starting point."),s.a.createElement("p",null,s.a.createElement("b",null,"Remove")," the last point by pressing the Backspace or Del key."),s.a.createElement("p",null,"Later, you can ",s.a.createElement("b",null,"edit")," the line by clicking on"," ",s.a.createElement(h.a,{iconName:"edit",additionalClasses:"button button-fix"}),"."))),"polygon"===e&&(t=s.a.createElement("div",null,s.a.createElement("p",null,s.a.createElement("b",null,"Start a polygon")," by clicking on the map."),s.a.createElement("p",null,s.a.createElement("b",null,"Add")," points by subsequent clicking."),s.a.createElement("p",null,s.a.createElement("b",null,"Finish")," the polygon by clicking on the last point, or by pressing the Enter or Esc key."),s.a.createElement("p",null,s.a.createElement("b",null,"Remove")," the last point by pressing the Backspace or Del key."),s.a.createElement("p",null,"Later, you can ",s.a.createElement("b",null,"edit")," the polygon by clicking on"," ",s.a.createElement(h.a,{iconName:"edit",additionalClasses:"button button-fix"}),"."))),s.a.createElement("div",{className:"panel-text"},t)}}]),t}())||n,g=Object(i.a)(o=function(e){function t(){return d(this,t),m(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,a["Component"]),f(t,[{key:"render",value:function(){var e=c.a.activeFeature;if(!e)return null;var t=void 0;return"point"===e.type&&(t=s.a.createElement("p",null,s.a.createElement("b",null,"Move")," a marker by dragging it.")),"label"===e.type&&(t=s.a.createElement("p",null,s.a.createElement("b",null,"Move")," a label by dragging it.")),"polyline"===e.type&&(t=s.a.createElement("div",null,s.a.createElement("p",null,s.a.createElement("b",null,"Edit")," a line by dragging it's points."),s.a.createElement("p",null,s.a.createElement("b",null,"Add")," new points by dragging the middle points."),s.a.createElement("p",null,s.a.createElement("b",null,"Continue")," the line by Crtl / Cmd clicking on the endpoints."),s.a.createElement("p",null,s.a.createElement("b",null,"Remove")," a point by selecting it and pressing the Backspace or Del key or by clicking on ",s.a.createElement(h.a,{iconName:"delete",additionalClasses:"button button-fix"}),"."))),"polygon"===e.type&&(t=s.a.createElement("div",null,s.a.createElement("p",null,s.a.createElement("b",null,"Edit")," a polygon by dragging it's points."),s.a.createElement("p",null,s.a.createElement("b",null,"Add")," new points by dragging the middle points."),s.a.createElement("p",null,s.a.createElement("b",null,"Remove")," a point by selecting it and pressing the Backspace or Del key or by clicking on ",s.a.createElement(h.a,{iconName:"delete",additionalClasses:"button button-fix"}),"."))),"point"===e.type&&(t=s.a.createElement("p",null,s.a.createElement("b",null,"Move")," a marker by dragging it.")),s.a.createElement("div",{className:"panel-text"},s.a.createElement("br",null),t,s.a.createElement("p",null,s.a.createElement("b",null,"Finish")," editing by pressing the Esc key or by clicking on"," ",s.a.createElement(h.a,{iconName:"edit",additionalClasses:"button button-fix"}),"."))}}]),t}())||o},function(e,t,r){"use strict";r.d(t,"a",function(){return f});var n,o=r(3),i=r(0),a=r.n(i),s=r(1),l=r(850),u=r(346),c=r(857),p=r(858),h=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var f=Object(o.a)(n=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),h(t,[{key:"render",value:function(){return s.a.editMode?s.a.activeFeature.editing?a.a.createElement("div",null,a.a.createElement(l.a,null),a.a.createElement(u.a,null)):a.a.createElement("div",null,a.a.createElement(l.a,null),a.a.createElement(l.g,null),s.a.activeFeature.image&&a.a.createElement(l.f,null),a.a.createElement(l.h,null),a.a.createElement(l.c,null),a.a.createElement(l.i,null),!s.a.activeFeature.image&&a.a.createElement(l.f,null),a.a.createElement(l.b,null),a.a.createElement(l.e,null),a.a.createElement(l.d,null),a.a.createElement(p.c,null),a.a.createElement(p.a,null),a.a.createElement(c.a,null)):a.a.createElement("div",null,a.a.createElement(p.b,null),a.a.createElement(c.a,null),a.a.createElement(p.c,null),a.a.createElement(p.a,null))}}]),t}())||n},function(e,t,r){"use strict";r.d(t,"a",function(){return s});var n=r(0),o=r.n(n),i=r(28),a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["Component"]),a(t,[{key:"render",value:function(){var e=this,t=this.props.actualColor;return o.a.createElement("div",{className:"panel-meta-colorbox"},i.g.map(function(r){return o.a.createElement("div",{className:"panel-meta-div-color"+(t&&r.toLowerCase()===t.toLowerCase()?" active":""),style:{backgroundColor:r},key:r,onClick:function(){return e.props.onClick(r)}})}))}}]),t}()},function(e,t,r){"use strict";r.d(t,"a",function(){return s});var n=r(0),o=r.n(n),i=r(5),a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["Component"]),a(t,[{key:"render",value:function(){var e=this.props,t=e.groupArray,r=e.value,n=e.onChange,a=e.placeholder,s=e.style,l=[];if(a&&l.push(o.a.createElement("option",{key:"placeholder",value:"placeholder"},a)),!r){if(!a)return Object(i.b)("GroupSelect.value_or_placeholder"),null;r="empty"}return l=(l=l.concat(t.map(function(e){return o.a.createElement("option",{key:e.id,value:e.id},e.title)}))).concat([o.a.createElement("option",{key:"no_group",value:"no_group"},"no group"),o.a.createElement("option",{key:"new_group",value:"new_group"},"New group...")]),o.a.createElement("select",{className:"form-select panel-meta-div-select",value:r,onChange:n,style:s},l)}}]),t}()},function(e,t,r){"use strict";r.d(t,"a",function(){return p});var n=r(0),o=r.n(n),i=r(8),a=r.n(i),s=r(288),l=r.n(s),u=r(40),c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["Component"]),c(t,[{key:"render",value:function(){var e=this,t=this.props.activeIcon;return o.a.createElement("div",{className:"panel-marker-box"},Object.keys(l.a).map(function(r){var n=l.a[r];if(!n)return null;var i=t&&r===t;return o.a.createElement(u.a,{iconValue:n,additionalClasses:a()("panel-meta-div-icon",{active:i}),title:r,onClick:function(){return e.props.onClick(r)},key:r})}))}}]),t}()},function(e,t,r){"use strict";r.d(t,"a",function(){return p});var n,o=r(3),i=r(0),a=r.n(i),s=r(80),l=r(8),u=r.n(l),c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var p=Object(o.a)(n=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),c(t,[{key:"render",value:function(){var e=this,t=this.props.activeMarkerId;return a.a.createElement("div",{className:"panel-marker-box",style:{marginBottom:10}},s.a.markerArray.map(function(r){var n=t&&r.id===t;return a.a.createElement("div",{key:r.id,className:u()("panel-marker-outside",{active:n}),onClick:function(){return e.props.onClick(r.id)}},a.a.createElement("div",{className:"panel-marker",style:{backgroundImage:"url("+r.url+")"}}))}))}}]),t}())||n},function(e,t,r){"use strict";r.d(t,"a",function(){return m});var n=r(8),o=r.n(n),i=r(0),a=r.n(i),s=r(28),l=r(18),u=r(1),c=r(80),p=r(15),h=r(40),f=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var m=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),h=0;h<o;h++)i[h]=arguments[h];return r=n=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.handleDelete=function(e){p.a.showCustom(a.a.createElement("div",null,a.a.createElement("p",{className:"overlay-title"},"Remove icon"),a.a.createElement("p",{className:"text-center"},"Would you like to remove this icon?")),function(){var t=c.a.markerMap.get(e);if(t){var r=l.a.featureArray.filter(function(e){return e.marker_id===t.id}),n=!0,o=!1,i=void 0;try{for(var a,p=r[Symbol.iterator]();!(n=(a=p.next()).done);n=!0){a.value.setIcon(s.c)}}catch(e){o=!0,i=e}finally{try{!n&&p.return&&p.return()}finally{if(o)throw i}}c.a.removeMarker(t),u.a.saveOn()}},"Remove","Cancel")},d(n,r)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),f(t,[{key:"render",value:function(){var e=this,t=this.props.activeMarkerId;return t?a.a.createElement(h.a,{iconName:"delete",title:"Remove icon",onClick:function(){return e.handleDelete(t)},additionalClasses:o()("button","button-fix"),style:{marginLeft:10}}):null}}]),t}()},function(e,t,r){"use strict";r.d(t,"a",function(){return m});var n=r(0),o=r.n(n),i=r(1),a=r(80),s=r(15),l=r(51),u=r(5),c=r(81),p=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=function(e){function t(){return h(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,n["Component"]),p(t,[{key:"render",value:function(){return o.a.createElement(c.a,{text:"Add Icon",onClick:function(){s.a.showCustom(o.a.createElement(y,null),function(){},"Close")}})}}]),t}(),y=function(e){function t(e){h(this,t);var r=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.handleUpload=function(e){var t=e.target;if(!t.files.length)return i.a.isIE11||s.a.showText("Please select a file"),void(t.value=null);var n=t.files[0],o=new window.FormData;o.append("file",n);r.setState({info:"Processing, please wait..."}),Object(l.a)({url:"/ajax/marker_upload",data:o},function(e,n){if(r.setState({info:""}),t.value=null,n)"unsupported_file_type"===n?s.a.showText("Wrong file type","Please upload a PNG file"):"file_too_big"===n?s.a.showText("Uploaded file is too big","Maximum file size is 4 MB"):"empty_data"===n||"empty_file"===n?s.a.showText("Empty data","The uploaded file was empty"):"map_obj_missing"===n?s.a.showText("Error uploading marker","Please try reloading your browser"):"connection_error"===n||s.a.showText(n);else{if(!e.marker||!e.marker.id)return s.a.showText("Error uploading marker","Please try again"),void Object(u.b)("data.marker missing");a.a.addMarker({id:e.marker.id}),i.a.activeFeature&&i.a.activeFeature.setMarker(e.marker.id),i.a.saveOn(),s.a.clear()}})},r.state={info:""},r}return d(t,n["Component"]),p(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("p",{className:"overlay-title"},"Select PNG image"),o.a.createElement("p",null,"Make sure it has transparent background"),o.a.createElement("p",{style:{marginBottom:15}},"Ideal size: at least 80x80 px"),o.a.createElement("input",{type:"file",onChange:this.handleUpload}),o.a.createElement("p",null,this.state.info))}}]),t}()},function(e,t,r){"use strict";r.d(t,"a",function(){return f});var n,o=r(3),i=r(0),a=r.n(i),s=r(1),l=r(355),u=r(356),c=r(862),p=r(863),h=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var f=Object(o.a)(n=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),h(t,[{key:"render",value:function(){if(s.a.editMode){var e=!!s.a.activeGroup.featureArray.filter(function(e){return e.geometry}).length;return a.a.createElement("div",null,a.a.createElement(c.a,null),a.a.createElement(c.b,null),a.a.createElement(u.b,{items:s.a.activeGroup.featureArray}),e&&a.a.createElement("hr",{className:"panel-meta-hr"}),e&&a.a.createElement(l.c,{items:s.a.activeGroup.featureArray}),e&&a.a.createElement(l.a,{items:s.a.activeGroup.featureArray}),e&&a.a.createElement(l.d,{items:s.a.activeGroup.featureArray}),e&&a.a.createElement(u.a,{items:s.a.activeGroup.featureArray,title:s.a.activeGroup.title}))}return a.a.createElement("div",null,a.a.createElement(p.a,null),a.a.createElement(u.b,{items:s.a.activeGroup.featureArray}))}}]),t}())||n},function(e,t,r){"use strict";r.d(t,"a",function(){return P}),r.d(t,"d",function(){return A}),r.d(t,"c",function(){return I}),r.d(t,"b",function(){return M});var n,o,i,a,s=r(8),l=r.n(s),u=r(3),c=r(0),p=r.n(c),h=r(18),f=r(47),d=r(1),m=r(15),y=r(5),v=r(20),g=r(348),_=r(349),b=r(350),x=r(40),w=r(351),E=r(352),S=r(353),C=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function O(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var P=Object(u.a)(n=function(e){function t(){var e,r,n;k(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=n=T(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.handleClick=function(e){m.a.showCustom(p.a.createElement("div",null,p.a.createElement("p",{className:"overlay-title"},"Set color"),p.a.createElement("p",null,"Would you like to set the color of ",Object(v.k)(n.props.items.length,"item"),"?")),function(){d.a.setReady(!1);var t=!0,r=!1,o=void 0;try{for(var i,a=n.props.items[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){i.value.setColor(e)}}catch(e){r=!0,o=e}finally{try{!t&&a.return&&a.return()}finally{if(r)throw o}}d.a.setReady(!0)},"Set","Cancel")},T(n,r)}return O(t,c["Component"]),C(t,[{key:"render",value:function(){var e=this.props.items.filter(function(e){return"label"!==e.type});if(!e.length)return null;var t=Object(v.m)(e.map(function(e){return e.color})),r=1===t.length?t[0]:void 0;return p.a.createElement("div",null,p.a.createElement("p",{className:"panel-label panel-space-top"},"set colors"),p.a.createElement(g.a,{actualColor:r,onClick:this.handleClick}))}}]),t}())||n,A=Object(u.a)(o=function(e){function t(){var e,r,n;k(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=n=T(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.handleClick=function(e){var t=e.icon,r=e.marker;m.a.showCustom(p.a.createElement("div",null,p.a.createElement("p",{className:"overlay-title"},"Set icon"),p.a.createElement("p",null,"Would you like to set the icon of ",Object(v.k)(n.props.items.length,"item"),"?")),function(){d.a.setReady(!1);var e=!0,o=!1,i=void 0;try{for(var a,s=n.props.items[Symbol.iterator]();!(e=(a=s.next()).done);e=!0){var l=a.value;t&&l.setIcon(t),r&&l.setMarker(r)}}catch(e){o=!0,i=e}finally{try{!e&&s.return&&s.return()}finally{if(o)throw i}}d.a.setReady(!0)},"Set","Cancel")},T(n,r)}return O(t,c["Component"]),C(t,[{key:"render",value:function(){var e=this,t=this.props.items.filter(function(e){return"point"===e.type});if(!t.length)return null;var r=Object(v.m)(t.map(function(e){return e.icon_}).filter(function(e){return!!e})),n=Object(v.m)(t.map(function(e){return e.marker_id}).filter(function(e){return!!e})),o=1!==r.length||n.length?void 0:r[0],i=1!==n.length||r.length?void 0:n[0];return p.a.createElement("div",null,p.a.createElement("p",{className:"panel-label panel-space-top"},"set icons"),p.a.createElement(b.a,{activeIcon:o,onClick:function(t){return e.handleClick({icon:t})}}),p.a.createElement(w.a,{activeMarkerId:i,onClick:function(t){return e.handleClick({marker:t})}}),p.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},p.a.createElement(S.a,null),p.a.createElement(E.a,{activeMarkerId:i})))}}]),t}())||o,I=Object(u.a)(i=function(e){function t(){var e,r,n;k(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=n=T(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.handleChange=function(e,t){var r=e.target.value;if("placeholder"!==r){var o=n.props.items;m.a.showCustom(p.a.createElement("div",null,p.a.createElement("p",{className:"overlay-title"},Object(v.a)(t)," to group"),p.a.createElement("p",{className:"text-center"},"Would you like to ",t," ",Object(v.k)(o.length,"item"),"?")),function(){if("copy"===t){var e=[],n=!0,i=!1,a=void 0;try{for(var s,l=o[Symbol.iterator]();!(n=(s=l.next()).done);n=!0){var u=s.value.geojsonExport();delete u.id,delete u.properties.group;var c=h.a.addFeature(u);e.push(c)}}catch(e){i=!0,a=e}finally{try{!n&&l.return&&l.return()}finally{if(i)throw a}}o=e}if(d.a.setReady(!1),"no_group"===r){var p=!0,m=!1,v=void 0;try{for(var g,_=o[Symbol.iterator]();!(p=(g=_.next()).done);p=!0){g.value.setGroup(null)}}catch(e){m=!0,v=e}finally{try{!p&&_.return&&_.return()}finally{if(m)throw v}}}else if("new_group"===r){var b=f.a.addGroup({generateName:!0}),x=!0,w=!1,E=void 0;try{for(var S,C=o[Symbol.iterator]();!(x=(S=C.next()).done);x=!0){S.value.setGroup(b.id)}}catch(e){w=!0,E=e}finally{try{!x&&C.return&&C.return()}finally{if(w)throw E}}b.setExpanded(!0)}else{var k=Number(r),T=f.a.groupMap.get(k);if(!T)return void Object(y.b)("FeatureEditGroup.group_missing");var O=!0,P=!1,A=void 0;try{for(var I,M=o[Symbol.iterator]();!(O=(I=M.next()).done);O=!0){I.value.setGroup(T.id)}}catch(e){P=!0,A=e}finally{try{!O&&M.return&&M.return()}finally{if(P)throw A}}T.setExpanded(!0)}d.a.setReady(!0)},Object(v.a)(t),"Cancel")}},T(n,r)}return O(t,c["Component"]),C(t,[{key:"render",value:function(){var e=this,t=this.props.items;if(!t.length)return null;var r=Object(v.m)(t.map(function(e){return e.group_id})),n=f.a.groupArray;return 1===r.length&&(n=n.filter(function(e){return e.id!==r[0]})),p.a.createElement("div",null,p.a.createElement("p",{className:"panel-label panel-space-top"},"set groups"),p.a.createElement("div",{className:"panel-meta-div-select-flexbox"},p.a.createElement(_.a,{groupArray:n,onChange:function(t){return e.handleChange(t,"move")},placeholder:"Move to Group"}),p.a.createElement(_.a,{groupArray:n,onChange:function(t){return e.handleChange(t,"copy")},placeholder:"Copy to Group"})))}}]),t}())||i,M=Object(u.a)(a=function(e){function t(){var e,r,n;k(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=n=T(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.handleClick=function(){var e=n.props.items;m.a.showCustom(p.a.createElement("div",null,p.a.createElement("p",{className:"overlay-title"},"Delete selected"),p.a.createElement("p",{className:"text-center"},"Would you like to delete ",Object(v.k)(e.length,"item"),"?")),function(){d.a.setReady(!1);var t=!0,r=!1,n=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;h.a.removeFeature(a)}}catch(e){r=!0,n=e}finally{try{!t&&i.return&&i.return()}finally{if(r)throw n}}d.a.setReady(!0),d.a.deactivateAll(),d.a.saveOn()},"Delete","Cancel")},T(n,r)}return O(t,c["Component"]),C(t,[{key:"render",value:function(){return this.props.items.length?p.a.createElement("div",{className:"panel-meta-div-buttons"},p.a.createElement(x.a,{iconName:"delete",onClick:this.handleClick,additionalClasses:l()("button","button-fix")})):null}}]),t}())||a},function(e,t,r){"use strict";r.d(t,"b",function(){return p}),r.d(t,"a",function(){return h});var n=r(861),o=(r.n(n),r(0)),i=r.n(o),a=r(20),s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(e){function t(){return l(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return c(t,o["Component"]),s(t,[{key:"render",value:function(){var e=this.props.items;return e?i.a.createElement("div",null,i.a.createElement("p",{className:"panel-label"},this.props.title||"item count"),i.a.createElement("p",{className:"panel-meta-div-p",style:{paddingTop:3}},Object(a.k)(e.length,"item"))):null}}]),t}(),h=function(e){function t(){var e,r,o;l(this,t);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=o=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),o.handleClick=function(){var e=o.props.items,t=o.props.title||"items";if(!e.length)return null;var r={type:"FeatureCollection",features:e.map(function(e){var t=e.geojsonExport();return delete t.id,delete t.properties.group,t})},i=new Blob([JSON.stringify(r)],{type:"application/geo+json;charset=utf-8"});Object(n.saveAs)(i,t+".geojson")},u(o,r)}return c(t,o["Component"]),s(t,[{key:"render",value:function(){return this.props.items.length?i.a.createElement("div",null,i.a.createElement("p",{className:"panel-label panel-space-top",style:{marginBottom:5}},"export items"),i.a.createElement("button",{className:"button button-nofocus",onClick:this.handleClick},"GeoJSON")):null}}]),t}()},function(e,t,r){"use strict";r.d(t,"b",function(){return g}),r.d(t,"a",function(){return _});var n,o,i=r(8),a=r.n(i),s=r(3),l=r(0),u=r.n(l),c=r(18),p=r(23),h=r(1),f=r(20),d=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=Object(s.a)(n=function(e){function t(){return m(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,l["Component"]),d(t,[{key:"render",value:function(){return u.a.createElement("div",{className:a()("panel-text",{"nice-font":!h.a.hasCyrillicData,"ui-font":h.a.hasCyrillicData})},u.a.createElement("h1",{className:"panel-meta-div-map-view-title",dangerouslySetInnerHTML:{__html:p.a.titleHTML}}),u.a.createElement("p",null,"by"," ",u.a.createElement("a",{href:"/"+p.a.mapUserName,className:"panel-meta-div-map-view-username"},p.a.mapUserName)),u.a.createElement("div",{dangerouslySetInnerHTML:{__html:p.a.descriptionHTML}}),u.a.createElement(_,null))}}]),t}())||n,_=Object(s.a)(o=function(e){function t(){return m(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,l["Component"]),d(t,[{key:"render",value:function(){return c.a.count?u.a.createElement("div",null,u.a.createElement("hr",{className:"panel-meta-hr"}),u.a.createElement("p",{className:"panel-label panel-space-top"},"item count"),u.a.createElement("p",{className:"panel-meta-div-p",style:{paddingTop:3}},Object(f.k)(c.a.count,"item"))):null}}]),t}())||o},function(e,t,r){r(359),e.exports=r(412)},function(e,t,r){"use strict";"undefined"===typeof Promise&&(r(360).enable(),window.Promise=r(362)),r(363),Object.assign=r(364),r(365),r(379),r(384),r(389),r(392),r(394),r(397),r(398),r(401),r(403),r(405),r(407),[Element.prototype].forEach(function(e){e.hasOwnProperty("remove")||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})})},function(e,t,r){"use strict";var n=r(216),o=[ReferenceError,TypeError,RangeError],i=!1;function a(){i=!1,n._47=null,n._71=null}function s(e,t){return t.some(function(t){return e instanceof t})}t.disable=a,t.enable=function(e){e=e||{},i&&a();i=!0;var t=0,r=0,l={};function u(t){(e.allRejections||s(l[t].error,e.whitelist||o))&&(l[t].displayId=r++,e.onUnhandled?(l[t].logged=!0,e.onUnhandled(l[t].displayId,l[t].error)):(l[t].logged=!0,function(e,t){console.warn("Possible Unhandled Promise Rejection (id: "+e+"):"),((t&&(t.stack||t))+"").split("\n").forEach(function(e){console.warn("  "+e)})}(l[t].displayId,l[t].error)))}n._47=function(t){var r;2===t._83&&l[t._56]&&(l[t._56].logged?(r=t._56,l[r].logged&&(e.onHandled?e.onHandled(l[r].displayId,l[r].error):l[r].onUnhandled||(console.warn("Promise Rejection Handled (id: "+l[r].displayId+"):"),console.warn('  This means you can ignore any previous messages of the form "Possible Unhandled Promise Rejection" with id '+l[r].displayId+".")))):clearTimeout(l[t._56].timeout),delete l[t._56])},n._71=function(e,r){0===e._75&&(e._56=t++,l[e._56]={displayId:null,error:r,timeout:setTimeout(u.bind(null,e._56),s(r,o)?100:2e3),logged:!1})}}},function(e,t,r){"use strict";(function(t){function r(e){o.length||(n(),!0),o[o.length]=e}e.exports=r;var n,o=[],i=0,a=1024;function s(){for(;i<o.length;){var e=i;if(i+=1,o[e].call(),i>a){for(var t=0,r=o.length-i;t<r;t++)o[t]=o[t+i];o.length-=i,i=0}}o.length=0,i=0,!1}var l,u,c,p="undefined"!==typeof t?t:self,h=p.MutationObserver||p.WebKitMutationObserver;function f(e){return function(){var t=setTimeout(n,0),r=setInterval(n,50);function n(){clearTimeout(t),clearInterval(r),e()}}}"function"===typeof h?(l=1,u=new h(s),c=document.createTextNode(""),u.observe(c,{characterData:!0}),n=function(){l=-l,c.data=l}):n=f(s),r.requestFlush=n,r.makeRequestCallFromTimer=f}).call(t,r(32))},function(e,t,r){"use strict";var n=r(216);e.exports=n;var o=c(!0),i=c(!1),a=c(null),s=c(void 0),l=c(0),u=c("");function c(e){var t=new n(n._44);return t._83=1,t._18=e,t}n.resolve=function(e){if(e instanceof n)return e;if(null===e)return a;if(void 0===e)return s;if(!0===e)return o;if(!1===e)return i;if(0===e)return l;if(""===e)return u;if("object"===typeof e||"function"===typeof e)try{var t=e.then;if("function"===typeof t)return new n(t.bind(e))}catch(e){return new n(function(t,r){r(e)})}return c(e)},n.all=function(e){var t=Array.prototype.slice.call(e);return new n(function(e,r){if(0===t.length)return e([]);var o=t.length;function i(a,s){if(s&&("object"===typeof s||"function"===typeof s)){if(s instanceof n&&s.then===n.prototype.then){for(;3===s._83;)s=s._18;return 1===s._83?i(a,s._18):(2===s._83&&r(s._18),void s.then(function(e){i(a,e)},r))}var l=s.then;if("function"===typeof l)return void new n(l.bind(s)).then(function(e){i(a,e)},r)}t[a]=s,0===--o&&e(t)}for(var a=0;a<t.length;a++)i(a,t[a])})},n.reject=function(e){return new n(function(t,r){r(e)})},n.race=function(e){return new n(function(t,r){e.forEach(function(e){n.resolve(e).then(t,r)})})},n.prototype.catch=function(e){return this.then(null,e)}},function(e,t){!function(e){"use strict";if(!e.fetch){var t={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(t.arrayBuffer)var r=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],n=function(e){return e&&DataView.prototype.isPrototypeOf(e)},o=ArrayBuffer.isView||function(e){return e&&r.indexOf(Object.prototype.toString.call(e))>-1};c.prototype.append=function(e,t){e=s(e),t=l(t);var r=this.map[e];this.map[e]=r?r+","+t:t},c.prototype.delete=function(e){delete this.map[s(e)]},c.prototype.get=function(e){return e=s(e),this.has(e)?this.map[e]:null},c.prototype.has=function(e){return this.map.hasOwnProperty(s(e))},c.prototype.set=function(e,t){this.map[s(e)]=l(t)},c.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},c.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),u(e)},c.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),u(e)},c.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),u(e)},t.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);var i=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];y.prototype.clone=function(){return new y(this,{body:this._bodyInit})},m.call(y.prototype),m.call(g.prototype),g.prototype.clone=function(){return new g(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},g.error=function(){var e=new g(null,{status:0,statusText:""});return e.type="error",e};var a=[301,302,303,307,308];g.redirect=function(e,t){if(-1===a.indexOf(t))throw new RangeError("Invalid status code");return new g(null,{status:t,headers:{location:e}})},e.Headers=c,e.Request=y,e.Response=g,e.fetch=function(e,r){return new Promise(function(n,o){var i=new y(e,r),a=new XMLHttpRequest;a.onload=function(){var e,t,r={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new c,e.split(/\r?\n/).forEach(function(e){var r=e.split(":"),n=r.shift().trim();if(n){var o=r.join(":").trim();t.append(n,o)}}),t)};r.url="responseURL"in a?a.responseURL:r.headers.get("X-Request-URL");var o="response"in a?a.response:a.responseText;n(new g(o,r))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.open(i.method,i.url,!0),"include"===i.credentials&&(a.withCredentials=!0),"responseType"in a&&t.blob&&(a.responseType="blob"),i.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),a.send("undefined"===typeof i._bodyInit?null:i._bodyInit)})},e.fetch.polyfill=!0}function s(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function l(e){return"string"!==typeof e&&(e=String(e)),e}function u(e){var r={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t.iterable&&(r[Symbol.iterator]=function(){return r}),r}function c(e){this.map={},e instanceof c?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function h(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function f(e){var t=new FileReader,r=h(t);return t.readAsArrayBuffer(e),r}function d(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"===typeof e)this._bodyText=e;else if(t.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(t.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(t.arrayBuffer&&t.blob&&n(e))this._bodyArrayBuffer=d(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!t.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!o(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=d(e)}else this._bodyText="";this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},t.blob&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(f)}),this.text=function(){var e,t,r,n=p(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,r=h(t),t.readAsText(e),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},t.formData&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}function y(e,t){var r,n,o=(t=t||{}).body;if(e instanceof y){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new c(e.headers)),this.method=e.method,this.mode=e.mode,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new c(t.headers)),this.method=(r=t.method||this.method||"GET",n=r.toUpperCase(),i.indexOf(n)>-1?n:r),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function v(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),o=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(o))}}),t}function g(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new c(t.headers),this.url=t.url||"",this._initBody(e)}}("undefined"!==typeof self?self:this)},function(e,t,r){"use strict";var n=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var r,a,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var u in r=Object(arguments[l]))o.call(r,u)&&(s[u]=r[u]);if(n){a=n(r);for(var c=0;c<a.length;c++)i.call(r,a[c])&&(s[a[c]]=r[a[c]])}}return s}},function(e,t,r){r(217),r(221),r(225),r(373),e.exports=r(19).Map},function(e,t,r){var n=r(147),o=r(109);e.exports=function(e){return function(t,r){var i,a,s=String(o(t)),l=n(r),u=s.length;return l<0||l>=u?e?"":void 0:(i=s.charCodeAt(l))<55296||i>56319||l+1===u||(a=s.charCodeAt(l+1))<56320||a>57343?e?s.charAt(l):i:e?s.slice(l,l+2):a-56320+(i-55296<<10)+65536}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,r){"use strict";var n=r(149),o=r(86),i=r(110),a={};r(57)(a,r(21)("iterator"),function(){return this}),e.exports=function(e,t,r){e.prototype=n(a,{next:o(1,r)}),i(e,t+" Iterator")}},function(e,t,r){var n=r(44),o=r(58),i=r(88);e.exports=r(49)?Object.defineProperties:function(e,t){o(e);for(var r,a=i(t),s=a.length,l=0;s>l;)n.f(e,r=a[l++],t[r]);return e}},function(e,t,r){var n=r(36).document;e.exports=n&&n.documentElement},function(e,t,r){var n=r(59),o=r(153),i=r(151)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),n(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,r){"use strict";var n=r(154),o=r(226),i=r(87),a=r(50);e.exports=r(148)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?r:"values"==t?e[r]:[r,e[r]])},"values"),i.Arguments=i.Array,n("keys"),n("values"),n("entries")},function(e,t,r){"use strict";var n=r(374),o=r(233);e.exports=r(376)("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=n.getEntry(o(this,"Map"),e);return t&&t.v},set:function(e,t){return n.def(o(this,"Map"),0===e?0:e,t)}},n,!0)},function(e,t,r){"use strict";var n=r(44).f,o=r(149),i=r(227),a=r(68),s=r(228),l=r(229),u=r(148),c=r(226),p=r(375),h=r(49),f=r(155).fastKey,d=r(233),m=h?"_s":"size",y=function(e,t){var r,n=f(t);if("F"!==n)return e._i[n];for(r=e._f;r;r=r.n)if(r.k==t)return r};e.exports={getConstructor:function(e,t,r,u){var c=e(function(e,n){s(e,c,t,"_i"),e._t=t,e._i=o(null),e._f=void 0,e._l=void 0,e[m]=0,void 0!=n&&l(n,r,e[u],e)});return i(c.prototype,{clear:function(){for(var e=d(this,t),r=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete r[n.i];e._f=e._l=void 0,e[m]=0},delete:function(e){var r=d(this,t),n=y(r,e);if(n){var o=n.n,i=n.p;delete r._i[n.i],n.r=!0,i&&(i.n=o),o&&(o.p=i),r._f==n&&(r._f=o),r._l==n&&(r._l=i),r[m]--}return!!n},forEach:function(e){d(this,t);for(var r,n=a(e,arguments.length>1?arguments[1]:void 0,3);r=r?r.n:this._f;)for(n(r.v,r.k,this);r&&r.r;)r=r.p},has:function(e){return!!y(d(this,t),e)}}),h&&n(c.prototype,"size",{get:function(){return d(this,t)[m]}}),c},def:function(e,t,r){var n,o,i=y(e,t);return i?i.v=r:(e._l=i={i:o=f(t,!0),k:t,v:r,p:n=e._l,n:void 0,r:!1},e._f||(e._f=i),n&&(n.n=i),e[m]++,"F"!==o&&(e._i[o]=i)),e},getEntry:y,setStrong:function(e,t,r){u(e,t,function(e,r){this._t=d(e,t),this._k=r,this._l=void 0},function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?c(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,c(1))},r?"entries":"values",!r,!0),p(t)}}},function(e,t,r){"use strict";var n=r(36),o=r(44),i=r(49),a=r(21)("species");e.exports=function(e){var t=n[e];i&&t&&!t[a]&&o.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t,r){"use strict";var n=r(36),o=r(34),i=r(56),a=r(227),s=r(155),l=r(229),u=r(228),c=r(33),p=r(67),h=r(234),f=r(110),d=r(377);e.exports=function(e,t,r,m,y,v){var g=n[e],_=g,b=y?"set":"add",x=_&&_.prototype,w={},E=function(e){var t=x[e];i(x,e,"delete"==e?function(e){return!(v&&!c(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(v&&!c(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return v&&!c(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,r){return t.call(this,0===e?0:e,r),this})};if("function"==typeof _&&(v||x.forEach&&!p(function(){(new _).entries().next()}))){var S=new _,C=S[b](v?{}:-0,1)!=S,k=p(function(){S.has(1)}),T=h(function(e){new _(e)}),O=!v&&p(function(){for(var e=new _,t=5;t--;)e[b](t,t);return!e.has(-0)});T||((_=t(function(t,r){u(t,_,e);var n=d(new g,t,_);return void 0!=r&&l(r,y,n[b],n),n})).prototype=x,x.constructor=_),(k||O)&&(E("delete"),E("has"),y&&E("get")),(O||C)&&E(b),v&&x.clear&&delete x.clear}else _=m.getConstructor(t,e,y,b),a(_.prototype,r),s.NEED=!0;return f(_,e),w[e]=_,o(o.G+o.W+o.F*(_!=g),w),v||m.setStrong(_,e,y),_}},function(e,t,r){var n=r(33),o=r(378).set;e.exports=function(e,t,r){var i,a=t.constructor;return a!==r&&"function"==typeof a&&(i=a.prototype)!==r.prototype&&n(i)&&o&&o(e,i),e}},function(e,t,r){var n=r(33),o=r(58),i=function(e,t){if(o(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{(n=r(68)(Function.call,r(235).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,r){return i(e,r),t?e.__proto__=r:n(e,r),e}}({},!1):void 0),check:i}},function(e,t,r){r(380),r(217),e.exports=r(19).Symbol},function(e,t,r){"use strict";var n=r(36),o=r(59),i=r(49),a=r(34),s=r(56),l=r(155).KEY,u=r(67),c=r(145),p=r(110),h=r(85),f=r(21),d=r(236),m=r(381),y=r(382),v=r(238),g=r(58),_=r(33),b=r(50),x=r(146),w=r(86),E=r(149),S=r(383),C=r(235),k=r(44),T=r(88),O=C.f,P=k.f,A=S.f,I=n.Symbol,M=n.JSON,R=M&&M.stringify,L=f("_hidden"),D=f("toPrimitive"),j={}.propertyIsEnumerable,z=c("symbol-registry"),F=c("symbols"),N=c("op-symbols"),B=Object.prototype,U="function"==typeof I,V=n.QObject,G=!V||!V.prototype||!V.prototype.findChild,q=i&&u(function(){return 7!=E(P({},"a",{get:function(){return P(this,"a",{value:7}).a}})).a})?function(e,t,r){var n=O(B,t);n&&delete B[t],P(e,t,r),n&&e!==B&&P(B,t,n)}:P,H=function(e){var t=F[e]=E(I.prototype);return t._k=e,t},W=U&&"symbol"==typeof I.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof I},X=function(e,t,r){return e===B&&X(N,t,r),g(e),t=x(t,!0),g(r),o(F,t)?(r.enumerable?(o(e,L)&&e[L][t]&&(e[L][t]=!1),r=E(r,{enumerable:w(0,!1)})):(o(e,L)||P(e,L,w(1,{})),e[L][t]=!0),q(e,t,r)):P(e,t,r)},Z=function(e,t){g(e);for(var r,n=y(t=b(t)),o=0,i=n.length;i>o;)X(e,r=n[o++],t[r]);return e},Y=function(e){var t=j.call(this,e=x(e,!0));return!(this===B&&o(F,e)&&!o(N,e))&&(!(t||!o(this,e)||!o(F,e)||o(this,L)&&this[L][e])||t)},K=function(e,t){if(e=b(e),t=x(t,!0),e!==B||!o(F,t)||o(N,t)){var r=O(e,t);return!r||!o(F,t)||o(e,L)&&e[L][t]||(r.enumerable=!0),r}},$=function(e){for(var t,r=A(b(e)),n=[],i=0;r.length>i;)o(F,t=r[i++])||t==L||t==l||n.push(t);return n},J=function(e){for(var t,r=e===B,n=A(r?N:b(e)),i=[],a=0;n.length>a;)!o(F,t=n[a++])||r&&!o(B,t)||i.push(F[t]);return i};U||(s((I=function(){if(this instanceof I)throw TypeError("Symbol is not a constructor!");var e=h(arguments.length>0?arguments[0]:void 0),t=function(r){this===B&&t.call(N,r),o(this,L)&&o(this[L],e)&&(this[L][e]=!1),q(this,e,w(1,r))};return i&&G&&q(B,e,{configurable:!0,set:t}),H(e)}).prototype,"toString",function(){return this._k}),C.f=K,k.f=X,r(239).f=S.f=$,r(111).f=Y,r(237).f=J,i&&!r(108)&&s(B,"propertyIsEnumerable",Y,!0),d.f=function(e){return H(f(e))}),a(a.G+a.W+a.F*!U,{Symbol:I});for(var Q="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;Q.length>ee;)f(Q[ee++]);for(var te=T(f.store),re=0;te.length>re;)m(te[re++]);a(a.S+a.F*!U,"Symbol",{for:function(e){return o(z,e+="")?z[e]:z[e]=I(e)},keyFor:function(e){if(!W(e))throw TypeError(e+" is not a symbol!");for(var t in z)if(z[t]===e)return t},useSetter:function(){G=!0},useSimple:function(){G=!1}}),a(a.S+a.F*!U,"Object",{create:function(e,t){return void 0===t?E(e):Z(E(e),t)},defineProperty:X,defineProperties:Z,getOwnPropertyDescriptor:K,getOwnPropertyNames:$,getOwnPropertySymbols:J}),M&&a(a.S+a.F*(!U||u(function(){var e=I();return"[null]"!=R([e])||"{}"!=R({a:e})||"{}"!=R(Object(e))})),"JSON",{stringify:function(e){for(var t,r,n=[e],o=1;arguments.length>o;)n.push(arguments[o++]);if(r=t=n[1],(_(t)||void 0!==e)&&!W(e))return v(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!W(t))return t}),n[1]=t,R.apply(M,n)}}),I.prototype[D]||r(57)(I.prototype,D,I.prototype.valueOf),p(I,"Symbol"),p(Math,"Math",!0),p(n.JSON,"JSON",!0)},function(e,t,r){var n=r(36),o=r(19),i=r(108),a=r(236),s=r(44).f;e.exports=function(e){var t=o.Symbol||(o.Symbol=i?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t,r){var n=r(88),o=r(237),i=r(111);e.exports=function(e){var t=n(e),r=o.f;if(r)for(var a,s=r(e),l=i.f,u=0;s.length>u;)l.call(e,a=s[u++])&&t.push(a);return t}},function(e,t,r){var n=r(50),o=r(239).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==i.call(e)?function(e){try{return o(e)}catch(e){return a.slice()}}(e):o(n(e))}},function(e,t,r){r(385),e.exports=r(19).Array.find},function(e,t,r){"use strict";var n=r(34),o=r(386)(5),i=!0;"find"in[]&&Array(1).find(function(){i=!1}),n(n.P+n.F*i,"Array",{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),r(154)("find")},function(e,t,r){var n=r(68),o=r(150),i=r(153),a=r(89),s=r(387);e.exports=function(e,t){var r=1==e,l=2==e,u=3==e,c=4==e,p=6==e,h=5==e||p,f=t||s;return function(t,s,d){for(var m,y,v=i(t),g=o(v),_=n(s,d,3),b=a(g.length),x=0,w=r?f(t,b):l?f(t,0):void 0;b>x;x++)if((h||x in g)&&(y=_(m=g[x],x,v),e))if(r)w[x]=y;else if(y)switch(e){case 3:return!0;case 5:return m;case 6:return x;case 2:w.push(m)}else if(c)return!1;return p?-1:u||c?c:w}}},function(e,t,r){var n=r(388);e.exports=function(e,t){return new(n(e))(t)}},function(e,t,r){var n=r(33),o=r(238),i=r(21)("species");e.exports=function(e){var t;return o(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!o(t.prototype)||(t=void 0),n(t)&&null===(t=t[i])&&(t=void 0)),void 0===t?Array:t}},function(e,t,r){r(221),r(390),e.exports=r(19).Array.from},function(e,t,r){"use strict";var n=r(68),o=r(34),i=r(153),a=r(230),s=r(231),l=r(89),u=r(391),c=r(232);o(o.S+o.F*!r(234)(function(e){Array.from(e)}),"Array",{from:function(e){var t,r,o,p,h=i(e),f="function"==typeof this?this:Array,d=arguments.length,m=d>1?arguments[1]:void 0,y=void 0!==m,v=0,g=c(h);if(y&&(m=n(m,d>2?arguments[2]:void 0,2)),void 0==g||f==Array&&s(g))for(r=new f(t=l(h.length));t>v;v++)u(r,v,y?m(h[v],v):h[v]);else for(p=g.call(h),r=new f;!(o=p.next()).done;v++)u(r,v,y?a(p,m,[o.value,v],!0):o.value);return r.length=v,r}})},function(e,t,r){"use strict";var n=r(44),o=r(86);e.exports=function(e,t,r){t in e?n.f(e,t,o(0,r)):e[t]=r}},function(e,t,r){r(393),e.exports=r(19).Array.includes},function(e,t,r){"use strict";var n=r(34),o=r(223)(!0);n(n.P,"Array",{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),r(154)("includes")},function(e,t,r){r(395),e.exports=r(19).Array.join},function(e,t,r){"use strict";var n=r(34),o=r(50),i=[].join;n(n.P+n.F*(r(150)!=Object||!r(396)(i)),"Array",{join:function(e){return i.call(o(this),void 0===e?",":e)}})},function(e,t,r){"use strict";var n=r(67);e.exports=function(e,t){return!!e&&n(function(){t?e.call(null,function(){},1):e.call(null)})}},function(e,t,r){r(225),e.exports=r(19).Array.values},function(e,t,r){r(399),e.exports=r(19).Number.isInteger},function(e,t,r){var n=r(34);n(n.S,"Number",{isInteger:r(400)})},function(e,t,r){var n=r(33),o=Math.floor;e.exports=function(e){return!n(e)&&isFinite(e)&&o(e)===e}},function(e,t,r){r(402),e.exports=r(19).Object.entries},function(e,t,r){var n=r(34),o=r(240)(!0);n(n.S,"Object",{entries:function(e){return o(e)}})},function(e,t,r){r(404),e.exports=r(19).Object.values},function(e,t,r){var n=r(34),o=r(240)(!1);n(n.S,"Object",{values:function(e){return o(e)}})},function(e,t,r){r(406),e.exports=r(19).String.fromCodePoint},function(e,t,r){var n=r(34),o=r(224),i=String.fromCharCode,a=String.fromCodePoint;n(n.S+n.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(e){for(var t,r=[],n=arguments.length,a=0;n>a;){if(t=+arguments[a++],o(t,1114111)!==t)throw RangeError(t+" is not a valid code point");r.push(t<65536?i(t):i(55296+((t-=65536)>>10),t%1024+56320))}return r.join("")}})},function(e,t,r){r(408),e.exports=r(19).String.startsWith},function(e,t,r){"use strict";var n=r(34),o=r(89),i=r(409),a="".startsWith;n(n.P+n.F*r(411)("startsWith"),"String",{startsWith:function(e){var t=i(this,e,"startsWith"),r=o(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),n=String(e);return a?a.call(t,n,r):t.slice(r,r+n.length)===n}})},function(e,t,r){var n=r(410),o=r(109);e.exports=function(e,t,r){if(n(t))throw TypeError("String#"+r+" doesn't accept regex!");return String(o(e))}},function(e,t,r){var n=r(33),o=r(107),i=r(21)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},function(e,t,r){var n=r(21)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[n]=!1,!"/./"[e](t)}catch(e){}}return!0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(22),o=r(0),i=r.n(o),a=r(37),s=r.n(a),l=r(499),u=r(500),c=r(874),p=r(875),h=r(15);r(5);if(Object(n.g)({enforceActions:"observed"}),window._debug={overlayStore:h.a},navigator.userAgent.match("MSIE 10.0;"))alert("MapHub does not support Internet Explorer when in Compatibility Mode.\n\nPlease turn Compatibility Mode off or try an other browser.");else{if(Object(c.a)(),window.data_json&&window.data_json.page){var f=window.data_json.page;"map"===f&&Object(u.a)(),"my_maps"===f&&Object(p.a)()}s.a.render(i.a.createElement("div",null,i.a.createElement(l.a,null)),document.getElementById("overlay-placeholder"))}},function(e,t,r){"use strict";var n=function(){};e.exports=n},function(e,t,r){"use strict";var n=r(415),o=r(70),i=r(39),a=r(416),s=n.twoArgumentPooler,l=n.fourArgumentPooler,u=/\/+/g;function c(e){return(""+e).replace(u,"$&/")}function p(e,t){this.func=e,this.context=t,this.count=0}function h(e,t,r){var n=e.func,o=e.context;n.call(o,t,e.count++)}function f(e,t,r,n){this.result=e,this.keyPrefix=t,this.func=r,this.context=n,this.count=0}function d(e,t,r){var n=e.result,a=e.keyPrefix,s=e.func,l=e.context,u=s.call(l,t,e.count++);Array.isArray(u)?m(u,n,r,i.thatReturnsArgument):null!=u&&(o.isValidElement(u)&&(u=o.cloneAndReplaceKey(u,a+(!u.key||t&&t.key===u.key?"":c(u.key)+"/")+r)),n.push(u))}function m(e,t,r,n,o){var i="";null!=r&&(i=c(r)+"/");var s=f.getPooled(t,i,n,o);a(e,d,s),f.release(s)}function y(e,t,r){return null}p.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},n.addPoolingTo(p,s),f.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},n.addPoolingTo(f,l);var v={forEach:function(e,t,r){if(null==e)return e;var n=p.getPooled(t,r);a(e,h,n),p.release(n)},map:function(e,t,r){if(null==e)return e;var n=[];return m(e,n,null,t,r),n},mapIntoWithKeyPrefixInternal:m,count:function(e,t){return a(e,y,null)},toArray:function(e){var t=[];return m(e,t,null,i.thatReturnsArgument),t}};e.exports=v},function(e,t,r){"use strict";var n=r(90),o=(r(2),function(e){if(this.instancePool.length){var t=this.instancePool.pop();return this.call(t,e),t}return new this(e)}),i=function(e){e instanceof this||n("25"),e.destructor(),this.instancePool.length<this.poolSize&&this.instancePool.push(e)},a=o,s={addPoolingTo:function(e,t){var r=e;return r.instancePool=[],r.getPooled=t||a,r.poolSize||(r.poolSize=10),r.release=i,r},oneArgumentPooler:o,twoArgumentPooler:function(e,t){if(this.instancePool.length){var r=this.instancePool.pop();return this.call(r,e,t),r}return new this(e,t)},threeArgumentPooler:function(e,t,r){if(this.instancePool.length){var n=this.instancePool.pop();return this.call(n,e,t,r),n}return new this(e,t,r)},fourArgumentPooler:function(e,t,r,n){if(this.instancePool.length){var o=this.instancePool.pop();return this.call(o,e,t,r,n),o}return new this(e,t,r,n)}};e.exports=s},function(e,t,r){"use strict";var n=r(90),o=(r(45),r(244)),i=r(417),a=(r(2),r(418)),s=(r(9),"."),l=":";function u(e,t){return e&&"object"===typeof e&&null!=e.key?a.escape(e.key):t.toString(36)}e.exports=function(e,t,r){return null==e?0:function e(t,r,c,p){var h,f=typeof t;if("undefined"!==f&&"boolean"!==f||(t=null),null===t||"string"===f||"number"===f||"object"===f&&t.$$typeof===o)return c(p,t,""===r?s+u(t,0):r),1;var d=0,m=""===r?s:r+l;if(Array.isArray(t))for(var y=0;y<t.length;y++)d+=e(h=t[y],m+u(h,y),c,p);else{var v=i(t);if(v){var g,_=v.call(t);if(v!==t.entries)for(var b=0;!(g=_.next()).done;)d+=e(h=g.value,m+u(h,b++),c,p);else for(;!(g=_.next()).done;){var x=g.value;x&&(d+=e(h=x[1],m+a.escape(x[0])+l+u(h,0),c,p))}}else if("object"===f){var w="",E=String(t);n("31","[object Object]"===E?"object with keys {"+Object.keys(t).join(", ")+"}":E,w)}}return d}(e,"",t,r)}},function(e,t,r){"use strict";var n="function"===typeof Symbol&&Symbol.iterator,o="@@iterator";e.exports=function(e){var t=e&&(n&&e[n]||e[o]);if("function"===typeof t)return t}},function(e,t,r){"use strict";var n={escape:function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})},unescape:function(e){var t={"=0":"=","=2":":"};return(""+("."===e[0]&&"$"===e[1]?e.substring(2):e.substring(1))).replace(/(=0|=2)/g,function(e){return t[e]})}};e.exports=n},function(e,t,r){"use strict";var n=r(70).createFactory,o={a:n("a"),abbr:n("abbr"),address:n("address"),area:n("area"),article:n("article"),aside:n("aside"),audio:n("audio"),b:n("b"),base:n("base"),bdi:n("bdi"),bdo:n("bdo"),big:n("big"),blockquote:n("blockquote"),body:n("body"),br:n("br"),button:n("button"),canvas:n("canvas"),caption:n("caption"),cite:n("cite"),code:n("code"),col:n("col"),colgroup:n("colgroup"),data:n("data"),datalist:n("datalist"),dd:n("dd"),del:n("del"),details:n("details"),dfn:n("dfn"),dialog:n("dialog"),div:n("div"),dl:n("dl"),dt:n("dt"),em:n("em"),embed:n("embed"),fieldset:n("fieldset"),figcaption:n("figcaption"),figure:n("figure"),footer:n("footer"),form:n("form"),h1:n("h1"),h2:n("h2"),h3:n("h3"),h4:n("h4"),h5:n("h5"),h6:n("h6"),head:n("head"),header:n("header"),hgroup:n("hgroup"),hr:n("hr"),html:n("html"),i:n("i"),iframe:n("iframe"),img:n("img"),input:n("input"),ins:n("ins"),kbd:n("kbd"),keygen:n("keygen"),label:n("label"),legend:n("legend"),li:n("li"),link:n("link"),main:n("main"),map:n("map"),mark:n("mark"),menu:n("menu"),menuitem:n("menuitem"),meta:n("meta"),meter:n("meter"),nav:n("nav"),noscript:n("noscript"),object:n("object"),ol:n("ol"),optgroup:n("optgroup"),option:n("option"),output:n("output"),p:n("p"),param:n("param"),picture:n("picture"),pre:n("pre"),progress:n("progress"),q:n("q"),rp:n("rp"),rt:n("rt"),ruby:n("ruby"),s:n("s"),samp:n("samp"),script:n("script"),section:n("section"),select:n("select"),small:n("small"),source:n("source"),span:n("span"),strong:n("strong"),style:n("style"),sub:n("sub"),summary:n("summary"),sup:n("sup"),table:n("table"),tbody:n("tbody"),td:n("td"),textarea:n("textarea"),tfoot:n("tfoot"),th:n("th"),thead:n("thead"),time:n("time"),title:n("title"),tr:n("tr"),track:n("track"),u:n("u"),ul:n("ul"),var:n("var"),video:n("video"),wbr:n("wbr"),circle:n("circle"),clipPath:n("clipPath"),defs:n("defs"),ellipse:n("ellipse"),g:n("g"),image:n("image"),line:n("line"),linearGradient:n("linearGradient"),mask:n("mask"),path:n("path"),pattern:n("pattern"),polygon:n("polygon"),polyline:n("polyline"),radialGradient:n("radialGradient"),rect:n("rect"),stop:n("stop"),svg:n("svg"),text:n("text"),tspan:n("tspan")};e.exports=o},function(e,t,r){"use strict";var n=r(70).isValidElement,o=r(245);e.exports=o(n)},function(e,t,r){"use strict";var n=r(422),o=r(12),i=r(246),a=r(424),s=Function.call.bind(Object.prototype.hasOwnProperty),l=function(){};function u(){return null}e.exports=function(e,t){var r="function"===typeof Symbol&&Symbol.iterator,c="@@iterator";var p="<<anonymous>>",h={array:y("array"),bool:y("boolean"),func:y("function"),number:y("number"),object:y("object"),string:y("string"),symbol:y("symbol"),any:m(u),arrayOf:function(e){return m(function(t,r,n,o,a){if("function"!==typeof e)return new d("Property `"+a+"` of component `"+n+"` has invalid PropType notation inside arrayOf.");var s=t[r];if(!Array.isArray(s)){var l=g(s);return new d("Invalid "+o+" `"+a+"` of type `"+l+"` supplied to `"+n+"`, expected an array.")}for(var u=0;u<s.length;u++){var c=e(s,u,n,o,a+"["+u+"]",i);if(c instanceof Error)return c}return null})},element:function(){return m(function(t,r,n,o,i){var a=t[r];if(!e(a)){var s=g(a);return new d("Invalid "+o+" `"+i+"` of type `"+s+"` supplied to `"+n+"`, expected a single ReactElement.")}return null})}(),elementType:function(){return m(function(e,t,r,o,i){var a=e[t];if(!n.isValidElementType(a)){var s=g(a);return new d("Invalid "+o+" `"+i+"` of type `"+s+"` supplied to `"+r+"`, expected a single ReactElement type.")}return null})}(),instanceOf:function(e){return m(function(t,r,n,o,i){if(!(t[r]instanceof e)){var a=e.name||p,s=function(e){if(!e.constructor||!e.constructor.name)return p;return e.constructor.name}(t[r]);return new d("Invalid "+o+" `"+i+"` of type `"+s+"` supplied to `"+n+"`, expected instance of `"+a+"`.")}return null})},node:function(){return m(function(e,t,r,n,o){if(!v(e[t]))return new d("Invalid "+n+" `"+o+"` supplied to `"+r+"`, expected a ReactNode.");return null})}(),objectOf:function(e){return m(function(t,r,n,o,a){if("function"!==typeof e)return new d("Property `"+a+"` of component `"+n+"` has invalid PropType notation inside objectOf.");var l=t[r],u=g(l);if("object"!==u)return new d("Invalid "+o+" `"+a+"` of type `"+u+"` supplied to `"+n+"`, expected an object.");for(var c in l)if(s(l,c)){var p=e(l,c,n,o,a+"."+c,i);if(p instanceof Error)return p}return null})},oneOf:function(e){if(!Array.isArray(e))return u;return m(function(t,r,n,o,i){for(var a=t[r],s=0;s<e.length;s++)if(f(a,e[s]))return null;var l=JSON.stringify(e,function(e,t){var r=_(t);return"symbol"===r?String(t):t});return new d("Invalid "+o+" `"+i+"` of value `"+String(a)+"` supplied to `"+n+"`, expected one of "+l+".")})},oneOfType:function(e){if(!Array.isArray(e))return u;for(var t=0;t<e.length;t++){var r=e[t];if("function"!==typeof r)return l("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+b(r)+" at index "+t+"."),u}return m(function(t,r,n,o,a){for(var s=0;s<e.length;s++){var l=e[s];if(null==l(t,r,n,o,a,i))return null}return new d("Invalid "+o+" `"+a+"` supplied to `"+n+"`.")})},shape:function(e){return m(function(t,r,n,o,a){var s=t[r],l=g(s);if("object"!==l)return new d("Invalid "+o+" `"+a+"` of type `"+l+"` supplied to `"+n+"`, expected `object`.");for(var u in e){var c=e[u];if(c){var p=c(s,u,n,o,a+"."+u,i);if(p)return p}}return null})},exact:function(e){return m(function(t,r,n,a,s){var l=t[r],u=g(l);if("object"!==u)return new d("Invalid "+a+" `"+s+"` of type `"+u+"` supplied to `"+n+"`, expected `object`.");var c=o({},t[r],e);for(var p in c){var h=e[p];if(!h)return new d("Invalid "+a+" `"+s+"` key `"+p+"` supplied to `"+n+"`.\nBad object: "+JSON.stringify(t[r],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var f=h(l,p,n,a,s+"."+p,i);if(f)return f}return null})}};function f(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function d(e){this.message=e,this.stack=""}function m(e){function r(r,n,o,a,s,l,u){if((a=a||p,l=l||o,u!==i)&&t){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}return null==n[o]?r?null===n[o]?new d("The "+s+" `"+l+"` is marked as required in `"+a+"`, but its value is `null`."):new d("The "+s+" `"+l+"` is marked as required in `"+a+"`, but its value is `undefined`."):null:e(n,o,a,s,l)}var n=r.bind(null,!1);return n.isRequired=r.bind(null,!0),n}function y(e){return m(function(t,r,n,o,i,a){var s=t[r];return g(s)!==e?new d("Invalid "+o+" `"+i+"` of type `"+_(s)+"` supplied to `"+n+"`, expected `"+e+"`."):null})}function v(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(v);if(null===t||e(t))return!0;var n=function(e){var t=e&&(r&&e[r]||e[c]);if("function"===typeof t)return t}(t);if(!n)return!1;var o,i=n.call(t);if(n!==t.entries){for(;!(o=i.next()).done;)if(!v(o.value))return!1}else for(;!(o=i.next()).done;){var a=o.value;if(a&&!v(a[1]))return!1}return!0;default:return!1}}function g(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||!!t&&("Symbol"===t["@@toStringTag"]||"function"===typeof Symbol&&t instanceof Symbol)}(t,e)?"symbol":t}function _(e){if("undefined"===typeof e||null===e)return""+e;var t=g(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function b(e){var t=_(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}return d.prototype=Error.prototype,h.checkPropTypes=a,h.resetWarningCache=a.resetWarningCache,h.PropTypes=h,h}},function(e,t,r){"use strict";e.exports=r(423)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"===typeof Symbol&&Symbol.for,o=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,l=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,p=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,m=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116;function v(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case p:case h:case a:case l:case s:case d:return e;default:switch(e=e&&e.$$typeof){case c:case f:case u:return e;default:return t}}case y:case m:case i:return t}}}function g(e){return v(e)===h}t.typeOf=v,t.AsyncMode=p,t.ConcurrentMode=h,t.ContextConsumer=c,t.ContextProvider=u,t.Element=o,t.ForwardRef=f,t.Fragment=a,t.Lazy=y,t.Memo=m,t.Portal=i,t.Profiler=l,t.StrictMode=s,t.Suspense=d,t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===h||e===l||e===s||e===d||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===m||e.$$typeof===u||e.$$typeof===c||e.$$typeof===f)},t.isAsyncMode=function(e){return g(e)||v(e)===p},t.isConcurrentMode=g,t.isContextConsumer=function(e){return v(e)===c},t.isContextProvider=function(e){return v(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return v(e)===f},t.isFragment=function(e){return v(e)===a},t.isLazy=function(e){return v(e)===y},t.isMemo=function(e){return v(e)===m},t.isPortal=function(e){return v(e)===i},t.isProfiler=function(e){return v(e)===l},t.isStrictMode=function(e){return v(e)===s},t.isSuspense=function(e){return v(e)===d}},function(e,t,r){"use strict";function n(e,t,r,n,o){}n.resetWarningCache=function(){0},e.exports=n},function(e,t,r){"use strict";e.exports="15.6.2"},function(e,t,r){"use strict";var n=r(241).Component,o=r(70).isValidElement,i=r(242),a=r(427);e.exports=a(n,o,i)},function(e,t,r){"use strict";var n=r(12),o=r(91),i=r(2),a="mixins";e.exports=function(e,t,r){var s=[],l={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},u={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},c={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var r=0;r<t.length;r++)h(e,t[r])},childContextTypes:function(e,t){e.childContextTypes=n({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=n({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=d(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=n({},e.propTypes,t)},statics:function(e,t){!function(e,t){if(t)for(var r in t){var n=t[r];if(t.hasOwnProperty(r)){var o=r in c;i(!o,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',r);var a=r in e;if(a){var s=u.hasOwnProperty(r)?u[r]:null;return i("DEFINE_MANY_MERGED"===s,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",r),void(e[r]=d(e[r],n))}e[r]=n}}}(e,t)},autobind:function(){}};function p(e,t){var r=l.hasOwnProperty(t)?l[t]:null;_.hasOwnProperty(t)&&i("OVERRIDE_BASE"===r,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t),e&&i("DEFINE_MANY"===r||"DEFINE_MANY_MERGED"===r,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t)}function h(e,r){if(r){i("function"!==typeof r,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),i(!t(r),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var n=e.prototype,o=n.__reactAutoBindPairs;for(var s in r.hasOwnProperty(a)&&c.mixins(e,r.mixins),r)if(r.hasOwnProperty(s)&&s!==a){var u=r[s],h=n.hasOwnProperty(s);if(p(h,s),c.hasOwnProperty(s))c[s](e,u);else{var f=l.hasOwnProperty(s);if("function"!==typeof u||f||h||!1===r.autobind)if(h){var y=l[s];i(f&&("DEFINE_MANY_MERGED"===y||"DEFINE_MANY"===y),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",y,s),"DEFINE_MANY_MERGED"===y?n[s]=d(n[s],u):"DEFINE_MANY"===y&&(n[s]=m(n[s],u))}else n[s]=u;else o.push(s,u),n[s]=u}}}}function f(e,t){for(var r in i(e&&t&&"object"===typeof e&&"object"===typeof t,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects."),t)t.hasOwnProperty(r)&&(i(void 0===e[r],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",r),e[r]=t[r]);return e}function d(e,t){return function(){var r=e.apply(this,arguments),n=t.apply(this,arguments);if(null==r)return n;if(null==n)return r;var o={};return f(o,r),f(o,n),o}}function m(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function y(e,t){var r=t.bind(e);return r}var v={componentDidMount:function(){this.__isMounted=!0}},g={componentWillUnmount:function(){this.__isMounted=!1}},_={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e,t)},isMounted:function(){return!!this.__isMounted}},b=function(){};return n(b.prototype,e.prototype,_),function(e){var t=function(e,n,a){this.__reactAutoBindPairs.length&&function(e){for(var t=e.__reactAutoBindPairs,r=0;r<t.length;r+=2){var n=t[r],o=t[r+1];e[n]=y(e,o)}}(this),this.props=e,this.context=n,this.refs=o,this.updater=a||r,this.state=null;var s=this.getInitialState?this.getInitialState():null;i("object"===typeof s&&!Array.isArray(s),"%s.getInitialState(): must return an object or null",t.displayName||"ReactCompositeComponent"),this.state=s};for(var n in t.prototype=new b,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],s.forEach(h.bind(null,t)),h(t,v),h(t,e),h(t,g),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),i(t.prototype.render,"createClass(...): Class specification must implement a `render` method."),l)t.prototype[n]||(t.prototype[n]=null);return t}}},function(e,t,r){"use strict";var n=r(90),o=r(70);r(2);e.exports=function(e){return o.isValidElement(e)||n("143"),e}},function(e,t,r){"use strict";var n=r(14),o=r(248),i=r(272),a=r(62),s=r(38),l=r(275),u=r(497),c=r(276),p=r(498);r(9);o.inject();var h={findDOMNode:u,render:i.render,unmountComponentAtNode:i.unmountComponentAtNode,version:l,unstable_batchedUpdates:s.batchedUpdates,unstable_renderSubtreeIntoContainer:p};"undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({ComponentTree:{getClosestInstanceFromNode:n.getClosestInstanceFromNode,getNodeFromInstance:function(e){return e._renderedComponent&&(e=c(e)),e?n.getNodeFromInstance(e):null}},Mount:i,Reconciler:a}),e.exports=h},function(e,t,r){"use strict";e.exports={Properties:{"aria-current":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0},DOMAttributeNames:{},DOMPropertyNames:{}}},function(e,t,r){"use strict";var n=r(92),o=r(27),i=r(432),a=r(433),s=r(434),l=[9,13,27,32],u=229,c=o.canUseDOM&&"CompositionEvent"in window,p=null;o.canUseDOM&&"documentMode"in document&&(p=document.documentMode);var h,f=o.canUseDOM&&"TextEvent"in window&&!p&&!("object"===typeof(h=window.opera)&&"function"===typeof h.version&&parseInt(h.version(),10)<=12),d=o.canUseDOM&&(!c||p&&p>8&&p<=11);var m=32,y=String.fromCharCode(m),v={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["topCompositionEnd","topKeyPress","topTextInput","topPaste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:["topBlur","topCompositionEnd","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:["topBlur","topCompositionStart","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:["topBlur","topCompositionUpdate","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]}},g=!1;function _(e,t){switch(e){case"topKeyUp":return-1!==l.indexOf(t.keyCode);case"topKeyDown":return t.keyCode!==u;case"topKeyPress":case"topMouseDown":case"topBlur":return!0;default:return!1}}function b(e){var t=e.detail;return"object"===typeof t&&"data"in t?t.data:null}var x=null;function w(e,t,r,o){var s,l;if(c?s=function(e){switch(e){case"topCompositionStart":return v.compositionStart;case"topCompositionEnd":return v.compositionEnd;case"topCompositionUpdate":return v.compositionUpdate}}(e):x?_(e,r)&&(s=v.compositionEnd):function(e,t){return"topKeyDown"===e&&t.keyCode===u}(e,r)&&(s=v.compositionStart),!s)return null;d&&(x||s!==v.compositionStart?s===v.compositionEnd&&x&&(l=x.getData()):x=i.getPooled(o));var p=a.getPooled(s,t,r,o);if(l)p.data=l;else{var h=b(r);null!==h&&(p.data=h)}return n.accumulateTwoPhaseDispatches(p),p}function E(e,t,r,o){var a;if(!(a=f?function(e,t){switch(e){case"topCompositionEnd":return b(t);case"topKeyPress":return t.which!==m?null:(g=!0,y);case"topTextInput":var r=t.data;return r===y&&g?null:r;default:return null}}(e,r):function(e,t){if(x){if("topCompositionEnd"===e||!c&&_(e,t)){var r=x.getData();return i.release(x),x=null,r}return null}switch(e){case"topPaste":return null;case"topKeyPress":return t.which&&!function(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}(t)?String.fromCharCode(t.which):null;case"topCompositionEnd":return d?null:t.data;default:return null}}(e,r)))return null;var l=s.getPooled(v.beforeInput,t,r,o);return l.data=a,n.accumulateTwoPhaseDispatches(l),l}var S={eventTypes:v,extractEvents:function(e,t,r,n){return[w(e,t,r,n),E(e,t,r,n)]}};e.exports=S},function(e,t,r){"use strict";var n=r(12),o=r(61),i=r(251);function a(e){this._root=e,this._startText=this.getText(),this._fallbackText=null}n(a.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[i()]},getData:function(){if(this._fallbackText)return this._fallbackText;var e,t,r=this._startText,n=r.length,o=this.getText(),i=o.length;for(e=0;e<n&&r[e]===o[e];e++);var a=n-e;for(t=1;t<=a&&r[n-t]===o[i-t];t++);var s=t>1?1-t:void 0;return this._fallbackText=o.slice(e,s),this._fallbackText}}),o.addPoolingTo(a),e.exports=a},function(e,t,r){"use strict";var n=r(46);function o(e,t,r,o){return n.call(this,e,t,r,o)}n.augmentClass(o,{data:null}),e.exports=o},function(e,t,r){"use strict";var n=r(46);function o(e,t,r,o){return n.call(this,e,t,r,o)}n.augmentClass(o,{data:null}),e.exports=o},function(e,t,r){"use strict";var n=r(93),o=r(92),i=r(27),a=r(14),s=r(38),l=r(46),u=r(254),c=r(159),p=r(160),h=r(255),f={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:["topBlur","topChange","topClick","topFocus","topInput","topKeyDown","topKeyUp","topSelectionChange"]}};function d(e,t,r){var n=l.getPooled(f.change,e,t,r);return n.type="change",o.accumulateTwoPhaseDispatches(n),n}var m=null,y=null;var v=!1;function g(e){var t=d(y,e,c(e));s.batchedUpdates(_,t)}function _(e){n.enqueueEvents(e),n.processEventQueue(!1)}function b(){m&&(m.detachEvent("onchange",g),m=null,y=null)}function x(e,t){var r=u.updateValueIfChanged(e),n=!0===t.simulated&&I._allowSimulatedPassThrough;if(r||n)return e}function w(e,t){if("topChange"===e)return t}function E(e,t,r){"topFocus"===e?(b(),function(e,t){y=t,(m=e).attachEvent("onchange",g)}(t,r)):"topBlur"===e&&b()}i.canUseDOM&&(v=p("change")&&(!document.documentMode||document.documentMode>8));var S=!1;function C(){m&&(m.detachEvent("onpropertychange",k),m=null,y=null)}function k(e){"value"===e.propertyName&&x(y,e)&&g(e)}function T(e,t,r){"topFocus"===e?(C(),function(e,t){y=t,(m=e).attachEvent("onpropertychange",k)}(t,r)):"topBlur"===e&&C()}function O(e,t,r){if("topSelectionChange"===e||"topKeyUp"===e||"topKeyDown"===e)return x(y,r)}function P(e,t,r){if("topClick"===e)return x(t,r)}function A(e,t,r){if("topInput"===e||"topChange"===e)return x(t,r)}i.canUseDOM&&(S=p("input")&&(!document.documentMode||document.documentMode>9));var I={eventTypes:f,_allowSimulatedPassThrough:!0,_isInputEventSupported:S,extractEvents:function(e,t,r,n){var o,i,s,l,u=t?a.getNodeFromInstance(t):window;if("select"===(l=(s=u).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type?v?o=w:i=E:h(u)?S?o=A:(o=O,i=T):function(e){var t=e.nodeName;return t&&"input"===t.toLowerCase()&&("checkbox"===e.type||"radio"===e.type)}(u)&&(o=P),o){var c=o(e,t,r);if(c)return d(c,r,n)}i&&i(e,u,t),"topBlur"===e&&function(e,t){if(null!=e){var r=e._wrapperState||t._wrapperState;if(r&&r.controlled&&"number"===t.type){var n=""+t.value;t.getAttribute("value")!==n&&t.setAttribute("value",n)}}}(t,u)}};e.exports=I},function(e,t,r){"use strict";var n=r(437),o={};o.attachRefs=function(e,t){if(null!==t&&"object"===typeof t){var r=t.ref;null!=r&&function(e,t,r){"function"===typeof e?e(t.getPublicInstance()):n.addComponentAsRefTo(t,e,r)}(r,e,t._owner)}},o.shouldUpdateRefs=function(e,t){var r=null,n=null;null!==e&&"object"===typeof e&&(r=e.ref,n=e._owner);var o=null,i=null;return null!==t&&"object"===typeof t&&(o=t.ref,i=t._owner),r!==o||"string"===typeof o&&i!==n},o.detachRefs=function(e,t){if(null!==t&&"object"===typeof t){var r=t.ref;null!=r&&function(e,t,r){"function"===typeof e?e(null):n.removeComponentAsRefFrom(t,e,r)}(r,e,t._owner)}},e.exports=o},function(e,t,r){"use strict";var n=r(7);r(2);function o(e){return!(!e||"function"!==typeof e.attachRef||"function"!==typeof e.detachRef)}var i={addComponentAsRefTo:function(e,t,r){o(r)||n("119"),r.attachRef(t,e)},removeComponentAsRefFrom:function(e,t,r){o(r)||n("120");var i=r.getPublicInstance();i&&i.refs[t]===e.getPublicInstance()&&r.detachRef(t)}};e.exports=i},function(e,t,r){"use strict";e.exports=["ResponderEventPlugin","SimpleEventPlugin","TapEventPlugin","EnterLeaveEventPlugin","ChangeEventPlugin","SelectEventPlugin","BeforeInputEventPlugin"]},function(e,t,r){"use strict";var n=r(92),o=r(14),i=r(113),a={mouseEnter:{registrationName:"onMouseEnter",dependencies:["topMouseOut","topMouseOver"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["topMouseOut","topMouseOver"]}},s={eventTypes:a,extractEvents:function(e,t,r,s){if("topMouseOver"===e&&(r.relatedTarget||r.fromElement))return null;if("topMouseOut"!==e&&"topMouseOver"!==e)return null;var l,u,c;if(s.window===s)l=s;else{var p=s.ownerDocument;l=p?p.defaultView||p.parentWindow:window}if("topMouseOut"===e){u=t;var h=r.relatedTarget||r.toElement;c=h?o.getClosestInstanceFromNode(h):null}else u=null,c=t;if(u===c)return null;var f=null==u?l:o.getNodeFromInstance(u),d=null==c?l:o.getNodeFromInstance(c),m=i.getPooled(a.mouseLeave,u,r,s);m.type="mouseleave",m.target=f,m.relatedTarget=d;var y=i.getPooled(a.mouseEnter,c,r,s);return y.type="mouseenter",y.target=d,y.relatedTarget=f,n.accumulateEnterLeaveDispatches(m,y,u,c),[m,y]}};e.exports=s},function(e,t,r){"use strict";var n=r(71),o=n.injection.MUST_USE_PROPERTY,i=n.injection.HAS_BOOLEAN_VALUE,a=n.injection.HAS_NUMERIC_VALUE,s=n.injection.HAS_POSITIVE_NUMERIC_VALUE,l=n.injection.HAS_OVERLOADED_BOOLEAN_VALUE,u={isCustomAttribute:RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+n.ATTRIBUTE_NAME_CHAR+"]*$")),Properties:{accept:0,acceptCharset:0,accessKey:0,action:0,allowFullScreen:i,allowTransparency:0,alt:0,as:0,async:i,autoComplete:0,autoPlay:i,capture:i,cellPadding:0,cellSpacing:0,charSet:0,challenge:0,checked:o|i,cite:0,classID:0,className:0,cols:s,colSpan:0,content:0,contentEditable:0,contextMenu:0,controls:i,controlsList:0,coords:0,crossOrigin:0,data:0,dateTime:0,default:i,defer:i,dir:0,disabled:i,download:l,draggable:0,encType:0,form:0,formAction:0,formEncType:0,formMethod:0,formNoValidate:i,formTarget:0,frameBorder:0,headers:0,height:0,hidden:i,high:0,href:0,hrefLang:0,htmlFor:0,httpEquiv:0,icon:0,id:0,inputMode:0,integrity:0,is:0,keyParams:0,keyType:0,kind:0,label:0,lang:0,list:0,loop:i,low:0,manifest:0,marginHeight:0,marginWidth:0,max:0,maxLength:0,media:0,mediaGroup:0,method:0,min:0,minLength:0,multiple:o|i,muted:o|i,name:0,nonce:0,noValidate:i,open:i,optimum:0,pattern:0,placeholder:0,playsInline:i,poster:0,preload:0,profile:0,radioGroup:0,readOnly:i,referrerPolicy:0,rel:0,required:i,reversed:i,role:0,rows:s,rowSpan:a,sandbox:0,scope:0,scoped:i,scrolling:0,seamless:i,selected:o|i,shape:0,size:s,sizes:0,span:s,spellCheck:0,src:0,srcDoc:0,srcLang:0,srcSet:0,start:a,step:0,style:0,summary:0,tabIndex:0,target:0,title:0,type:0,useMap:0,value:0,width:0,wmode:0,wrap:0,about:0,datatype:0,inlist:0,prefix:0,property:0,resource:0,typeof:0,vocab:0,autoCapitalize:0,autoCorrect:0,autoSave:0,color:0,itemProp:0,itemScope:i,itemType:0,itemID:0,itemRef:0,results:0,security:0,unselectable:0},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{},DOMMutationMethods:{value:function(e,t){if(null==t)return e.removeAttribute("value");"number"!==e.type||!1===e.hasAttribute("value")?e.setAttribute("value",""+t):e.validity&&!e.validity.badInput&&e.ownerDocument.activeElement!==e&&e.setAttribute("value",""+t)}}};e.exports=u},function(e,t,r){"use strict";var n=r(162),o={processChildrenUpdates:r(446).dangerouslyProcessChildrenUpdates,replaceNodeWithMarkup:n.dangerouslyReplaceNodeWithMarkup};e.exports=o},function(e,t,r){"use strict";var n=r(7),o=r(72),i=r(27),a=r(443),s=r(39),l=(r(2),{dangerouslyReplaceNodeWithMarkup:function(e,t){if(i.canUseDOM||n("56"),t||n("57"),"HTML"===e.nodeName&&n("58"),"string"===typeof t){var r=a(t,s)[0];e.parentNode.replaceChild(r,e)}else o.replaceChildWithTree(e,t)}});e.exports=l},function(e,t,r){"use strict";var n=r(27),o=r(444),i=r(445),a=r(2),s=n.canUseDOM?document.createElement("div"):null,l=/^\s*<(\w+)/;e.exports=function(e,t){var r=s;s||a(!1);var n=function(e){var t=e.match(l);return t&&t[1].toLowerCase()}(e),u=n&&i(n);if(u){r.innerHTML=u[1]+e+u[2];for(var c=u[0];c--;)r=r.lastChild}else r.innerHTML=e;var p=r.getElementsByTagName("script");p.length&&(t||a(!1),o(p).forEach(t));for(var h=Array.from(r.childNodes);r.lastChild;)r.removeChild(r.lastChild);return h}},function(e,t,r){"use strict";var n=r(2);e.exports=function(e){return function(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}(e)?Array.isArray(e)?e.slice():function(e){var t=e.length;if((Array.isArray(e)||"object"!==typeof e&&"function"!==typeof e)&&n(!1),"number"!==typeof t&&n(!1),0===t||t-1 in e||n(!1),"function"===typeof e.callee&&n(!1),e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(e){}for(var r=Array(t),o=0;o<t;o++)r[o]=e[o];return r}(e):[e]}},function(e,t,r){"use strict";var n=r(27),o=r(2),i=n.canUseDOM?document.createElement("div"):null,a={},s=[1,'<select multiple="true">',"</select>"],l=[1,"<table>","</table>"],u=[3,"<table><tbody><tr>","</tr></tbody></table>"],c=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],p={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:s,option:s,caption:l,colgroup:l,tbody:l,tfoot:l,thead:l,td:u,th:u};["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"].forEach(function(e){p[e]=c,a[e]=!0}),e.exports=function(e){return i||o(!1),p.hasOwnProperty(e)||(e="*"),a.hasOwnProperty(e)||(i.innerHTML="*"===e?"<link />":"<"+e+"></"+e+">",a[e]=!i.firstChild),a[e]?p[e]:null}},function(e,t,r){"use strict";var n=r(162),o=r(14),i={dangerouslyProcessChildrenUpdates:function(e,t){var r=o.getNodeFromInstance(e);n.processUpdates(r,t)}};e.exports=i},function(e,t,r){"use strict";var n=r(7),o=r(12),i=r(448),a=r(449),s=r(72),l=r(163),u=r(71),c=r(260),p=r(93),h=r(156),f=r(116),d=r(247),m=r(14),y=r(459),v=r(461),g=r(261),_=r(462),b=(r(35),r(463)),x=r(267),w=(r(39),r(115)),E=(r(2),r(160),r(168),r(254)),S=(r(172),r(9),d),C=p.deleteListener,k=m.getNodeFromInstance,T=f.listenTo,O=h.registrationNameModules,P={string:!0,number:!0},A="__html",I={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null},M=11;function R(e){if(e){var t=e._currentElement._owner||null;if(t){var r=t.getName();if(r)return" This DOM node was rendered by `"+r+"`."}}return""}function L(e,t){t&&(W[e._tag]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&n("137",e._tag,e._currentElement._owner?" Check the render method of "+e._currentElement._owner.getName()+".":""),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&n("60"),"object"===typeof t.dangerouslySetInnerHTML&&A in t.dangerouslySetInnerHTML||n("61")),null!=t.style&&"object"!==typeof t.style&&n("62",R(e)))}function D(e,t,r,n){if(!(n instanceof x)){0;var o=e._hostContainerInfo,i=o._node&&o._node.nodeType===M?o._node:o._ownerDocument;T(t,i),n.getReactMountReady().enqueue(j,{inst:e,registrationName:t,listener:r})}}function j(){p.putListener(this.inst,this.registrationName,this.listener)}function z(){y.postMountWrapper(this)}function F(){_.postMountWrapper(this)}function N(){v.postMountWrapper(this)}var B={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"};function U(){E.track(this)}function V(){this._rootNodeID||n("63");var e=k(this);switch(e||n("64"),this._tag){case"iframe":case"object":this._wrapperState.listeners=[f.trapBubbledEvent("topLoad","load",e)];break;case"video":case"audio":for(var t in this._wrapperState.listeners=[],B)B.hasOwnProperty(t)&&this._wrapperState.listeners.push(f.trapBubbledEvent(t,B[t],e));break;case"source":this._wrapperState.listeners=[f.trapBubbledEvent("topError","error",e)];break;case"img":this._wrapperState.listeners=[f.trapBubbledEvent("topError","error",e),f.trapBubbledEvent("topLoad","load",e)];break;case"form":this._wrapperState.listeners=[f.trapBubbledEvent("topReset","reset",e),f.trapBubbledEvent("topSubmit","submit",e)];break;case"input":case"select":case"textarea":this._wrapperState.listeners=[f.trapBubbledEvent("topInvalid","invalid",e)]}}function G(){g.postUpdateWrapper(this)}var q={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},H={listing:!0,pre:!0,textarea:!0},W=o({menuitem:!0},q),X=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,Z={},Y={}.hasOwnProperty;function K(e,t){return e.indexOf("-")>=0||null!=t.is}var $=1;function J(e){var t=e.type;!function(e){Y.call(Z,e)||(X.test(e)||n("65",e),Z[e]=!0)}(t),this._currentElement=e,this._tag=t.toLowerCase(),this._namespaceURI=null,this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._hostNode=null,this._hostParent=null,this._rootNodeID=0,this._domID=0,this._hostContainerInfo=null,this._wrapperState=null,this._topLevelWrapper=null,this._flags=0}J.displayName="ReactDOMComponent",J.Mixin={mountComponent:function(e,t,r,n){this._rootNodeID=$++,this._domID=r._idCounter++,this._hostParent=t,this._hostContainerInfo=r;var o,a,u,p=this._currentElement.props;switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":this._wrapperState={listeners:null},e.getReactMountReady().enqueue(V,this);break;case"input":y.mountWrapper(this,p,t),p=y.getHostProps(this,p),e.getReactMountReady().enqueue(U,this),e.getReactMountReady().enqueue(V,this);break;case"option":v.mountWrapper(this,p,t),p=v.getHostProps(this,p);break;case"select":g.mountWrapper(this,p,t),p=g.getHostProps(this,p),e.getReactMountReady().enqueue(V,this);break;case"textarea":_.mountWrapper(this,p,t),p=_.getHostProps(this,p),e.getReactMountReady().enqueue(U,this),e.getReactMountReady().enqueue(V,this)}if(L(this,p),null!=t?(o=t._namespaceURI,a=t._tag):r._tag&&(o=r._namespaceURI,a=r._tag),(null==o||o===l.svg&&"foreignobject"===a)&&(o=l.html),o===l.html&&("svg"===this._tag?o=l.svg:"math"===this._tag&&(o=l.mathml)),this._namespaceURI=o,e.useCreateElement){var h,f=r._ownerDocument;if(o===l.html)if("script"===this._tag){var d=f.createElement("div"),b=this._currentElement.type;d.innerHTML="<"+b+"></"+b+">",h=d.removeChild(d.firstChild)}else h=p.is?f.createElement(this._currentElement.type,p.is):f.createElement(this._currentElement.type);else h=f.createElementNS(o,this._currentElement.type);m.precacheNode(this,h),this._flags|=S.hasCachedChildNodes,this._hostParent||c.setAttributeForRoot(h),this._updateDOMProperties(null,p,e);var x=s(h);this._createInitialChildren(e,p,n,x),u=x}else{var w=this._createOpenTagMarkupAndPutListeners(e,p),E=this._createContentMarkup(e,p,n);u=!E&&q[this._tag]?w+"/>":w+">"+E+"</"+this._currentElement.type+">"}switch(this._tag){case"input":e.getReactMountReady().enqueue(z,this),p.autoFocus&&e.getReactMountReady().enqueue(i.focusDOMComponent,this);break;case"textarea":e.getReactMountReady().enqueue(F,this),p.autoFocus&&e.getReactMountReady().enqueue(i.focusDOMComponent,this);break;case"select":case"button":p.autoFocus&&e.getReactMountReady().enqueue(i.focusDOMComponent,this);break;case"option":e.getReactMountReady().enqueue(N,this)}return u},_createOpenTagMarkupAndPutListeners:function(e,t){var r="<"+this._currentElement.type;for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];if(null!=i)if(O.hasOwnProperty(n))i&&D(this,n,i,e);else{"style"===n&&(i&&(i=this._previousStyleCopy=o({},t.style)),i=a.createMarkupForStyles(i,this));var s=null;null!=this._tag&&K(this._tag,t)?I.hasOwnProperty(n)||(s=c.createMarkupForCustomAttribute(n,i)):s=c.createMarkupForProperty(n,i),s&&(r+=" "+s)}}return e.renderToStaticMarkup?r:(this._hostParent||(r+=" "+c.createMarkupForRoot()),r+=" "+c.createMarkupForID(this._domID))},_createContentMarkup:function(e,t,r){var n="",o=t.dangerouslySetInnerHTML;if(null!=o)null!=o.__html&&(n=o.__html);else{var i=P[typeof t.children]?t.children:null,a=null!=i?null:t.children;if(null!=i)n=w(i);else if(null!=a){n=this.mountChildren(a,e,r).join("")}}return H[this._tag]&&"\n"===n.charAt(0)?"\n"+n:n},_createInitialChildren:function(e,t,r,n){var o=t.dangerouslySetInnerHTML;if(null!=o)null!=o.__html&&s.queueHTML(n,o.__html);else{var i=P[typeof t.children]?t.children:null,a=null!=i?null:t.children;if(null!=i)""!==i&&s.queueText(n,i);else if(null!=a)for(var l=this.mountChildren(a,e,r),u=0;u<l.length;u++)s.queueChild(n,l[u])}},receiveComponent:function(e,t,r){var n=this._currentElement;this._currentElement=e,this.updateComponent(t,n,e,r)},updateComponent:function(e,t,r,n){var o=t.props,i=this._currentElement.props;switch(this._tag){case"input":o=y.getHostProps(this,o),i=y.getHostProps(this,i);break;case"option":o=v.getHostProps(this,o),i=v.getHostProps(this,i);break;case"select":o=g.getHostProps(this,o),i=g.getHostProps(this,i);break;case"textarea":o=_.getHostProps(this,o),i=_.getHostProps(this,i)}switch(L(this,i),this._updateDOMProperties(o,i,e),this._updateDOMChildren(o,i,e,n),this._tag){case"input":y.updateWrapper(this),E.updateValueIfChanged(this);break;case"textarea":_.updateWrapper(this);break;case"select":e.getReactMountReady().enqueue(G,this)}},_updateDOMProperties:function(e,t,r){var n,i,s;for(n in e)if(!t.hasOwnProperty(n)&&e.hasOwnProperty(n)&&null!=e[n])if("style"===n){var l=this._previousStyleCopy;for(i in l)l.hasOwnProperty(i)&&((s=s||{})[i]="");this._previousStyleCopy=null}else O.hasOwnProperty(n)?e[n]&&C(this,n):K(this._tag,e)?I.hasOwnProperty(n)||c.deleteValueForAttribute(k(this),n):(u.properties[n]||u.isCustomAttribute(n))&&c.deleteValueForProperty(k(this),n);for(n in t){var p=t[n],h="style"===n?this._previousStyleCopy:null!=e?e[n]:void 0;if(t.hasOwnProperty(n)&&p!==h&&(null!=p||null!=h))if("style"===n)if(p?p=this._previousStyleCopy=o({},p):this._previousStyleCopy=null,h){for(i in h)!h.hasOwnProperty(i)||p&&p.hasOwnProperty(i)||((s=s||{})[i]="");for(i in p)p.hasOwnProperty(i)&&h[i]!==p[i]&&((s=s||{})[i]=p[i])}else s=p;else if(O.hasOwnProperty(n))p?D(this,n,p,r):h&&C(this,n);else if(K(this._tag,t))I.hasOwnProperty(n)||c.setValueForAttribute(k(this),n,p);else if(u.properties[n]||u.isCustomAttribute(n)){var f=k(this);null!=p?c.setValueForProperty(f,n,p):c.deleteValueForProperty(f,n)}}s&&a.setValueForStyles(k(this),s,this)},_updateDOMChildren:function(e,t,r,n){var o=P[typeof e.children]?e.children:null,i=P[typeof t.children]?t.children:null,a=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,s=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,l=null!=o?null:e.children,u=null!=i?null:t.children,c=null!=o||null!=a,p=null!=i||null!=s;null!=l&&null==u?this.updateChildren(null,r,n):c&&!p&&this.updateTextContent(""),null!=i?o!==i&&this.updateTextContent(""+i):null!=s?a!==s&&this.updateMarkup(""+s):null!=u&&this.updateChildren(u,r,n)},getHostNode:function(){return k(this)},unmountComponent:function(e){switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":var t=this._wrapperState.listeners;if(t)for(var r=0;r<t.length;r++)t[r].remove();break;case"input":case"textarea":E.stopTracking(this);break;case"html":case"head":case"body":n("66",this._tag)}this.unmountChildren(e),m.uncacheNode(this),p.deleteAllListeners(this),this._rootNodeID=0,this._domID=0,this._wrapperState=null},getPublicInstance:function(){return k(this)}},o(J.prototype,J.Mixin,b.Mixin),e.exports=J},function(e,t,r){"use strict";var n=r(14),o=r(258),i={focusDOMComponent:function(){o(n.getNodeFromInstance(this))}};e.exports=i},function(e,t,r){"use strict";var n=r(259),o=r(27),i=(r(35),r(450),r(452)),a=r(453),s=r(455),l=(r(9),s(function(e){return a(e)})),u=!1,c="cssFloat";if(o.canUseDOM){var p=document.createElement("div").style;try{p.font=""}catch(e){u=!0}void 0===document.documentElement.style.cssFloat&&(c="styleFloat")}var h={createMarkupForStyles:function(e,t){var r="";for(var n in e)if(e.hasOwnProperty(n)){var o=0===n.indexOf("--"),a=e[n];0,null!=a&&(r+=l(n)+":",r+=i(n,a,t,o)+";")}return r||null},setValueForStyles:function(e,t,r){var o=e.style;for(var a in t)if(t.hasOwnProperty(a)){var s=0===a.indexOf("--");0;var l=i(a,t[a],r,s);if("float"!==a&&"cssFloat"!==a||(a=c),s)o.setProperty(a,l);else if(l)o[a]=l;else{var p=u&&n.shorthandPropertyExpansions[a];if(p)for(var h in p)o[h]="";else o[a]=""}}}};e.exports=h},function(e,t,r){"use strict";var n=r(451),o=/^-ms-/;e.exports=function(e){return n(e.replace(o,"ms-"))}},function(e,t,r){"use strict";var n=/-(.)/g;e.exports=function(e){return e.replace(n,function(e,t){return t.toUpperCase()})}},function(e,t,r){"use strict";var n=r(259),o=(r(9),n.isUnitlessNumber);e.exports=function(e,t,r,n){if(null==t||"boolean"===typeof t||""===t)return"";var i=isNaN(t);return n||i||0===t||o.hasOwnProperty(e)&&o[e]?""+t:("string"===typeof t&&(t=t.trim()),t+"px")}},function(e,t,r){"use strict";var n=r(454),o=/^ms-/;e.exports=function(e){return n(e).replace(o,"-ms-")}},function(e,t,r){"use strict";var n=/([A-Z])/g;e.exports=function(e){return e.replace(n,"-$1").toLowerCase()}},function(e,t,r){"use strict";e.exports=function(e){var t={};return function(r){return t.hasOwnProperty(r)||(t[r]=e.call(this,r)),t[r]}}},function(e,t,r){"use strict";var n=r(115);e.exports=function(e){return'"'+n(e)+'"'}},function(e,t,r){"use strict";var n=r(93);var o={handleTopLevel:function(e,t,r,o){!function(e){n.enqueueEvents(e),n.processEventQueue(!1)}(n.extractEvents(e,t,r,o))}};e.exports=o},function(e,t,r){"use strict";var n=r(27);function o(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r["ms"+e]="MS"+t,r["O"+e]="o"+t.toLowerCase(),r}var i={animationend:o("Animation","AnimationEnd"),animationiteration:o("Animation","AnimationIteration"),animationstart:o("Animation","AnimationStart"),transitionend:o("Transition","TransitionEnd")},a={},s={};n.canUseDOM&&(s=document.createElement("div").style,"AnimationEvent"in window||(delete i.animationend.animation,delete i.animationiteration.animation,delete i.animationstart.animation),"TransitionEvent"in window||delete i.transitionend.transition),e.exports=function(e){if(a[e])return a[e];if(!i[e])return e;var t=i[e];for(var r in t)if(t.hasOwnProperty(r)&&r in s)return a[e]=t[r];return""}},function(e,t,r){"use strict";var n=r(7),o=r(12),i=r(260),a=r(165),s=r(14),l=r(38);r(2),r(9);function u(){this._rootNodeID&&p.updateWrapper(this)}function c(e){return"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}var p={getHostProps:function(e,t){var r=a.getValue(t),n=a.getChecked(t);return o({type:void 0,step:void 0,min:void 0,max:void 0},t,{defaultChecked:void 0,defaultValue:void 0,value:null!=r?r:e._wrapperState.initialValue,checked:null!=n?n:e._wrapperState.initialChecked,onChange:e._wrapperState.onChange})},mountWrapper:function(e,t){var r=t.defaultValue;e._wrapperState={initialChecked:null!=t.checked?t.checked:t.defaultChecked,initialValue:null!=t.value?t.value:r,listeners:null,onChange:function(e){var t=this._currentElement.props,r=a.executeOnChange(t,e);l.asap(u,this);var o=t.name;if("radio"===t.type&&null!=o){for(var i=s.getNodeFromInstance(this),c=i;c.parentNode;)c=c.parentNode;for(var p=c.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),h=0;h<p.length;h++){var f=p[h];if(f!==i&&f.form===i.form){var d=s.getInstanceFromNode(f);d||n("90"),l.asap(u,d)}}}return r}.bind(e),controlled:c(t)}},updateWrapper:function(e){var t=e._currentElement.props,r=t.checked;null!=r&&i.setValueForProperty(s.getNodeFromInstance(e),"checked",r||!1);var n=s.getNodeFromInstance(e),o=a.getValue(t);if(null!=o)if(0===o&&""===n.value)n.value="0";else if("number"===t.type){var l=parseFloat(n.value,10)||0;(o!=l||o==l&&n.value!=o)&&(n.value=""+o)}else n.value!==""+o&&(n.value=""+o);else null==t.value&&null!=t.defaultValue&&n.defaultValue!==""+t.defaultValue&&(n.defaultValue=""+t.defaultValue),null==t.checked&&null!=t.defaultChecked&&(n.defaultChecked=!!t.defaultChecked)},postMountWrapper:function(e){var t=e._currentElement.props,r=s.getNodeFromInstance(e);switch(t.type){case"submit":case"reset":break;case"color":case"date":case"datetime":case"datetime-local":case"month":case"time":case"week":r.value="",r.value=r.defaultValue;break;default:r.value=r.value}var n=r.name;""!==n&&(r.name=""),r.defaultChecked=!r.defaultChecked,r.defaultChecked=!r.defaultChecked,""!==n&&(r.name=n)}};e.exports=p},function(e,t,r){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,r){"use strict";var n=r(12),o=r(60),i=r(14),a=r(261),s=(r(9),!1);function l(e){var t="";return o.Children.forEach(e,function(e){null!=e&&("string"===typeof e||"number"===typeof e?t+=e:s||(s=!0))}),t}var u={mountWrapper:function(e,t,r){var n=null;if(null!=r){var o=r;"optgroup"===o._tag&&(o=o._hostParent),null!=o&&"select"===o._tag&&(n=a.getSelectValueContext(o))}var i,s=null;if(null!=n)if(i=null!=t.value?t.value+"":l(t.children),s=!1,Array.isArray(n)){for(var u=0;u<n.length;u++)if(""+n[u]===i){s=!0;break}}else s=""+n===i;e._wrapperState={selected:s}},postMountWrapper:function(e){var t=e._currentElement.props;null!=t.value&&i.getNodeFromInstance(e).setAttribute("value",t.value)},getHostProps:function(e,t){var r=n({selected:void 0,children:void 0},t);null!=e._wrapperState.selected&&(r.selected=e._wrapperState.selected);var o=l(t.children);return o&&(r.children=o),r}};e.exports=u},function(e,t,r){"use strict";var n=r(7),o=r(12),i=r(165),a=r(14),s=r(38);r(2),r(9);function l(){this._rootNodeID&&u.updateWrapper(this)}var u={getHostProps:function(e,t){return null!=t.dangerouslySetInnerHTML&&n("91"),o({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue,onChange:e._wrapperState.onChange})},mountWrapper:function(e,t){var r=i.getValue(t),o=r;if(null==r){var a=t.defaultValue,u=t.children;null!=u&&(null!=a&&n("92"),Array.isArray(u)&&(u.length<=1||n("93"),u=u[0]),a=""+u),null==a&&(a=""),o=a}e._wrapperState={initialValue:""+o,listeners:null,onChange:function(e){var t=this._currentElement.props,r=i.executeOnChange(t,e);return s.asap(l,this),r}.bind(e)}},updateWrapper:function(e){var t=e._currentElement.props,r=a.getNodeFromInstance(e),n=i.getValue(t);if(null!=n){var o=""+n;o!==r.value&&(r.value=o),null==t.defaultValue&&(r.defaultValue=o)}null!=t.defaultValue&&(r.defaultValue=t.defaultValue)},postMountWrapper:function(e){var t=a.getNodeFromInstance(e),r=t.textContent;r===e._wrapperState.initialValue&&(t.value=r)}};e.exports=u},function(e,t,r){"use strict";var n=r(7),o=r(166),i=(r(95),r(35),r(45),r(62)),a=r(464),s=(r(39),r(469));r(2);function l(e,t){return t&&(e=e||[]).push(t),e}function u(e,t){o.processChildrenUpdates(e,t)}var c={Mixin:{_reconcilerInstantiateChildren:function(e,t,r){return a.instantiateChildren(e,t,r)},_reconcilerUpdateChildren:function(e,t,r,n,o,i){var l,u=0;return l=s(t,u),a.updateChildren(e,l,r,n,o,this,this._hostContainerInfo,i,u),l},mountChildren:function(e,t,r){var n=this._reconcilerInstantiateChildren(e,t,r);this._renderedChildren=n;var o=[],a=0;for(var s in n)if(n.hasOwnProperty(s)){var l=n[s],u=0;0;var c=i.mountComponent(l,t,this,this._hostContainerInfo,r,u);l._mountIndex=a++,o.push(c)}return o},updateTextContent:function(e){var t,r=this._renderedChildren;for(var o in a.unmountChildren(r,!1),r)r.hasOwnProperty(o)&&n("118");u(this,[(t=e,{type:"TEXT_CONTENT",content:t,fromIndex:null,fromNode:null,toIndex:null,afterNode:null})])},updateMarkup:function(e){var t,r=this._renderedChildren;for(var o in a.unmountChildren(r,!1),r)r.hasOwnProperty(o)&&n("118");u(this,[(t=e,{type:"SET_MARKUP",content:t,fromIndex:null,fromNode:null,toIndex:null,afterNode:null})])},updateChildren:function(e,t,r){this._updateChildren(e,t,r)},_updateChildren:function(e,t,r){var n=this._renderedChildren,o={},a=[],s=this._reconcilerUpdateChildren(n,e,a,o,t,r);if(s||n){var c,p=null,h=0,f=0,d=0,m=null;for(c in s)if(s.hasOwnProperty(c)){var y=n&&n[c],v=s[c];y===v?(p=l(p,this.moveChild(y,m,h,f)),f=Math.max(y._mountIndex,f),y._mountIndex=h):(y&&(f=Math.max(y._mountIndex,f)),p=l(p,this._mountChildAtIndex(v,a[d],m,h,t,r)),d++),h++,m=i.getHostNode(v)}for(c in o)o.hasOwnProperty(c)&&(p=l(p,this._unmountChild(n[c],o[c])));p&&u(this,p),this._renderedChildren=s}},unmountChildren:function(e){var t=this._renderedChildren;a.unmountChildren(t,e),this._renderedChildren=null},moveChild:function(e,t,r,n){if(e._mountIndex<n)return function(e,t,r){return{type:"MOVE_EXISTING",content:null,fromIndex:e._mountIndex,fromNode:i.getHostNode(e),toIndex:r,afterNode:t}}(e,t,r)},createChild:function(e,t,r){return function(e,t,r){return{type:"INSERT_MARKUP",content:e,fromIndex:null,fromNode:null,toIndex:r,afterNode:t}}(r,t,e._mountIndex)},removeChild:function(e,t){return function(e,t){return{type:"REMOVE_NODE",content:null,fromIndex:e._mountIndex,fromNode:t,toIndex:null,afterNode:null}}(e,t)},_mountChildAtIndex:function(e,t,r,n,o,i){return e._mountIndex=n,this.createChild(e,r,t)},_unmountChild:function(e,t){var r=this.removeChild(e,t);return e._mountIndex=null,r}}};e.exports=c},function(e,t,r){"use strict";(function(t){var n=r(62),o=r(167),i=(r(170),r(169)),a=r(265);r(9);function s(e,t,r,n){var i=void 0===e[r];null!=t&&i&&(e[r]=o(t,!0))}"undefined"!==typeof t&&Object({NODE_ENV:"production",PUBLIC_URL:""});var l={instantiateChildren:function(e,t,r,n){if(null==e)return null;var o={};return a(e,s,o),o},updateChildren:function(e,t,r,a,s,l,u,c,p){if(t||e){var h,f;for(h in t)if(t.hasOwnProperty(h)){var d=(f=e&&e[h])&&f._currentElement,m=t[h];if(null!=f&&i(d,m))n.receiveComponent(f,m,s,c),t[h]=f;else{f&&(a[h]=n.getHostNode(f),n.unmountComponent(f,!1));var y=o(m,!0);t[h]=y;var v=n.mountComponent(y,s,l,u,c,p);r.push(v)}}for(h in e)!e.hasOwnProperty(h)||t&&t.hasOwnProperty(h)||(f=e[h],a[h]=n.getHostNode(f),n.unmountComponent(f,!1))}},unmountChildren:function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var o=e[r];n.unmountComponent(o,t)}}};e.exports=l}).call(t,r(69))},function(e,t,r){"use strict";var n=r(7),o=r(12),i=r(60),a=r(166),s=r(45),l=r(158),u=r(95),c=(r(35),r(262)),p=r(62),h=r(91),f=(r(2),r(168)),d=r(169),m=(r(9),0),y=1,v=2;function g(e){}function _(e,t){0}g.prototype.render=function(){var e=u.get(this)._currentElement.type,t=e(this.props,this.context,this.updater);return _(e,t),t};var b=1,x={construct:function(e){this._currentElement=e,this._rootNodeID=0,this._compositeType=null,this._instance=null,this._hostParent=null,this._hostContainerInfo=null,this._updateBatchNumber=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedNodeType=null,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null,this._calledComponentWillUnmount=!1},mountComponent:function(e,t,r,o){this._context=o,this._mountOrder=b++,this._hostParent=t,this._hostContainerInfo=r;var a,s=this._currentElement.props,l=this._processContext(o),c=this._currentElement.type,p=e.getUpdateQueue(),f=function(e){return!(!e.prototype||!e.prototype.isReactComponent)}(c),d=this._constructComponent(f,s,l,p);f||null!=d&&null!=d.render?!function(e){return!(!e.prototype||!e.prototype.isPureReactComponent)}(c)?this._compositeType=m:this._compositeType=y:(a=d,_(),null===d||!1===d||i.isValidElement(d)||n("105",c.displayName||c.name||"Component"),d=new g(c),this._compositeType=v),d.props=s,d.context=l,d.refs=h,d.updater=p,this._instance=d,u.set(d,this);var x,w=d.state;return void 0===w&&(d.state=w=null),("object"!==typeof w||Array.isArray(w))&&n("106",this.getName()||"ReactCompositeComponent"),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,x=d.unstable_handleError?this.performInitialMountWithErrorHandling(a,t,r,e,o):this.performInitialMount(a,t,r,e,o),d.componentDidMount&&e.getReactMountReady().enqueue(d.componentDidMount,d),x},_constructComponent:function(e,t,r,n){return this._constructComponentWithoutOwner(e,t,r,n)},_constructComponentWithoutOwner:function(e,t,r,n){var o=this._currentElement.type;return e?new o(t,r,n):o(t,r,n)},performInitialMountWithErrorHandling:function(e,t,r,n,o){var i,a=n.checkpoint();try{i=this.performInitialMount(e,t,r,n,o)}catch(s){n.rollback(a),this._instance.unstable_handleError(s),this._pendingStateQueue&&(this._instance.state=this._processPendingState(this._instance.props,this._instance.context)),a=n.checkpoint(),this._renderedComponent.unmountComponent(!0),n.rollback(a),i=this.performInitialMount(e,t,r,n,o)}return i},performInitialMount:function(e,t,r,n,o){var i=this._instance,a=0;i.componentWillMount&&(i.componentWillMount(),this._pendingStateQueue&&(i.state=this._processPendingState(i.props,i.context))),void 0===e&&(e=this._renderValidatedComponent());var s=c.getType(e);this._renderedNodeType=s;var l=this._instantiateReactComponent(e,s!==c.EMPTY);return this._renderedComponent=l,p.mountComponent(l,n,t,r,this._processChildContext(o),a)},getHostNode:function(){return p.getHostNode(this._renderedComponent)},unmountComponent:function(e){if(this._renderedComponent){var t=this._instance;if(t.componentWillUnmount&&!t._calledComponentWillUnmount)if(t._calledComponentWillUnmount=!0,e){var r=this.getName()+".componentWillUnmount()";l.invokeGuardedCallback(r,t.componentWillUnmount.bind(t))}else t.componentWillUnmount();this._renderedComponent&&(p.unmountComponent(this._renderedComponent,e),this._renderedNodeType=null,this._renderedComponent=null,this._instance=null),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=0,this._topLevelWrapper=null,u.remove(t)}},_maskContext:function(e){var t=this._currentElement.type.contextTypes;if(!t)return h;var r={};for(var n in t)r[n]=e[n];return r},_processContext:function(e){var t=this._maskContext(e);return t},_processChildContext:function(e){var t,r=this._currentElement.type,i=this._instance;if(i.getChildContext&&(t=i.getChildContext()),t){for(var a in"object"!==typeof r.childContextTypes&&n("107",this.getName()||"ReactCompositeComponent"),t)a in r.childContextTypes||n("108",this.getName()||"ReactCompositeComponent",a);return o({},e,t)}return e},_checkContextTypes:function(e,t,r){0},receiveComponent:function(e,t,r){var n=this._currentElement,o=this._context;this._pendingElement=null,this.updateComponent(t,n,e,o,r)},performUpdateIfNecessary:function(e){null!=this._pendingElement?p.receiveComponent(this,this._pendingElement,e,this._context):null!==this._pendingStateQueue||this._pendingForceUpdate?this.updateComponent(e,this._currentElement,this._currentElement,this._context,this._context):this._updateBatchNumber=null},updateComponent:function(e,t,r,o,i){var a=this._instance;null==a&&n("136",this.getName()||"ReactCompositeComponent");var s,l=!1;this._context===i?s=a.context:(s=this._processContext(i),l=!0);var u=t.props,c=r.props;t!==r&&(l=!0),l&&a.componentWillReceiveProps&&a.componentWillReceiveProps(c,s);var p=this._processPendingState(c,s),h=!0;this._pendingForceUpdate||(a.shouldComponentUpdate?h=a.shouldComponentUpdate(c,p,s):this._compositeType===y&&(h=!f(u,c)||!f(a.state,p))),this._updateBatchNumber=null,h?(this._pendingForceUpdate=!1,this._performComponentUpdate(r,c,p,s,e,i)):(this._currentElement=r,this._context=i,a.props=c,a.state=p,a.context=s)},_processPendingState:function(e,t){var r=this._instance,n=this._pendingStateQueue,i=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!n)return r.state;if(i&&1===n.length)return n[0];for(var a=o({},i?n[0]:r.state),s=i?1:0;s<n.length;s++){var l=n[s];o(a,"function"===typeof l?l.call(r,a,e,t):l)}return a},_performComponentUpdate:function(e,t,r,n,o,i){var a,s,l,u=this._instance,c=Boolean(u.componentDidUpdate);c&&(a=u.props,s=u.state,l=u.context),u.componentWillUpdate&&u.componentWillUpdate(t,r,n),this._currentElement=e,this._context=i,u.props=t,u.state=r,u.context=n,this._updateRenderedComponent(o,i),c&&o.getReactMountReady().enqueue(u.componentDidUpdate.bind(u,a,s,l),u)},_updateRenderedComponent:function(e,t){var r=this._renderedComponent,n=r._currentElement,o=this._renderValidatedComponent(),i=0;if(d(n,o))p.receiveComponent(r,o,e,this._processChildContext(t));else{var a=p.getHostNode(r);p.unmountComponent(r,!1);var s=c.getType(o);this._renderedNodeType=s;var l=this._instantiateReactComponent(o,s!==c.EMPTY);this._renderedComponent=l;var u=p.mountComponent(l,e,this._hostParent,this._hostContainerInfo,this._processChildContext(t),i);this._replaceNodeWithMarkup(a,u,r)}},_replaceNodeWithMarkup:function(e,t,r){a.replaceNodeWithMarkup(e,t,r)},_renderValidatedComponentWithoutOwnerOrContext:function(){var e=this._instance;return e.render()},_renderValidatedComponent:function(){var e;if(this._compositeType!==v){s.current=this;try{e=this._renderValidatedComponentWithoutOwnerOrContext()}finally{s.current=null}}else e=this._renderValidatedComponentWithoutOwnerOrContext();return null===e||!1===e||i.isValidElement(e)||n("109",this.getName()||"ReactCompositeComponent"),e},attachRef:function(e,t){var r=this.getPublicInstance();null==r&&n("110");var o=t.getPublicInstance();(r.refs===h?r.refs={}:r.refs)[e]=o},detachRef:function(e){delete this.getPublicInstance().refs[e]},getName:function(){var e=this._currentElement.type,t=this._instance&&this._instance.constructor;return e.displayName||t&&t.displayName||e.name||t&&t.name||null},getPublicInstance:function(){var e=this._instance;return this._compositeType===v?null:e},_instantiateReactComponent:null};e.exports=x},function(e,t,r){"use strict";var n=1;e.exports=function(){return n++}},function(e,t,r){"use strict";var n="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;e.exports=n},function(e,t,r){"use strict";var n="function"===typeof Symbol&&Symbol.iterator,o="@@iterator";e.exports=function(e){var t=e&&(n&&e[n]||e[o]);if("function"===typeof t)return t}},function(e,t,r){"use strict";(function(t){r(170);var n=r(265);r(9);function o(e,t,r,n){if(e&&"object"===typeof e){var o=e,i=void 0===o[r];0,i&&null!=t&&(o[r]=t)}}"undefined"!==typeof t&&Object({NODE_ENV:"production",PUBLIC_URL:""}),e.exports=function(e,t){if(null==e)return e;var r={};return n(e,o,r),r}}).call(t,r(69))},function(e,t,r){"use strict";var n=r(171);r(9);var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.transaction=t}return e.prototype.isMounted=function(e){return!1},e.prototype.enqueueCallback=function(e,t,r){this.transaction.isInTransaction()&&n.enqueueCallback(e,t,r)},e.prototype.enqueueForceUpdate=function(e){this.transaction.isInTransaction()&&n.enqueueForceUpdate(e)},e.prototype.enqueueReplaceState=function(e,t){this.transaction.isInTransaction()&&n.enqueueReplaceState(e,t)},e.prototype.enqueueSetState=function(e,t){this.transaction.isInTransaction()&&n.enqueueSetState(e,t)},e}();e.exports=o},function(e,t,r){"use strict";var n=r(12),o=r(72),i=r(14),a=function(e){this._currentElement=null,this._hostNode=null,this._hostParent=null,this._hostContainerInfo=null,this._domID=0};n(a.prototype,{mountComponent:function(e,t,r,n){var a=r._idCounter++;this._domID=a,this._hostParent=t,this._hostContainerInfo=r;var s=" react-empty: "+this._domID+" ";if(e.useCreateElement){var l=r._ownerDocument.createComment(s);return i.precacheNode(this,l),o(l)}return e.renderToStaticMarkup?"":"\x3c!--"+s+"--\x3e"},receiveComponent:function(){},getHostNode:function(){return i.getNodeFromInstance(this)},unmountComponent:function(){i.uncacheNode(this)}}),e.exports=a},function(e,t,r){"use strict";var n=r(7);r(2);function o(e,t){"_hostNode"in e||n("33"),"_hostNode"in t||n("33");for(var r=0,o=e;o;o=o._hostParent)r++;for(var i=0,a=t;a;a=a._hostParent)i++;for(;r-i>0;)e=e._hostParent,r--;for(;i-r>0;)t=t._hostParent,i--;for(var s=r;s--;){if(e===t)return e;e=e._hostParent,t=t._hostParent}return null}e.exports={isAncestor:function(e,t){"_hostNode"in e||n("35"),"_hostNode"in t||n("35");for(;t;){if(t===e)return!0;t=t._hostParent}return!1},getLowestCommonAncestor:o,getParentInstance:function(e){return"_hostNode"in e||n("36"),e._hostParent},traverseTwoPhase:function(e,t,r){for(var n,o=[];e;)o.push(e),e=e._hostParent;for(n=o.length;n-- >0;)t(o[n],"captured",r);for(n=0;n<o.length;n++)t(o[n],"bubbled",r)},traverseEnterLeave:function(e,t,r,n,i){for(var a=e&&t?o(e,t):null,s=[];e&&e!==a;)s.push(e),e=e._hostParent;for(var l,u=[];t&&t!==a;)u.push(t),t=t._hostParent;for(l=0;l<s.length;l++)r(s[l],"bubbled",n);for(l=u.length;l-- >0;)r(u[l],"captured",i)}}},function(e,t,r){"use strict";var n=r(7),o=r(12),i=r(162),a=r(72),s=r(14),l=r(115),u=(r(2),r(172),function(e){this._currentElement=e,this._stringText=""+e,this._hostNode=null,this._hostParent=null,this._domID=0,this._mountIndex=0,this._closingComment=null,this._commentNodes=null});o(u.prototype,{mountComponent:function(e,t,r,n){var o=r._idCounter++,i=" react-text: "+o+" ";if(this._domID=o,this._hostParent=t,e.useCreateElement){var u=r._ownerDocument,c=u.createComment(i),p=u.createComment(" /react-text "),h=a(u.createDocumentFragment());return a.queueChild(h,a(c)),this._stringText&&a.queueChild(h,a(u.createTextNode(this._stringText))),a.queueChild(h,a(p)),s.precacheNode(this,c),this._closingComment=p,h}var f=l(this._stringText);return e.renderToStaticMarkup?f:"\x3c!--"+i+"--\x3e"+f+"\x3c!-- /react-text --\x3e"},receiveComponent:function(e,t){if(e!==this._currentElement){this._currentElement=e;var r=""+e;if(r!==this._stringText){this._stringText=r;var n=this.getHostNode();i.replaceDelimitedText(n[0],n[1],r)}}},getHostNode:function(){var e=this._commentNodes;if(e)return e;if(!this._closingComment)for(var t=s.getNodeFromInstance(this).nextSibling;;){if(null==t&&n("67",this._domID),8===t.nodeType&&" /react-text "===t.nodeValue){this._closingComment=t;break}t=t.nextSibling}return e=[this._hostNode,this._closingComment],this._commentNodes=e,e},unmountComponent:function(){this._closingComment=null,this._commentNodes=null,s.uncacheNode(this)}}),e.exports=u},function(e,t,r){"use strict";var n=r(12),o=r(269),i=r(27),a=r(61),s=r(14),l=r(38),u=r(159),c=r(475);function p(e){for(;e._hostParent;)e=e._hostParent;var t=s.getNodeFromInstance(e).parentNode;return s.getClosestInstanceFromNode(t)}function h(e,t){this.topLevelType=e,this.nativeEvent=t,this.ancestors=[]}function f(e){var t=u(e.nativeEvent),r=s.getClosestInstanceFromNode(t),n=r;do{e.ancestors.push(n),n=n&&p(n)}while(n);for(var o=0;o<e.ancestors.length;o++)r=e.ancestors[o],d._handleTopLevel(e.topLevelType,r,e.nativeEvent,u(e.nativeEvent))}n(h.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),a.addPoolingTo(h,a.twoArgumentPooler);var d={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:i.canUseDOM?window:null,setHandleTopLevel:function(e){d._handleTopLevel=e},setEnabled:function(e){d._enabled=!!e},isEnabled:function(){return d._enabled},trapBubbledEvent:function(e,t,r){return r?o.listen(r,t,d.dispatchEvent.bind(null,e)):null},trapCapturedEvent:function(e,t,r){return r?o.capture(r,t,d.dispatchEvent.bind(null,e)):null},monitorScrollValue:function(e){var t=function(e){e(c(window))}.bind(null,e);o.listen(window,"scroll",t)},dispatchEvent:function(e,t){if(d._enabled){var r=h.getPooled(e,t);try{l.batchedUpdates(f,r)}finally{h.release(r)}}}};e.exports=d},function(e,t,r){"use strict";e.exports=function(e){return e.Window&&e instanceof e.Window?{x:e.pageXOffset||e.document.documentElement.scrollLeft,y:e.pageYOffset||e.document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}},function(e,t,r){"use strict";var n=r(71),o=r(93),i=r(157),a=r(166),s=r(263),l=r(116),u=r(264),c=r(38),p={Component:a.injection,DOMProperty:n.injection,EmptyComponent:s.injection,EventPluginHub:o.injection,EventPluginUtils:i.injection,EventEmitter:l.injection,HostComponent:u.injection,Updates:c.injection};e.exports=p},function(e,t,r){"use strict";var n=r(12),o=r(252),i=r(61),a=r(116),s=r(270),l=(r(35),r(112)),u=r(171),c=[{initialize:s.getSelectionInformation,close:s.restoreSelection},{initialize:function(){var e=a.isEnabled();return a.setEnabled(!1),e},close:function(e){a.setEnabled(e)}},{initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}}];function p(e){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=o.getPooled(null),this.useCreateElement=e}var h={getTransactionWrappers:function(){return c},getReactMountReady:function(){return this.reactMountReady},getUpdateQueue:function(){return u},checkpoint:function(){return this.reactMountReady.checkpoint()},rollback:function(e){this.reactMountReady.rollback(e)},destructor:function(){o.release(this.reactMountReady),this.reactMountReady=null}};n(p.prototype,l,h),i.addPoolingTo(p),e.exports=p},function(e,t,r){"use strict";var n=r(27),o=r(479),i=r(251);function a(e,t,r,n){return e===r&&t===n}var s=n.canUseDOM&&"selection"in document&&!("getSelection"in window),l={getOffsets:s?function(e){var t=document.selection.createRange(),r=t.text.length,n=t.duplicate();n.moveToElementText(e),n.setEndPoint("EndToStart",t);var o=n.text.length;return{start:o,end:o+r}}:function(e){var t=window.getSelection&&window.getSelection();if(!t||0===t.rangeCount)return null;var r=t.anchorNode,n=t.anchorOffset,o=t.focusNode,i=t.focusOffset,s=t.getRangeAt(0);try{s.startContainer.nodeType,s.endContainer.nodeType}catch(e){return null}var l=a(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset)?0:s.toString().length,u=s.cloneRange();u.selectNodeContents(e),u.setEnd(s.startContainer,s.startOffset);var c=a(u.startContainer,u.startOffset,u.endContainer,u.endOffset)?0:u.toString().length,p=c+l,h=document.createRange();h.setStart(r,n),h.setEnd(o,i);var f=h.collapsed;return{start:f?p:c,end:f?c:p}},setOffsets:s?function(e,t){var r,n,o=document.selection.createRange().duplicate();void 0===t.end?n=r=t.start:t.start>t.end?(r=t.end,n=t.start):(r=t.start,n=t.end),o.moveToElementText(e),o.moveStart("character",r),o.setEndPoint("EndToStart",o),o.moveEnd("character",n-r),o.select()}:function(e,t){if(window.getSelection){var r=window.getSelection(),n=e[i()].length,a=Math.min(t.start,n),s=void 0===t.end?a:Math.min(t.end,n);if(!r.extend&&a>s){var l=s;s=a,a=l}var u=o(e,a),c=o(e,s);if(u&&c){var p=document.createRange();p.setStart(u.node,u.offset),r.removeAllRanges(),a>s?(r.addRange(p),r.extend(c.node,c.offset)):(p.setEnd(c.node,c.offset),r.addRange(p))}}}};e.exports=l},function(e,t,r){"use strict";function n(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function o(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}e.exports=function(e,t){for(var r=n(e),i=0,a=0;r;){if(3===r.nodeType){if(a=i+r.textContent.length,i<=t&&a>=t)return{node:r,offset:t-i};i=a}r=n(o(r))}}},function(e,t,r){"use strict";var n=r(481);e.exports=function e(t,r){return!(!t||!r)&&(t===r||!n(t)&&(n(r)?e(t,r.parentNode):"contains"in t?t.contains(r):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(r))))}},function(e,t,r){"use strict";var n=r(482);e.exports=function(e){return n(e)&&3==e.nodeType}},function(e,t,r){"use strict";e.exports=function(e){var t=(e?e.ownerDocument||e:document).defaultView||window;return!(!e||!("function"===typeof t.Node?e instanceof t.Node:"object"===typeof e&&"number"===typeof e.nodeType&&"string"===typeof e.nodeName))}},function(e,t,r){"use strict";var n="http://www.w3.org/1999/xlink",o="http://www.w3.org/XML/1998/namespace",i={accentHeight:"accent-height",accumulate:0,additive:0,alignmentBaseline:"alignment-baseline",allowReorder:"allowReorder",alphabetic:0,amplitude:0,arabicForm:"arabic-form",ascent:0,attributeName:"attributeName",attributeType:"attributeType",autoReverse:"autoReverse",azimuth:0,baseFrequency:"baseFrequency",baseProfile:"baseProfile",baselineShift:"baseline-shift",bbox:0,begin:0,bias:0,by:0,calcMode:"calcMode",capHeight:"cap-height",clip:0,clipPath:"clip-path",clipRule:"clip-rule",clipPathUnits:"clipPathUnits",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",contentScriptType:"contentScriptType",contentStyleType:"contentStyleType",cursor:0,cx:0,cy:0,d:0,decelerate:0,descent:0,diffuseConstant:"diffuseConstant",direction:0,display:0,divisor:0,dominantBaseline:"dominant-baseline",dur:0,dx:0,dy:0,edgeMode:"edgeMode",elevation:0,enableBackground:"enable-background",end:0,exponent:0,externalResourcesRequired:"externalResourcesRequired",fill:0,fillOpacity:"fill-opacity",fillRule:"fill-rule",filter:0,filterRes:"filterRes",filterUnits:"filterUnits",floodColor:"flood-color",floodOpacity:"flood-opacity",focusable:0,fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",glyphRef:"glyphRef",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",hanging:0,horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",ideographic:0,imageRendering:"image-rendering",in:0,in2:0,intercept:0,k:0,k1:0,k2:0,k3:0,k4:0,kernelMatrix:"kernelMatrix",kernelUnitLength:"kernelUnitLength",kerning:0,keyPoints:"keyPoints",keySplines:"keySplines",keyTimes:"keyTimes",lengthAdjust:"lengthAdjust",letterSpacing:"letter-spacing",lightingColor:"lighting-color",limitingConeAngle:"limitingConeAngle",local:0,markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",markerHeight:"markerHeight",markerUnits:"markerUnits",markerWidth:"markerWidth",mask:0,maskContentUnits:"maskContentUnits",maskUnits:"maskUnits",mathematical:0,mode:0,numOctaves:"numOctaves",offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pathLength:"pathLength",patternContentUnits:"patternContentUnits",patternTransform:"patternTransform",patternUnits:"patternUnits",pointerEvents:"pointer-events",points:0,pointsAtX:"pointsAtX",pointsAtY:"pointsAtY",pointsAtZ:"pointsAtZ",preserveAlpha:"preserveAlpha",preserveAspectRatio:"preserveAspectRatio",primitiveUnits:"primitiveUnits",r:0,radius:0,refX:"refX",refY:"refY",renderingIntent:"rendering-intent",repeatCount:"repeatCount",repeatDur:"repeatDur",requiredExtensions:"requiredExtensions",requiredFeatures:"requiredFeatures",restart:0,result:0,rotate:0,rx:0,ry:0,scale:0,seed:0,shapeRendering:"shape-rendering",slope:0,spacing:0,specularConstant:"specularConstant",specularExponent:"specularExponent",speed:0,spreadMethod:"spreadMethod",startOffset:"startOffset",stdDeviation:"stdDeviation",stemh:0,stemv:0,stitchTiles:"stitchTiles",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",string:0,stroke:0,strokeDasharray:"stroke-dasharray",strokeDashoffset:"stroke-dashoffset",strokeLinecap:"stroke-linecap",strokeLinejoin:"stroke-linejoin",strokeMiterlimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",surfaceScale:"surfaceScale",systemLanguage:"systemLanguage",tableValues:"tableValues",targetX:"targetX",targetY:"targetY",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",textLength:"textLength",to:0,transform:0,u1:0,u2:0,underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicode:0,unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",values:0,vectorEffect:"vector-effect",version:0,vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",viewBox:"viewBox",viewTarget:"viewTarget",visibility:0,widths:0,wordSpacing:"word-spacing",writingMode:"writing-mode",x:0,xHeight:"x-height",x1:0,x2:0,xChannelSelector:"xChannelSelector",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlns:0,xmlnsXlink:"xmlns:xlink",xmlLang:"xml:lang",xmlSpace:"xml:space",y:0,y1:0,y2:0,yChannelSelector:"yChannelSelector",z:0,zoomAndPan:"zoomAndPan"},a={Properties:{},DOMAttributeNamespaces:{xlinkActuate:n,xlinkArcrole:n,xlinkHref:n,xlinkRole:n,xlinkShow:n,xlinkTitle:n,xlinkType:n,xmlBase:o,xmlLang:o,xmlSpace:o},DOMAttributeNames:{}};Object.keys(i).forEach(function(e){a.Properties[e]=0,i[e]&&(a.DOMAttributeNames[e]=i[e])}),e.exports=a},function(e,t,r){"use strict";var n=r(92),o=r(27),i=r(14),a=r(270),s=r(46),l=r(271),u=r(255),c=r(168),p=o.canUseDOM&&"documentMode"in document&&document.documentMode<=11,h={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:["topBlur","topContextMenu","topFocus","topKeyDown","topKeyUp","topMouseDown","topMouseUp","topSelectionChange"]}},f=null,d=null,m=null,y=!1,v=!1;function g(e,t){if(y||null==f||f!==l())return null;var r=function(e){if("selectionStart"in e&&a.hasSelectionCapabilities(e))return{start:e.selectionStart,end:e.selectionEnd};if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}if(document.selection){var r=document.selection.createRange();return{parentElement:r.parentElement(),text:r.text,top:r.boundingTop,left:r.boundingLeft}}}(f);if(!m||!c(m,r)){m=r;var o=s.getPooled(h.select,d,e,t);return o.type="select",o.target=f,n.accumulateTwoPhaseDispatches(o),o}return null}var _={eventTypes:h,extractEvents:function(e,t,r,n){if(!v)return null;var o=t?i.getNodeFromInstance(t):window;switch(e){case"topFocus":(u(o)||"true"===o.contentEditable)&&(f=o,d=t,m=null);break;case"topBlur":f=null,d=null,m=null;break;case"topMouseDown":y=!0;break;case"topContextMenu":case"topMouseUp":return y=!1,g(r,n);case"topSelectionChange":if(p)break;case"topKeyDown":case"topKeyUp":return g(r,n)}return null},didPutListener:function(e,t,r){"onSelect"===t&&(v=!0)}};e.exports=_},function(e,t,r){"use strict";var n=r(7),o=r(269),i=r(92),a=r(14),s=r(486),l=r(487),u=r(46),c=r(488),p=r(489),h=r(113),f=r(491),d=r(492),m=r(493),y=r(94),v=r(494),g=r(39),_=r(173),b=(r(2),{}),x={};["abort","animationEnd","animationIteration","animationStart","blur","canPlay","canPlayThrough","click","contextMenu","copy","cut","doubleClick","drag","dragEnd","dragEnter","dragExit","dragLeave","dragOver","dragStart","drop","durationChange","emptied","encrypted","ended","error","focus","input","invalid","keyDown","keyPress","keyUp","load","loadedData","loadedMetadata","loadStart","mouseDown","mouseMove","mouseOut","mouseOver","mouseUp","paste","pause","play","playing","progress","rateChange","reset","scroll","seeked","seeking","stalled","submit","suspend","timeUpdate","touchCancel","touchEnd","touchMove","touchStart","transitionEnd","volumeChange","waiting","wheel"].forEach(function(e){var t=e[0].toUpperCase()+e.slice(1),r="on"+t,n="top"+t,o={phasedRegistrationNames:{bubbled:r,captured:r+"Capture"},dependencies:[n]};b[e]=o,x[n]=o});var w={};function E(e){return"."+e._rootNodeID}function S(e){return"button"===e||"input"===e||"select"===e||"textarea"===e}var C={eventTypes:b,extractEvents:function(e,t,r,o){var a,g=x[e];if(!g)return null;switch(e){case"topAbort":case"topCanPlay":case"topCanPlayThrough":case"topDurationChange":case"topEmptied":case"topEncrypted":case"topEnded":case"topError":case"topInput":case"topInvalid":case"topLoad":case"topLoadedData":case"topLoadedMetadata":case"topLoadStart":case"topPause":case"topPlay":case"topPlaying":case"topProgress":case"topRateChange":case"topReset":case"topSeeked":case"topSeeking":case"topStalled":case"topSubmit":case"topSuspend":case"topTimeUpdate":case"topVolumeChange":case"topWaiting":a=u;break;case"topKeyPress":if(0===_(r))return null;case"topKeyDown":case"topKeyUp":a=p;break;case"topBlur":case"topFocus":a=c;break;case"topClick":if(2===r.button)return null;case"topDoubleClick":case"topMouseDown":case"topMouseMove":case"topMouseUp":case"topMouseOut":case"topMouseOver":case"topContextMenu":a=h;break;case"topDrag":case"topDragEnd":case"topDragEnter":case"topDragExit":case"topDragLeave":case"topDragOver":case"topDragStart":case"topDrop":a=f;break;case"topTouchCancel":case"topTouchEnd":case"topTouchMove":case"topTouchStart":a=d;break;case"topAnimationEnd":case"topAnimationIteration":case"topAnimationStart":a=s;break;case"topTransitionEnd":a=m;break;case"topScroll":a=y;break;case"topWheel":a=v;break;case"topCopy":case"topCut":case"topPaste":a=l}a||n("86",e);var b=a.getPooled(g,t,r,o);return i.accumulateTwoPhaseDispatches(b),b},didPutListener:function(e,t,r){if("onClick"===t&&!S(e._tag)){var n=E(e),i=a.getNodeFromInstance(e);w[n]||(w[n]=o.listen(i,"click",g))}},willDeleteListener:function(e,t){if("onClick"===t&&!S(e._tag)){var r=E(e);w[r].remove(),delete w[r]}}};e.exports=C},function(e,t,r){"use strict";var n=r(46);function o(e,t,r,o){return n.call(this,e,t,r,o)}n.augmentClass(o,{animationName:null,elapsedTime:null,pseudoElement:null}),e.exports=o},function(e,t,r){"use strict";var n=r(46),o={clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}};function i(e,t,r,o){return n.call(this,e,t,r,o)}n.augmentClass(i,o),e.exports=i},function(e,t,r){"use strict";var n=r(94);function o(e,t,r,o){return n.call(this,e,t,r,o)}n.augmentClass(o,{relatedTarget:null}),e.exports=o},function(e,t,r){"use strict";var n=r(94),o=r(173),i={key:r(490),location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:r(161),charCode:function(e){return"keypress"===e.type?o(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?o(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}};function a(e,t,r,o){return n.call(this,e,t,r,o)}n.augmentClass(a,i),e.exports=a},function(e,t,r){"use strict";var n=r(173),o={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},i={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};e.exports=function(e){if(e.key){var t=o[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"===e.type){var r=n(e);return 13===r?"Enter":String.fromCharCode(r)}return"keydown"===e.type||"keyup"===e.type?i[e.keyCode]||"Unidentified":""}},function(e,t,r){"use strict";var n=r(113);function o(e,t,r,o){return n.call(this,e,t,r,o)}n.augmentClass(o,{dataTransfer:null}),e.exports=o},function(e,t,r){"use strict";var n=r(94),o={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:r(161)};function i(e,t,r,o){return n.call(this,e,t,r,o)}n.augmentClass(i,o),e.exports=i},function(e,t,r){"use strict";var n=r(46);function o(e,t,r,o){return n.call(this,e,t,r,o)}n.augmentClass(o,{propertyName:null,elapsedTime:null,pseudoElement:null}),e.exports=o},function(e,t,r){"use strict";var n=r(113);function o(e,t,r,o){return n.call(this,e,t,r,o)}n.augmentClass(o,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),e.exports=o},function(e,t,r){"use strict";e.exports={useCreateElement:!0,useFiber:!1}},function(e,t,r){"use strict";var n=65521;e.exports=function(e){for(var t=1,r=0,o=0,i=e.length,a=-4&i;o<a;){for(var s=Math.min(o+4096,a);o<s;o+=4)r+=(t+=e.charCodeAt(o))+(t+=e.charCodeAt(o+1))+(t+=e.charCodeAt(o+2))+(t+=e.charCodeAt(o+3));t%=n,r%=n}for(;o<i;o++)r+=t+=e.charCodeAt(o);return(t%=n)|(r%=n)<<16}},function(e,t,r){"use strict";var n=r(7),o=(r(45),r(14)),i=r(95),a=r(276);r(2),r(9);e.exports=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=i.get(e);if(t)return(t=a(t))?o.getNodeFromInstance(t):null;"function"===typeof e.render?n("44"):n("45",Object.keys(e))}},function(e,t,r){"use strict";var n=r(272);e.exports=n.renderSubtreeIntoContainer},function(e,t,r){"use strict";r.d(t,"a",function(){return c});var n,o=r(3),i=r(0),a=r.n(i),s=r(15),l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var c=Object(o.a)(n=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=n=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.handleKeyPress=function(e){s.a.okAction&&("Enter"!==e.key&&"y"!==e.key||s.a.okAction(),"Escape"!==e.key&&"n"!==e.key||s.a.cancelAction||s.a.okAction()),s.a.cancelAction&&("Escape"!==e.key&&"n"!==e.key||s.a.cancelAction())},u(n,r)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),l(t,[{key:"componentDidUpdate",value:function(){this.node&&this.node.focus()}},{key:"render",value:function(){var e=this;return s.a.content?a.a.createElement("div",{id:"overlay-cover",onKeyDown:this.handleKeyPress,tabIndex:"0",ref:function(t){return e.node=t}},a.a.createElement("div",{id:"overlay-window",style:{width:s.a.width}},s.a.content,s.a.okText&&s.a.okAction&&a.a.createElement("button",{className:"button overlay-button",onClick:s.a.okAction},s.a.okText),s.a.cancelText&&s.a.cancelAction&&a.a.createElement("button",{className:"button overlay-button",onClick:s.a.cancelAction},s.a.cancelText))):null}}]),t}())||n},function(e,t,r){"use strict";t.a=function(){if(Object(m.e)(),Object(m.d)(),Object.assign(window._debug,{featureStore:l.a,groupStore:c.a,mapStore:p.a,mapUIStore:h.a,markerStore:f.a,searchStore:d.a,filterStore:u.a}),p.a.setId(window.data_json.map_id||null),p.a.setPublic(!1,!0),p.a.setMapUserName(window.data_json.map_user_name),h.a.setMobile(Object(y.a)()),h.a.editMode=!0===window.data_json.edit,h.a.embedMode=!0===window.data_json.embed,h.a.embedPanel=h.a.embedMode&&!0===window.data_json.panel,h.a.captureMode=!0===window.data_json.capture,h.a.osFamily=window.data_json.os_family,h.a.requestUserName=window.data_json.request_user_name,h.a.maxPanelSize=h.a.mobile?1:2,h.a.tutorialMode=!0===window.data_json.tutorial,h.a.embedPanel){h.a.setPanelSize(1);var e=document.getElementsByClassName("embed-maphub-logo")[0];Object(m.a)(e,"embedpanel")}else h.a.setPanelSize(h.a.mobile||h.a.embedMode?0:1);var t=document.getElementById("screenshot");t&&(t.style.opacity=0,window.setTimeout(function(){return t.remove()},2e3));a.a.render(o.a.createElement(s.a,null),document.getElementById("app")),h.a.requestUserName&&Object(v.e)({userName:h.a.requestUserName});Object(v.d)({map_id:p.a.id,editMode:h.a.editMode,embedMode:h.a.embedMode,embedPanel:h.a.embedPanel,captureMode:h.a.captureMode,mobile:h.a.mobile,os:h.a.osFamily,tutorialMode:h.a.tutorialMode,tutorialActive:h.a.tutorialActive})};var n=r(0),o=r.n(n),i=r(37),a=r.n(i),s=r(501),l=r(18),u=r(48),c=r(47),p=r(23),h=r(1),f=r(80),d=r(99),m=r(63),y=r(308),v=r(5)},function(e,t,r){"use strict";r.d(t,"a",function(){return p});var n,o=r(3),i=r(0),a=r.n(i),s=r(1),l=r(725),u=r(736),c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var p=Object(o.a)(n=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),c(t,[{key:"render",value:function(){return void 0===s.a.panelSize?null:a.a.createElement("div",null,a.a.createElement(l.a,null),a.a.createElement(u.a,null))}}]),t}())||n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={update:function(){"undefined"!==typeof window&&"function"===typeof window.matchMedia&&(n.hover=window.matchMedia("(hover: hover)").matches,n.none=window.matchMedia("(hover: none)").matches||window.matchMedia("(hover: on-demand)").matches,n.anyHover=window.matchMedia("(any-hover: hover)").matches,n.anyNone=window.matchMedia("(any-hover: none)").matches||window.matchMedia("(any-hover: on-demand)").matches)}};n.update(),t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={update:function(){"undefined"!==typeof window&&"function"===typeof window.matchMedia&&(n.fine=window.matchMedia("(pointer: fine)").matches,n.coarse=window.matchMedia("(pointer: coarse)").matches,n.none=window.matchMedia("(pointer: none)").matches,n.anyFine=window.matchMedia("(any-pointer: fine)").matches,n.anyCoarse=window.matchMedia("(any-pointer: coarse)").matches,n.anyNone=window.matchMedia("(any-pointer: none)").matches)}};n.update(),t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={update:function(){"undefined"!==typeof window&&(n.hasSupport="ontouchstart"in window,n.browserSupportsApi=Boolean(window.TouchEvent))}};n.update(),t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={update:function(){if("undefined"!==typeof window&&"function"===typeof window.addEventListener){var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}}),r=function(){};window.addEventListener("testPassiveEventSupport",r,t),window.removeEventListener("testPassiveEventSupport",r,t),n.hasSupport=e}}};n.update(),t.default=n},function(e,t,r){(function(t){var n=r(507),o="undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:{},i=o.Raven,a=new n;a.noConflict=function(){return o.Raven=i,a},a.afterLoad(),e.exports=a,e.exports.Client=n}).call(t,r(32))},function(e,t,r){(function(t){var n=r(508),o=r(278),i=r(509),a=r(510),s=r(174),l=s.isErrorEvent,u=s.isDOMError,c=s.isDOMException,p=s.isError,h=s.isObject,f=s.isPlainObject,d=s.isUndefined,m=s.isFunction,y=s.isString,v=s.isArray,g=s.isEmptyObject,_=s.each,b=s.objectMerge,x=s.truncate,w=s.objectFrozen,E=s.hasKey,S=s.joinRegExp,C=s.urlencode,k=s.uuid4,T=s.htmlTreeAsString,O=s.isSameException,P=s.isSameStacktrace,A=s.parseUrl,I=s.fill,M=s.supportsFetch,R=s.supportsReferrerPolicy,L=s.serializeKeysForMessage,D=s.serializeException,j=s.sanitize,z=r(511).wrapMethod,F="source protocol user pass host port path".split(" "),N=/^(?:(\w+):)?\/\/(?:(\w+)(:\w+)?@)?([\w\.-]+)(?::(\d+))?(\/.*)/;function B(){return+new Date}var U="undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:{},V=U.document,G=U.navigator;function q(e,t){return m(t)?function(r){return t(r,e)}:t}function H(){for(var e in this._hasJSON=!("object"!==typeof JSON||!JSON.stringify),this._hasDocument=!d(V),this._hasNavigator=!d(G),this._lastCapturedException=null,this._lastData=null,this._lastEventId=null,this._globalServer=null,this._globalKey=null,this._globalProject=null,this._globalContext={},this._globalOptions={release:U.SENTRY_RELEASE&&U.SENTRY_RELEASE.id,logger:"javascript",ignoreErrors:[],ignoreUrls:[],whitelistUrls:[],includePaths:[],headers:null,collectWindowErrors:!0,captureUnhandledRejections:!0,maxMessageLength:0,maxUrlLength:250,stackTraceLimit:50,autoBreadcrumbs:!0,instrument:!0,sampleRate:1,sanitizeKeys:[]},this._fetchDefaults={method:"POST",referrerPolicy:R()?"origin":""},this._ignoreOnError=0,this._isRavenInstalled=!1,this._originalErrorStackTraceLimit=Error.stackTraceLimit,this._originalConsole=U.console||{},this._originalConsoleMethods={},this._plugins=[],this._startTime=B(),this._wrappedBuiltIns=[],this._breadcrumbs=[],this._lastCapturedEvent=null,this._keypressTimeout,this._location=U.location,this._lastHref=this._location&&this._location.href,this._resetBackoff(),this._originalConsole)this._originalConsoleMethods[e]=this._originalConsole[e]}H.prototype={VERSION:"3.27.0",debug:!1,TraceKit:n,config:function(e,t){var r=this;if(r._globalServer)return this._logDebug("error","Error: Raven has already been configured"),r;if(!e)return r;var o=r._globalOptions;t&&_(t,function(e,t){"tags"===e||"extra"===e||"user"===e?r._globalContext[e]=t:o[e]=t}),r.setDSN(e),o.ignoreErrors.push(/^Script error\.?$/),o.ignoreErrors.push(/^Javascript error: Script error\.? on line 0$/),o.ignoreErrors=S(o.ignoreErrors),o.ignoreUrls=!!o.ignoreUrls.length&&S(o.ignoreUrls),o.whitelistUrls=!!o.whitelistUrls.length&&S(o.whitelistUrls),o.includePaths=S(o.includePaths),o.maxBreadcrumbs=Math.max(0,Math.min(o.maxBreadcrumbs||100,100));var i={xhr:!0,console:!0,dom:!0,location:!0,sentry:!0},a=o.autoBreadcrumbs;"[object Object]"==={}.toString.call(a)?a=b(i,a):!1!==a&&(a=i),o.autoBreadcrumbs=a;var s={tryCatch:!0},l=o.instrument;return"[object Object]"==={}.toString.call(l)?l=b(s,l):!1!==l&&(l=s),o.instrument=l,n.collectWindowErrors=!!o.collectWindowErrors,r},install:function(){var e=this;return e.isSetup()&&!e._isRavenInstalled&&(n.report.subscribe(function(){e._handleOnErrorStackInfo.apply(e,arguments)}),e._globalOptions.captureUnhandledRejections&&e._attachPromiseRejectionHandler(),e._patchFunctionToString(),e._globalOptions.instrument&&e._globalOptions.instrument.tryCatch&&e._instrumentTryCatch(),e._globalOptions.autoBreadcrumbs&&e._instrumentBreadcrumbs(),e._drainPlugins(),e._isRavenInstalled=!0),Error.stackTraceLimit=e._globalOptions.stackTraceLimit,this},setDSN:function(e){var t=this._parseDSN(e),r=t.path.lastIndexOf("/"),n=t.path.substr(1,r);this._dsn=e,this._globalKey=t.user,this._globalSecret=t.pass&&t.pass.substr(1),this._globalProject=t.path.substr(r+1),this._globalServer=this._getGlobalServer(t),this._globalEndpoint=this._globalServer+"/"+n+"api/"+this._globalProject+"/store/",this._resetBackoff()},context:function(e,t,r){return m(e)&&(r=t||[],t=e,e={}),this.wrap(e,t).apply(this,r)},wrap:function(e,t,r){var n=this;if(d(t)&&!m(e))return e;if(m(e)&&(t=e,e=void 0),!m(t))return t;try{if(t.__raven__)return t;if(t.__raven_wrapper__)return t.__raven_wrapper__}catch(e){return t}function o(){var o=[],i=arguments.length,a=!e||e&&!1!==e.deep;for(r&&m(r)&&r.apply(this,arguments);i--;)o[i]=a?n.wrap(e,arguments[i]):arguments[i];try{return t.apply(this,o)}catch(t){throw n._ignoreNextOnError(),n.captureException(t,e),t}}for(var i in t)E(t,i)&&(o[i]=t[i]);return o.prototype=t.prototype,t.__raven_wrapper__=o,o.__raven__=!0,o.__orig__=t,o},uninstall:function(){return n.report.uninstall(),this._detachPromiseRejectionHandler(),this._unpatchFunctionToString(),this._restoreBuiltIns(),this._restoreConsole(),Error.stackTraceLimit=this._originalErrorStackTraceLimit,this._isRavenInstalled=!1,this},_promiseRejectionHandler:function(e){this._logDebug("debug","Raven caught unhandled promise rejection:",e),this.captureException(e.reason,{mechanism:{type:"onunhandledrejection",handled:!1}})},_attachPromiseRejectionHandler:function(){return this._promiseRejectionHandler=this._promiseRejectionHandler.bind(this),U.addEventListener&&U.addEventListener("unhandledrejection",this._promiseRejectionHandler),this},_detachPromiseRejectionHandler:function(){return U.removeEventListener&&U.removeEventListener("unhandledrejection",this._promiseRejectionHandler),this},captureException:function(e,t){if(t=b({trimHeadFrames:0},t||{}),l(e)&&e.error)e=e.error;else{if(u(e)||c(e)){var r=e.name||(u(e)?"DOMError":"DOMException"),o=e.message?r+": "+e.message:r;return this.captureMessage(o,b(t,{stacktrace:!0,trimHeadFrames:t.trimHeadFrames+1}))}if(p(e))e=e;else{if(!f(e))return this.captureMessage(e,b(t,{stacktrace:!0,trimHeadFrames:t.trimHeadFrames+1}));t=this._getCaptureExceptionOptionsFromPlainObject(t,e),e=new Error(t.message)}}this._lastCapturedException=e;try{var i=n.computeStackTrace(e);this._handleStackInfo(i,t)}catch(t){if(e!==t)throw t}return this},_getCaptureExceptionOptionsFromPlainObject:function(e,t){var r=Object.keys(t).sort(),n=b(e,{message:"Non-Error exception captured with keys: "+L(r),fingerprint:[i(r)],extra:e.extra||{}});return n.extra.__serialized__=D(t),n},captureMessage:function(e,t){if(!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(e)){var r,o=b({message:e+=""},t=t||{});try{throw new Error(e)}catch(e){r=e}r.name=null;var i=n.computeStackTrace(r),a=v(i.stack)&&i.stack[1];a&&"Raven.captureException"===a.func&&(a=i.stack[2]);var s=a&&a.url||"";if((!this._globalOptions.ignoreUrls.test||!this._globalOptions.ignoreUrls.test(s))&&(!this._globalOptions.whitelistUrls.test||this._globalOptions.whitelistUrls.test(s))){if(this._globalOptions.stacktrace||t.stacktrace||""===o.message){o.fingerprint=null==o.fingerprint?e:o.fingerprint,(t=b({trimHeadFrames:0},t)).trimHeadFrames+=1;var l=this._prepareFrames(i,t);o.stacktrace={frames:l.reverse()}}return o.fingerprint&&(o.fingerprint=v(o.fingerprint)?o.fingerprint:[o.fingerprint]),this._send(o),this}}},captureBreadcrumb:function(e){var t=b({timestamp:B()/1e3},e);if(m(this._globalOptions.breadcrumbCallback)){var r=this._globalOptions.breadcrumbCallback(t);if(h(r)&&!g(r))t=r;else if(!1===r)return this}return this._breadcrumbs.push(t),this._breadcrumbs.length>this._globalOptions.maxBreadcrumbs&&this._breadcrumbs.shift(),this},addPlugin:function(e){var t=[].slice.call(arguments,1);return this._plugins.push([e,t]),this._isRavenInstalled&&this._drainPlugins(),this},setUserContext:function(e){return this._globalContext.user=e,this},setExtraContext:function(e){return this._mergeContext("extra",e),this},setTagsContext:function(e){return this._mergeContext("tags",e),this},clearContext:function(){return this._globalContext={},this},getContext:function(){return JSON.parse(o(this._globalContext))},setEnvironment:function(e){return this._globalOptions.environment=e,this},setRelease:function(e){return this._globalOptions.release=e,this},setDataCallback:function(e){var t=this._globalOptions.dataCallback;return this._globalOptions.dataCallback=q(t,e),this},setBreadcrumbCallback:function(e){var t=this._globalOptions.breadcrumbCallback;return this._globalOptions.breadcrumbCallback=q(t,e),this},setShouldSendCallback:function(e){var t=this._globalOptions.shouldSendCallback;return this._globalOptions.shouldSendCallback=q(t,e),this},setTransport:function(e){return this._globalOptions.transport=e,this},lastException:function(){return this._lastCapturedException},lastEventId:function(){return this._lastEventId},isSetup:function(){return!!this._hasJSON&&(!!this._globalServer||(this.ravenNotConfiguredError||(this.ravenNotConfiguredError=!0,this._logDebug("error","Error: Raven has not been configured.")),!1))},afterLoad:function(){var e=U.RavenConfig;e&&this.config(e.dsn,e.config).install()},showReportDialog:function(e){if(V){if(!(e=b({eventId:this.lastEventId(),dsn:this._dsn,user:this._globalContext.user||{}},e)).eventId)throw new a("Missing eventId");if(!e.dsn)throw new a("Missing DSN");var t=encodeURIComponent,r=[];for(var n in e)if("user"===n){var o=e.user;o.name&&r.push("name="+t(o.name)),o.email&&r.push("email="+t(o.email))}else r.push(t(n)+"="+t(e[n]));var i=this._getGlobalServer(this._parseDSN(e.dsn)),s=V.createElement("script");s.async=!0,s.src=i+"/api/embed/error-page/?"+r.join("&"),(V.head||V.body).appendChild(s)}},_ignoreNextOnError:function(){var e=this;this._ignoreOnError+=1,setTimeout(function(){e._ignoreOnError-=1})},_triggerEvent:function(e,t){var r,n;if(this._hasDocument){for(n in t=t||{},e="raven"+e.substr(0,1).toUpperCase()+e.substr(1),V.createEvent?(r=V.createEvent("HTMLEvents")).initEvent(e,!0,!0):(r=V.createEventObject()).eventType=e,t)E(t,n)&&(r[n]=t[n]);if(V.createEvent)V.dispatchEvent(r);else try{V.fireEvent("on"+r.eventType.toLowerCase(),r)}catch(e){}}},_breadcrumbEventHandler:function(e){var t=this;return function(r){if(t._keypressTimeout=null,t._lastCapturedEvent!==r){var n;t._lastCapturedEvent=r;try{n=T(r.target)}catch(e){n="<unknown>"}t.captureBreadcrumb({category:"ui."+e,message:n})}}},_keypressEventHandler:function(){var e=this;return function(t){var r;try{r=t.target}catch(e){return}var n=r&&r.tagName;if(n&&("INPUT"===n||"TEXTAREA"===n||r.isContentEditable)){var o=e._keypressTimeout;o||e._breadcrumbEventHandler("input")(t),clearTimeout(o),e._keypressTimeout=setTimeout(function(){e._keypressTimeout=null},1e3)}}},_captureUrlChange:function(e,t){var r=A(this._location.href),n=A(t),o=A(e);this._lastHref=t,r.protocol===n.protocol&&r.host===n.host&&(t=n.relative),r.protocol===o.protocol&&r.host===o.host&&(e=o.relative),this.captureBreadcrumb({category:"navigation",data:{to:t,from:e}})},_patchFunctionToString:function(){var e=this;e._originalFunctionToString=Function.prototype.toString,Function.prototype.toString=function(){return"function"===typeof this&&this.__raven__?e._originalFunctionToString.apply(this.__orig__,arguments):e._originalFunctionToString.apply(this,arguments)}},_unpatchFunctionToString:function(){this._originalFunctionToString&&(Function.prototype.toString=this._originalFunctionToString)},_instrumentTryCatch:function(){var e=this,t=e._wrappedBuiltIns;function r(t){return function(r,n){for(var o=new Array(arguments.length),i=0;i<o.length;++i)o[i]=arguments[i];var a=o[0];return m(a)&&(o[0]=e.wrap({mechanism:{type:"instrument",data:{function:t.name||"<anonymous>"}}},a)),t.apply?t.apply(this,o):t(o[0],o[1])}}var n=this._globalOptions.autoBreadcrumbs;function o(r){var o=U[r]&&U[r].prototype;o&&o.hasOwnProperty&&o.hasOwnProperty("addEventListener")&&(I(o,"addEventListener",function(t){return function(o,i,a,s){try{i&&i.handleEvent&&(i.handleEvent=e.wrap({mechanism:{type:"instrument",data:{target:r,function:"handleEvent",handler:i&&i.name||"<anonymous>"}}},i.handleEvent))}catch(e){}var l,u,c;return n&&n.dom&&("EventTarget"===r||"Node"===r)&&(u=e._breadcrumbEventHandler("click"),c=e._keypressEventHandler(),l=function(e){if(e){var t;try{t=e.type}catch(e){return}return"click"===t?u(e):"keypress"===t?c(e):void 0}}),t.call(this,o,e.wrap({mechanism:{type:"instrument",data:{target:r,function:"addEventListener",handler:i&&i.name||"<anonymous>"}}},i,l),a,s)}},t),I(o,"removeEventListener",function(e){return function(t,r,n,o){try{r=r&&(r.__raven_wrapper__?r.__raven_wrapper__:r)}catch(e){}return e.call(this,t,r,n,o)}},t))}I(U,"setTimeout",r,t),I(U,"setInterval",r,t),U.requestAnimationFrame&&I(U,"requestAnimationFrame",function(t){return function(r){return t(e.wrap({mechanism:{type:"instrument",data:{function:"requestAnimationFrame",handler:t&&t.name||"<anonymous>"}}},r))}},t);for(var i=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],a=0;a<i.length;a++)o(i[a])},_instrumentBreadcrumbs:function(){var e=this,t=this._globalOptions.autoBreadcrumbs,r=e._wrappedBuiltIns;function n(t,r){t in r&&m(r[t])&&I(r,t,function(r){return e.wrap({mechanism:{type:"instrument",data:{function:t,handler:r&&r.name||"<anonymous>"}}},r)})}if(t.xhr&&"XMLHttpRequest"in U){var o=U.XMLHttpRequest&&U.XMLHttpRequest.prototype;I(o,"open",function(t){return function(r,n){return y(n)&&-1===n.indexOf(e._globalKey)&&(this.__raven_xhr={method:r,url:n,status_code:null}),t.apply(this,arguments)}},r),I(o,"send",function(t){return function(){var r=this;function o(){if(r.__raven_xhr&&4===r.readyState){try{r.__raven_xhr.status_code=r.status}catch(e){}e.captureBreadcrumb({type:"http",category:"xhr",data:r.__raven_xhr})}}for(var i=["onload","onerror","onprogress"],a=0;a<i.length;a++)n(i[a],r);return"onreadystatechange"in r&&m(r.onreadystatechange)?I(r,"onreadystatechange",function(t){return e.wrap({mechanism:{type:"instrument",data:{function:"onreadystatechange",handler:t&&t.name||"<anonymous>"}}},t,o)}):r.onreadystatechange=o,t.apply(this,arguments)}},r)}t.xhr&&M()&&I(U,"fetch",function(t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;++n)r[n]=arguments[n];var o,i=r[0],a="GET";if("string"===typeof i?o=i:"Request"in U&&i instanceof U.Request?(o=i.url,i.method&&(a=i.method)):o=""+i,-1!==o.indexOf(e._globalKey))return t.apply(this,r);r[1]&&r[1].method&&(a=r[1].method);var s={method:a,url:o,status_code:null};return t.apply(this,r).then(function(t){return s.status_code=t.status,e.captureBreadcrumb({type:"http",category:"fetch",data:s}),t}).catch(function(t){throw e.captureBreadcrumb({type:"http",category:"fetch",data:s,level:"error"}),t})}},r),t.dom&&this._hasDocument&&(V.addEventListener?(V.addEventListener("click",e._breadcrumbEventHandler("click"),!1),V.addEventListener("keypress",e._keypressEventHandler(),!1)):V.attachEvent&&(V.attachEvent("onclick",e._breadcrumbEventHandler("click")),V.attachEvent("onkeypress",e._keypressEventHandler())));var i=U.chrome,a=!(i&&i.app&&i.app.runtime)&&U.history&&U.history.pushState&&U.history.replaceState;if(t.location&&a){var s=U.onpopstate;U.onpopstate=function(){var t=e._location.href;if(e._captureUrlChange(e._lastHref,t),s)return s.apply(this,arguments)};var l=function(t){return function(){var r=arguments.length>2?arguments[2]:void 0;return r&&e._captureUrlChange(e._lastHref,r+""),t.apply(this,arguments)}};I(U.history,"pushState",l,r),I(U.history,"replaceState",l,r)}if(t.console&&"console"in U&&console.log){var u=function(t,r){e.captureBreadcrumb({message:t,level:r.level,category:"console"})};_(["debug","info","warn","error","log"],function(e,t){z(console,t,u)})}},_restoreBuiltIns:function(){for(var e;this._wrappedBuiltIns.length;){var t=(e=this._wrappedBuiltIns.shift())[0],r=e[1],n=e[2];t[r]=n}},_restoreConsole:function(){for(var e in this._originalConsoleMethods)this._originalConsole[e]=this._originalConsoleMethods[e]},_drainPlugins:function(){var e=this;_(this._plugins,function(t,r){var n=r[0],o=r[1];n.apply(e,[e].concat(o))})},_parseDSN:function(e){var t=N.exec(e),r={},n=7;try{for(;n--;)r[F[n]]=t[n]||""}catch(t){throw new a("Invalid DSN: "+e)}if(r.pass&&!this._globalOptions.allowSecretKey)throw new a("Do not specify your secret key in the DSN. See: http://bit.ly/raven-secret-key");return r},_getGlobalServer:function(e){var t="//"+e.host+(e.port?":"+e.port:"");return e.protocol&&(t=e.protocol+":"+t),t},_handleOnErrorStackInfo:function(e,t){(t=t||{}).mechanism=t.mechanism||{type:"onerror",handled:!1},this._ignoreOnError||this._handleStackInfo(e,t)},_handleStackInfo:function(e,t){var r=this._prepareFrames(e,t);this._triggerEvent("handle",{stackInfo:e,options:t}),this._processException(e.name,e.message,e.url,e.lineno,r,t)},_prepareFrames:function(e,t){var r=this,n=[];if(e.stack&&e.stack.length&&(_(e.stack,function(t,o){var i=r._normalizeFrame(o,e.url);i&&n.push(i)}),t&&t.trimHeadFrames))for(var o=0;o<t.trimHeadFrames&&o<n.length;o++)n[o].in_app=!1;return n=n.slice(0,this._globalOptions.stackTraceLimit)},_normalizeFrame:function(e,t){var r={filename:e.url,lineno:e.line,colno:e.column,function:e.func||"?"};return e.url||(r.filename=t),r.in_app=!(this._globalOptions.includePaths.test&&!this._globalOptions.includePaths.test(r.filename)||/(Raven|TraceKit)\./.test(r.function)||/raven\.(min\.)?js$/.test(r.filename)),r},_processException:function(e,t,r,n,o,i){var a,s=(e?e+": ":"")+(t||"");if((!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(t)&&!this._globalOptions.ignoreErrors.test(s))&&(o&&o.length?(r=o[0].filename||r,o.reverse(),a={frames:o}):r&&(a={frames:[{filename:r,lineno:n,in_app:!0}]}),(!this._globalOptions.ignoreUrls.test||!this._globalOptions.ignoreUrls.test(r))&&(!this._globalOptions.whitelistUrls.test||this._globalOptions.whitelistUrls.test(r)))){var l=b({exception:{values:[{type:e,value:t,stacktrace:a}]},transaction:r},i),u=l.exception.values[0];null==u.type&&""===u.value&&(u.value="Unrecoverable error caught"),!l.exception.mechanism&&l.mechanism&&(l.exception.mechanism=l.mechanism,delete l.mechanism),l.exception.mechanism=b({type:"generic",handled:!0},l.exception.mechanism||{}),this._send(l)}},_trimPacket:function(e){var t=this._globalOptions.maxMessageLength;if(e.message&&(e.message=x(e.message,t)),e.exception){var r=e.exception.values[0];r.value=x(r.value,t)}var n=e.request;return n&&(n.url&&(n.url=x(n.url,this._globalOptions.maxUrlLength)),n.Referer&&(n.Referer=x(n.Referer,this._globalOptions.maxUrlLength))),e.breadcrumbs&&e.breadcrumbs.values&&this._trimBreadcrumbs(e.breadcrumbs),e},_trimBreadcrumbs:function(e){for(var t,r,n,o=["to","from","url"],i=0;i<e.values.length;++i)if((r=e.values[i]).hasOwnProperty("data")&&h(r.data)&&!w(r.data)){n=b({},r.data);for(var a=0;a<o.length;++a)t=o[a],n.hasOwnProperty(t)&&n[t]&&(n[t]=x(n[t],this._globalOptions.maxUrlLength));e.values[i].data=n}},_getHttpData:function(){if(this._hasNavigator||this._hasDocument){var e={};return this._hasNavigator&&G.userAgent&&(e.headers={"User-Agent":G.userAgent}),U.location&&U.location.href&&(e.url=U.location.href),this._hasDocument&&V.referrer&&(e.headers||(e.headers={}),e.headers.Referer=V.referrer),e}},_resetBackoff:function(){this._backoffDuration=0,this._backoffStart=null},_shouldBackoff:function(){return this._backoffDuration&&B()-this._backoffStart<this._backoffDuration},_isRepeatData:function(e){var t=this._lastData;return!(!t||e.message!==t.message||e.transaction!==t.transaction)&&(e.stacktrace||t.stacktrace?P(e.stacktrace,t.stacktrace):!e.exception&&!t.exception||O(e.exception,t.exception))},_setBackoffState:function(e){if(!this._shouldBackoff()){var t=e.status;if(400===t||401===t||429===t){var r;try{r=M()?e.headers.get("Retry-After"):e.getResponseHeader("Retry-After"),r=1e3*parseInt(r,10)}catch(e){}this._backoffDuration=r||(2*this._backoffDuration||1e3),this._backoffStart=B()}}},_send:function(e){var t=this._globalOptions,r={project:this._globalProject,logger:t.logger,platform:"javascript"},n=this._getHttpData();n&&(r.request=n),e.trimHeadFrames&&delete e.trimHeadFrames,(e=b(r,e)).tags=b(b({},this._globalContext.tags),e.tags),e.extra=b(b({},this._globalContext.extra),e.extra),e.extra["session:duration"]=B()-this._startTime,this._breadcrumbs&&this._breadcrumbs.length>0&&(e.breadcrumbs={values:[].slice.call(this._breadcrumbs,0)}),this._globalContext.user&&(e.user=this._globalContext.user),t.environment&&(e.environment=t.environment),t.release&&(e.release=t.release),t.serverName&&(e.server_name=t.serverName),e=this._sanitizeData(e),Object.keys(e).forEach(function(t){(null==e[t]||""===e[t]||g(e[t]))&&delete e[t]}),m(t.dataCallback)&&(e=t.dataCallback(e)||e),e&&!g(e)&&(m(t.shouldSendCallback)&&!t.shouldSendCallback(e)||(this._shouldBackoff()?this._logDebug("warn","Raven dropped error due to backoff: ",e):"number"===typeof t.sampleRate?Math.random()<t.sampleRate&&this._sendProcessedPayload(e):this._sendProcessedPayload(e)))},_sanitizeData:function(e){return j(e,this._globalOptions.sanitizeKeys)},_getUuid:function(){return k()},_sendProcessedPayload:function(e,t){var r=this,n=this._globalOptions;if(this.isSetup())if(e=this._trimPacket(e),this._globalOptions.allowDuplicates||!this._isRepeatData(e)){this._lastEventId=e.event_id||(e.event_id=this._getUuid()),this._lastData=e,this._logDebug("debug","Raven about to send:",e);var o={sentry_version:"7",sentry_client:"raven-js/"+this.VERSION,sentry_key:this._globalKey};this._globalSecret&&(o.sentry_secret=this._globalSecret);var i=e.exception&&e.exception.values[0];this._globalOptions.autoBreadcrumbs&&this._globalOptions.autoBreadcrumbs.sentry&&this.captureBreadcrumb({category:"sentry",message:i?(i.type?i.type+": ":"")+i.value:e.message,event_id:e.event_id,level:e.level||"error"});var a=this._globalEndpoint;(n.transport||this._makeRequest).call(this,{url:a,auth:o,data:e,options:n,onSuccess:function(){r._resetBackoff(),r._triggerEvent("success",{data:e,src:a}),t&&t()},onError:function(n){r._logDebug("error","Raven transport failed to send: ",n),n.request&&r._setBackoffState(n.request),r._triggerEvent("failure",{data:e,src:a}),n=n||new Error("Raven send failed (no additional details provided)"),t&&t(n)}})}else this._logDebug("warn","Raven dropped repeat event: ",e)},_makeRequest:function(e){var t=e.url+"?"+C(e.auth),r=null,n={};if(e.options.headers&&(r=this._evaluateHash(e.options.headers)),e.options.fetchParameters&&(n=this._evaluateHash(e.options.fetchParameters)),M()){n.body=o(e.data);var i=b({},this._fetchDefaults),a=b(i,n);return r&&(a.headers=r),U.fetch(t,a).then(function(t){if(t.ok)e.onSuccess&&e.onSuccess();else{var r=new Error("Sentry error code: "+t.status);r.request=t,e.onError&&e.onError(r)}}).catch(function(){e.onError&&e.onError(new Error("Sentry error code: network unavailable"))})}var s=U.XMLHttpRequest&&new U.XMLHttpRequest;s&&(("withCredentials"in s||"undefined"!==typeof XDomainRequest)&&("withCredentials"in s?s.onreadystatechange=function(){if(4===s.readyState)if(200===s.status)e.onSuccess&&e.onSuccess();else if(e.onError){var t=new Error("Sentry error code: "+s.status);t.request=s,e.onError(t)}}:(s=new XDomainRequest,t=t.replace(/^https?:/,""),e.onSuccess&&(s.onload=e.onSuccess),e.onError&&(s.onerror=function(){var t=new Error("Sentry error code: XDomainRequest");t.request=s,e.onError(t)})),s.open("POST",t),r&&_(r,function(e,t){s.setRequestHeader(e,t)}),s.send(o(e.data))))},_evaluateHash:function(e){var t={};for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];t[r]="function"===typeof n?n():n}return t},_logDebug:function(e){this._originalConsoleMethods[e]&&(this.debug||this._globalOptions.debug)&&Function.prototype.apply.call(this._originalConsoleMethods[e],this._originalConsole,[].slice.call(arguments,1))},_mergeContext:function(e,t){d(t)?delete this._globalContext[e]:this._globalContext[e]=b(this._globalContext[e]||{},t)}},H.prototype.setUser=H.prototype.setUserContext,H.prototype.setReleaseContext=H.prototype.setRelease,e.exports=H}).call(t,r(32))},function(e,t,r){(function(t){var n=r(174),o={collectWindowErrors:!0,debug:!1},i="undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:{},a=[].slice,s="?",l=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;function u(){return"undefined"===typeof document||null==document.location?"":document.location.href}o.report=function(){var e,t,r=[],c=null,p=null,h=null;function f(e,t){var n=null;if(!t||o.collectWindowErrors){for(var i in r)if(r.hasOwnProperty(i))try{r[i].apply(null,[e].concat(a.call(arguments,2)))}catch(e){n=e}if(n)throw n}}function d(t,r,i,a,c){var p=n.isErrorEvent(c)?c.error:c,d=n.isErrorEvent(t)?t.message:t;if(h)o.computeStackTrace.augmentStackTraceWithInitialElement(h,r,i,d),m();else if(p&&n.isError(p))f(o.computeStackTrace(p),!0);else{var y,v={url:r,line:i,column:a},g=void 0;if("[object String]"==={}.toString.call(d))(y=d.match(l))&&(g=y[1],d=y[2]);v.func=s,f({name:g,message:d,url:u(),stack:[v]},!0)}return!!e&&e.apply(this,arguments)}function m(){var e=h,t=c;c=null,h=null,p=null,f.apply(null,[e,!1].concat(t))}function y(e,t){var r=a.call(arguments,1);if(h){if(p===e)return;m()}var n=o.computeStackTrace(e);if(h=n,p=e,c=r,setTimeout(function(){p===e&&m()},n.incomplete?2e3:0),!1!==t)throw e}return y.subscribe=function(n){t||(e=i.onerror,i.onerror=d,t=!0),r.push(n)},y.unsubscribe=function(e){for(var t=r.length-1;t>=0;--t)r[t]===e&&r.splice(t,1)},y.uninstall=function(){t&&(i.onerror=e,t=!1,e=void 0),r=[]},y}(),o.computeStackTrace=function(){function e(e){if("undefined"!==typeof e.stack&&e.stack){for(var t,r,n,o=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|[a-z]:|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,i=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx(?:-web)|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,a=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,l=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,c=/\((\S*)(?::(\d+))(?::(\d+))\)/,p=e.stack.split("\n"),h=[],f=(/^(.*) is undefined$/.exec(e.message),0),d=p.length;f<d;++f){if(r=o.exec(p[f])){var m=r[2]&&0===r[2].indexOf("native");r[2]&&0===r[2].indexOf("eval")&&(t=c.exec(r[2]))&&(r[2]=t[1],r[3]=t[2],r[4]=t[3]),n={url:m?null:r[2],func:r[1]||s,args:m?[r[2]]:[],line:r[3]?+r[3]:null,column:r[4]?+r[4]:null}}else if(r=i.exec(p[f]))n={url:r[2],func:r[1]||s,args:[],line:+r[3],column:r[4]?+r[4]:null};else{if(!(r=a.exec(p[f])))continue;r[3]&&r[3].indexOf(" > eval")>-1&&(t=l.exec(r[3]))?(r[3]=t[1],r[4]=t[2],r[5]=null):0!==f||r[5]||"undefined"===typeof e.columnNumber||(h[0].column=e.columnNumber+1),n={url:r[3],func:r[1]||s,args:r[2]?r[2].split(","):[],line:r[4]?+r[4]:null,column:r[5]?+r[5]:null}}if(!n.func&&n.line&&(n.func=s),n.url&&"blob:"===n.url.substr(0,5)){var y=new XMLHttpRequest;if(y.open("GET",n.url,!1),y.send(null),200===y.status){var v=y.responseText||"",g=(v=v.slice(-300)).match(/\/\/# sourceMappingURL=(.*)$/);if(g){var _=g[1];"~"===_.charAt(0)&&(_=("undefined"===typeof document||null==document.location?"":document.location.origin?document.location.origin:document.location.protocol+"//"+document.location.hostname+(document.location.port?":"+document.location.port:""))+_.slice(1)),n.url=_.slice(0,-4)}}}h.push(n)}return h.length?{name:e.name,message:e.message,url:u(),stack:h}:null}}function t(e,t,r,n){var o={url:t,line:r};if(o.url&&o.line){if(e.incomplete=!1,o.func||(o.func=s),e.stack.length>0&&e.stack[0].url===o.url){if(e.stack[0].line===o.line)return!1;if(!e.stack[0].line&&e.stack[0].func===o.func)return e.stack[0].line=o.line,!1}return e.stack.unshift(o),e.partial=!0,!0}return e.incomplete=!0,!1}function r(e,i){for(var a,l,c=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,p=[],h={},f=!1,d=r.caller;d&&!f;d=d.caller)if(d!==n&&d!==o.report){if(l={url:null,func:s,line:null,column:null},d.name?l.func=d.name:(a=c.exec(d.toString()))&&(l.func=a[1]),"undefined"===typeof l.func)try{l.func=a.input.substring(0,a.input.indexOf("{"))}catch(e){}h[""+d]?f=!0:h[""+d]=!0,p.push(l)}i&&p.splice(0,i);var m={name:e.name,message:e.message,url:u(),stack:p};return t(m,e.sourceURL||e.fileName,e.line||e.lineNumber,e.message||e.description),m}function n(t,n){var i=null;n=null==n?0:+n;try{if(i=e(t))return i}catch(e){if(o.debug)throw e}try{if(i=r(t,n+1))return i}catch(e){if(o.debug)throw e}return{name:t.name,message:t.message,url:u()}}return n.augmentStackTraceWithInitialElement=t,n.computeStackTraceFromStackProp=e,n}(),e.exports=o}).call(t,r(32))},function(e,t){function r(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function n(e,t,n,o,i,a){return r((s=r(r(t,e),r(o,a)))<<(l=i)|s>>>32-l,n);var s,l}function o(e,t,r,o,i,a,s){return n(t&r|~t&o,e,t,i,a,s)}function i(e,t,r,o,i,a,s){return n(t&o|r&~o,e,t,i,a,s)}function a(e,t,r,o,i,a,s){return n(t^r^o,e,t,i,a,s)}function s(e,t,r,o,i,a,s){return n(r^(t|~o),e,t,i,a,s)}function l(e,t){var n,l,u,c,p;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var h=1732584193,f=-271733879,d=-1732584194,m=271733878;for(n=0;n<e.length;n+=16)l=h,u=f,c=d,p=m,f=s(f=s(f=s(f=s(f=a(f=a(f=a(f=a(f=i(f=i(f=i(f=i(f=o(f=o(f=o(f=o(f,d=o(d,m=o(m,h=o(h,f,d,m,e[n],7,-680876936),f,d,e[n+1],12,-389564586),h,f,e[n+2],17,606105819),m,h,e[n+3],22,-1044525330),d=o(d,m=o(m,h=o(h,f,d,m,e[n+4],7,-176418897),f,d,e[n+5],12,1200080426),h,f,e[n+6],17,-1473231341),m,h,e[n+7],22,-45705983),d=o(d,m=o(m,h=o(h,f,d,m,e[n+8],7,1770035416),f,d,e[n+9],12,-1958414417),h,f,e[n+10],17,-42063),m,h,e[n+11],22,-1990404162),d=o(d,m=o(m,h=o(h,f,d,m,e[n+12],7,1804603682),f,d,e[n+13],12,-40341101),h,f,e[n+14],17,-1502002290),m,h,e[n+15],22,1236535329),d=i(d,m=i(m,h=i(h,f,d,m,e[n+1],5,-165796510),f,d,e[n+6],9,-1069501632),h,f,e[n+11],14,643717713),m,h,e[n],20,-373897302),d=i(d,m=i(m,h=i(h,f,d,m,e[n+5],5,-701558691),f,d,e[n+10],9,38016083),h,f,e[n+15],14,-660478335),m,h,e[n+4],20,-405537848),d=i(d,m=i(m,h=i(h,f,d,m,e[n+9],5,568446438),f,d,e[n+14],9,-1019803690),h,f,e[n+3],14,-187363961),m,h,e[n+8],20,1163531501),d=i(d,m=i(m,h=i(h,f,d,m,e[n+13],5,-1444681467),f,d,e[n+2],9,-51403784),h,f,e[n+7],14,1735328473),m,h,e[n+12],20,-1926607734),d=a(d,m=a(m,h=a(h,f,d,m,e[n+5],4,-378558),f,d,e[n+8],11,-2022574463),h,f,e[n+11],16,1839030562),m,h,e[n+14],23,-35309556),d=a(d,m=a(m,h=a(h,f,d,m,e[n+1],4,-1530992060),f,d,e[n+4],11,1272893353),h,f,e[n+7],16,-155497632),m,h,e[n+10],23,-1094730640),d=a(d,m=a(m,h=a(h,f,d,m,e[n+13],4,681279174),f,d,e[n],11,-358537222),h,f,e[n+3],16,-722521979),m,h,e[n+6],23,76029189),d=a(d,m=a(m,h=a(h,f,d,m,e[n+9],4,-640364487),f,d,e[n+12],11,-421815835),h,f,e[n+15],16,530742520),m,h,e[n+2],23,-995338651),d=s(d,m=s(m,h=s(h,f,d,m,e[n],6,-198630844),f,d,e[n+7],10,1126891415),h,f,e[n+14],15,-1416354905),m,h,e[n+5],21,-57434055),d=s(d,m=s(m,h=s(h,f,d,m,e[n+12],6,1700485571),f,d,e[n+3],10,-1894986606),h,f,e[n+10],15,-1051523),m,h,e[n+1],21,-2054922799),d=s(d,m=s(m,h=s(h,f,d,m,e[n+8],6,1873313359),f,d,e[n+15],10,-30611744),h,f,e[n+6],15,-1560198380),m,h,e[n+13],21,1309151649),d=s(d,m=s(m,h=s(h,f,d,m,e[n+4],6,-145523070),f,d,e[n+11],10,-1120210379),h,f,e[n+2],15,718787259),m,h,e[n+9],21,-343485551),h=r(h,l),f=r(f,u),d=r(d,c),m=r(m,p);return[h,f,d,m]}function u(e){var t,r="",n=32*e.length;for(t=0;t<n;t+=8)r+=String.fromCharCode(e[t>>5]>>>t%32&255);return r}function c(e){var t,r=[];for(r[(e.length>>2)-1]=void 0,t=0;t<r.length;t+=1)r[t]=0;var n=8*e.length;for(t=0;t<n;t+=8)r[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return r}function p(e){var t,r,n="";for(r=0;r<e.length;r+=1)t=e.charCodeAt(r),n+="0123456789abcdef".charAt(t>>>4&15)+"0123456789abcdef".charAt(15&t);return n}function h(e){return unescape(encodeURIComponent(e))}function f(e){return function(e){return u(l(c(e),8*e.length))}(h(e))}function d(e,t){return function(e,t){var r,n,o=c(e),i=[],a=[];for(i[15]=a[15]=void 0,o.length>16&&(o=l(o,8*e.length)),r=0;r<16;r+=1)i[r]=909522486^o[r],a[r]=1549556828^o[r];return n=l(i.concat(c(t)),512+8*t.length),u(l(a.concat(n),640))}(h(e),h(t))}e.exports=function(e,t,r){return t?r?d(t,e):p(d(t,e)):r?f(e):p(f(e))}},function(e,t){function r(e){this.name="RavenConfigError",this.message=e}r.prototype=new Error,r.prototype.constructor=r,e.exports=r},function(e,t,r){var n=r(174);e.exports={wrapMethod:function(e,t,r){var o=e[t],i=e;if(t in e){var a="warn"===t?"warning":t;e[t]=function(){var e=[].slice.call(arguments),s=n.safeJoin(e," "),l={level:a,logger:"console",extra:{arguments:e}};"assert"===t?!1===e[0]&&(s="Assertion failed: "+(n.safeJoin(e.slice(1)," ")||"console.assert"),l.extra.arguments=e.slice(1),r&&r(s,l)):r&&r(s,l),o&&Function.prototype.apply.call(o,i,e)}}}}},function(e,t,r){var n=r(513),o=[r(514),r(515),r(516),r(517)];e.exports=n.createStore(o,[])},function(e,t,r){var n=r(117),o=n.slice,i=n.pluck,a=n.each,s=n.bind,l=n.create,u=n.isList,c=n.isFunction,p=n.isObject;e.exports={createStore:f};var h={version:"2.0.12",enabled:!1,get:function(e,t){var r=this.storage.read(this._namespacePrefix+e);return this._deserialize(r,t)},set:function(e,t){return void 0===t?this.remove(e):(this.storage.write(this._namespacePrefix+e,this._serialize(t)),t)},remove:function(e){this.storage.remove(this._namespacePrefix+e)},each:function(e){var t=this;this.storage.each(function(r,n){e.call(t,t._deserialize(r),(n||"").replace(t._namespaceRegexp,""))})},clearAll:function(){this.storage.clearAll()},hasNamespace:function(e){return this._namespacePrefix=="__storejs_"+e+"_"},createStore:function(){return f.apply(this,arguments)},addPlugin:function(e){this._addPlugin(e)},namespace:function(e){return f(this.storage,this.plugins,e)}};function f(e,t,r){r||(r=""),e&&!u(e)&&(e=[e]),t&&!u(t)&&(t=[t]);var n=r?"__storejs_"+r+"_":"",f=r?new RegExp("^"+n):null;if(!/^[a-zA-Z0-9_\-]*$/.test(r))throw new Error("store.js namespaces can only have alphanumerics + underscores and dashes");var d=l({_namespacePrefix:n,_namespaceRegexp:f,_testStorage:function(e){try{var t="__storejs__test__";e.write(t,t);var r=e.read(t)===t;return e.remove(t),r}catch(e){return!1}},_assignPluginFnProp:function(e,t){var r=this[t];this[t]=function(){var t=o(arguments,0),n=this;var i=[function(){if(r)return a(arguments,function(e,r){t[r]=e}),r.apply(n,t)}].concat(t);return e.apply(n,i)}},_serialize:function(e){return JSON.stringify(e)},_deserialize:function(e,t){if(!e)return t;var r="";try{r=JSON.parse(e)}catch(t){r=e}return void 0!==r?r:t},_addStorage:function(e){this.enabled||this._testStorage(e)&&(this.storage=e,this.enabled=!0)},_addPlugin:function(e){var t=this;if(u(e))a(e,function(e){t._addPlugin(e)});else if(!i(this.plugins,function(t){return e===t})){if(this.plugins.push(e),!c(e))throw new Error("Plugins must be function values that return objects");var r=e.call(this);if(!p(r))throw new Error("Plugins must return an object of function properties");a(r,function(r,n){if(!c(r))throw new Error("Bad plugin property: "+n+" from plugin "+e.name+". Plugins should only return functions.");t._assignPluginFnProp(r,n)})}},addStorage:function(e){!function(){var e="undefined"==typeof console?null:console;e&&(e.warn?e.warn:e.log).apply(e,arguments)}("store.addStorage(storage) is deprecated. Use createStore([storages])"),this._addStorage(e)}},h,{plugins:[]});return d.raw={},a(d,function(e,t){c(e)&&(d.raw[t]=s(d,e))}),a(e,function(e){d._addStorage(e)}),a(t,function(e){d._addPlugin(e)}),d}},function(e,t,r){var n=r(117).Global;function o(){return n.localStorage}function i(e){return o().getItem(e)}e.exports={name:"localStorage",read:i,write:function(e,t){return o().setItem(e,t)},each:function(e){for(var t=o().length-1;t>=0;t--){var r=o().key(t);e(i(r),r)}},remove:function(e){return o().removeItem(e)},clearAll:function(){return o().clear()}}},function(e,t,r){var n=r(117).Global;function o(){return n.sessionStorage}function i(e){return o().getItem(e)}e.exports={name:"sessionStorage",read:i,write:function(e,t){return o().setItem(e,t)},each:function(e){for(var t=o().length-1;t>=0;t--){var r=o().key(t);e(i(r),r)}},remove:function(e){return o().removeItem(e)},clearAll:function(){return o().clear()}}},function(e,t,r){var n=r(117),o=n.Global,i=n.trim;e.exports={name:"cookieStorage",read:function(e){if(!e||!u(e))return null;var t="(?:^|.*;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*";return unescape(a.cookie.replace(new RegExp(t),"$1"))},write:function(e,t){if(!e)return;a.cookie=escape(e)+"="+escape(t)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/"},each:s,remove:l,clearAll:function(){s(function(e,t){l(t)})}};var a=o.document;function s(e){for(var t=a.cookie.split(/; ?/g),r=t.length-1;r>=0;r--)if(i(t[r])){var n=t[r].split("="),o=unescape(n[0]);e(unescape(n[1]),o)}}function l(e){e&&u(e)&&(a.cookie=escape(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")}function u(e){return new RegExp("(?:^|;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(a.cookie)}},function(e,t){e.exports={name:"memoryStorage",read:function(e){return r[e]},write:function(e,t){r[e]=t},each:function(e){for(var t in r)r.hasOwnProperty(t)&&e(r[t],t)},remove:function(e){delete r[e]},clearAll:function(e){r={}}};var r={}},function(e,t,r){function n(e){if(e)return function(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}(e)}e.exports=n,n.prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},n.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var o=0;o<n.length;o++)if((r=n[o])===t||r.fn===t){n.splice(o,1);break}return this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),r=this._callbacks["$"+e];if(r)for(var n=0,o=(r=r.slice(0)).length;n<o;++n)r[n].apply(this,t);return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,r){"use strict";var n=r(284);function o(e){if(e)return function(e){for(var t in o.prototype)e[t]=o.prototype[t];return e}(e)}e.exports=o,o.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,this},o.prototype.parse=function(e){return this._parser=e,this},o.prototype.responseType=function(e){return this._responseType=e,this},o.prototype.serialize=function(e){return this._serializer=e,this},o.prototype.timeout=function(e){if(!e||"object"!==typeof e)return this._timeout=e,this._responseTimeout=0,this;for(var t in e)switch(t){case"deadline":this._timeout=e.deadline;break;case"response":this._responseTimeout=e.response;break;default:console.warn("Unknown timeout option",t)}return this},o.prototype.retry=function(e,t){return 0!==arguments.length&&!0!==e||(e=1),e<=0&&(e=0),this._maxRetries=e,this._retries=0,this._retryCallback=t,this};var i=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];o.prototype._shouldRetry=function(e,t){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var r=this._retryCallback(e,t);if(!0===r)return!0;if(!1===r)return!1}catch(e){console.error(e)}if(t&&t.status&&t.status>=500&&501!=t.status)return!0;if(e){if(e.code&&~i.indexOf(e.code))return!0;if(e.timeout&&"ECONNABORTED"==e.code)return!0;if(e.crossDomain)return!0}return!1},o.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this._end()},o.prototype.then=function(e,t){if(!this._fullfilledPromise){var r=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise(function(e,t){r.end(function(r,n){r?t(r):e(n)})})}return this._fullfilledPromise.then(e,t)},o.prototype.catch=function(e){return this.then(void 0,e)},o.prototype.use=function(e){return e(this),this},o.prototype.ok=function(e){if("function"!==typeof e)throw Error("Callback required");return this._okCallback=e,this},o.prototype._isResponseOK=function(e){return!!e&&(this._okCallback?this._okCallback(e):e.status>=200&&e.status<300)},o.prototype.get=function(e){return this._header[e.toLowerCase()]},o.prototype.getHeader=o.prototype.get,o.prototype.set=function(e,t){if(n(e)){for(var r in e)this.set(r,e[r]);return this}return this._header[e.toLowerCase()]=t,this.header[e]=t,this},o.prototype.unset=function(e){return delete this._header[e.toLowerCase()],delete this.header[e],this},o.prototype.field=function(e,t){if(null===e||void 0===e)throw new Error(".field(name, val) name can not be empty");if(this._data&&console.error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()"),n(e)){for(var r in e)this.field(r,e[r]);return this}if(Array.isArray(t)){for(var o in t)this.field(e,t[o]);return this}if(null===t||void 0===t)throw new Error(".field(name, val) val can not be empty");return"boolean"===typeof t&&(t=""+t),this._getFormData().append(e,t),this},o.prototype.abort=function(){return this._aborted?this:(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort"),this)},o.prototype._auth=function(e,t,r,n){switch(r.type){case"basic":this.set("Authorization","Basic "+n(e+":"+t));break;case"auto":this.username=e,this.password=t;break;case"bearer":this.set("Authorization","Bearer "+e)}return this},o.prototype.withCredentials=function(e){return void 0==e&&(e=!0),this._withCredentials=e,this},o.prototype.redirects=function(e){return this._maxRedirects=e,this},o.prototype.maxResponseSize=function(e){if("number"!==typeof e)throw TypeError("Invalid argument");return this._maxResponseSize=e,this},o.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},o.prototype.send=function(e){var t=n(e),r=this._header["content-type"];if(this._formData&&console.error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()"),t&&!this._data)Array.isArray(e)?this._data=[]:this._isHost(e)||(this._data={});else if(e&&this._data&&this._isHost(this._data))throw Error("Can't merge these send calls");if(t&&n(this._data))for(var o in e)this._data[o]=e[o];else"string"==typeof e?(r||this.type("form"),r=this._header["content-type"],this._data="application/x-www-form-urlencoded"==r?this._data?this._data+"&"+e:e:(this._data||"")+e):this._data=e;return!t||this._isHost(e)?this:(r||this.type("json"),this)},o.prototype.sortQuery=function(e){return this._sort="undefined"===typeof e||e,this},o.prototype._finalizeQueryString=function(){var e=this._query.join("&");if(e&&(this.url+=(this.url.indexOf("?")>=0?"&":"?")+e),this._query.length=0,this._sort){var t=this.url.indexOf("?");if(t>=0){var r=this.url.substring(t+1).split("&");"function"===typeof this._sort?r.sort(this._sort):r.sort(),this.url=this.url.substring(0,t)+"?"+r.join("&")}}},o.prototype._appendQueryString=function(){console.trace("Unsupported")},o.prototype._timeoutError=function(e,t,r){if(!this._aborted){var n=new Error(e+t+"ms exceeded");n.timeout=t,n.code="ECONNABORTED",n.errno=r,this.timedout=!0,this.abort(),this.callback(n)}},o.prototype._setTimeouts=function(){var e=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){e._timeoutError("Timeout of ",e._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){e._timeoutError("Response timeout of ",e._responseTimeout,"ETIMEDOUT")},this._responseTimeout))}},function(e,t,r){"use strict";var n=r(521);function o(e){if(e)return function(e){for(var t in o.prototype)e[t]=o.prototype[t];return e}(e)}e.exports=o,o.prototype.get=function(e){return this.header[e.toLowerCase()]},o.prototype._setHeaderProperties=function(e){var t=e["content-type"]||"";this.type=n.type(t);var r=n.params(t);for(var o in r)this[o]=r[o];this.links={};try{e.link&&(this.links=n.parseLinks(e.link))}catch(e){}},o.prototype._setStatusProperties=function(e){var t=e/100|0;this.status=this.statusCode=e,this.statusType=t,this.info=1==t,this.ok=2==t,this.redirect=3==t,this.clientError=4==t,this.serverError=5==t,this.error=(4==t||5==t)&&this.toError(),this.created=201==e,this.accepted=202==e,this.noContent=204==e,this.badRequest=400==e,this.unauthorized=401==e,this.notAcceptable=406==e,this.forbidden=403==e,this.notFound=404==e,this.unprocessableEntity=422==e}},function(e,t,r){"use strict";t.type=function(e){return e.split(/ *; */).shift()},t.params=function(e){return e.split(/ *; */).reduce(function(e,t){var r=t.split(/ *= */),n=r.shift(),o=r.shift();return n&&o&&(e[n]=o),e},{})},t.parseLinks=function(e){return e.split(/ *, */).reduce(function(e,t){var r=t.split(/ *; */),n=r[0].slice(1,-1);return e[r[1].split(/ *= */)[1].slice(1,-1)]=n,e},{})},t.cleanHeader=function(e,t){return delete e["content-type"],delete e["content-length"],delete e["transfer-encoding"],delete e.host,t&&(delete e.authorization,delete e.cookie),e}},function(e,t){function r(){this._defaults=[]}["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert"].forEach(function(e){r.prototype[e]=function(){return this._defaults.push({fn:e,arguments:arguments}),this}}),r.prototype._setDefaults=function(e){this._defaults.forEach(function(t){e[t.fn].apply(e,t.arguments)})},e.exports=r},function(e,t,r){var n=r(524),o=r(566),i=r(572),a=r(580),s=i(function(e,t){return a(e)?n(e,o(t,1,a,!0)):[]});e.exports=s},function(e,t,r){var n=r(525),o=r(557),i=r(562),a=r(563),s=r(564),l=r(565),u=200;e.exports=function(e,t,r,c){var p=-1,h=o,f=!0,d=e.length,m=[],y=t.length;if(!d)return m;r&&(t=a(t,s(r))),c?(h=i,f=!1):t.length>=u&&(h=l,f=!1,t=new n(t));e:for(;++p<d;){var v=e[p],g=null==r?v:r(v);if(v=c||0!==v?v:0,f&&g===g){for(var _=y;_--;)if(t[_]===g)continue e;m.push(v)}else h(t,g,c)||m.push(v)}return m}},function(e,t,r){var n=r(526),o=r(555),i=r(556);function a(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new n;++t<r;)this.add(e[t])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,e.exports=a},function(e,t,r){var n=r(527),o=r(550),i=r(552),a=r(553),s=r(554);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,e.exports=l},function(e,t,r){var n=r(528),o=r(542),i=r(549);e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(i||o),string:new n}}},function(e,t,r){var n=r(529),o=r(538),i=r(539),a=r(540),s=r(541);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,e.exports=l},function(e,t,r){var n=r(118);e.exports=function(){this.__data__=n?n(null):{},this.size=0}},function(e,t,r){var n=r(285),o=r(534),i=r(120),a=r(536),s=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,c=l.toString,p=u.hasOwnProperty,h=RegExp("^"+c.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||o(e))&&(n(e)?h:s).test(a(e))}},function(e,t,r){(function(t){var r="object"==typeof t&&t&&t.Object===Object&&t;e.exports=r}).call(t,r(32))},function(e,t,r){var n=r(180),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=n?n.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),r=e[s];try{e[s]=void 0;var n=!0}catch(e){}var o=a.call(e);return n&&(t?e[s]=r:delete e[s]),o}},function(e,t){var r=Object.prototype.toString;e.exports=function(e){return r.call(e)}},function(e,t,r){var n,o=r(535),i=(n=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";e.exports=function(e){return!!i&&i in e}},function(e,t,r){var n=r(119)["__core-js_shared__"];e.exports=n},function(e,t){var r=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return r.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,r){var n=r(118),o="__lodash_hash_undefined__",i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(n){var r=t[e];return r===o?void 0:r}return i.call(t,e)?t[e]:void 0}},function(e,t,r){var n=r(118),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:o.call(t,e)}},function(e,t,r){var n=r(118),o="__lodash_hash_undefined__";e.exports=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n&&void 0===t?o:t,this}},function(e,t,r){var n=r(543),o=r(544),i=r(546),a=r(547),s=r(548);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,e.exports=l},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,r){var n=r(121),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,r=n(t,e);return!(r<0)&&(r==t.length-1?t.pop():o.call(t,r,1),--this.size,!0)}},function(e,t){e.exports=function(e,t){return e===t||e!==e&&t!==t}},function(e,t,r){var n=r(121);e.exports=function(e){var t=this.__data__,r=n(t,e);return r<0?void 0:t[r][1]}},function(e,t,r){var n=r(121);e.exports=function(e){return n(this.__data__,e)>-1}},function(e,t,r){var n=r(121);e.exports=function(e,t){var r=this.__data__,o=n(r,e);return o<0?(++this.size,r.push([e,t])):r[o][1]=t,this}},function(e,t,r){var n=r(178)(r(119),"Map");e.exports=n},function(e,t,r){var n=r(122);e.exports=function(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,r){var n=r(122);e.exports=function(e){return n(this,e).get(e)}},function(e,t,r){var n=r(122);e.exports=function(e){return n(this,e).has(e)}},function(e,t,r){var n=r(122);e.exports=function(e,t){var r=n(this,e),o=r.size;return r.set(e,t),this.size+=r.size==o?0:1,this}},function(e,t){var r="__lodash_hash_undefined__";e.exports=function(e){return this.__data__.set(e,r),this}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,r){var n=r(558);e.exports=function(e,t){return!(null==e||!e.length)&&n(e,t,0)>-1}},function(e,t,r){var n=r(559),o=r(560),i=r(561);e.exports=function(e,t,r){return t===t?i(e,t,r):n(e,o,r)}},function(e,t){e.exports=function(e,t,r,n){for(var o=e.length,i=r+(n?1:-1);n?i--:++i<o;)if(t(e[i],i,e))return i;return-1}},function(e,t){e.exports=function(e){return e!==e}},function(e,t){e.exports=function(e,t,r){for(var n=r-1,o=e.length;++n<o;)if(e[n]===t)return n;return-1}},function(e,t){e.exports=function(e,t,r){for(var n=-1,o=null==e?0:e.length;++n<o;)if(r(t,e[n]))return!0;return!1}},function(e,t){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t){e.exports=function(e,t){return e.has(t)}},function(e,t,r){var n=r(567),o=r(568);e.exports=function e(t,r,i,a,s){var l=-1,u=t.length;for(i||(i=o),s||(s=[]);++l<u;){var c=t[l];r>0&&i(c)?r>1?e(c,r-1,i,a,s):n(s,c):a||(s[s.length]=c)}return s}},function(e,t){e.exports=function(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}},function(e,t,r){var n=r(180),o=r(569),i=r(571),a=n?n.isConcatSpreadable:void 0;e.exports=function(e){return i(e)||o(e)||!!(a&&e&&e[a])}},function(e,t,r){var n=r(570),o=r(123),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,l=n(function(){return arguments}())?n:function(e){return o(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},function(e,t,r){var n=r(179),o=r(123),i="[object Arguments]";e.exports=function(e){return o(e)&&n(e)==i}},function(e,t){var r=Array.isArray;e.exports=r},function(e,t,r){var n=r(286),o=r(573),i=r(575);e.exports=function(e,t){return i(o(e,t,n),e+"")}},function(e,t,r){var n=r(574),o=Math.max;e.exports=function(e,t,r){return t=o(void 0===t?e.length-1:t,0),function(){for(var i=arguments,a=-1,s=o(i.length-t,0),l=Array(s);++a<s;)l[a]=i[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=i[a];return u[t]=r(l),n(e,this,u)}}},function(e,t){e.exports=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}},function(e,t,r){var n=r(576),o=r(579)(n);e.exports=o},function(e,t,r){var n=r(577),o=r(578),i=r(286),a=o?function(e,t){return o(e,"toString",{configurable:!0,enumerable:!1,value:n(t),writable:!0})}:i;e.exports=a},function(e,t){e.exports=function(e){return function(){return e}}},function(e,t,r){var n=r(178),o=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},function(e,t){var r=800,n=16,o=Date.now;e.exports=function(e){var t=0,i=0;return function(){var a=o(),s=n-(a-i);if(i=a,s>0){if(++t>=r)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},function(e,t,r){var n=r(581),o=r(123);e.exports=function(e){return o(e)&&n(e)}},function(e,t,r){var n=r(285),o=r(582);e.exports=function(e){return null!=e&&o(e.length)&&!n(e)}},function(e,t){var r=9007199254740991;e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}},function(e,t,r){"use strict";r.d(t,"a",function(){return Z});var n,o,i,a,s,l,u,c,p,h,f,d,m,y,v,g=r(73),_=r.n(g),b=r(22),x=r(584),w=r.n(x),E=r(28),S=r(288),C=r.n(S),k=r(587),T=r.n(k),O=r(280),P=r.n(O),A=r(75),I=r(699),M=r(195),R=r(700),L=r(131),D=r(18),j=r(47),z=r(23),F=r(1),N=r(80),B=r(194),U=r(289),V=r(5),G=r(20),q=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function H(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function W(e,t,r,n,o){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var X=Object.assign({},C.a,T.a),Z=(n=b.m.ref,o=function(){function e(t){var r=this,n=t.geometry,o=t.properties,g=t.id;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),H(this,"title",i,this),H(this,"description",a,this),H(this,"type",s,this),H(this,"color_",l,this),H(this,"icon_",u,this),H(this,"editing",c,this),H(this,"group_id",p,this),H(this,"visible",h,this),H(this,"marker_id",f,this),H(this,"image",d,this),H(this,"hide_text",m,this),H(this,"url",y,this),H(this,"geometry",v,this),this.id=Number.isInteger(g)?g:Object(G.e)(1,4294967296),this.geometry=n,this.type=Object(M.b)(n,o),this.setColor(Object(M.c)(this.type,o),!0),this.setTitle(o.title,!0),this.setDescription(o.description,!0),this.setMarker(o.marker_id,!0),this.setImage(o.image,!0),this.setIcon(o["marker-symbol"],!0),this.setGroup(o.group,!0),this.setHideText(o.hide_text,!0),this.setURL(o.url,!0),!1===o.visible&&(this.visible=!1),Object(b.n)(function(){return[r.title,r.description,r.image,r.hide_text,r.url]},function(){r.popup&&r.popup.isOpen()&&(Object(L.a)(r,function(e){(Math.abs(e.panOffset[0])>1||Math.abs(e.panOffset[1])>1)&&F.a.map.panBy(e.panOffset)}),r.popup.setDOMContent(Object(L.b)(r)))})}return q(e,[{key:"setTitle",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e=e||"",this.title=e,t||F.a.saveOn()}},{key:"setDescription",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.description=e||"",t||F.a.saveOn()}},{key:"setColor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];"label"!==this.type&&(this.color_=e?e.toLowerCase():null,t||F.a.saveOn())}},{key:"setIcon",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];"point"===this.type&&(e||this.marker_id||(e=E.c),this.icon_=e,e&&(this.marker_id=null),t||F.a.saveOn())}},{key:"setMarker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];"point"===this.type&&(e||(e=null),e&&!N.a.markerMap.has(e)&&(Object(V.b)("feature.setMarker wrong marker id"),e=null),this.marker_id=e,e&&(this.icon_=null),t||F.a.saveOn())}},{key:"setImage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];"label"!==this.type&&(e&&e.id&&Number.isInteger(e.w)&&Number.isInteger(e.h)||(e=null,this.hide_text=!1),this.image=e,t||F.a.saveOn())}},{key:"setHideText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];"label"!==this.type&&(this.hide_text=!!e,t||F.a.saveOn())}},{key:"setLatLng",value:function(e){if("point"===this.type){var t=parseFloat(e.lat),r=parseFloat(e.lng);isNaN(t)||(this.geometry.coordinates[1]=Object(G.b)(t,-85.051129,85.051129)),isNaN(r)||(this.geometry.coordinates[0]=r),this.setGeometry(this.geometry),F.a.saveOn()}}},{key:"setGroup",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e||(e=null),e&&!j.a.groupMap.has(e)&&(Object(V.b)("feature.setGroup wrong group id"),e=null),this.group_id=e,t||D.a.orderByGroups(),F.a.updateTree(),t||F.a.saveOn()}},{key:"setVisible",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.visible=!!e,this.visible||this.closePopup(),t||F.a.saveOn()}},{key:"setURL",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];"label"!==this.type&&(e?(e=(e+"").trim(),w()(e)||(e=null)):e=null,this.url=e,t||F.a.saveOn())}},{key:"setGeometry",value:function(e){this.geometry=Object.assign({},e)}},{key:"setEditing",value:function(e){this.editing=e}},{key:"enableEdit",value:function(){F.a.editMode&&(F.a.isIE11?Object(B.a)():(this.closePopup(),this.editing=!0,F.a.saveOn(),"point"===this.type||"label"===this.type?Object(I.b)():Object(A.c)({feature:this})))}},{key:"disableEdit",value:function(){if(F.a.editMode&&this.editing)if(Object(V.a)("disableEdit.1"),"point"===this.type||"label"===this.type)Object(V.a)("disableEdit.2"),Object(I.a)(),this.editing=!1;else{if(Object(V.a)("disableEdit.3"),!F.a.draw||["simple_select","draw_line_string"].includes(F.a.draw.getMode()))return Object(V.a)("disableEdit.4"),Object(A.b)(),this.editing=!1,void F.a.saveOn();Object(V.a)("disableEdit.5");var e=F.a.draw.getSelected().features[0];if(!e)return Object(V.b)("disableEdit missing editedFeature"),Object(A.b)(),void(this.editing=!1);if(e.id!==this.id)return Object(V.b)("disableEdit id mismatch"),Object(A.b)(),void(this.editing=!1);Object(V.a)("disableEdit.6"),this.setGeometry(e.geometry),Object(A.b)(),this.editing=!1,F.a.saveOn(),Object(V.a)("disableEdit.7")}}},{key:"openPopup",value:function(e){var t=e.fitView,r=void 0===t||t;if("label"!==this.type&&this.geometry&&(!this.popup||!this.popup.isOpen())){F.a.closeAllPopups();var n=this.getCenter();Object(V.a)("openPopup center",n),this.popup=new _.a.Popup({anchor:"bottom",offset:this.popupOffset,closeButton:!1}).setLngLat(n).setDOMContent(Object(L.b)(this)).addTo(F.a.map),r&&Object(L.a)(this,function(e){(Math.abs(e.panOffset[0])>1||Math.abs(e.panOffset[1])>1)&&F.a.map.panBy(e.panOffset)})}}},{key:"closePopup",value:function(){"label"!==this.type&&this.popup&&this.popup.remove()}},{key:"getCenter",value:function(){return Object(R.a)(this.geometry)}},{key:"propertiesExport",value:function(){var e={};return this.title&&(e.title=this.title),this.description&&(e.description=this.description),this.group_id&&(e.group=this.group_id),this.image&&(e.image=this.image),this.marker_id&&(e.marker_id=this.marker_id),this.visible||(e.visible=!1),this.hide_text&&(e.hide_text=!0),this.url&&(e.url=this.url),"point"===this.type&&(this.color_&&this.color_!==E.b&&(e["marker-color"]=this.color_),this.icon_&&this.icon_!==E.c&&(e["marker-symbol"]=this.icon_)),"label"===this.type&&(e.label=!0),"polyline"===this.type&&this.color_&&this.color_!==E.b&&(e.stroke=this.color_),"polygon"===this.type&&this.color_&&this.color_!==E.b&&(e.fill=this.color_),e}},{key:"geojsonGeom",value:function(){return{geometry:this.geometry}}},{key:"geojsonExport",value:function(){return{type:"Feature",geometry:this.geometry,properties:this.propertiesExport(),id:this.id}}},{key:"descriptionHTML",get:function(){return Object(U.a)(this.description)}},{key:"color",get:function(){return this.color_||E.b}},{key:"icon",get:function(){return this.icon_||E.c}},{key:"iconCode",get:function(){var e=X[this.icon],t=P.a[e];return t?String.fromCodePoint(t):""}},{key:"popupOffset",get:function(){return"point"!==this.type?[0,0]:z.a.simplify&&F.a.map.getZoom()<z.a.simplify?[0,-6]:[0,-40]}},{key:"treeNode",get:function(){return{feature:this,id:this.id}}},{key:"group",get:function(){return j.a.groupMap.get(this.group_id)}},{key:"marker",get:function(){return N.a.markerMap.get(this.marker_id)}},{key:"selected",get:function(){return F.a.hasSelected&&F.a.selectedMap.has(this.id)}},{key:"propertiesMapBox",get:function(){var e={};return"point"===this.type&&(e.color=this.color,e.iconCode=this.iconCode,this.marker_id&&this.marker.loaded&&(e.marker_image_id=this.marker_id)),"polyline"===this.type&&(e.color=this.color),"polygon"===this.type&&(e.color=this.color),"label"===this.type&&(e.title=this.title),e.simplify=z.a.simplify,this.selected&&(e.selected=!0),e}},{key:"geojsonMapBox",get:function(){return{type:"Feature",geometry:this.geometry,properties:this.propertiesMapBox,id:this.id}}}]),e}(),i=W(o.prototype,"title",[b.m],{enumerable:!0,initializer:null}),a=W(o.prototype,"description",[b.m],{enumerable:!0,initializer:null}),s=W(o.prototype,"type",[b.m],{enumerable:!0,initializer:null}),l=W(o.prototype,"color_",[b.m],{enumerable:!0,initializer:null}),u=W(o.prototype,"icon_",[b.m],{enumerable:!0,initializer:null}),c=W(o.prototype,"editing",[b.m],{enumerable:!0,initializer:function(){return!1}}),p=W(o.prototype,"group_id",[b.m],{enumerable:!0,initializer:null}),h=W(o.prototype,"visible",[b.m],{enumerable:!0,initializer:function(){return!0}}),f=W(o.prototype,"marker_id",[b.m],{enumerable:!0,initializer:null}),d=W(o.prototype,"image",[b.m],{enumerable:!0,initializer:null}),m=W(o.prototype,"hide_text",[b.m],{enumerable:!0,initializer:function(){return!1}}),y=W(o.prototype,"url",[b.m],{enumerable:!0,initializer:null}),v=W(o.prototype,"geometry",[n],{enumerable:!0,initializer:null}),W(o.prototype,"descriptionHTML",[b.f],Object.getOwnPropertyDescriptor(o.prototype,"descriptionHTML"),o.prototype),W(o.prototype,"color",[b.f],Object.getOwnPropertyDescriptor(o.prototype,"color"),o.prototype),W(o.prototype,"icon",[b.f],Object.getOwnPropertyDescriptor(o.prototype,"icon"),o.prototype),W(o.prototype,"iconCode",[b.f],Object.getOwnPropertyDescriptor(o.prototype,"iconCode"),o.prototype),W(o.prototype,"popupOffset",[b.f],Object.getOwnPropertyDescriptor(o.prototype,"popupOffset"),o.prototype),W(o.prototype,"treeNode",[b.f],Object.getOwnPropertyDescriptor(o.prototype,"treeNode"),o.prototype),W(o.prototype,"group",[b.f],Object.getOwnPropertyDescriptor(o.prototype,"group"),o.prototype),W(o.prototype,"marker",[b.f],Object.getOwnPropertyDescriptor(o.prototype,"marker"),o.prototype),W(o.prototype,"selected",[b.f],Object.getOwnPropertyDescriptor(o.prototype,"selected"),o.prototype),W(o.prototype,"setTitle",[b.d],Object.getOwnPropertyDescriptor(o.prototype,"setTitle"),o.prototype),W(o.prototype,"setDescription",[b.d],Object.getOwnPropertyDescriptor(o.prototype,"setDescription"),o.prototype),W(o.prototype,"setColor",[b.d],Object.getOwnPropertyDescriptor(o.prototype,"setColor"),o.prototype),W(o.prototype,"setIcon",[b.d],Object.getOwnPropertyDescriptor(o.prototype,"setIcon"),o.prototype),W(o.prototype,"setMarker",[b.d],Object.getOwnPropertyDescriptor(o.prototype,"setMarker"),o.prototype),W(o.prototype,"setImage",[b.d],Object.getOwnPropertyDescriptor(o.prototype,"setImage"),o.prototype),W(o.prototype,"setHideText",[b.d],Object.getOwnPropertyDescriptor(o.prototype,"setHideText"),o.prototype),W(o.prototype,"setLatLng",[b.d],Object.getOwnPropertyDescriptor(o.prototype,"setLatLng"),o.prototype),W(o.prototype,"setGroup",[b.d],Object.getOwnPropertyDescriptor(o.prototype,"setGroup"),o.prototype),W(o.prototype,"setVisible",[b.d],Object.getOwnPropertyDescriptor(o.prototype,"setVisible"),o.prototype),W(o.prototype,"setURL",[b.d],Object.getOwnPropertyDescriptor(o.prototype,"setURL"),o.prototype),W(o.prototype,"setGeometry",[b.d],Object.getOwnPropertyDescriptor(o.prototype,"setGeometry"),o.prototype),W(o.prototype,"setEditing",[b.d],Object.getOwnPropertyDescriptor(o.prototype,"setEditing"),o.prototype),W(o.prototype,"enableEdit",[b.d],Object.getOwnPropertyDescriptor(o.prototype,"enableEdit"),o.prototype),W(o.prototype,"disableEdit",[b.d],Object.getOwnPropertyDescriptor(o.prototype,"disableEdit"),o.prototype),W(o.prototype,"openPopup",[b.d],Object.getOwnPropertyDescriptor(o.prototype,"openPopup"),o.prototype),W(o.prototype,"closePopup",[b.d],Object.getOwnPropertyDescriptor(o.prototype,"closePopup"),o.prototype),W(o.prototype,"propertiesMapBox",[b.f],Object.getOwnPropertyDescriptor(o.prototype,"propertiesMapBox"),o.prototype),W(o.prototype,"geojsonMapBox",[b.f],Object.getOwnPropertyDescriptor(o.prototype,"geojsonMapBox"),o.prototype),o)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,n.default)(e),!e||e.length>=2083||/[\s<>]/.test(e))return!1;if(0===e.indexOf("mailto:"))return!1;var r,s,p,h,f,d,m,y;if(t=(0,a.default)(t,l),m=e.split("#"),e=m.shift(),m=e.split("?"),e=m.shift(),(m=e.split("://")).length>1){if(r=m.shift().toLowerCase(),t.require_valid_protocol&&-1===t.protocols.indexOf(r))return!1}else{if(t.require_protocol)return!1;if("//"===e.substr(0,2)){if(!t.allow_protocol_relative_urls)return!1;m[0]=e.substr(2)}}if(""===(e=m.join("://")))return!1;if(m=e.split("/"),""===(e=m.shift())&&!t.require_host)return!0;if((m=e.split("@")).length>1){if(t.disallow_auth)return!1;if((s=m.shift()).indexOf(":")>=0&&s.split(":").length>2)return!1}h=m.join("@"),d=null,y=null;var v=h.match(u);v?(p="",y=v[1],d=v[2]||null):(m=h.split(":"),p=m.shift(),m.length&&(d=m.join(":")));if(null!==d&&(f=parseInt(d,10),!/^[0-9]+$/.test(d)||f<=0||f>65535))return!1;if(!(0,i.default)(p)&&!(0,o.default)(p,t)&&(!y||!(0,i.default)(y,6)))return!1;if(p=p||y,t.host_whitelist&&!c(p,t.host_whitelist))return!1;if(t.host_blacklist&&c(p,t.host_blacklist))return!1;return!0};var n=s(r(181)),o=s(r(585)),i=s(r(586)),a=s(r(287));function s(e){return e&&e.__esModule?e:{default:e}}var l={protocols:["http","https","ftp"],require_tld:!0,require_protocol:!1,require_host:!0,require_valid_protocol:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_protocol_relative_urls:!1},u=/^\[([^\]]+)\](?::([0-9]+))?$/;function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];if(e===n||(o=n,"[object RegExp]"===Object.prototype.toString.call(o)&&n.test(e)))return!0}var o;return!1}e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,n.default)(e),(t=(0,o.default)(t,a)).allow_trailing_dot&&"."===e[e.length-1]&&(e=e.substring(0,e.length-1));for(var r=e.split("."),i=0;i<r.length;i++)if(r[i].length>63)return!1;if(t.require_tld){var s=r.pop();if(!r.length||!/^([a-z\u00a1-\uffff]{2,}|xn[a-z0-9-]{2,})$/i.test(s))return!1;if(/[\s\u2002-\u200B\u202F\u205F\u3000\uFEFF\uDB40\uDC20]/.test(s))return!1}for(var l,u=0;u<r.length;u++){if(l=r[u],t.allow_underscores&&(l=l.replace(/_/g,"")),!/^[a-z\u00a1-\uffff0-9-]+$/i.test(l))return!1;if(/[\uff01-\uff5e]/.test(l))return!1;if("-"===l[0]||"-"===l[l.length-1])return!1}return!0};var n=i(r(181)),o=i(r(287));function i(e){return e&&e.__esModule?e:{default:e}}var a={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1};e.exports=t.default,e.exports.default=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";(0,o.default)(t);r=String(r);if(!r)return e(t,4)||e(t,6);if("4"===r){if(!i.test(t))return!1;var n=t.split(".").sort(function(e,t){return e-t});return n[3]<=255}if("6"===r){var s=t.split(":"),l=!1,u=e(s[s.length-1],4),c=u?7:8;if(s.length>c)return!1;if("::"===t)return!0;"::"===t.substr(0,2)?(s.shift(),s.shift(),l=!0):"::"===t.substr(t.length-2)&&(s.pop(),s.pop(),l=!0);for(var p=0;p<s.length;++p)if(""===s[p]&&p>0&&p<s.length-1){if(l)return!1;l=!0}else if(u&&p===s.length-1);else if(!a.test(s[p]))return!1;return l?s.length>=1:s.length===c}return!1};var n,o=(n=r(181))&&n.__esModule?n:{default:n};var i=/^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/,a=/^[0-9A-F]{1,4}$/i;e.exports=t.default,e.exports.default=t.default},function(e,t){e.exports={paraglider:"landing",parachute:"landing",hangglider:"landing",cemetery:"religious-christian-24",geocache_found:"gift-15"}},function(e,t,r){"use strict";r.d(t,"a",function(){return f});var n=r(0),o=r.n(n),i=r(28),a=r(18),s=r(23),l=r(1),u=r(15),c=r(51),p=r(5),h=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.handleUpload=function(e){var t=e.target;if(!t.files.length)return l.a.isIE11||r.setState({info:"Please select a file"}),t.value=null,void l.a.setEditorTool("select");var n=t.files[0],o=new window.FormData;o.append("file",n);r.setState({info:"Processing, please wait..."}),Object(c.a)({url:"/ajax/map_upload",data:o},function(e,n){if(r.setState({info:""}),t.value=null,n)return"unsupported_file_type"===n?u.a.showText("Wrong file type","Please upload a file in a supported format"):"file_too_big"===n?u.a.showText("Uploaded file is too big","Maximum file size is 15 MB"):"empty_data"===n||"empty_file"===n?u.a.showText("Empty data","The uploaded file was empty"):"map_obj_missing"===n?u.a.showText("Error uploading image","Please try reloading your browser"):"connection_error"===n||u.a.showText(n),void l.a.setEditorTool("select");if(e.geojson){var o=void 0;if(!e.image)return u.a.showText("Error uploading image","Please try again"),Object(p.b)("data.image missing"),void l.a.setEditorTool("select");o=e.image_gps?i.j:i.k,a.a.loadGeoJSON(e.geojson,{append:!0,groupTitle:o,activateFeature:!0}),l.a.saveOn()}!s.a.title&&e.title&&s.a.setTitle(e.title),l.a.saveOn(),u.a.clear(),l.a.setEditorTool("select")})},r.state={info:""},r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n["Component"]),h(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("p",{className:"overlay-title"},"Add image"),o.a.createElement("p",null,"Supported formats: JPG, PNG"),o.a.createElement("p",null,"Photos with GPS information will be automatically located."),o.a.createElement("input",{type:"file",onChange:this.handleUpload}),o.a.createElement("p",null,this.state.info))}}]),t}()},function(e,t,r){"use strict";t.a=function(e){Object(c.a)("mapBasemap / loadBaseMap: start",{slug:e});var t="/ajax/get_basemap";e&&(t+="/"+e);Object(u.a)({url:t,data:{map_id:a.a.id}},function(t,r){if(r)return l.a.showText("Error loading basemap"),void Object(c.b)("error loading basemap: "+r);var n=i.i?t.url2x:t.url,a=t.subdomains.length?t.subdomains.map(function(e){return n.replace("{s}",e)}):[n];if(s.a.map.getLayer("raster")&&s.a.map.removeLayer("raster"),s.a.map.getSource("raster")&&s.a.map.removeSource("raster"),s.a.map.addSource("raster",{type:"raster",tiles:a,tileSize:t.detect_retina&&i.i?128:256,maxzoom:Math.max(t.maxzoom,18),attribution:t.attribution}),s.a.map.addLayer({id:"raster",type:"raster",source:"raster"},"polygon-selected-fill"),"basemap_limited"===t.message&&s.a.editMode){var u=Object(p.a)(e.split("-")[0]);l.a.showCustom(o.a.createElement("div",null,o.a.createElement("p",{className:"overlay-title"},"Heavy Basemap Usage"),o.a.createElement("p",null,"This map is using a lot of basemap requests from: ",o.a.createElement("b",null,u)),o.a.createElement("p",null,"Please add a free ",u," API key to continue using this basemap."),o.a.createElement("p",null,"Without ",u," API key your map will use MapHub Classic temporarily.")),function(){Object(p.j)("http://docs.maphub.net/basemaps/basemaps.html")},"How to add API keys","Close")}Object(c.a)("mapBasemap / loadBaseMap: loaded",{slug:t.slug})})};var n=r(0),o=r.n(n),i=r(28),a=r(23),s=r(1),l=r(15),u=r(51),c=r(5),p=r(20)},function(e,t,r){"use strict";e.exports=r(591)},function(e,t,r){"use strict";var n=r(6),o=r(599),i=r(603),a=r(604),s=r(612),l=r(626),u=r(639),c=r(291),p=r(641),h={default:r(642),zero:r(643),commonmark:r(644)},f=/^(vbscript|javascript|file|data):/,d=/^data:image\/(gif|png|jpeg|webp);/;function m(e){var t=e.trim().toLowerCase();return!f.test(t)||!!d.test(t)}var y=["http:","https:","mailto:"];function v(e){var t=c.parse(e,!0);if(t.hostname&&(!t.protocol||y.indexOf(t.protocol)>=0))try{t.hostname=p.toASCII(t.hostname)}catch(e){}return c.encode(c.format(t))}function g(e){var t=c.parse(e,!0);if(t.hostname&&(!t.protocol||y.indexOf(t.protocol)>=0))try{t.hostname=p.toUnicode(t.hostname)}catch(e){}return c.decode(c.format(t))}function _(e,t){if(!(this instanceof _))return new _(e,t);t||n.isString(e)||(t=e||{},e="default"),this.inline=new l,this.block=new s,this.core=new a,this.renderer=new i,this.linkify=new u,this.validateLink=m,this.normalizeLink=v,this.normalizeLinkText=g,this.utils=n,this.helpers=n.assign({},o),this.options={},this.configure(e),t&&this.set(t)}_.prototype.set=function(e){return n.assign(this.options,e),this},_.prototype.configure=function(e){var t,r=this;if(n.isString(e)&&!(e=h[t=e]))throw new Error('Wrong `markdown-it` preset "'+t+'", check name');if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&r.set(e.options),e.components&&Object.keys(e.components).forEach(function(t){e.components[t].rules&&r[t].ruler.enableOnly(e.components[t].rules),e.components[t].rules2&&r[t].ruler2.enableOnly(e.components[t].rules2)}),this},_.prototype.enable=function(e,t){var r=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(t){r=r.concat(this[t].ruler.enable(e,!0))},this),r=r.concat(this.inline.ruler2.enable(e,!0));var n=e.filter(function(e){return r.indexOf(e)<0});if(n.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+n);return this},_.prototype.disable=function(e,t){var r=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(t){r=r.concat(this[t].ruler.disable(e,!0))},this),r=r.concat(this.inline.ruler2.disable(e,!0));var n=e.filter(function(e){return r.indexOf(e)<0});if(n.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+n);return this},_.prototype.use=function(e){var t=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,t),this},_.prototype.parse=function(e,t){if("string"!==typeof e)throw new Error("Input data should be a String");var r=new this.core.State(e,this,t);return this.core.process(r),r.tokens},_.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)},_.prototype.parseInline=function(e,t){var r=new this.core.State(e,this,t);return r.inlineMode=!0,this.core.process(r),r.tokens},_.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)},e.exports=_},function(e,t){e.exports={Aacute:"\xc1",aacute:"\xe1",Abreve:"\u0102",abreve:"\u0103",ac:"\u223e",acd:"\u223f",acE:"\u223e\u0333",Acirc:"\xc2",acirc:"\xe2",acute:"\xb4",Acy:"\u0410",acy:"\u0430",AElig:"\xc6",aelig:"\xe6",af:"\u2061",Afr:"\ud835\udd04",afr:"\ud835\udd1e",Agrave:"\xc0",agrave:"\xe0",alefsym:"\u2135",aleph:"\u2135",Alpha:"\u0391",alpha:"\u03b1",Amacr:"\u0100",amacr:"\u0101",amalg:"\u2a3f",amp:"&",AMP:"&",andand:"\u2a55",And:"\u2a53",and:"\u2227",andd:"\u2a5c",andslope:"\u2a58",andv:"\u2a5a",ang:"\u2220",ange:"\u29a4",angle:"\u2220",angmsdaa:"\u29a8",angmsdab:"\u29a9",angmsdac:"\u29aa",angmsdad:"\u29ab",angmsdae:"\u29ac",angmsdaf:"\u29ad",angmsdag:"\u29ae",angmsdah:"\u29af",angmsd:"\u2221",angrt:"\u221f",angrtvb:"\u22be",angrtvbd:"\u299d",angsph:"\u2222",angst:"\xc5",angzarr:"\u237c",Aogon:"\u0104",aogon:"\u0105",Aopf:"\ud835\udd38",aopf:"\ud835\udd52",apacir:"\u2a6f",ap:"\u2248",apE:"\u2a70",ape:"\u224a",apid:"\u224b",apos:"'",ApplyFunction:"\u2061",approx:"\u2248",approxeq:"\u224a",Aring:"\xc5",aring:"\xe5",Ascr:"\ud835\udc9c",ascr:"\ud835\udcb6",Assign:"\u2254",ast:"*",asymp:"\u2248",asympeq:"\u224d",Atilde:"\xc3",atilde:"\xe3",Auml:"\xc4",auml:"\xe4",awconint:"\u2233",awint:"\u2a11",backcong:"\u224c",backepsilon:"\u03f6",backprime:"\u2035",backsim:"\u223d",backsimeq:"\u22cd",Backslash:"\u2216",Barv:"\u2ae7",barvee:"\u22bd",barwed:"\u2305",Barwed:"\u2306",barwedge:"\u2305",bbrk:"\u23b5",bbrktbrk:"\u23b6",bcong:"\u224c",Bcy:"\u0411",bcy:"\u0431",bdquo:"\u201e",becaus:"\u2235",because:"\u2235",Because:"\u2235",bemptyv:"\u29b0",bepsi:"\u03f6",bernou:"\u212c",Bernoullis:"\u212c",Beta:"\u0392",beta:"\u03b2",beth:"\u2136",between:"\u226c",Bfr:"\ud835\udd05",bfr:"\ud835\udd1f",bigcap:"\u22c2",bigcirc:"\u25ef",bigcup:"\u22c3",bigodot:"\u2a00",bigoplus:"\u2a01",bigotimes:"\u2a02",bigsqcup:"\u2a06",bigstar:"\u2605",bigtriangledown:"\u25bd",bigtriangleup:"\u25b3",biguplus:"\u2a04",bigvee:"\u22c1",bigwedge:"\u22c0",bkarow:"\u290d",blacklozenge:"\u29eb",blacksquare:"\u25aa",blacktriangle:"\u25b4",blacktriangledown:"\u25be",blacktriangleleft:"\u25c2",blacktriangleright:"\u25b8",blank:"\u2423",blk12:"\u2592",blk14:"\u2591",blk34:"\u2593",block:"\u2588",bne:"=\u20e5",bnequiv:"\u2261\u20e5",bNot:"\u2aed",bnot:"\u2310",Bopf:"\ud835\udd39",bopf:"\ud835\udd53",bot:"\u22a5",bottom:"\u22a5",bowtie:"\u22c8",boxbox:"\u29c9",boxdl:"\u2510",boxdL:"\u2555",boxDl:"\u2556",boxDL:"\u2557",boxdr:"\u250c",boxdR:"\u2552",boxDr:"\u2553",boxDR:"\u2554",boxh:"\u2500",boxH:"\u2550",boxhd:"\u252c",boxHd:"\u2564",boxhD:"\u2565",boxHD:"\u2566",boxhu:"\u2534",boxHu:"\u2567",boxhU:"\u2568",boxHU:"\u2569",boxminus:"\u229f",boxplus:"\u229e",boxtimes:"\u22a0",boxul:"\u2518",boxuL:"\u255b",boxUl:"\u255c",boxUL:"\u255d",boxur:"\u2514",boxuR:"\u2558",boxUr:"\u2559",boxUR:"\u255a",boxv:"\u2502",boxV:"\u2551",boxvh:"\u253c",boxvH:"\u256a",boxVh:"\u256b",boxVH:"\u256c",boxvl:"\u2524",boxvL:"\u2561",boxVl:"\u2562",boxVL:"\u2563",boxvr:"\u251c",boxvR:"\u255e",boxVr:"\u255f",boxVR:"\u2560",bprime:"\u2035",breve:"\u02d8",Breve:"\u02d8",brvbar:"\xa6",bscr:"\ud835\udcb7",Bscr:"\u212c",bsemi:"\u204f",bsim:"\u223d",bsime:"\u22cd",bsolb:"\u29c5",bsol:"\\",bsolhsub:"\u27c8",bull:"\u2022",bullet:"\u2022",bump:"\u224e",bumpE:"\u2aae",bumpe:"\u224f",Bumpeq:"\u224e",bumpeq:"\u224f",Cacute:"\u0106",cacute:"\u0107",capand:"\u2a44",capbrcup:"\u2a49",capcap:"\u2a4b",cap:"\u2229",Cap:"\u22d2",capcup:"\u2a47",capdot:"\u2a40",CapitalDifferentialD:"\u2145",caps:"\u2229\ufe00",caret:"\u2041",caron:"\u02c7",Cayleys:"\u212d",ccaps:"\u2a4d",Ccaron:"\u010c",ccaron:"\u010d",Ccedil:"\xc7",ccedil:"\xe7",Ccirc:"\u0108",ccirc:"\u0109",Cconint:"\u2230",ccups:"\u2a4c",ccupssm:"\u2a50",Cdot:"\u010a",cdot:"\u010b",cedil:"\xb8",Cedilla:"\xb8",cemptyv:"\u29b2",cent:"\xa2",centerdot:"\xb7",CenterDot:"\xb7",cfr:"\ud835\udd20",Cfr:"\u212d",CHcy:"\u0427",chcy:"\u0447",check:"\u2713",checkmark:"\u2713",Chi:"\u03a7",chi:"\u03c7",circ:"\u02c6",circeq:"\u2257",circlearrowleft:"\u21ba",circlearrowright:"\u21bb",circledast:"\u229b",circledcirc:"\u229a",circleddash:"\u229d",CircleDot:"\u2299",circledR:"\xae",circledS:"\u24c8",CircleMinus:"\u2296",CirclePlus:"\u2295",CircleTimes:"\u2297",cir:"\u25cb",cirE:"\u29c3",cire:"\u2257",cirfnint:"\u2a10",cirmid:"\u2aef",cirscir:"\u29c2",ClockwiseContourIntegral:"\u2232",CloseCurlyDoubleQuote:"\u201d",CloseCurlyQuote:"\u2019",clubs:"\u2663",clubsuit:"\u2663",colon:":",Colon:"\u2237",Colone:"\u2a74",colone:"\u2254",coloneq:"\u2254",comma:",",commat:"@",comp:"\u2201",compfn:"\u2218",complement:"\u2201",complexes:"\u2102",cong:"\u2245",congdot:"\u2a6d",Congruent:"\u2261",conint:"\u222e",Conint:"\u222f",ContourIntegral:"\u222e",copf:"\ud835\udd54",Copf:"\u2102",coprod:"\u2210",Coproduct:"\u2210",copy:"\xa9",COPY:"\xa9",copysr:"\u2117",CounterClockwiseContourIntegral:"\u2233",crarr:"\u21b5",cross:"\u2717",Cross:"\u2a2f",Cscr:"\ud835\udc9e",cscr:"\ud835\udcb8",csub:"\u2acf",csube:"\u2ad1",csup:"\u2ad0",csupe:"\u2ad2",ctdot:"\u22ef",cudarrl:"\u2938",cudarrr:"\u2935",cuepr:"\u22de",cuesc:"\u22df",cularr:"\u21b6",cularrp:"\u293d",cupbrcap:"\u2a48",cupcap:"\u2a46",CupCap:"\u224d",cup:"\u222a",Cup:"\u22d3",cupcup:"\u2a4a",cupdot:"\u228d",cupor:"\u2a45",cups:"\u222a\ufe00",curarr:"\u21b7",curarrm:"\u293c",curlyeqprec:"\u22de",curlyeqsucc:"\u22df",curlyvee:"\u22ce",curlywedge:"\u22cf",curren:"\xa4",curvearrowleft:"\u21b6",curvearrowright:"\u21b7",cuvee:"\u22ce",cuwed:"\u22cf",cwconint:"\u2232",cwint:"\u2231",cylcty:"\u232d",dagger:"\u2020",Dagger:"\u2021",daleth:"\u2138",darr:"\u2193",Darr:"\u21a1",dArr:"\u21d3",dash:"\u2010",Dashv:"\u2ae4",dashv:"\u22a3",dbkarow:"\u290f",dblac:"\u02dd",Dcaron:"\u010e",dcaron:"\u010f",Dcy:"\u0414",dcy:"\u0434",ddagger:"\u2021",ddarr:"\u21ca",DD:"\u2145",dd:"\u2146",DDotrahd:"\u2911",ddotseq:"\u2a77",deg:"\xb0",Del:"\u2207",Delta:"\u0394",delta:"\u03b4",demptyv:"\u29b1",dfisht:"\u297f",Dfr:"\ud835\udd07",dfr:"\ud835\udd21",dHar:"\u2965",dharl:"\u21c3",dharr:"\u21c2",DiacriticalAcute:"\xb4",DiacriticalDot:"\u02d9",DiacriticalDoubleAcute:"\u02dd",DiacriticalGrave:"`",DiacriticalTilde:"\u02dc",diam:"\u22c4",diamond:"\u22c4",Diamond:"\u22c4",diamondsuit:"\u2666",diams:"\u2666",die:"\xa8",DifferentialD:"\u2146",digamma:"\u03dd",disin:"\u22f2",div:"\xf7",divide:"\xf7",divideontimes:"\u22c7",divonx:"\u22c7",DJcy:"\u0402",djcy:"\u0452",dlcorn:"\u231e",dlcrop:"\u230d",dollar:"$",Dopf:"\ud835\udd3b",dopf:"\ud835\udd55",Dot:"\xa8",dot:"\u02d9",DotDot:"\u20dc",doteq:"\u2250",doteqdot:"\u2251",DotEqual:"\u2250",dotminus:"\u2238",dotplus:"\u2214",dotsquare:"\u22a1",doublebarwedge:"\u2306",DoubleContourIntegral:"\u222f",DoubleDot:"\xa8",DoubleDownArrow:"\u21d3",DoubleLeftArrow:"\u21d0",DoubleLeftRightArrow:"\u21d4",DoubleLeftTee:"\u2ae4",DoubleLongLeftArrow:"\u27f8",DoubleLongLeftRightArrow:"\u27fa",DoubleLongRightArrow:"\u27f9",DoubleRightArrow:"\u21d2",DoubleRightTee:"\u22a8",DoubleUpArrow:"\u21d1",DoubleUpDownArrow:"\u21d5",DoubleVerticalBar:"\u2225",DownArrowBar:"\u2913",downarrow:"\u2193",DownArrow:"\u2193",Downarrow:"\u21d3",DownArrowUpArrow:"\u21f5",DownBreve:"\u0311",downdownarrows:"\u21ca",downharpoonleft:"\u21c3",downharpoonright:"\u21c2",DownLeftRightVector:"\u2950",DownLeftTeeVector:"\u295e",DownLeftVectorBar:"\u2956",DownLeftVector:"\u21bd",DownRightTeeVector:"\u295f",DownRightVectorBar:"\u2957",DownRightVector:"\u21c1",DownTeeArrow:"\u21a7",DownTee:"\u22a4",drbkarow:"\u2910",drcorn:"\u231f",drcrop:"\u230c",Dscr:"\ud835\udc9f",dscr:"\ud835\udcb9",DScy:"\u0405",dscy:"\u0455",dsol:"\u29f6",Dstrok:"\u0110",dstrok:"\u0111",dtdot:"\u22f1",dtri:"\u25bf",dtrif:"\u25be",duarr:"\u21f5",duhar:"\u296f",dwangle:"\u29a6",DZcy:"\u040f",dzcy:"\u045f",dzigrarr:"\u27ff",Eacute:"\xc9",eacute:"\xe9",easter:"\u2a6e",Ecaron:"\u011a",ecaron:"\u011b",Ecirc:"\xca",ecirc:"\xea",ecir:"\u2256",ecolon:"\u2255",Ecy:"\u042d",ecy:"\u044d",eDDot:"\u2a77",Edot:"\u0116",edot:"\u0117",eDot:"\u2251",ee:"\u2147",efDot:"\u2252",Efr:"\ud835\udd08",efr:"\ud835\udd22",eg:"\u2a9a",Egrave:"\xc8",egrave:"\xe8",egs:"\u2a96",egsdot:"\u2a98",el:"\u2a99",Element:"\u2208",elinters:"\u23e7",ell:"\u2113",els:"\u2a95",elsdot:"\u2a97",Emacr:"\u0112",emacr:"\u0113",empty:"\u2205",emptyset:"\u2205",EmptySmallSquare:"\u25fb",emptyv:"\u2205",EmptyVerySmallSquare:"\u25ab",emsp13:"\u2004",emsp14:"\u2005",emsp:"\u2003",ENG:"\u014a",eng:"\u014b",ensp:"\u2002",Eogon:"\u0118",eogon:"\u0119",Eopf:"\ud835\udd3c",eopf:"\ud835\udd56",epar:"\u22d5",eparsl:"\u29e3",eplus:"\u2a71",epsi:"\u03b5",Epsilon:"\u0395",epsilon:"\u03b5",epsiv:"\u03f5",eqcirc:"\u2256",eqcolon:"\u2255",eqsim:"\u2242",eqslantgtr:"\u2a96",eqslantless:"\u2a95",Equal:"\u2a75",equals:"=",EqualTilde:"\u2242",equest:"\u225f",Equilibrium:"\u21cc",equiv:"\u2261",equivDD:"\u2a78",eqvparsl:"\u29e5",erarr:"\u2971",erDot:"\u2253",escr:"\u212f",Escr:"\u2130",esdot:"\u2250",Esim:"\u2a73",esim:"\u2242",Eta:"\u0397",eta:"\u03b7",ETH:"\xd0",eth:"\xf0",Euml:"\xcb",euml:"\xeb",euro:"\u20ac",excl:"!",exist:"\u2203",Exists:"\u2203",expectation:"\u2130",exponentiale:"\u2147",ExponentialE:"\u2147",fallingdotseq:"\u2252",Fcy:"\u0424",fcy:"\u0444",female:"\u2640",ffilig:"\ufb03",fflig:"\ufb00",ffllig:"\ufb04",Ffr:"\ud835\udd09",ffr:"\ud835\udd23",filig:"\ufb01",FilledSmallSquare:"\u25fc",FilledVerySmallSquare:"\u25aa",fjlig:"fj",flat:"\u266d",fllig:"\ufb02",fltns:"\u25b1",fnof:"\u0192",Fopf:"\ud835\udd3d",fopf:"\ud835\udd57",forall:"\u2200",ForAll:"\u2200",fork:"\u22d4",forkv:"\u2ad9",Fouriertrf:"\u2131",fpartint:"\u2a0d",frac12:"\xbd",frac13:"\u2153",frac14:"\xbc",frac15:"\u2155",frac16:"\u2159",frac18:"\u215b",frac23:"\u2154",frac25:"\u2156",frac34:"\xbe",frac35:"\u2157",frac38:"\u215c",frac45:"\u2158",frac56:"\u215a",frac58:"\u215d",frac78:"\u215e",frasl:"\u2044",frown:"\u2322",fscr:"\ud835\udcbb",Fscr:"\u2131",gacute:"\u01f5",Gamma:"\u0393",gamma:"\u03b3",Gammad:"\u03dc",gammad:"\u03dd",gap:"\u2a86",Gbreve:"\u011e",gbreve:"\u011f",Gcedil:"\u0122",Gcirc:"\u011c",gcirc:"\u011d",Gcy:"\u0413",gcy:"\u0433",Gdot:"\u0120",gdot:"\u0121",ge:"\u2265",gE:"\u2267",gEl:"\u2a8c",gel:"\u22db",geq:"\u2265",geqq:"\u2267",geqslant:"\u2a7e",gescc:"\u2aa9",ges:"\u2a7e",gesdot:"\u2a80",gesdoto:"\u2a82",gesdotol:"\u2a84",gesl:"\u22db\ufe00",gesles:"\u2a94",Gfr:"\ud835\udd0a",gfr:"\ud835\udd24",gg:"\u226b",Gg:"\u22d9",ggg:"\u22d9",gimel:"\u2137",GJcy:"\u0403",gjcy:"\u0453",gla:"\u2aa5",gl:"\u2277",glE:"\u2a92",glj:"\u2aa4",gnap:"\u2a8a",gnapprox:"\u2a8a",gne:"\u2a88",gnE:"\u2269",gneq:"\u2a88",gneqq:"\u2269",gnsim:"\u22e7",Gopf:"\ud835\udd3e",gopf:"\ud835\udd58",grave:"`",GreaterEqual:"\u2265",GreaterEqualLess:"\u22db",GreaterFullEqual:"\u2267",GreaterGreater:"\u2aa2",GreaterLess:"\u2277",GreaterSlantEqual:"\u2a7e",GreaterTilde:"\u2273",Gscr:"\ud835\udca2",gscr:"\u210a",gsim:"\u2273",gsime:"\u2a8e",gsiml:"\u2a90",gtcc:"\u2aa7",gtcir:"\u2a7a",gt:">",GT:">",Gt:"\u226b",gtdot:"\u22d7",gtlPar:"\u2995",gtquest:"\u2a7c",gtrapprox:"\u2a86",gtrarr:"\u2978",gtrdot:"\u22d7",gtreqless:"\u22db",gtreqqless:"\u2a8c",gtrless:"\u2277",gtrsim:"\u2273",gvertneqq:"\u2269\ufe00",gvnE:"\u2269\ufe00",Hacek:"\u02c7",hairsp:"\u200a",half:"\xbd",hamilt:"\u210b",HARDcy:"\u042a",hardcy:"\u044a",harrcir:"\u2948",harr:"\u2194",hArr:"\u21d4",harrw:"\u21ad",Hat:"^",hbar:"\u210f",Hcirc:"\u0124",hcirc:"\u0125",hearts:"\u2665",heartsuit:"\u2665",hellip:"\u2026",hercon:"\u22b9",hfr:"\ud835\udd25",Hfr:"\u210c",HilbertSpace:"\u210b",hksearow:"\u2925",hkswarow:"\u2926",hoarr:"\u21ff",homtht:"\u223b",hookleftarrow:"\u21a9",hookrightarrow:"\u21aa",hopf:"\ud835\udd59",Hopf:"\u210d",horbar:"\u2015",HorizontalLine:"\u2500",hscr:"\ud835\udcbd",Hscr:"\u210b",hslash:"\u210f",Hstrok:"\u0126",hstrok:"\u0127",HumpDownHump:"\u224e",HumpEqual:"\u224f",hybull:"\u2043",hyphen:"\u2010",Iacute:"\xcd",iacute:"\xed",ic:"\u2063",Icirc:"\xce",icirc:"\xee",Icy:"\u0418",icy:"\u0438",Idot:"\u0130",IEcy:"\u0415",iecy:"\u0435",iexcl:"\xa1",iff:"\u21d4",ifr:"\ud835\udd26",Ifr:"\u2111",Igrave:"\xcc",igrave:"\xec",ii:"\u2148",iiiint:"\u2a0c",iiint:"\u222d",iinfin:"\u29dc",iiota:"\u2129",IJlig:"\u0132",ijlig:"\u0133",Imacr:"\u012a",imacr:"\u012b",image:"\u2111",ImaginaryI:"\u2148",imagline:"\u2110",imagpart:"\u2111",imath:"\u0131",Im:"\u2111",imof:"\u22b7",imped:"\u01b5",Implies:"\u21d2",incare:"\u2105",in:"\u2208",infin:"\u221e",infintie:"\u29dd",inodot:"\u0131",intcal:"\u22ba",int:"\u222b",Int:"\u222c",integers:"\u2124",Integral:"\u222b",intercal:"\u22ba",Intersection:"\u22c2",intlarhk:"\u2a17",intprod:"\u2a3c",InvisibleComma:"\u2063",InvisibleTimes:"\u2062",IOcy:"\u0401",iocy:"\u0451",Iogon:"\u012e",iogon:"\u012f",Iopf:"\ud835\udd40",iopf:"\ud835\udd5a",Iota:"\u0399",iota:"\u03b9",iprod:"\u2a3c",iquest:"\xbf",iscr:"\ud835\udcbe",Iscr:"\u2110",isin:"\u2208",isindot:"\u22f5",isinE:"\u22f9",isins:"\u22f4",isinsv:"\u22f3",isinv:"\u2208",it:"\u2062",Itilde:"\u0128",itilde:"\u0129",Iukcy:"\u0406",iukcy:"\u0456",Iuml:"\xcf",iuml:"\xef",Jcirc:"\u0134",jcirc:"\u0135",Jcy:"\u0419",jcy:"\u0439",Jfr:"\ud835\udd0d",jfr:"\ud835\udd27",jmath:"\u0237",Jopf:"\ud835\udd41",jopf:"\ud835\udd5b",Jscr:"\ud835\udca5",jscr:"\ud835\udcbf",Jsercy:"\u0408",jsercy:"\u0458",Jukcy:"\u0404",jukcy:"\u0454",Kappa:"\u039a",kappa:"\u03ba",kappav:"\u03f0",Kcedil:"\u0136",kcedil:"\u0137",Kcy:"\u041a",kcy:"\u043a",Kfr:"\ud835\udd0e",kfr:"\ud835\udd28",kgreen:"\u0138",KHcy:"\u0425",khcy:"\u0445",KJcy:"\u040c",kjcy:"\u045c",Kopf:"\ud835\udd42",kopf:"\ud835\udd5c",Kscr:"\ud835\udca6",kscr:"\ud835\udcc0",lAarr:"\u21da",Lacute:"\u0139",lacute:"\u013a",laemptyv:"\u29b4",lagran:"\u2112",Lambda:"\u039b",lambda:"\u03bb",lang:"\u27e8",Lang:"\u27ea",langd:"\u2991",langle:"\u27e8",lap:"\u2a85",Laplacetrf:"\u2112",laquo:"\xab",larrb:"\u21e4",larrbfs:"\u291f",larr:"\u2190",Larr:"\u219e",lArr:"\u21d0",larrfs:"\u291d",larrhk:"\u21a9",larrlp:"\u21ab",larrpl:"\u2939",larrsim:"\u2973",larrtl:"\u21a2",latail:"\u2919",lAtail:"\u291b",lat:"\u2aab",late:"\u2aad",lates:"\u2aad\ufe00",lbarr:"\u290c",lBarr:"\u290e",lbbrk:"\u2772",lbrace:"{",lbrack:"[",lbrke:"\u298b",lbrksld:"\u298f",lbrkslu:"\u298d",Lcaron:"\u013d",lcaron:"\u013e",Lcedil:"\u013b",lcedil:"\u013c",lceil:"\u2308",lcub:"{",Lcy:"\u041b",lcy:"\u043b",ldca:"\u2936",ldquo:"\u201c",ldquor:"\u201e",ldrdhar:"\u2967",ldrushar:"\u294b",ldsh:"\u21b2",le:"\u2264",lE:"\u2266",LeftAngleBracket:"\u27e8",LeftArrowBar:"\u21e4",leftarrow:"\u2190",LeftArrow:"\u2190",Leftarrow:"\u21d0",LeftArrowRightArrow:"\u21c6",leftarrowtail:"\u21a2",LeftCeiling:"\u2308",LeftDoubleBracket:"\u27e6",LeftDownTeeVector:"\u2961",LeftDownVectorBar:"\u2959",LeftDownVector:"\u21c3",LeftFloor:"\u230a",leftharpoondown:"\u21bd",leftharpoonup:"\u21bc",leftleftarrows:"\u21c7",leftrightarrow:"\u2194",LeftRightArrow:"\u2194",Leftrightarrow:"\u21d4",leftrightarrows:"\u21c6",leftrightharpoons:"\u21cb",leftrightsquigarrow:"\u21ad",LeftRightVector:"\u294e",LeftTeeArrow:"\u21a4",LeftTee:"\u22a3",LeftTeeVector:"\u295a",leftthreetimes:"\u22cb",LeftTriangleBar:"\u29cf",LeftTriangle:"\u22b2",LeftTriangleEqual:"\u22b4",LeftUpDownVector:"\u2951",LeftUpTeeVector:"\u2960",LeftUpVectorBar:"\u2958",LeftUpVector:"\u21bf",LeftVectorBar:"\u2952",LeftVector:"\u21bc",lEg:"\u2a8b",leg:"\u22da",leq:"\u2264",leqq:"\u2266",leqslant:"\u2a7d",lescc:"\u2aa8",les:"\u2a7d",lesdot:"\u2a7f",lesdoto:"\u2a81",lesdotor:"\u2a83",lesg:"\u22da\ufe00",lesges:"\u2a93",lessapprox:"\u2a85",lessdot:"\u22d6",lesseqgtr:"\u22da",lesseqqgtr:"\u2a8b",LessEqualGreater:"\u22da",LessFullEqual:"\u2266",LessGreater:"\u2276",lessgtr:"\u2276",LessLess:"\u2aa1",lesssim:"\u2272",LessSlantEqual:"\u2a7d",LessTilde:"\u2272",lfisht:"\u297c",lfloor:"\u230a",Lfr:"\ud835\udd0f",lfr:"\ud835\udd29",lg:"\u2276",lgE:"\u2a91",lHar:"\u2962",lhard:"\u21bd",lharu:"\u21bc",lharul:"\u296a",lhblk:"\u2584",LJcy:"\u0409",ljcy:"\u0459",llarr:"\u21c7",ll:"\u226a",Ll:"\u22d8",llcorner:"\u231e",Lleftarrow:"\u21da",llhard:"\u296b",lltri:"\u25fa",Lmidot:"\u013f",lmidot:"\u0140",lmoustache:"\u23b0",lmoust:"\u23b0",lnap:"\u2a89",lnapprox:"\u2a89",lne:"\u2a87",lnE:"\u2268",lneq:"\u2a87",lneqq:"\u2268",lnsim:"\u22e6",loang:"\u27ec",loarr:"\u21fd",lobrk:"\u27e6",longleftarrow:"\u27f5",LongLeftArrow:"\u27f5",Longleftarrow:"\u27f8",longleftrightarrow:"\u27f7",LongLeftRightArrow:"\u27f7",Longleftrightarrow:"\u27fa",longmapsto:"\u27fc",longrightarrow:"\u27f6",LongRightArrow:"\u27f6",Longrightarrow:"\u27f9",looparrowleft:"\u21ab",looparrowright:"\u21ac",lopar:"\u2985",Lopf:"\ud835\udd43",lopf:"\ud835\udd5d",loplus:"\u2a2d",lotimes:"\u2a34",lowast:"\u2217",lowbar:"_",LowerLeftArrow:"\u2199",LowerRightArrow:"\u2198",loz:"\u25ca",lozenge:"\u25ca",lozf:"\u29eb",lpar:"(",lparlt:"\u2993",lrarr:"\u21c6",lrcorner:"\u231f",lrhar:"\u21cb",lrhard:"\u296d",lrm:"\u200e",lrtri:"\u22bf",lsaquo:"\u2039",lscr:"\ud835\udcc1",Lscr:"\u2112",lsh:"\u21b0",Lsh:"\u21b0",lsim:"\u2272",lsime:"\u2a8d",lsimg:"\u2a8f",lsqb:"[",lsquo:"\u2018",lsquor:"\u201a",Lstrok:"\u0141",lstrok:"\u0142",ltcc:"\u2aa6",ltcir:"\u2a79",lt:"<",LT:"<",Lt:"\u226a",ltdot:"\u22d6",lthree:"\u22cb",ltimes:"\u22c9",ltlarr:"\u2976",ltquest:"\u2a7b",ltri:"\u25c3",ltrie:"\u22b4",ltrif:"\u25c2",ltrPar:"\u2996",lurdshar:"\u294a",luruhar:"\u2966",lvertneqq:"\u2268\ufe00",lvnE:"\u2268\ufe00",macr:"\xaf",male:"\u2642",malt:"\u2720",maltese:"\u2720",Map:"\u2905",map:"\u21a6",mapsto:"\u21a6",mapstodown:"\u21a7",mapstoleft:"\u21a4",mapstoup:"\u21a5",marker:"\u25ae",mcomma:"\u2a29",Mcy:"\u041c",mcy:"\u043c",mdash:"\u2014",mDDot:"\u223a",measuredangle:"\u2221",MediumSpace:"\u205f",Mellintrf:"\u2133",Mfr:"\ud835\udd10",mfr:"\ud835\udd2a",mho:"\u2127",micro:"\xb5",midast:"*",midcir:"\u2af0",mid:"\u2223",middot:"\xb7",minusb:"\u229f",minus:"\u2212",minusd:"\u2238",minusdu:"\u2a2a",MinusPlus:"\u2213",mlcp:"\u2adb",mldr:"\u2026",mnplus:"\u2213",models:"\u22a7",Mopf:"\ud835\udd44",mopf:"\ud835\udd5e",mp:"\u2213",mscr:"\ud835\udcc2",Mscr:"\u2133",mstpos:"\u223e",Mu:"\u039c",mu:"\u03bc",multimap:"\u22b8",mumap:"\u22b8",nabla:"\u2207",Nacute:"\u0143",nacute:"\u0144",nang:"\u2220\u20d2",nap:"\u2249",napE:"\u2a70\u0338",napid:"\u224b\u0338",napos:"\u0149",napprox:"\u2249",natural:"\u266e",naturals:"\u2115",natur:"\u266e",nbsp:"\xa0",nbump:"\u224e\u0338",nbumpe:"\u224f\u0338",ncap:"\u2a43",Ncaron:"\u0147",ncaron:"\u0148",Ncedil:"\u0145",ncedil:"\u0146",ncong:"\u2247",ncongdot:"\u2a6d\u0338",ncup:"\u2a42",Ncy:"\u041d",ncy:"\u043d",ndash:"\u2013",nearhk:"\u2924",nearr:"\u2197",neArr:"\u21d7",nearrow:"\u2197",ne:"\u2260",nedot:"\u2250\u0338",NegativeMediumSpace:"\u200b",NegativeThickSpace:"\u200b",NegativeThinSpace:"\u200b",NegativeVeryThinSpace:"\u200b",nequiv:"\u2262",nesear:"\u2928",nesim:"\u2242\u0338",NestedGreaterGreater:"\u226b",NestedLessLess:"\u226a",NewLine:"\n",nexist:"\u2204",nexists:"\u2204",Nfr:"\ud835\udd11",nfr:"\ud835\udd2b",ngE:"\u2267\u0338",nge:"\u2271",ngeq:"\u2271",ngeqq:"\u2267\u0338",ngeqslant:"\u2a7e\u0338",nges:"\u2a7e\u0338",nGg:"\u22d9\u0338",ngsim:"\u2275",nGt:"\u226b\u20d2",ngt:"\u226f",ngtr:"\u226f",nGtv:"\u226b\u0338",nharr:"\u21ae",nhArr:"\u21ce",nhpar:"\u2af2",ni:"\u220b",nis:"\u22fc",nisd:"\u22fa",niv:"\u220b",NJcy:"\u040a",njcy:"\u045a",nlarr:"\u219a",nlArr:"\u21cd",nldr:"\u2025",nlE:"\u2266\u0338",nle:"\u2270",nleftarrow:"\u219a",nLeftarrow:"\u21cd",nleftrightarrow:"\u21ae",nLeftrightarrow:"\u21ce",nleq:"\u2270",nleqq:"\u2266\u0338",nleqslant:"\u2a7d\u0338",nles:"\u2a7d\u0338",nless:"\u226e",nLl:"\u22d8\u0338",nlsim:"\u2274",nLt:"\u226a\u20d2",nlt:"\u226e",nltri:"\u22ea",nltrie:"\u22ec",nLtv:"\u226a\u0338",nmid:"\u2224",NoBreak:"\u2060",NonBreakingSpace:"\xa0",nopf:"\ud835\udd5f",Nopf:"\u2115",Not:"\u2aec",not:"\xac",NotCongruent:"\u2262",NotCupCap:"\u226d",NotDoubleVerticalBar:"\u2226",NotElement:"\u2209",NotEqual:"\u2260",NotEqualTilde:"\u2242\u0338",NotExists:"\u2204",NotGreater:"\u226f",NotGreaterEqual:"\u2271",NotGreaterFullEqual:"\u2267\u0338",NotGreaterGreater:"\u226b\u0338",NotGreaterLess:"\u2279",NotGreaterSlantEqual:"\u2a7e\u0338",NotGreaterTilde:"\u2275",NotHumpDownHump:"\u224e\u0338",NotHumpEqual:"\u224f\u0338",notin:"\u2209",notindot:"\u22f5\u0338",notinE:"\u22f9\u0338",notinva:"\u2209",notinvb:"\u22f7",notinvc:"\u22f6",NotLeftTriangleBar:"\u29cf\u0338",NotLeftTriangle:"\u22ea",NotLeftTriangleEqual:"\u22ec",NotLess:"\u226e",NotLessEqual:"\u2270",NotLessGreater:"\u2278",NotLessLess:"\u226a\u0338",NotLessSlantEqual:"\u2a7d\u0338",NotLessTilde:"\u2274",NotNestedGreaterGreater:"\u2aa2\u0338",NotNestedLessLess:"\u2aa1\u0338",notni:"\u220c",notniva:"\u220c",notnivb:"\u22fe",notnivc:"\u22fd",NotPrecedes:"\u2280",NotPrecedesEqual:"\u2aaf\u0338",NotPrecedesSlantEqual:"\u22e0",NotReverseElement:"\u220c",NotRightTriangleBar:"\u29d0\u0338",NotRightTriangle:"\u22eb",NotRightTriangleEqual:"\u22ed",NotSquareSubset:"\u228f\u0338",NotSquareSubsetEqual:"\u22e2",NotSquareSuperset:"\u2290\u0338",NotSquareSupersetEqual:"\u22e3",NotSubset:"\u2282\u20d2",NotSubsetEqual:"\u2288",NotSucceeds:"\u2281",NotSucceedsEqual:"\u2ab0\u0338",NotSucceedsSlantEqual:"\u22e1",NotSucceedsTilde:"\u227f\u0338",NotSuperset:"\u2283\u20d2",NotSupersetEqual:"\u2289",NotTilde:"\u2241",NotTildeEqual:"\u2244",NotTildeFullEqual:"\u2247",NotTildeTilde:"\u2249",NotVerticalBar:"\u2224",nparallel:"\u2226",npar:"\u2226",nparsl:"\u2afd\u20e5",npart:"\u2202\u0338",npolint:"\u2a14",npr:"\u2280",nprcue:"\u22e0",nprec:"\u2280",npreceq:"\u2aaf\u0338",npre:"\u2aaf\u0338",nrarrc:"\u2933\u0338",nrarr:"\u219b",nrArr:"\u21cf",nrarrw:"\u219d\u0338",nrightarrow:"\u219b",nRightarrow:"\u21cf",nrtri:"\u22eb",nrtrie:"\u22ed",nsc:"\u2281",nsccue:"\u22e1",nsce:"\u2ab0\u0338",Nscr:"\ud835\udca9",nscr:"\ud835\udcc3",nshortmid:"\u2224",nshortparallel:"\u2226",nsim:"\u2241",nsime:"\u2244",nsimeq:"\u2244",nsmid:"\u2224",nspar:"\u2226",nsqsube:"\u22e2",nsqsupe:"\u22e3",nsub:"\u2284",nsubE:"\u2ac5\u0338",nsube:"\u2288",nsubset:"\u2282\u20d2",nsubseteq:"\u2288",nsubseteqq:"\u2ac5\u0338",nsucc:"\u2281",nsucceq:"\u2ab0\u0338",nsup:"\u2285",nsupE:"\u2ac6\u0338",nsupe:"\u2289",nsupset:"\u2283\u20d2",nsupseteq:"\u2289",nsupseteqq:"\u2ac6\u0338",ntgl:"\u2279",Ntilde:"\xd1",ntilde:"\xf1",ntlg:"\u2278",ntriangleleft:"\u22ea",ntrianglelefteq:"\u22ec",ntriangleright:"\u22eb",ntrianglerighteq:"\u22ed",Nu:"\u039d",nu:"\u03bd",num:"#",numero:"\u2116",numsp:"\u2007",nvap:"\u224d\u20d2",nvdash:"\u22ac",nvDash:"\u22ad",nVdash:"\u22ae",nVDash:"\u22af",nvge:"\u2265\u20d2",nvgt:">\u20d2",nvHarr:"\u2904",nvinfin:"\u29de",nvlArr:"\u2902",nvle:"\u2264\u20d2",nvlt:"<\u20d2",nvltrie:"\u22b4\u20d2",nvrArr:"\u2903",nvrtrie:"\u22b5\u20d2",nvsim:"\u223c\u20d2",nwarhk:"\u2923",nwarr:"\u2196",nwArr:"\u21d6",nwarrow:"\u2196",nwnear:"\u2927",Oacute:"\xd3",oacute:"\xf3",oast:"\u229b",Ocirc:"\xd4",ocirc:"\xf4",ocir:"\u229a",Ocy:"\u041e",ocy:"\u043e",odash:"\u229d",Odblac:"\u0150",odblac:"\u0151",odiv:"\u2a38",odot:"\u2299",odsold:"\u29bc",OElig:"\u0152",oelig:"\u0153",ofcir:"\u29bf",Ofr:"\ud835\udd12",ofr:"\ud835\udd2c",ogon:"\u02db",Ograve:"\xd2",ograve:"\xf2",ogt:"\u29c1",ohbar:"\u29b5",ohm:"\u03a9",oint:"\u222e",olarr:"\u21ba",olcir:"\u29be",olcross:"\u29bb",oline:"\u203e",olt:"\u29c0",Omacr:"\u014c",omacr:"\u014d",Omega:"\u03a9",omega:"\u03c9",Omicron:"\u039f",omicron:"\u03bf",omid:"\u29b6",ominus:"\u2296",Oopf:"\ud835\udd46",oopf:"\ud835\udd60",opar:"\u29b7",OpenCurlyDoubleQuote:"\u201c",OpenCurlyQuote:"\u2018",operp:"\u29b9",oplus:"\u2295",orarr:"\u21bb",Or:"\u2a54",or:"\u2228",ord:"\u2a5d",order:"\u2134",orderof:"\u2134",ordf:"\xaa",ordm:"\xba",origof:"\u22b6",oror:"\u2a56",orslope:"\u2a57",orv:"\u2a5b",oS:"\u24c8",Oscr:"\ud835\udcaa",oscr:"\u2134",Oslash:"\xd8",oslash:"\xf8",osol:"\u2298",Otilde:"\xd5",otilde:"\xf5",otimesas:"\u2a36",Otimes:"\u2a37",otimes:"\u2297",Ouml:"\xd6",ouml:"\xf6",ovbar:"\u233d",OverBar:"\u203e",OverBrace:"\u23de",OverBracket:"\u23b4",OverParenthesis:"\u23dc",para:"\xb6",parallel:"\u2225",par:"\u2225",parsim:"\u2af3",parsl:"\u2afd",part:"\u2202",PartialD:"\u2202",Pcy:"\u041f",pcy:"\u043f",percnt:"%",period:".",permil:"\u2030",perp:"\u22a5",pertenk:"\u2031",Pfr:"\ud835\udd13",pfr:"\ud835\udd2d",Phi:"\u03a6",phi:"\u03c6",phiv:"\u03d5",phmmat:"\u2133",phone:"\u260e",Pi:"\u03a0",pi:"\u03c0",pitchfork:"\u22d4",piv:"\u03d6",planck:"\u210f",planckh:"\u210e",plankv:"\u210f",plusacir:"\u2a23",plusb:"\u229e",pluscir:"\u2a22",plus:"+",plusdo:"\u2214",plusdu:"\u2a25",pluse:"\u2a72",PlusMinus:"\xb1",plusmn:"\xb1",plussim:"\u2a26",plustwo:"\u2a27",pm:"\xb1",Poincareplane:"\u210c",pointint:"\u2a15",popf:"\ud835\udd61",Popf:"\u2119",pound:"\xa3",prap:"\u2ab7",Pr:"\u2abb",pr:"\u227a",prcue:"\u227c",precapprox:"\u2ab7",prec:"\u227a",preccurlyeq:"\u227c",Precedes:"\u227a",PrecedesEqual:"\u2aaf",PrecedesSlantEqual:"\u227c",PrecedesTilde:"\u227e",preceq:"\u2aaf",precnapprox:"\u2ab9",precneqq:"\u2ab5",precnsim:"\u22e8",pre:"\u2aaf",prE:"\u2ab3",precsim:"\u227e",prime:"\u2032",Prime:"\u2033",primes:"\u2119",prnap:"\u2ab9",prnE:"\u2ab5",prnsim:"\u22e8",prod:"\u220f",Product:"\u220f",profalar:"\u232e",profline:"\u2312",profsurf:"\u2313",prop:"\u221d",Proportional:"\u221d",Proportion:"\u2237",propto:"\u221d",prsim:"\u227e",prurel:"\u22b0",Pscr:"\ud835\udcab",pscr:"\ud835\udcc5",Psi:"\u03a8",psi:"\u03c8",puncsp:"\u2008",Qfr:"\ud835\udd14",qfr:"\ud835\udd2e",qint:"\u2a0c",qopf:"\ud835\udd62",Qopf:"\u211a",qprime:"\u2057",Qscr:"\ud835\udcac",qscr:"\ud835\udcc6",quaternions:"\u210d",quatint:"\u2a16",quest:"?",questeq:"\u225f",quot:'"',QUOT:'"',rAarr:"\u21db",race:"\u223d\u0331",Racute:"\u0154",racute:"\u0155",radic:"\u221a",raemptyv:"\u29b3",rang:"\u27e9",Rang:"\u27eb",rangd:"\u2992",range:"\u29a5",rangle:"\u27e9",raquo:"\xbb",rarrap:"\u2975",rarrb:"\u21e5",rarrbfs:"\u2920",rarrc:"\u2933",rarr:"\u2192",Rarr:"\u21a0",rArr:"\u21d2",rarrfs:"\u291e",rarrhk:"\u21aa",rarrlp:"\u21ac",rarrpl:"\u2945",rarrsim:"\u2974",Rarrtl:"\u2916",rarrtl:"\u21a3",rarrw:"\u219d",ratail:"\u291a",rAtail:"\u291c",ratio:"\u2236",rationals:"\u211a",rbarr:"\u290d",rBarr:"\u290f",RBarr:"\u2910",rbbrk:"\u2773",rbrace:"}",rbrack:"]",rbrke:"\u298c",rbrksld:"\u298e",rbrkslu:"\u2990",Rcaron:"\u0158",rcaron:"\u0159",Rcedil:"\u0156",rcedil:"\u0157",rceil:"\u2309",rcub:"}",Rcy:"\u0420",rcy:"\u0440",rdca:"\u2937",rdldhar:"\u2969",rdquo:"\u201d",rdquor:"\u201d",rdsh:"\u21b3",real:"\u211c",realine:"\u211b",realpart:"\u211c",reals:"\u211d",Re:"\u211c",rect:"\u25ad",reg:"\xae",REG:"\xae",ReverseElement:"\u220b",ReverseEquilibrium:"\u21cb",ReverseUpEquilibrium:"\u296f",rfisht:"\u297d",rfloor:"\u230b",rfr:"\ud835\udd2f",Rfr:"\u211c",rHar:"\u2964",rhard:"\u21c1",rharu:"\u21c0",rharul:"\u296c",Rho:"\u03a1",rho:"\u03c1",rhov:"\u03f1",RightAngleBracket:"\u27e9",RightArrowBar:"\u21e5",rightarrow:"\u2192",RightArrow:"\u2192",Rightarrow:"\u21d2",RightArrowLeftArrow:"\u21c4",rightarrowtail:"\u21a3",RightCeiling:"\u2309",RightDoubleBracket:"\u27e7",RightDownTeeVector:"\u295d",RightDownVectorBar:"\u2955",RightDownVector:"\u21c2",RightFloor:"\u230b",rightharpoondown:"\u21c1",rightharpoonup:"\u21c0",rightleftarrows:"\u21c4",rightleftharpoons:"\u21cc",rightrightarrows:"\u21c9",rightsquigarrow:"\u219d",RightTeeArrow:"\u21a6",RightTee:"\u22a2",RightTeeVector:"\u295b",rightthreetimes:"\u22cc",RightTriangleBar:"\u29d0",RightTriangle:"\u22b3",RightTriangleEqual:"\u22b5",RightUpDownVector:"\u294f",RightUpTeeVector:"\u295c",RightUpVectorBar:"\u2954",RightUpVector:"\u21be",RightVectorBar:"\u2953",RightVector:"\u21c0",ring:"\u02da",risingdotseq:"\u2253",rlarr:"\u21c4",rlhar:"\u21cc",rlm:"\u200f",rmoustache:"\u23b1",rmoust:"\u23b1",rnmid:"\u2aee",roang:"\u27ed",roarr:"\u21fe",robrk:"\u27e7",ropar:"\u2986",ropf:"\ud835\udd63",Ropf:"\u211d",roplus:"\u2a2e",rotimes:"\u2a35",RoundImplies:"\u2970",rpar:")",rpargt:"\u2994",rppolint:"\u2a12",rrarr:"\u21c9",Rrightarrow:"\u21db",rsaquo:"\u203a",rscr:"\ud835\udcc7",Rscr:"\u211b",rsh:"\u21b1",Rsh:"\u21b1",rsqb:"]",rsquo:"\u2019",rsquor:"\u2019",rthree:"\u22cc",rtimes:"\u22ca",rtri:"\u25b9",rtrie:"\u22b5",rtrif:"\u25b8",rtriltri:"\u29ce",RuleDelayed:"\u29f4",ruluhar:"\u2968",rx:"\u211e",Sacute:"\u015a",sacute:"\u015b",sbquo:"\u201a",scap:"\u2ab8",Scaron:"\u0160",scaron:"\u0161",Sc:"\u2abc",sc:"\u227b",sccue:"\u227d",sce:"\u2ab0",scE:"\u2ab4",Scedil:"\u015e",scedil:"\u015f",Scirc:"\u015c",scirc:"\u015d",scnap:"\u2aba",scnE:"\u2ab6",scnsim:"\u22e9",scpolint:"\u2a13",scsim:"\u227f",Scy:"\u0421",scy:"\u0441",sdotb:"\u22a1",sdot:"\u22c5",sdote:"\u2a66",searhk:"\u2925",searr:"\u2198",seArr:"\u21d8",searrow:"\u2198",sect:"\xa7",semi:";",seswar:"\u2929",setminus:"\u2216",setmn:"\u2216",sext:"\u2736",Sfr:"\ud835\udd16",sfr:"\ud835\udd30",sfrown:"\u2322",sharp:"\u266f",SHCHcy:"\u0429",shchcy:"\u0449",SHcy:"\u0428",shcy:"\u0448",ShortDownArrow:"\u2193",ShortLeftArrow:"\u2190",shortmid:"\u2223",shortparallel:"\u2225",ShortRightArrow:"\u2192",ShortUpArrow:"\u2191",shy:"\xad",Sigma:"\u03a3",sigma:"\u03c3",sigmaf:"\u03c2",sigmav:"\u03c2",sim:"\u223c",simdot:"\u2a6a",sime:"\u2243",simeq:"\u2243",simg:"\u2a9e",simgE:"\u2aa0",siml:"\u2a9d",simlE:"\u2a9f",simne:"\u2246",simplus:"\u2a24",simrarr:"\u2972",slarr:"\u2190",SmallCircle:"\u2218",smallsetminus:"\u2216",smashp:"\u2a33",smeparsl:"\u29e4",smid:"\u2223",smile:"\u2323",smt:"\u2aaa",smte:"\u2aac",smtes:"\u2aac\ufe00",SOFTcy:"\u042c",softcy:"\u044c",solbar:"\u233f",solb:"\u29c4",sol:"/",Sopf:"\ud835\udd4a",sopf:"\ud835\udd64",spades:"\u2660",spadesuit:"\u2660",spar:"\u2225",sqcap:"\u2293",sqcaps:"\u2293\ufe00",sqcup:"\u2294",sqcups:"\u2294\ufe00",Sqrt:"\u221a",sqsub:"\u228f",sqsube:"\u2291",sqsubset:"\u228f",sqsubseteq:"\u2291",sqsup:"\u2290",sqsupe:"\u2292",sqsupset:"\u2290",sqsupseteq:"\u2292",square:"\u25a1",Square:"\u25a1",SquareIntersection:"\u2293",SquareSubset:"\u228f",SquareSubsetEqual:"\u2291",SquareSuperset:"\u2290",SquareSupersetEqual:"\u2292",SquareUnion:"\u2294",squarf:"\u25aa",squ:"\u25a1",squf:"\u25aa",srarr:"\u2192",Sscr:"\ud835\udcae",sscr:"\ud835\udcc8",ssetmn:"\u2216",ssmile:"\u2323",sstarf:"\u22c6",Star:"\u22c6",star:"\u2606",starf:"\u2605",straightepsilon:"\u03f5",straightphi:"\u03d5",strns:"\xaf",sub:"\u2282",Sub:"\u22d0",subdot:"\u2abd",subE:"\u2ac5",sube:"\u2286",subedot:"\u2ac3",submult:"\u2ac1",subnE:"\u2acb",subne:"\u228a",subplus:"\u2abf",subrarr:"\u2979",subset:"\u2282",Subset:"\u22d0",subseteq:"\u2286",subseteqq:"\u2ac5",SubsetEqual:"\u2286",subsetneq:"\u228a",subsetneqq:"\u2acb",subsim:"\u2ac7",subsub:"\u2ad5",subsup:"\u2ad3",succapprox:"\u2ab8",succ:"\u227b",succcurlyeq:"\u227d",Succeeds:"\u227b",SucceedsEqual:"\u2ab0",SucceedsSlantEqual:"\u227d",SucceedsTilde:"\u227f",succeq:"\u2ab0",succnapprox:"\u2aba",succneqq:"\u2ab6",succnsim:"\u22e9",succsim:"\u227f",SuchThat:"\u220b",sum:"\u2211",Sum:"\u2211",sung:"\u266a",sup1:"\xb9",sup2:"\xb2",sup3:"\xb3",sup:"\u2283",Sup:"\u22d1",supdot:"\u2abe",supdsub:"\u2ad8",supE:"\u2ac6",supe:"\u2287",supedot:"\u2ac4",Superset:"\u2283",SupersetEqual:"\u2287",suphsol:"\u27c9",suphsub:"\u2ad7",suplarr:"\u297b",supmult:"\u2ac2",supnE:"\u2acc",supne:"\u228b",supplus:"\u2ac0",supset:"\u2283",Supset:"\u22d1",supseteq:"\u2287",supseteqq:"\u2ac6",supsetneq:"\u228b",supsetneqq:"\u2acc",supsim:"\u2ac8",supsub:"\u2ad4",supsup:"\u2ad6",swarhk:"\u2926",swarr:"\u2199",swArr:"\u21d9",swarrow:"\u2199",swnwar:"\u292a",szlig:"\xdf",Tab:"\t",target:"\u2316",Tau:"\u03a4",tau:"\u03c4",tbrk:"\u23b4",Tcaron:"\u0164",tcaron:"\u0165",Tcedil:"\u0162",tcedil:"\u0163",Tcy:"\u0422",tcy:"\u0442",tdot:"\u20db",telrec:"\u2315",Tfr:"\ud835\udd17",tfr:"\ud835\udd31",there4:"\u2234",therefore:"\u2234",Therefore:"\u2234",Theta:"\u0398",theta:"\u03b8",thetasym:"\u03d1",thetav:"\u03d1",thickapprox:"\u2248",thicksim:"\u223c",ThickSpace:"\u205f\u200a",ThinSpace:"\u2009",thinsp:"\u2009",thkap:"\u2248",thksim:"\u223c",THORN:"\xde",thorn:"\xfe",tilde:"\u02dc",Tilde:"\u223c",TildeEqual:"\u2243",TildeFullEqual:"\u2245",TildeTilde:"\u2248",timesbar:"\u2a31",timesb:"\u22a0",times:"\xd7",timesd:"\u2a30",tint:"\u222d",toea:"\u2928",topbot:"\u2336",topcir:"\u2af1",top:"\u22a4",Topf:"\ud835\udd4b",topf:"\ud835\udd65",topfork:"\u2ada",tosa:"\u2929",tprime:"\u2034",trade:"\u2122",TRADE:"\u2122",triangle:"\u25b5",triangledown:"\u25bf",triangleleft:"\u25c3",trianglelefteq:"\u22b4",triangleq:"\u225c",triangleright:"\u25b9",trianglerighteq:"\u22b5",tridot:"\u25ec",trie:"\u225c",triminus:"\u2a3a",TripleDot:"\u20db",triplus:"\u2a39",trisb:"\u29cd",tritime:"\u2a3b",trpezium:"\u23e2",Tscr:"\ud835\udcaf",tscr:"\ud835\udcc9",TScy:"\u0426",tscy:"\u0446",TSHcy:"\u040b",tshcy:"\u045b",Tstrok:"\u0166",tstrok:"\u0167",twixt:"\u226c",twoheadleftarrow:"\u219e",twoheadrightarrow:"\u21a0",Uacute:"\xda",uacute:"\xfa",uarr:"\u2191",Uarr:"\u219f",uArr:"\u21d1",Uarrocir:"\u2949",Ubrcy:"\u040e",ubrcy:"\u045e",Ubreve:"\u016c",ubreve:"\u016d",Ucirc:"\xdb",ucirc:"\xfb",Ucy:"\u0423",ucy:"\u0443",udarr:"\u21c5",Udblac:"\u0170",udblac:"\u0171",udhar:"\u296e",ufisht:"\u297e",Ufr:"\ud835\udd18",ufr:"\ud835\udd32",Ugrave:"\xd9",ugrave:"\xf9",uHar:"\u2963",uharl:"\u21bf",uharr:"\u21be",uhblk:"\u2580",ulcorn:"\u231c",ulcorner:"\u231c",ulcrop:"\u230f",ultri:"\u25f8",Umacr:"\u016a",umacr:"\u016b",uml:"\xa8",UnderBar:"_",UnderBrace:"\u23df",UnderBracket:"\u23b5",UnderParenthesis:"\u23dd",Union:"\u22c3",UnionPlus:"\u228e",Uogon:"\u0172",uogon:"\u0173",Uopf:"\ud835\udd4c",uopf:"\ud835\udd66",UpArrowBar:"\u2912",uparrow:"\u2191",UpArrow:"\u2191",Uparrow:"\u21d1",UpArrowDownArrow:"\u21c5",updownarrow:"\u2195",UpDownArrow:"\u2195",Updownarrow:"\u21d5",UpEquilibrium:"\u296e",upharpoonleft:"\u21bf",upharpoonright:"\u21be",uplus:"\u228e",UpperLeftArrow:"\u2196",UpperRightArrow:"\u2197",upsi:"\u03c5",Upsi:"\u03d2",upsih:"\u03d2",Upsilon:"\u03a5",upsilon:"\u03c5",UpTeeArrow:"\u21a5",UpTee:"\u22a5",upuparrows:"\u21c8",urcorn:"\u231d",urcorner:"\u231d",urcrop:"\u230e",Uring:"\u016e",uring:"\u016f",urtri:"\u25f9",Uscr:"\ud835\udcb0",uscr:"\ud835\udcca",utdot:"\u22f0",Utilde:"\u0168",utilde:"\u0169",utri:"\u25b5",utrif:"\u25b4",uuarr:"\u21c8",Uuml:"\xdc",uuml:"\xfc",uwangle:"\u29a7",vangrt:"\u299c",varepsilon:"\u03f5",varkappa:"\u03f0",varnothing:"\u2205",varphi:"\u03d5",varpi:"\u03d6",varpropto:"\u221d",varr:"\u2195",vArr:"\u21d5",varrho:"\u03f1",varsigma:"\u03c2",varsubsetneq:"\u228a\ufe00",varsubsetneqq:"\u2acb\ufe00",varsupsetneq:"\u228b\ufe00",varsupsetneqq:"\u2acc\ufe00",vartheta:"\u03d1",vartriangleleft:"\u22b2",vartriangleright:"\u22b3",vBar:"\u2ae8",Vbar:"\u2aeb",vBarv:"\u2ae9",Vcy:"\u0412",vcy:"\u0432",vdash:"\u22a2",vDash:"\u22a8",Vdash:"\u22a9",VDash:"\u22ab",Vdashl:"\u2ae6",veebar:"\u22bb",vee:"\u2228",Vee:"\u22c1",veeeq:"\u225a",vellip:"\u22ee",verbar:"|",Verbar:"\u2016",vert:"|",Vert:"\u2016",VerticalBar:"\u2223",VerticalLine:"|",VerticalSeparator:"\u2758",VerticalTilde:"\u2240",VeryThinSpace:"\u200a",Vfr:"\ud835\udd19",vfr:"\ud835\udd33",vltri:"\u22b2",vnsub:"\u2282\u20d2",vnsup:"\u2283\u20d2",Vopf:"\ud835\udd4d",vopf:"\ud835\udd67",vprop:"\u221d",vrtri:"\u22b3",Vscr:"\ud835\udcb1",vscr:"\ud835\udccb",vsubnE:"\u2acb\ufe00",vsubne:"\u228a\ufe00",vsupnE:"\u2acc\ufe00",vsupne:"\u228b\ufe00",Vvdash:"\u22aa",vzigzag:"\u299a",Wcirc:"\u0174",wcirc:"\u0175",wedbar:"\u2a5f",wedge:"\u2227",Wedge:"\u22c0",wedgeq:"\u2259",weierp:"\u2118",Wfr:"\ud835\udd1a",wfr:"\ud835\udd34",Wopf:"\ud835\udd4e",wopf:"\ud835\udd68",wp:"\u2118",wr:"\u2240",wreath:"\u2240",Wscr:"\ud835\udcb2",wscr:"\ud835\udccc",xcap:"\u22c2",xcirc:"\u25ef",xcup:"\u22c3",xdtri:"\u25bd",Xfr:"\ud835\udd1b",xfr:"\ud835\udd35",xharr:"\u27f7",xhArr:"\u27fa",Xi:"\u039e",xi:"\u03be",xlarr:"\u27f5",xlArr:"\u27f8",xmap:"\u27fc",xnis:"\u22fb",xodot:"\u2a00",Xopf:"\ud835\udd4f",xopf:"\ud835\udd69",xoplus:"\u2a01",xotime:"\u2a02",xrarr:"\u27f6",xrArr:"\u27f9",Xscr:"\ud835\udcb3",xscr:"\ud835\udccd",xsqcup:"\u2a06",xuplus:"\u2a04",xutri:"\u25b3",xvee:"\u22c1",xwedge:"\u22c0",Yacute:"\xdd",yacute:"\xfd",YAcy:"\u042f",yacy:"\u044f",Ycirc:"\u0176",ycirc:"\u0177",Ycy:"\u042b",ycy:"\u044b",yen:"\xa5",Yfr:"\ud835\udd1c",yfr:"\ud835\udd36",YIcy:"\u0407",yicy:"\u0457",Yopf:"\ud835\udd50",yopf:"\ud835\udd6a",Yscr:"\ud835\udcb4",yscr:"\ud835\udcce",YUcy:"\u042e",yucy:"\u044e",yuml:"\xff",Yuml:"\u0178",Zacute:"\u0179",zacute:"\u017a",Zcaron:"\u017d",zcaron:"\u017e",Zcy:"\u0417",zcy:"\u0437",Zdot:"\u017b",zdot:"\u017c",zeetrf:"\u2128",ZeroWidthSpace:"\u200b",Zeta:"\u0396",zeta:"\u03b6",zfr:"\ud835\udd37",Zfr:"\u2128",ZHcy:"\u0416",zhcy:"\u0436",zigrarr:"\u21dd",zopf:"\ud835\udd6b",Zopf:"\u2124",Zscr:"\ud835\udcb5",zscr:"\ud835\udccf",zwj:"\u200d",zwnj:"\u200c"}},function(e,t,r){"use strict";var n={};function o(e,t,r){var i,a,s,l,u,c="";for("string"!==typeof t&&(r=t,t=o.defaultChars),"undefined"===typeof r&&(r=!0),u=function(e){var t,r,o=n[e];if(o)return o;for(o=n[e]=[],t=0;t<128;t++)r=String.fromCharCode(t),/^[0-9a-z]$/i.test(r)?o.push(r):o.push("%"+("0"+t.toString(16).toUpperCase()).slice(-2));for(t=0;t<e.length;t++)o[e.charCodeAt(t)]=e[t];return o}(t),i=0,a=e.length;i<a;i++)if(s=e.charCodeAt(i),r&&37===s&&i+2<a&&/^[0-9a-f]{2}$/i.test(e.slice(i+1,i+3)))c+=e.slice(i,i+3),i+=2;else if(s<128)c+=u[s];else if(s>=55296&&s<=57343){if(s>=55296&&s<=56319&&i+1<a&&(l=e.charCodeAt(i+1))>=56320&&l<=57343){c+=encodeURIComponent(e[i]+e[i+1]),i++;continue}c+="%EF%BF%BD"}else c+=encodeURIComponent(e[i]);return c}o.defaultChars=";/?:@&=+$,-_.!~*'()#",o.componentChars="-_.!~*'()",e.exports=o},function(e,t,r){"use strict";var n={};function o(e,t){var r;return"string"!==typeof t&&(t=o.defaultChars),r=function(e){var t,r,o=n[e];if(o)return o;for(o=n[e]=[],t=0;t<128;t++)r=String.fromCharCode(t),o.push(r);for(t=0;t<e.length;t++)o[r=e.charCodeAt(t)]="%"+("0"+r.toString(16).toUpperCase()).slice(-2);return o}(t),e.replace(/(%[a-f0-9]{2})+/gi,function(e){var t,n,o,i,a,s,l,u="";for(t=0,n=e.length;t<n;t+=3)(o=parseInt(e.slice(t+1,t+3),16))<128?u+=r[o]:192===(224&o)&&t+3<n&&128===(192&(i=parseInt(e.slice(t+4,t+6),16)))?(u+=(l=o<<6&1984|63&i)<128?"\ufffd\ufffd":String.fromCharCode(l),t+=3):224===(240&o)&&t+6<n&&(i=parseInt(e.slice(t+4,t+6),16),a=parseInt(e.slice(t+7,t+9),16),128===(192&i)&&128===(192&a))?(u+=(l=o<<12&61440|i<<6&4032|63&a)<2048||l>=55296&&l<=57343?"\ufffd\ufffd\ufffd":String.fromCharCode(l),t+=6):240===(248&o)&&t+9<n&&(i=parseInt(e.slice(t+4,t+6),16),a=parseInt(e.slice(t+7,t+9),16),s=parseInt(e.slice(t+10,t+12),16),128===(192&i)&&128===(192&a)&&128===(192&s))?((l=o<<18&1835008|i<<12&258048|a<<6&4032|63&s)<65536||l>1114111?u+="\ufffd\ufffd\ufffd\ufffd":(l-=65536,u+=String.fromCharCode(55296+(l>>10),56320+(1023&l))),t+=9):u+="\ufffd";return u})}o.defaultChars=";/?:@&=+$,#",o.componentChars="",e.exports=o},function(e,t,r){"use strict";e.exports=function(e){var t="";return t+=e.protocol||"",t+=e.slashes?"//":"",t+=e.auth?e.auth+"@":"",e.hostname&&-1!==e.hostname.indexOf(":")?t+="["+e.hostname+"]":t+=e.hostname||"",t+=e.port?":"+e.port:"",t+=e.pathname||"",t+=e.search||"",t+=e.hash||""}},function(e,t,r){"use strict";function n(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}var o=/^([a-z0-9.+-]+:)/i,i=/:[0-9]*$/,a=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,s=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(s),u=["%","/","?",";","#"].concat(l),c=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,h=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,f={javascript:!0,"javascript:":!0},d={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};n.prototype.parse=function(e,t){var r,n,i,s,l,m=e;if(m=m.trim(),!t&&1===e.split("#").length){var y=a.exec(m);if(y)return this.pathname=y[1],y[2]&&(this.search=y[2]),this}var v=o.exec(m);if(v&&(i=(v=v[0]).toLowerCase(),this.protocol=v,m=m.substr(v.length)),(t||v||m.match(/^\/\/[^@\/]+@[^@\/]+/))&&(!(l="//"===m.substr(0,2))||v&&f[v]||(m=m.substr(2),this.slashes=!0)),!f[v]&&(l||v&&!d[v])){var g,_,b=-1;for(r=0;r<c.length;r++)-1!==(s=m.indexOf(c[r]))&&(-1===b||s<b)&&(b=s);for(-1!==(_=-1===b?m.lastIndexOf("@"):m.lastIndexOf("@",b))&&(g=m.slice(0,_),m=m.slice(_+1),this.auth=g),b=-1,r=0;r<u.length;r++)-1!==(s=m.indexOf(u[r]))&&(-1===b||s<b)&&(b=s);-1===b&&(b=m.length),":"===m[b-1]&&b--;var x=m.slice(0,b);m=m.slice(b),this.parseHost(x),this.hostname=this.hostname||"";var w="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!w){var E=this.hostname.split(/\./);for(r=0,n=E.length;r<n;r++){var S=E[r];if(S&&!S.match(p)){for(var C="",k=0,T=S.length;k<T;k++)S.charCodeAt(k)>127?C+="x":C+=S[k];if(!C.match(p)){var O=E.slice(0,r),P=E.slice(r+1),A=S.match(h);A&&(O.push(A[1]),P.unshift(A[2])),P.length&&(m=P.join(".")+m),this.hostname=O.join(".");break}}}}this.hostname.length>255&&(this.hostname=""),w&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}var I=m.indexOf("#");-1!==I&&(this.hash=m.substr(I),m=m.slice(0,I));var M=m.indexOf("?");return-1!==M&&(this.search=m.substr(M),m=m.slice(0,M)),m&&(this.pathname=m),d[i]&&this.hostname&&!this.pathname&&(this.pathname=""),this},n.prototype.parseHost=function(e){var t=i.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},e.exports=function(e,t){if(e&&e instanceof n)return e;var r=new n;return r.parse(e,t),r}},function(e,t,r){"use strict";t.Any=r(292),t.Cc=r(293),t.Cf=r(598),t.P=r(182),t.Z=r(294)},function(e,t){e.exports=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/},function(e,t,r){"use strict";t.parseLinkLabel=r(600),t.parseLinkDestination=r(601),t.parseLinkTitle=r(602)},function(e,t,r){"use strict";e.exports=function(e,t,r){var n,o,i,a,s=-1,l=e.posMax,u=e.pos;for(e.pos=t+1,n=1;e.pos<l;){if(93===(i=e.src.charCodeAt(e.pos))&&0===--n){o=!0;break}if(a=e.pos,e.md.inline.skipToken(e),91===i)if(a===e.pos-1)n++;else if(r)return e.pos=u,-1}return o&&(s=e.pos),e.pos=u,s}},function(e,t,r){"use strict";var n=r(6).isSpace,o=r(6).unescapeAll;e.exports=function(e,t,r){var i,a,s=t,l={ok:!1,pos:0,lines:0,str:""};if(60===e.charCodeAt(t)){for(t++;t<r;){if(10===(i=e.charCodeAt(t))||n(i))return l;if(62===i)return l.pos=t+1,l.str=o(e.slice(s+1,t)),l.ok=!0,l;92===i&&t+1<r?t+=2:t++}return l}for(a=0;t<r&&32!==(i=e.charCodeAt(t))&&!(i<32||127===i);)if(92===i&&t+1<r)t+=2;else{if(40===i&&a++,41===i){if(0===a)break;a--}t++}return s===t?l:0!==a?l:(l.str=o(e.slice(s,t)),l.lines=0,l.pos=t,l.ok=!0,l)}},function(e,t,r){"use strict";var n=r(6).unescapeAll;e.exports=function(e,t,r){var o,i,a=0,s=t,l={ok:!1,pos:0,lines:0,str:""};if(t>=r)return l;if(34!==(i=e.charCodeAt(t))&&39!==i&&40!==i)return l;for(t++,40===i&&(i=41);t<r;){if((o=e.charCodeAt(t))===i)return l.pos=t+1,l.lines=a,l.str=n(e.slice(s+1,t)),l.ok=!0,l;10===o?a++:92===o&&t+1<r&&(t++,10===e.charCodeAt(t)&&a++),t++}return l}},function(e,t,r){"use strict";var n=r(6).assign,o=r(6).unescapeAll,i=r(6).escapeHtml,a={};function s(){this.rules=n({},a)}a.code_inline=function(e,t,r,n,o){var a=e[t];return"<code"+o.renderAttrs(a)+">"+i(e[t].content)+"</code>"},a.code_block=function(e,t,r,n,o){var a=e[t];return"<pre"+o.renderAttrs(a)+"><code>"+i(e[t].content)+"</code></pre>\n"},a.fence=function(e,t,r,n,a){var s,l,u,c,p=e[t],h=p.info?o(p.info).trim():"",f="";return h&&(f=h.split(/\s+/g)[0]),0===(s=r.highlight&&r.highlight(p.content,f)||i(p.content)).indexOf("<pre")?s+"\n":h?(l=p.attrIndex("class"),u=p.attrs?p.attrs.slice():[],l<0?u.push(["class",r.langPrefix+f]):u[l][1]+=" "+r.langPrefix+f,c={attrs:u},"<pre><code"+a.renderAttrs(c)+">"+s+"</code></pre>\n"):"<pre><code"+a.renderAttrs(p)+">"+s+"</code></pre>\n"},a.image=function(e,t,r,n,o){var i=e[t];return i.attrs[i.attrIndex("alt")][1]=o.renderInlineAsText(i.children,r,n),o.renderToken(e,t,r)},a.hardbreak=function(e,t,r){return r.xhtmlOut?"<br />\n":"<br>\n"},a.softbreak=function(e,t,r){return r.breaks?r.xhtmlOut?"<br />\n":"<br>\n":"\n"},a.text=function(e,t){return i(e[t].content)},a.html_block=function(e,t){return e[t].content},a.html_inline=function(e,t){return e[t].content},s.prototype.renderAttrs=function(e){var t,r,n;if(!e.attrs)return"";for(n="",t=0,r=e.attrs.length;t<r;t++)n+=" "+i(e.attrs[t][0])+'="'+i(e.attrs[t][1])+'"';return n},s.prototype.renderToken=function(e,t,r){var n,o="",i=!1,a=e[t];return a.hidden?"":(a.block&&-1!==a.nesting&&t&&e[t-1].hidden&&(o+="\n"),o+=(-1===a.nesting?"</":"<")+a.tag,o+=this.renderAttrs(a),0===a.nesting&&r.xhtmlOut&&(o+=" /"),a.block&&(i=!0,1===a.nesting&&t+1<e.length&&("inline"===(n=e[t+1]).type||n.hidden?i=!1:-1===n.nesting&&n.tag===a.tag&&(i=!1))),o+=i?">\n":">")},s.prototype.renderInline=function(e,t,r){for(var n,o="",i=this.rules,a=0,s=e.length;a<s;a++)"undefined"!==typeof i[n=e[a].type]?o+=i[n](e,a,t,r,this):o+=this.renderToken(e,a,t);return o},s.prototype.renderInlineAsText=function(e,t,r){for(var n="",o=0,i=e.length;o<i;o++)"text"===e[o].type?n+=e[o].content:"image"===e[o].type&&(n+=this.renderInlineAsText(e[o].children,t,r));return n},s.prototype.render=function(e,t,r){var n,o,i,a="",s=this.rules;for(n=0,o=e.length;n<o;n++)"inline"===(i=e[n].type)?a+=this.renderInline(e[n].children,t,r):"undefined"!==typeof s[i]?a+=s[e[n].type](e,n,t,r,this):a+=this.renderToken(e,n,t,r);return a},e.exports=s},function(e,t,r){"use strict";var n=r(183),o=[["normalize",r(605)],["block",r(606)],["inline",r(607)],["linkify",r(608)],["replacements",r(609)],["smartquotes",r(610)]];function i(){this.ruler=new n;for(var e=0;e<o.length;e++)this.ruler.push(o[e][0],o[e][1])}i.prototype.process=function(e){var t,r,n;for(t=0,r=(n=this.ruler.getRules("")).length;t<r;t++)n[t](e)},i.prototype.State=r(611),e.exports=i},function(e,t,r){"use strict";var n=/\r[\n\u0085]?|[\u2424\u2028\u0085]/g,o=/\u0000/g;e.exports=function(e){var t;t=(t=e.src.replace(n,"\n")).replace(o,"\ufffd"),e.src=t}},function(e,t,r){"use strict";e.exports=function(e){var t;e.inlineMode?((t=new e.Token("inline","",0)).content=e.src,t.map=[0,1],t.children=[],e.tokens.push(t)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}},function(e,t,r){"use strict";e.exports=function(e){var t,r,n,o=e.tokens;for(r=0,n=o.length;r<n;r++)"inline"===(t=o[r]).type&&e.md.inline.parse(t.content,e.md,e.env,t.children)}},function(e,t,r){"use strict";var n=r(6).arrayReplaceAt;function o(e){return/^<\/a\s*>/i.test(e)}e.exports=function(e){var t,r,i,a,s,l,u,c,p,h,f,d,m,y,v,g,_,b,x=e.tokens;if(e.md.options.linkify)for(r=0,i=x.length;r<i;r++)if("inline"===x[r].type&&e.md.linkify.pretest(x[r].content))for(m=0,t=(a=x[r].children).length-1;t>=0;t--)if("link_close"!==(l=a[t]).type){if("html_inline"===l.type&&(b=l.content,/^<a[>\s]/i.test(b)&&m>0&&m--,o(l.content)&&m++),!(m>0)&&"text"===l.type&&e.md.linkify.test(l.content)){for(p=l.content,_=e.md.linkify.match(p),u=[],d=l.level,f=0,c=0;c<_.length;c++)y=_[c].url,v=e.md.normalizeLink(y),e.md.validateLink(v)&&(g=_[c].text,g=_[c].schema?"mailto:"!==_[c].schema||/^mailto:/i.test(g)?e.md.normalizeLinkText(g):e.md.normalizeLinkText("mailto:"+g).replace(/^mailto:/,""):e.md.normalizeLinkText("http://"+g).replace(/^http:\/\//,""),(h=_[c].index)>f&&((s=new e.Token("text","",0)).content=p.slice(f,h),s.level=d,u.push(s)),(s=new e.Token("link_open","a",1)).attrs=[["href",v]],s.level=d++,s.markup="linkify",s.info="auto",u.push(s),(s=new e.Token("text","",0)).content=g,s.level=d,u.push(s),(s=new e.Token("link_close","a",-1)).level=--d,s.markup="linkify",s.info="auto",u.push(s),f=_[c].lastIndex);f<p.length&&((s=new e.Token("text","",0)).content=p.slice(f),s.level=d,u.push(s)),x[r].children=a=n(a,t,u)}}else for(t--;a[t].level!==l.level&&"link_open"!==a[t].type;)t--}},function(e,t,r){"use strict";var n=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,o=/\((c|tm|r|p)\)/i,i=/\((c|tm|r|p)\)/gi,a={c:"\xa9",r:"\xae",p:"\xa7",tm:"\u2122"};function s(e,t){return a[t.toLowerCase()]}function l(e){var t,r,n=0;for(t=e.length-1;t>=0;t--)"text"!==(r=e[t]).type||n||(r.content=r.content.replace(i,s)),"link_open"===r.type&&"auto"===r.info&&n--,"link_close"===r.type&&"auto"===r.info&&n++}function u(e){var t,r,o=0;for(t=e.length-1;t>=0;t--)"text"!==(r=e[t]).type||o||n.test(r.content)&&(r.content=r.content.replace(/\+-/g,"\xb1").replace(/\.{2,}/g,"\u2026").replace(/([?!])\u2026/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---([^-]|$)/gm,"$1\u2014$2").replace(/(^|\s)--(\s|$)/gm,"$1\u2013$2").replace(/(^|[^-\s])--([^-\s]|$)/gm,"$1\u2013$2")),"link_open"===r.type&&"auto"===r.info&&o--,"link_close"===r.type&&"auto"===r.info&&o++}e.exports=function(e){var t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&(o.test(e.tokens[t].content)&&l(e.tokens[t].children),n.test(e.tokens[t].content)&&u(e.tokens[t].children))}},function(e,t,r){"use strict";var n=r(6).isWhiteSpace,o=r(6).isPunctChar,i=r(6).isMdAsciiPunct,a=/['"]/,s=/['"]/g,l="\u2019";function u(e,t,r){return e.substr(0,t)+r+e.substr(t+1)}function c(e,t){var r,a,c,p,h,f,d,m,y,v,g,_,b,x,w,E,S,C,k,T,O;for(k=[],r=0;r<e.length;r++){for(a=e[r],d=e[r].level,S=k.length-1;S>=0&&!(k[S].level<=d);S--);if(k.length=S+1,"text"===a.type){h=0,f=(c=a.content).length;e:for(;h<f&&(s.lastIndex=h,p=s.exec(c));){if(w=E=!0,h=p.index+1,C="'"===p[0],y=32,p.index-1>=0)y=c.charCodeAt(p.index-1);else for(S=r-1;S>=0&&("softbreak"!==e[S].type&&"hardbreak"!==e[S].type);S--)if("text"===e[S].type){y=e[S].content.charCodeAt(e[S].content.length-1);break}if(v=32,h<f)v=c.charCodeAt(h);else for(S=r+1;S<e.length&&("softbreak"!==e[S].type&&"hardbreak"!==e[S].type);S++)if("text"===e[S].type){v=e[S].content.charCodeAt(0);break}if(g=i(y)||o(String.fromCharCode(y)),_=i(v)||o(String.fromCharCode(v)),b=n(y),(x=n(v))?w=!1:_&&(b||g||(w=!1)),b?E=!1:g&&(x||_||(E=!1)),34===v&&'"'===p[0]&&y>=48&&y<=57&&(E=w=!1),w&&E&&(w=!1,E=_),w||E){if(E)for(S=k.length-1;S>=0&&(m=k[S],!(k[S].level<d));S--)if(m.single===C&&k[S].level===d){m=k[S],C?(T=t.md.options.quotes[2],O=t.md.options.quotes[3]):(T=t.md.options.quotes[0],O=t.md.options.quotes[1]),a.content=u(a.content,p.index,O),e[m.token].content=u(e[m.token].content,m.pos,T),h+=O.length-1,m.token===r&&(h+=T.length-1),f=(c=a.content).length,k.length=S;continue e}w?k.push({token:r,pos:p.index,single:C,level:d}):E&&C&&(a.content=u(a.content,p.index,l))}else C&&(a.content=u(a.content,p.index,l))}}}}e.exports=function(e){var t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&a.test(e.tokens[t].content)&&c(e.tokens[t].children,e)}},function(e,t,r){"use strict";var n=r(184);function o(e,t,r){this.src=e,this.env=r,this.tokens=[],this.inlineMode=!1,this.md=t}o.prototype.Token=n,e.exports=o},function(e,t,r){"use strict";var n=r(183),o=[["table",r(613),["paragraph","reference"]],["code",r(614)],["fence",r(615),["paragraph","reference","blockquote","list"]],["blockquote",r(616),["paragraph","reference","blockquote","list"]],["hr",r(617),["paragraph","reference","blockquote","list"]],["list",r(618),["paragraph","reference","blockquote"]],["reference",r(619)],["heading",r(620),["paragraph","reference","blockquote"]],["lheading",r(621)],["html_block",r(622),["paragraph","reference","blockquote"]],["paragraph",r(624)]];function i(){this.ruler=new n;for(var e=0;e<o.length;e++)this.ruler.push(o[e][0],o[e][1],{alt:(o[e][2]||[]).slice()})}i.prototype.tokenize=function(e,t,r){for(var n,o=this.ruler.getRules(""),i=o.length,a=t,s=!1,l=e.md.options.maxNesting;a<r&&(e.line=a=e.skipEmptyLines(a),!(a>=r))&&!(e.sCount[a]<e.blkIndent);){if(e.level>=l){e.line=r;break}for(n=0;n<i&&!o[n](e,a,r,!1);n++);e.tight=!s,e.isEmpty(e.line-1)&&(s=!0),(a=e.line)<r&&e.isEmpty(a)&&(s=!0,a++,e.line=a)}},i.prototype.parse=function(e,t,r,n){var o;e&&(o=new this.State(e,t,r,n),this.tokenize(o,o.line,o.lineMax))},i.prototype.State=r(625),e.exports=i},function(e,t,r){"use strict";var n=r(6).isSpace;function o(e,t){var r=e.bMarks[t]+e.blkIndent,n=e.eMarks[t];return e.src.substr(r,n-r)}function i(e){var t,r=[],n=0,o=e.length,i=0,a=0,s=!1,l=0;for(t=e.charCodeAt(n);n<o;)96===t?s?(s=!1,l=n):i%2===0&&(s=!0,l=n):124!==t||i%2!==0||s||(r.push(e.substring(a,n)),a=n+1),92===t?i++:i=0,++n===o&&s&&(s=!1,n=l+1),t=e.charCodeAt(n);return r.push(e.substring(a)),r}e.exports=function(e,t,r,a){var s,l,u,c,p,h,f,d,m,y,v,g;if(t+2>r)return!1;if(p=t+1,e.sCount[p]<e.blkIndent)return!1;if(e.sCount[p]-e.blkIndent>=4)return!1;if((u=e.bMarks[p]+e.tShift[p])>=e.eMarks[p])return!1;if(124!==(s=e.src.charCodeAt(u++))&&45!==s&&58!==s)return!1;for(;u<e.eMarks[p];){if(124!==(s=e.src.charCodeAt(u))&&45!==s&&58!==s&&!n(s))return!1;u++}for(h=(l=o(e,t+1)).split("|"),m=[],c=0;c<h.length;c++){if(!(y=h[c].trim())){if(0===c||c===h.length-1)continue;return!1}if(!/^:?-+:?$/.test(y))return!1;58===y.charCodeAt(y.length-1)?m.push(58===y.charCodeAt(0)?"center":"right"):58===y.charCodeAt(0)?m.push("left"):m.push("")}if(-1===(l=o(e,t).trim()).indexOf("|"))return!1;if(e.sCount[t]-e.blkIndent>=4)return!1;if((f=(h=i(l.replace(/^\||\|$/g,""))).length)>m.length)return!1;if(a)return!0;for((d=e.push("table_open","table",1)).map=v=[t,0],(d=e.push("thead_open","thead",1)).map=[t,t+1],(d=e.push("tr_open","tr",1)).map=[t,t+1],c=0;c<h.length;c++)(d=e.push("th_open","th",1)).map=[t,t+1],m[c]&&(d.attrs=[["style","text-align:"+m[c]]]),(d=e.push("inline","",0)).content=h[c].trim(),d.map=[t,t+1],d.children=[],d=e.push("th_close","th",-1);for(d=e.push("tr_close","tr",-1),d=e.push("thead_close","thead",-1),(d=e.push("tbody_open","tbody",1)).map=g=[t+2,0],p=t+2;p<r&&!(e.sCount[p]<e.blkIndent)&&-1!==(l=o(e,p).trim()).indexOf("|")&&!(e.sCount[p]-e.blkIndent>=4);p++){for(h=i(l.replace(/^\||\|$/g,"")),d=e.push("tr_open","tr",1),c=0;c<f;c++)d=e.push("td_open","td",1),m[c]&&(d.attrs=[["style","text-align:"+m[c]]]),(d=e.push("inline","",0)).content=h[c]?h[c].trim():"",d.children=[],d=e.push("td_close","td",-1);d=e.push("tr_close","tr",-1)}return d=e.push("tbody_close","tbody",-1),d=e.push("table_close","table",-1),v[1]=g[1]=p,e.line=p,!0}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n,o,i;if(e.sCount[t]-e.blkIndent<4)return!1;for(o=n=t+1;n<r;)if(e.isEmpty(n))n++;else{if(!(e.sCount[n]-e.blkIndent>=4))break;o=++n}return e.line=o,(i=e.push("code_block","code",0)).content=e.getLines(t,o,4+e.blkIndent,!0),i.map=[t,e.line],!0}},function(e,t,r){"use strict";e.exports=function(e,t,r,n){var o,i,a,s,l,u,c,p=!1,h=e.bMarks[t]+e.tShift[t],f=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(h+3>f)return!1;if(126!==(o=e.src.charCodeAt(h))&&96!==o)return!1;if(l=h,(i=(h=e.skipChars(h,o))-l)<3)return!1;if(c=e.src.slice(l,h),(a=e.src.slice(h,f)).indexOf(String.fromCharCode(o))>=0)return!1;if(n)return!0;for(s=t;!(++s>=r)&&!((h=l=e.bMarks[s]+e.tShift[s])<(f=e.eMarks[s])&&e.sCount[s]<e.blkIndent);)if(e.src.charCodeAt(h)===o&&!(e.sCount[s]-e.blkIndent>=4)&&!((h=e.skipChars(h,o))-l<i)&&!((h=e.skipSpaces(h))<f)){p=!0;break}return i=e.sCount[t],e.line=s+(p?1:0),(u=e.push("fence","code",0)).info=a,u.content=e.getLines(t+1,s,i,!0),u.markup=c,u.map=[t,e.line],!0}},function(e,t,r){"use strict";var n=r(6).isSpace;e.exports=function(e,t,r,o){var i,a,s,l,u,c,p,h,f,d,m,y,v,g,_,b,x,w,E,S,C=e.lineMax,k=e.bMarks[t]+e.tShift[t],T=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(62!==e.src.charCodeAt(k++))return!1;if(o)return!0;for(l=f=e.sCount[t]+k-(e.bMarks[t]+e.tShift[t]),32===e.src.charCodeAt(k)?(k++,l++,f++,i=!1,b=!0):9===e.src.charCodeAt(k)?(b=!0,(e.bsCount[t]+f)%4===3?(k++,l++,f++,i=!1):i=!0):b=!1,d=[e.bMarks[t]],e.bMarks[t]=k;k<T&&(a=e.src.charCodeAt(k),n(a));)9===a?f+=4-(f+e.bsCount[t]+(i?1:0))%4:f++,k++;for(m=[e.bsCount[t]],e.bsCount[t]=e.sCount[t]+1+(b?1:0),c=k>=T,g=[e.sCount[t]],e.sCount[t]=f-l,_=[e.tShift[t]],e.tShift[t]=k-e.bMarks[t],w=e.md.block.ruler.getRules("blockquote"),v=e.parentType,e.parentType="blockquote",S=!1,h=t+1;h<r&&(e.sCount[h]<e.blkIndent&&(S=!0),!((k=e.bMarks[h]+e.tShift[h])>=(T=e.eMarks[h])));h++)if(62!==e.src.charCodeAt(k++)||S){if(c)break;for(x=!1,s=0,u=w.length;s<u;s++)if(w[s](e,h,r,!0)){x=!0;break}if(x){e.lineMax=h,0!==e.blkIndent&&(d.push(e.bMarks[h]),m.push(e.bsCount[h]),_.push(e.tShift[h]),g.push(e.sCount[h]),e.sCount[h]-=e.blkIndent);break}d.push(e.bMarks[h]),m.push(e.bsCount[h]),_.push(e.tShift[h]),g.push(e.sCount[h]),e.sCount[h]=-1}else{for(l=f=e.sCount[h]+k-(e.bMarks[h]+e.tShift[h]),32===e.src.charCodeAt(k)?(k++,l++,f++,i=!1,b=!0):9===e.src.charCodeAt(k)?(b=!0,(e.bsCount[h]+f)%4===3?(k++,l++,f++,i=!1):i=!0):b=!1,d.push(e.bMarks[h]),e.bMarks[h]=k;k<T&&(a=e.src.charCodeAt(k),n(a));)9===a?f+=4-(f+e.bsCount[h]+(i?1:0))%4:f++,k++;c=k>=T,m.push(e.bsCount[h]),e.bsCount[h]=e.sCount[h]+1+(b?1:0),g.push(e.sCount[h]),e.sCount[h]=f-l,_.push(e.tShift[h]),e.tShift[h]=k-e.bMarks[h]}for(y=e.blkIndent,e.blkIndent=0,(E=e.push("blockquote_open","blockquote",1)).markup=">",E.map=p=[t,0],e.md.block.tokenize(e,t,h),(E=e.push("blockquote_close","blockquote",-1)).markup=">",e.lineMax=C,e.parentType=v,p[1]=e.line,s=0;s<_.length;s++)e.bMarks[s+t]=d[s],e.tShift[s+t]=_[s],e.sCount[s+t]=g[s],e.bsCount[s+t]=m[s];return e.blkIndent=y,!0}},function(e,t,r){"use strict";var n=r(6).isSpace;e.exports=function(e,t,r,o){var i,a,s,l,u=e.bMarks[t]+e.tShift[t],c=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(42!==(i=e.src.charCodeAt(u++))&&45!==i&&95!==i)return!1;for(a=1;u<c;){if((s=e.src.charCodeAt(u++))!==i&&!n(s))return!1;s===i&&a++}return!(a<3)&&(!!o||(e.line=t+1,(l=e.push("hr","hr",0)).map=[t,e.line],l.markup=Array(a+1).join(String.fromCharCode(i)),!0))}},function(e,t,r){"use strict";var n=r(6).isSpace;function o(e,t){var r,o,i,a;return o=e.bMarks[t]+e.tShift[t],i=e.eMarks[t],42!==(r=e.src.charCodeAt(o++))&&45!==r&&43!==r?-1:o<i&&(a=e.src.charCodeAt(o),!n(a))?-1:o}function i(e,t){var r,o=e.bMarks[t]+e.tShift[t],i=o,a=e.eMarks[t];if(i+1>=a)return-1;if((r=e.src.charCodeAt(i++))<48||r>57)return-1;for(;;){if(i>=a)return-1;if(!((r=e.src.charCodeAt(i++))>=48&&r<=57)){if(41===r||46===r)break;return-1}if(i-o>=10)return-1}return i<a&&(r=e.src.charCodeAt(i),!n(r))?-1:i}e.exports=function(e,t,r,n){var a,s,l,u,c,p,h,f,d,m,y,v,g,_,b,x,w,E,S,C,k,T,O,P,A,I,M,R,L=!1,D=!0;if(e.sCount[t]-e.blkIndent>=4)return!1;if(n&&"paragraph"===e.parentType&&e.tShift[t]>=e.blkIndent&&(L=!0),(O=i(e,t))>=0){if(h=!0,A=e.bMarks[t]+e.tShift[t],g=Number(e.src.substr(A,O-A-1)),L&&1!==g)return!1}else{if(!((O=o(e,t))>=0))return!1;h=!1}if(L&&e.skipSpaces(O)>=e.eMarks[t])return!1;if(v=e.src.charCodeAt(O-1),n)return!0;for(y=e.tokens.length,h?(R=e.push("ordered_list_open","ol",1),1!==g&&(R.attrs=[["start",g]])):R=e.push("bullet_list_open","ul",1),R.map=m=[t,0],R.markup=String.fromCharCode(v),b=t,P=!1,M=e.md.block.ruler.getRules("list"),S=e.parentType,e.parentType="list";b<r;){for(T=O,_=e.eMarks[b],p=x=e.sCount[b]+O-(e.bMarks[t]+e.tShift[t]);T<_;){if(9===(a=e.src.charCodeAt(T)))x+=4-(x+e.bsCount[b])%4;else{if(32!==a)break;x++}T++}if((c=(s=T)>=_?1:x-p)>4&&(c=1),u=p+c,(R=e.push("list_item_open","li",1)).markup=String.fromCharCode(v),R.map=f=[t,0],w=e.blkIndent,k=e.tight,C=e.tShift[t],E=e.sCount[t],e.blkIndent=u,e.tight=!0,e.tShift[t]=s-e.bMarks[t],e.sCount[t]=x,s>=_&&e.isEmpty(t+1)?e.line=Math.min(e.line+2,r):e.md.block.tokenize(e,t,r,!0),e.tight&&!P||(D=!1),P=e.line-t>1&&e.isEmpty(e.line-1),e.blkIndent=w,e.tShift[t]=C,e.sCount[t]=E,e.tight=k,(R=e.push("list_item_close","li",-1)).markup=String.fromCharCode(v),b=t=e.line,f[1]=b,s=e.bMarks[t],b>=r)break;if(e.sCount[b]<e.blkIndent)break;for(I=!1,l=0,d=M.length;l<d;l++)if(M[l](e,b,r,!0)){I=!0;break}if(I)break;if(h){if((O=i(e,b))<0)break}else if((O=o(e,b))<0)break;if(v!==e.src.charCodeAt(O-1))break}return(R=h?e.push("ordered_list_close","ol",-1):e.push("bullet_list_close","ul",-1)).markup=String.fromCharCode(v),m[1]=b,e.line=b,e.parentType=S,D&&function(e,t){var r,n,o=e.level+2;for(r=t+2,n=e.tokens.length-2;r<n;r++)e.tokens[r].level===o&&"paragraph_open"===e.tokens[r].type&&(e.tokens[r+2].hidden=!0,e.tokens[r].hidden=!0,r+=2)}(e,y),!0}},function(e,t,r){"use strict";var n=r(6).normalizeReference,o=r(6).isSpace;e.exports=function(e,t,r,i){var a,s,l,u,c,p,h,f,d,m,y,v,g,_,b,x,w=0,E=e.bMarks[t]+e.tShift[t],S=e.eMarks[t],C=t+1;if(e.sCount[t]-e.blkIndent>=4)return!1;if(91!==e.src.charCodeAt(E))return!1;for(;++E<S;)if(93===e.src.charCodeAt(E)&&92!==e.src.charCodeAt(E-1)){if(E+1===S)return!1;if(58!==e.src.charCodeAt(E+1))return!1;break}for(u=e.lineMax,b=e.md.block.ruler.getRules("reference"),m=e.parentType,e.parentType="reference";C<u&&!e.isEmpty(C);C++)if(!(e.sCount[C]-e.blkIndent>3)&&!(e.sCount[C]<0)){for(_=!1,p=0,h=b.length;p<h;p++)if(b[p](e,C,u,!0)){_=!0;break}if(_)break}for(S=(g=e.getLines(t,C,e.blkIndent,!1).trim()).length,E=1;E<S;E++){if(91===(a=g.charCodeAt(E)))return!1;if(93===a){d=E;break}10===a?w++:92===a&&++E<S&&10===g.charCodeAt(E)&&w++}if(d<0||58!==g.charCodeAt(d+1))return!1;for(E=d+2;E<S;E++)if(10===(a=g.charCodeAt(E)))w++;else if(!o(a))break;if(!(y=e.md.helpers.parseLinkDestination(g,E,S)).ok)return!1;if(c=e.md.normalizeLink(y.str),!e.md.validateLink(c))return!1;for(s=E=y.pos,l=w+=y.lines,v=E;E<S;E++)if(10===(a=g.charCodeAt(E)))w++;else if(!o(a))break;for(y=e.md.helpers.parseLinkTitle(g,E,S),E<S&&v!==E&&y.ok?(x=y.str,E=y.pos,w+=y.lines):(x="",E=s,w=l);E<S&&(a=g.charCodeAt(E),o(a));)E++;if(E<S&&10!==g.charCodeAt(E)&&x)for(x="",E=s,w=l;E<S&&(a=g.charCodeAt(E),o(a));)E++;return!(E<S&&10!==g.charCodeAt(E))&&(!!(f=n(g.slice(1,d)))&&(!!i||("undefined"===typeof e.env.references&&(e.env.references={}),"undefined"===typeof e.env.references[f]&&(e.env.references[f]={title:x,href:c}),e.parentType=m,e.line=t+w+1,!0)))}},function(e,t,r){"use strict";var n=r(6).isSpace;e.exports=function(e,t,r,o){var i,a,s,l,u=e.bMarks[t]+e.tShift[t],c=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(35!==(i=e.src.charCodeAt(u))||u>=c)return!1;for(a=1,i=e.src.charCodeAt(++u);35===i&&u<c&&a<=6;)a++,i=e.src.charCodeAt(++u);return!(a>6||u<c&&!n(i))&&(!!o||(c=e.skipSpacesBack(c,u),(s=e.skipCharsBack(c,35,u))>u&&n(e.src.charCodeAt(s-1))&&(c=s),e.line=t+1,(l=e.push("heading_open","h"+String(a),1)).markup="########".slice(0,a),l.map=[t,e.line],(l=e.push("inline","",0)).content=e.src.slice(u,c).trim(),l.map=[t,e.line],l.children=[],(l=e.push("heading_close","h"+String(a),-1)).markup="########".slice(0,a),!0))}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n,o,i,a,s,l,u,c,p,h,f=t+1,d=e.md.block.ruler.getRules("paragraph");if(e.sCount[t]-e.blkIndent>=4)return!1;for(h=e.parentType,e.parentType="paragraph";f<r&&!e.isEmpty(f);f++)if(!(e.sCount[f]-e.blkIndent>3)){if(e.sCount[f]>=e.blkIndent&&(l=e.bMarks[f]+e.tShift[f])<(u=e.eMarks[f])&&(45===(p=e.src.charCodeAt(l))||61===p)&&(l=e.skipChars(l,p),(l=e.skipSpaces(l))>=u)){c=61===p?1:2;break}if(!(e.sCount[f]<0)){for(o=!1,i=0,a=d.length;i<a;i++)if(d[i](e,f,r,!0)){o=!0;break}if(o)break}}return!!c&&(n=e.getLines(t,f,e.blkIndent,!1).trim(),e.line=f+1,(s=e.push("heading_open","h"+String(c),1)).markup=String.fromCharCode(p),s.map=[t,e.line],(s=e.push("inline","",0)).content=n,s.map=[t,e.line-1],s.children=[],(s=e.push("heading_close","h"+String(c),-1)).markup=String.fromCharCode(p),e.parentType=h,!0)}},function(e,t,r){"use strict";var n=r(623),o=r(295).HTML_OPEN_CLOSE_TAG_RE,i=[[/^<(script|pre|style)(?=(\s|>|$))/i,/<\/(script|pre|style)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+n.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(o.source+"\\s*$"),/^$/,!1]];e.exports=function(e,t,r,n){var o,a,s,l,u=e.bMarks[t]+e.tShift[t],c=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(!e.md.options.html)return!1;if(60!==e.src.charCodeAt(u))return!1;for(l=e.src.slice(u,c),o=0;o<i.length&&!i[o][0].test(l);o++);if(o===i.length)return!1;if(n)return i[o][2];if(a=t+1,!i[o][1].test(l))for(;a<r&&!(e.sCount[a]<e.blkIndent);a++)if(u=e.bMarks[a]+e.tShift[a],c=e.eMarks[a],l=e.src.slice(u,c),i[o][1].test(l)){0!==l.length&&a++;break}return e.line=a,(s=e.push("html_block","",0)).map=[t,a],s.content=e.getLines(t,a,e.blkIndent,!0),!0}},function(e,t,r){"use strict";e.exports=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","meta","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]},function(e,t,r){"use strict";e.exports=function(e,t){var r,n,o,i,a,s,l=t+1,u=e.md.block.ruler.getRules("paragraph"),c=e.lineMax;for(s=e.parentType,e.parentType="paragraph";l<c&&!e.isEmpty(l);l++)if(!(e.sCount[l]-e.blkIndent>3)&&!(e.sCount[l]<0)){for(n=!1,o=0,i=u.length;o<i;o++)if(u[o](e,l,c,!0)){n=!0;break}if(n)break}return r=e.getLines(t,l,e.blkIndent,!1).trim(),e.line=l,(a=e.push("paragraph_open","p",1)).map=[t,e.line],(a=e.push("inline","",0)).content=r,a.map=[t,e.line],a.children=[],a=e.push("paragraph_close","p",-1),e.parentType=s,!0}},function(e,t,r){"use strict";var n=r(184),o=r(6).isSpace;function i(e,t,r,n){var i,a,s,l,u,c,p,h;for(this.src=e,this.md=t,this.env=r,this.tokens=n,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.parentType="root",this.level=0,this.result="",h=!1,s=l=c=p=0,u=(a=this.src).length;l<u;l++){if(i=a.charCodeAt(l),!h){if(o(i)){c++,9===i?p+=4-p%4:p++;continue}h=!0}10!==i&&l!==u-1||(10!==i&&l++,this.bMarks.push(s),this.eMarks.push(l),this.tShift.push(c),this.sCount.push(p),this.bsCount.push(0),h=!1,c=0,p=0,s=l+1)}this.bMarks.push(a.length),this.eMarks.push(a.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}i.prototype.push=function(e,t,r){var o=new n(e,t,r);return o.block=!0,r<0&&this.level--,o.level=this.level,r>0&&this.level++,this.tokens.push(o),o},i.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]},i.prototype.skipEmptyLines=function(e){for(var t=this.lineMax;e<t&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e},i.prototype.skipSpaces=function(e){for(var t,r=this.src.length;e<r&&(t=this.src.charCodeAt(e),o(t));e++);return e},i.prototype.skipSpacesBack=function(e,t){if(e<=t)return e;for(;e>t;)if(!o(this.src.charCodeAt(--e)))return e+1;return e},i.prototype.skipChars=function(e,t){for(var r=this.src.length;e<r&&this.src.charCodeAt(e)===t;e++);return e},i.prototype.skipCharsBack=function(e,t,r){if(e<=r)return e;for(;e>r;)if(t!==this.src.charCodeAt(--e))return e+1;return e},i.prototype.getLines=function(e,t,r,n){var i,a,s,l,u,c,p,h=e;if(e>=t)return"";for(c=new Array(t-e),i=0;h<t;h++,i++){for(a=0,p=l=this.bMarks[h],u=h+1<t||n?this.eMarks[h]+1:this.eMarks[h];l<u&&a<r;){if(s=this.src.charCodeAt(l),o(s))9===s?a+=4-(a+this.bsCount[h])%4:a++;else{if(!(l-p<this.tShift[h]))break;a++}l++}c[i]=a>r?new Array(a-r+1).join(" ")+this.src.slice(l,u):this.src.slice(l,u)}return c.join("")},i.prototype.Token=n,e.exports=i},function(e,t,r){"use strict";var n=r(183),o=[["text",r(627)],["newline",r(628)],["escape",r(629)],["backticks",r(630)],["strikethrough",r(296).tokenize],["emphasis",r(297).tokenize],["link",r(631)],["image",r(632)],["autolink",r(633)],["html_inline",r(634)],["entity",r(635)]],i=[["balance_pairs",r(636)],["strikethrough",r(296).postProcess],["emphasis",r(297).postProcess],["text_collapse",r(637)]];function a(){var e;for(this.ruler=new n,e=0;e<o.length;e++)this.ruler.push(o[e][0],o[e][1]);for(this.ruler2=new n,e=0;e<i.length;e++)this.ruler2.push(i[e][0],i[e][1])}a.prototype.skipToken=function(e){var t,r,n=e.pos,o=this.ruler.getRules(""),i=o.length,a=e.md.options.maxNesting,s=e.cache;if("undefined"===typeof s[n]){if(e.level<a)for(r=0;r<i&&(e.level++,t=o[r](e,!0),e.level--,!t);r++);else e.pos=e.posMax;t||e.pos++,s[n]=e.pos}else e.pos=s[n]},a.prototype.tokenize=function(e){for(var t,r,n=this.ruler.getRules(""),o=n.length,i=e.posMax,a=e.md.options.maxNesting;e.pos<i;){if(e.level<a)for(r=0;r<o&&!(t=n[r](e,!1));r++);if(t){if(e.pos>=i)break}else e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()},a.prototype.parse=function(e,t,r,n){var o,i,a,s=new this.State(e,t,r,n);for(this.tokenize(s),a=(i=this.ruler2.getRules("")).length,o=0;o<a;o++)i[o](s)},a.prototype.State=r(638),e.exports=a},function(e,t,r){"use strict";function n(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}e.exports=function(e,t){for(var r=e.pos;r<e.posMax&&!n(e.src.charCodeAt(r));)r++;return r!==e.pos&&(t||(e.pending+=e.src.slice(e.pos,r)),e.pos=r,!0)}},function(e,t,r){"use strict";var n=r(6).isSpace;e.exports=function(e,t){var r,o,i=e.pos;if(10!==e.src.charCodeAt(i))return!1;for(r=e.pending.length-1,o=e.posMax,t||(r>=0&&32===e.pending.charCodeAt(r)?r>=1&&32===e.pending.charCodeAt(r-1)?(e.pending=e.pending.replace(/ +$/,""),e.push("hardbreak","br",0)):(e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0)):e.push("softbreak","br",0)),i++;i<o&&n(e.src.charCodeAt(i));)i++;return e.pos=i,!0}},function(e,t,r){"use strict";for(var n=r(6).isSpace,o=[],i=0;i<256;i++)o.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(e){o[e.charCodeAt(0)]=1}),e.exports=function(e,t){var r,i=e.pos,a=e.posMax;if(92!==e.src.charCodeAt(i))return!1;if(++i<a){if((r=e.src.charCodeAt(i))<256&&0!==o[r])return t||(e.pending+=e.src[i]),e.pos+=2,!0;if(10===r){for(t||e.push("hardbreak","br",0),i++;i<a&&(r=e.src.charCodeAt(i),n(r));)i++;return e.pos=i,!0}}return t||(e.pending+="\\"),e.pos++,!0}},function(e,t,r){"use strict";e.exports=function(e,t){var r,n,o,i,a,s,l=e.pos;if(96!==e.src.charCodeAt(l))return!1;for(r=l,l++,n=e.posMax;l<n&&96===e.src.charCodeAt(l);)l++;for(o=e.src.slice(r,l),i=a=l;-1!==(i=e.src.indexOf("`",a));){for(a=i+1;a<n&&96===e.src.charCodeAt(a);)a++;if(a-i===o.length)return t||((s=e.push("code_inline","code",0)).markup=o,s.content=e.src.slice(l,i).replace(/[ \n]+/g," ").trim()),e.pos=a,!0}return t||(e.pending+=o),e.pos+=o.length,!0}},function(e,t,r){"use strict";var n=r(6).normalizeReference,o=r(6).isSpace;e.exports=function(e,t){var r,i,a,s,l,u,c,p,h,f="",d=e.pos,m=e.posMax,y=e.pos,v=!0;if(91!==e.src.charCodeAt(e.pos))return!1;if(l=e.pos+1,(s=e.md.helpers.parseLinkLabel(e,e.pos,!0))<0)return!1;if((u=s+1)<m&&40===e.src.charCodeAt(u)){for(v=!1,u++;u<m&&(i=e.src.charCodeAt(u),o(i)||10===i);u++);if(u>=m)return!1;for(y=u,(c=e.md.helpers.parseLinkDestination(e.src,u,e.posMax)).ok&&(f=e.md.normalizeLink(c.str),e.md.validateLink(f)?u=c.pos:f=""),y=u;u<m&&(i=e.src.charCodeAt(u),o(i)||10===i);u++);if(c=e.md.helpers.parseLinkTitle(e.src,u,e.posMax),u<m&&y!==u&&c.ok)for(h=c.str,u=c.pos;u<m&&(i=e.src.charCodeAt(u),o(i)||10===i);u++);else h="";(u>=m||41!==e.src.charCodeAt(u))&&(v=!0),u++}if(v){if("undefined"===typeof e.env.references)return!1;if(u<m&&91===e.src.charCodeAt(u)?(y=u+1,(u=e.md.helpers.parseLinkLabel(e,u))>=0?a=e.src.slice(y,u++):u=s+1):u=s+1,a||(a=e.src.slice(l,s)),!(p=e.env.references[n(a)]))return e.pos=d,!1;f=p.href,h=p.title}return t||(e.pos=l,e.posMax=s,e.push("link_open","a",1).attrs=r=[["href",f]],h&&r.push(["title",h]),e.md.inline.tokenize(e),e.push("link_close","a",-1)),e.pos=u,e.posMax=m,!0}},function(e,t,r){"use strict";var n=r(6).normalizeReference,o=r(6).isSpace;e.exports=function(e,t){var r,i,a,s,l,u,c,p,h,f,d,m,y,v="",g=e.pos,_=e.posMax;if(33!==e.src.charCodeAt(e.pos))return!1;if(91!==e.src.charCodeAt(e.pos+1))return!1;if(u=e.pos+2,(l=e.md.helpers.parseLinkLabel(e,e.pos+1,!1))<0)return!1;if((c=l+1)<_&&40===e.src.charCodeAt(c)){for(c++;c<_&&(i=e.src.charCodeAt(c),o(i)||10===i);c++);if(c>=_)return!1;for(y=c,(h=e.md.helpers.parseLinkDestination(e.src,c,e.posMax)).ok&&(v=e.md.normalizeLink(h.str),e.md.validateLink(v)?c=h.pos:v=""),y=c;c<_&&(i=e.src.charCodeAt(c),o(i)||10===i);c++);if(h=e.md.helpers.parseLinkTitle(e.src,c,e.posMax),c<_&&y!==c&&h.ok)for(f=h.str,c=h.pos;c<_&&(i=e.src.charCodeAt(c),o(i)||10===i);c++);else f="";if(c>=_||41!==e.src.charCodeAt(c))return e.pos=g,!1;c++}else{if("undefined"===typeof e.env.references)return!1;if(c<_&&91===e.src.charCodeAt(c)?(y=c+1,(c=e.md.helpers.parseLinkLabel(e,c))>=0?s=e.src.slice(y,c++):c=l+1):c=l+1,s||(s=e.src.slice(u,l)),!(p=e.env.references[n(s)]))return e.pos=g,!1;v=p.href,f=p.title}return t||(a=e.src.slice(u,l),e.md.inline.parse(a,e.md,e.env,m=[]),(d=e.push("image","img",0)).attrs=r=[["src",v],["alt",""]],d.children=m,d.content=a,f&&r.push(["title",f])),e.pos=c,e.posMax=_,!0}},function(e,t,r){"use strict";var n=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,o=/^<([a-zA-Z][a-zA-Z0-9+.\-]{1,31}):([^<>\x00-\x20]*)>/;e.exports=function(e,t){var r,i,a,s,l,u,c=e.pos;return 60===e.src.charCodeAt(c)&&(!((r=e.src.slice(c)).indexOf(">")<0)&&(o.test(r)?(s=(i=r.match(o))[0].slice(1,-1),l=e.md.normalizeLink(s),!!e.md.validateLink(l)&&(t||((u=e.push("link_open","a",1)).attrs=[["href",l]],u.markup="autolink",u.info="auto",(u=e.push("text","",0)).content=e.md.normalizeLinkText(s),(u=e.push("link_close","a",-1)).markup="autolink",u.info="auto"),e.pos+=i[0].length,!0)):!!n.test(r)&&(s=(a=r.match(n))[0].slice(1,-1),l=e.md.normalizeLink("mailto:"+s),!!e.md.validateLink(l)&&(t||((u=e.push("link_open","a",1)).attrs=[["href",l]],u.markup="autolink",u.info="auto",(u=e.push("text","",0)).content=e.md.normalizeLinkText(s),(u=e.push("link_close","a",-1)).markup="autolink",u.info="auto"),e.pos+=a[0].length,!0))))}},function(e,t,r){"use strict";var n=r(295).HTML_TAG_RE;e.exports=function(e,t){var r,o,i,a=e.pos;return!!e.md.options.html&&(i=e.posMax,!(60!==e.src.charCodeAt(a)||a+2>=i)&&(!(33!==(r=e.src.charCodeAt(a+1))&&63!==r&&47!==r&&!function(e){var t=32|e;return t>=97&&t<=122}(r))&&(!!(o=e.src.slice(a).match(n))&&(t||(e.push("html_inline","",0).content=e.src.slice(a,a+o[0].length)),e.pos+=o[0].length,!0))))}},function(e,t,r){"use strict";var n=r(290),o=r(6).has,i=r(6).isValidEntityCode,a=r(6).fromCodePoint,s=/^&#((?:x[a-f0-9]{1,8}|[0-9]{1,8}));/i,l=/^&([a-z][a-z0-9]{1,31});/i;e.exports=function(e,t){var r,u,c=e.pos,p=e.posMax;if(38!==e.src.charCodeAt(c))return!1;if(c+1<p)if(35===e.src.charCodeAt(c+1)){if(u=e.src.slice(c).match(s))return t||(r="x"===u[1][0].toLowerCase()?parseInt(u[1].slice(1),16):parseInt(u[1],10),e.pending+=i(r)?a(r):a(65533)),e.pos+=u[0].length,!0}else if((u=e.src.slice(c).match(l))&&o(n,u[1]))return t||(e.pending+=n[u[1]]),e.pos+=u[0].length,!0;return t||(e.pending+="&"),e.pos++,!0}},function(e,t,r){"use strict";e.exports=function(e){var t,r,n,o,i=e.delimiters,a=e.delimiters.length;for(t=0;t<a;t++)if((n=i[t]).close)for(r=t-n.jump-1;r>=0;){if((o=i[r]).open&&o.marker===n.marker&&o.end<0&&o.level===n.level)if(!((o.close||n.open)&&"undefined"!==typeof o.length&&"undefined"!==typeof n.length&&(o.length+n.length)%3===0)){n.jump=t-r,n.open=!1,o.end=t,o.jump=0;break}r-=o.jump+1}}},function(e,t,r){"use strict";e.exports=function(e){var t,r,n=0,o=e.tokens,i=e.tokens.length;for(t=r=0;t<i;t++)n+=o[t].nesting,o[t].level=n,"text"===o[t].type&&t+1<i&&"text"===o[t+1].type?o[t+1].content=o[t].content+o[t+1].content:(t!==r&&(o[r]=o[t]),r++);t!==r&&(o.length=r)}},function(e,t,r){"use strict";var n=r(184),o=r(6).isWhiteSpace,i=r(6).isPunctChar,a=r(6).isMdAsciiPunct;function s(e,t,r,n){this.src=e,this.env=r,this.md=t,this.tokens=n,this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[]}s.prototype.pushPending=function(){var e=new n("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e},s.prototype.push=function(e,t,r){this.pending&&this.pushPending();var o=new n(e,t,r);return r<0&&this.level--,o.level=this.level,r>0&&this.level++,this.pendingLevel=this.level,this.tokens.push(o),o},s.prototype.scanDelims=function(e,t){var r,n,s,l,u,c,p,h,f,d=e,m=!0,y=!0,v=this.posMax,g=this.src.charCodeAt(e);for(r=e>0?this.src.charCodeAt(e-1):32;d<v&&this.src.charCodeAt(d)===g;)d++;return s=d-e,n=d<v?this.src.charCodeAt(d):32,p=a(r)||i(String.fromCharCode(r)),f=a(n)||i(String.fromCharCode(n)),c=o(r),(h=o(n))?m=!1:f&&(c||p||(m=!1)),c?y=!1:p&&(h||f||(y=!1)),t?(l=m,u=y):(l=m&&(!y||p),u=y&&(!m||f)),{can_open:l,can_close:u,length:s}},s.prototype.Token=n,e.exports=s},function(e,t,r){"use strict";function n(e){return Array.prototype.slice.call(arguments,1).forEach(function(t){t&&Object.keys(t).forEach(function(r){e[r]=t[r]})}),e}function o(e){return Object.prototype.toString.call(e)}function i(e){return"[object Function]"===o(e)}function a(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var s={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};var l={"http:":{validate:function(e,t,r){var n=e.slice(t);return r.re.http||(r.re.http=new RegExp("^\\/\\/"+r.re.src_auth+r.re.src_host_port_strict+r.re.src_path,"i")),r.re.http.test(n)?n.match(r.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,r){var n=e.slice(t);return r.re.no_http||(r.re.no_http=new RegExp("^"+r.re.src_auth+"(?:localhost|(?:(?:"+r.re.src_domain+")\\.)+"+r.re.src_domain_root+")"+r.re.src_port+r.re.src_host_terminator+r.re.src_path,"i")),r.re.no_http.test(n)?t>=3&&":"===e[t-3]?0:t>=3&&"/"===e[t-3]?0:n.match(r.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,r){var n=e.slice(t);return r.re.mailto||(r.re.mailto=new RegExp("^"+r.re.src_email_name+"@"+r.re.src_host_strict,"i")),r.re.mailto.test(n)?n.match(r.re.mailto)[0].length:0}}},u="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",c="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|\u0440\u0444".split("|");function p(e){var t=e.re=r(640)(e.__opts__),n=e.__tlds__.slice();function s(e){return e.replace("%TLDS%",t.src_tlds)}e.onCompile(),e.__tlds_replaced__||n.push(u),n.push(t.src_xn),t.src_tlds=n.join("|"),t.email_fuzzy=RegExp(s(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(s(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(s(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(s(t.tpl_host_fuzzy_test),"i");var l=[];function c(e,t){throw new Error('(LinkifyIt) Invalid schema "'+e+'": '+t)}e.__compiled__={},Object.keys(e.__schemas__).forEach(function(t){var r=e.__schemas__[t];if(null!==r){var n,a={validate:null,link:null};if(e.__compiled__[t]=a,"[object Object]"===o(r))return!function(e){return"[object RegExp]"===o(e)}(r.validate)?i(r.validate)?a.validate=r.validate:c(t,r):a.validate=(n=r.validate,function(e,t){var r=e.slice(t);return n.test(r)?r.match(n)[0].length:0}),void(i(r.normalize)?a.normalize=r.normalize:r.normalize?c(t,r):a.normalize=function(e,t){t.normalize(e)});!function(e){return"[object String]"===o(e)}(r)?c(t,r):l.push(t)}}),l.forEach(function(t){e.__compiled__[e.__schemas__[t]]&&(e.__compiled__[t].validate=e.__compiled__[e.__schemas__[t]].validate,e.__compiled__[t].normalize=e.__compiled__[e.__schemas__[t]].normalize)}),e.__compiled__[""]={validate:null,normalize:function(e,t){t.normalize(e)}};var p=Object.keys(e.__compiled__).filter(function(t){return t.length>0&&e.__compiled__[t]}).map(a).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><\uff5c]|"+t.src_ZPCc+"))("+p+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><\uff5c]|"+t.src_ZPCc+"))("+p+")","ig"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),function(e){e.__index__=-1,e.__text_cache__=""}(e)}function h(e,t){var r=new function(e,t){var r=e.__index__,n=e.__last_index__,o=e.__text_cache__.slice(r,n);this.schema=e.__schema__.toLowerCase(),this.index=r+t,this.lastIndex=n+t,this.raw=o,this.text=o,this.url=o}(e,t);return e.__compiled__[r.schema].normalize(r,e),r}function f(e,t){if(!(this instanceof f))return new f(e,t);var r;t||(r=e,Object.keys(r||{}).reduce(function(e,t){return e||s.hasOwnProperty(t)},!1)&&(t=e,e={})),this.__opts__=n({},s,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=n({},l,e),this.__compiled__={},this.__tlds__=c,this.__tlds_replaced__=!1,this.re={},p(this)}f.prototype.add=function(e,t){return this.__schemas__[e]=t,p(this),this},f.prototype.set=function(e){return this.__opts__=n(this.__opts__,e),this},f.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;var t,r,n,o,i,a,s,l;if(this.re.schema_test.test(e))for((s=this.re.schema_search).lastIndex=0;null!==(t=s.exec(e));)if(o=this.testSchemaAt(e,t[2],s.lastIndex)){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+o;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(l=e.search(this.re.host_fuzzy_test))>=0&&(this.__index__<0||l<this.__index__)&&null!==(r=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(i=r.index+r[1].length,(this.__index__<0||i<this.__index__)&&(this.__schema__="",this.__index__=i,this.__last_index__=r.index+r[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&e.indexOf("@")>=0&&null!==(n=e.match(this.re.email_fuzzy))&&(i=n.index+n[1].length,a=n.index+n[0].length,(this.__index__<0||i<this.__index__||i===this.__index__&&a>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=i,this.__last_index__=a)),this.__index__>=0},f.prototype.pretest=function(e){return this.re.pretest.test(e)},f.prototype.testSchemaAt=function(e,t,r){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,r,this):0},f.prototype.match=function(e){var t=0,r=[];this.__index__>=0&&this.__text_cache__===e&&(r.push(h(this,t)),t=this.__last_index__);for(var n=t?e.slice(t):e;this.test(n);)r.push(h(this,t)),n=n.slice(this.__last_index__),t+=this.__last_index__;return r.length?r:null},f.prototype.tlds=function(e,t){return e=Array.isArray(e)?e:[e],t?(this.__tlds__=this.__tlds__.concat(e).sort().filter(function(e,t,r){return e!==r[t-1]}).reverse(),p(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,p(this),this)},f.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},f.prototype.onCompile=function(){},e.exports=f},function(e,t,r){"use strict";e.exports=function(e){var t={};t.src_Any=r(292).source,t.src_Cc=r(293).source,t.src_Z=r(294).source,t.src_P=r(182).source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");return t.src_pseudo_letter="(?:(?![><\uff5c]|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|[><\uff5c]|"+t.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|[><\uff5c]|[()[\\]{}.,\"'?!\\-]).|\\[(?:(?!"+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-]).|\\.{2,3}[a-zA-Z0-9%/]|\\.(?!"+t.src_ZCc+"|[.]).|"+(e&&e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+"\\,(?!"+t.src_ZCc+").|\\!(?!"+t.src_ZCc+"|[!]).|\\?(?!"+t.src_ZCc+"|[?]).)+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]+',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy="(^|[><\uff5c]|\\(|"+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uff5c]|"+t.src_ZPCc+"))((?![$+<=>^`|\uff5c])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uff5c]|"+t.src_ZPCc+"))((?![$+<=>^`|\uff5c])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}},function(e,t,r){(function(e,n){var o;!function(i){"object"==typeof t&&t&&t.nodeType,"object"==typeof e&&e&&e.nodeType;var a="object"==typeof n&&n;a.global!==a&&a.window!==a&&a.self;var s,l=2147483647,u=36,c=1,p=26,h=38,f=700,d=72,m=128,y="-",v=/^xn--/,g=/[^\x20-\x7E]/,_=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},x=u-c,w=Math.floor,E=String.fromCharCode;function S(e){throw new RangeError(b[e])}function C(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function k(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+C((e=e.replace(_,".")).split("."),t).join(".")}function T(e){for(var t,r,n=[],o=0,i=e.length;o<i;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<i?56320==(64512&(r=e.charCodeAt(o++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),o--):n.push(t);return n}function O(e){return C(e,function(e){var t="";return e>65535&&(t+=E((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=E(e)}).join("")}function P(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function A(e,t,r){var n=0;for(e=r?w(e/f):e>>1,e+=w(e/t);e>x*p>>1;n+=u)e=w(e/x);return w(n+(x+1)*e/(e+h))}function I(e){var t,r,n,o,i,a,s,h,f,v,g,_=[],b=e.length,x=0,E=m,C=d;for((r=e.lastIndexOf(y))<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&S("not-basic"),_.push(e.charCodeAt(n));for(o=r>0?r+1:0;o<b;){for(i=x,a=1,s=u;o>=b&&S("invalid-input"),((h=(g=e.charCodeAt(o++))-48<10?g-22:g-65<26?g-65:g-97<26?g-97:u)>=u||h>w((l-x)/a))&&S("overflow"),x+=h*a,!(h<(f=s<=C?c:s>=C+p?p:s-C));s+=u)a>w(l/(v=u-f))&&S("overflow"),a*=v;C=A(x-i,t=_.length+1,0==i),w(x/t)>l-E&&S("overflow"),E+=w(x/t),x%=t,_.splice(x++,0,E)}return O(_)}function M(e){var t,r,n,o,i,a,s,h,f,v,g,_,b,x,C,k=[];for(_=(e=T(e)).length,t=m,r=0,i=d,a=0;a<_;++a)(g=e[a])<128&&k.push(E(g));for(n=o=k.length,o&&k.push(y);n<_;){for(s=l,a=0;a<_;++a)(g=e[a])>=t&&g<s&&(s=g);for(s-t>w((l-r)/(b=n+1))&&S("overflow"),r+=(s-t)*b,t=s,a=0;a<_;++a)if((g=e[a])<t&&++r>l&&S("overflow"),g==t){for(h=r,f=u;!(h<(v=f<=i?c:f>=i+p?p:f-i));f+=u)C=h-v,x=u-v,k.push(E(P(v+C%x,0))),h=w(C/x);k.push(E(P(h,0))),i=A(r,b,n==o),r=0,++n}++r,++t}return k.join("")}s={version:"1.4.1",ucs2:{decode:T,encode:O},decode:I,encode:M,toASCII:function(e){return k(e,function(e){return g.test(e)?"xn--"+M(e):e})},toUnicode:function(e){return k(e,function(e){return v.test(e)?I(e.slice(4).toLowerCase()):e})}},void 0===(o=function(){return s}.call(t,r,t,e))||(e.exports=o)}()}).call(t,r(185)(e),r(32))},function(e,t,r){"use strict";e.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201c\u201d\u2018\u2019",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}}},function(e,t,r){"use strict";e.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201c\u201d\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","text_collapse"]}}}},function(e,t,r){"use strict";e.exports={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201c\u201d\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","text_collapse"]}}}},function(e,t,r){e.exports=r(646)},function(e,t,r){var n=r(298),o=r(649),i=0;function a(e,t){var r=function(e,t){r.options=t,r.init(e)};r.__proto__=a.prototype;var n=(e.global?"g":"")+(e.multiline?"m":"")+(e.ignoreCase?"i":"");return r.regexp=RegExp("^"+e.source,n),r.replacer=t,r.id="regexp-"+i,i++,r}e.exports=a,n.inherits(a,Function),a.prototype.init=function(e){e.inline.ruler.push(this.id,this.parse.bind(this)),e.renderer.rules[this.id]=this.render.bind(this)},a.prototype.parse=function(e,t){var r=this.regexp.exec(e.src.slice(e.pos));return!!r&&(e.pos+=r[0].length,!!t||(e.push(this.id,"",0).meta={match:r},!0))},a.prototype.render=function(e,t,r,n){return this.replacer(e[t].meta.match,o)}},function(e,t){e.exports=function(e){return e&&"object"===typeof e&&"function"===typeof e.copy&&"function"===typeof e.fill&&"function"===typeof e.readUInt8}},function(e,t){"function"===typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},function(e,t,r){r(298);t.escape=function(e){return String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}},function(e,t,r){"use strict";r.d(t,"a",function(){return _});var n,o,i=r(8),a=r.n(i),s=r(3),l=r(0),u=r.n(l),c=r(96),p=r.n(c),h=r(75),f=r(1),d=r(40),m=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _=Object(s.a)(n=function(e){function t(){return y(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return g(t,l["Component"]),m(t,[{key:"render",value:function(){return u.a.createElement("div",null,u.a.createElement(b,{mode:"select",title:"Select"}),p.a.hasMouse&&u.a.createElement(b,{mode:"multi_select",title:"Multi-Select"}),u.a.createElement(b,{mode:"point",title:"Point"}),u.a.createElement(b,{mode:"polyline",title:"Line"}),u.a.createElement(b,{mode:"polygon",title:"Polygon"}),u.a.createElement(b,{mode:"label",title:"Label"}),u.a.createElement(b,{mode:"image",title:"Image"}))}}]),t}())||n,b=Object(s.a)(o=function(e){function t(){return y(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return g(t,l["Component"]),m(t,[{key:"render",value:function(){var e=this.props,t=e.title,r=e.mode;return u.a.createElement("a",{className:a()("maphub-control-icon",{active:f.a.editableState===r}),title:t,onClick:function(){return Object(h.e)({newMode:r})}},u.a.createElement(d.a,{iconName:r}))}}]),t}())||o},function(e,t,r){var n=r(652),o=r(670),i=r(686),a=r(11);e.exports=function(e){!function(e,t){var r={options:e=o(e)};t=i(r,t),r.api=t;var s=n(r);t.onAdd=s.onAdd,t.onRemove=s.onRemove,t.types=a.types,t.options=e}(e,this)},e.exports.modes=r(300)},function(e,t,r){var n=r(653),o=r(665),i=r(669),a=r(11),s=r(190);e.exports=function(e){var t=null,r=null,l={onRemove:function(){return e.map.off("load",l.connect),clearInterval(r),l.removeLayers(),e.store.restoreMapConfig(),e.ui.removeButtons(),e.events.removeEventListeners(),e.ui.clearMapClasses(),e.map=null,e.container=null,e.store=null,t&&t.parentNode&&t.parentNode.removeChild(t),t=null,this},connect:function(){e.map.off("load",l.connect),clearInterval(r),l.addLayers(),e.store.storeMapConfig(),e.events.addEventListeners()},onAdd:function(a){var u=a.fire;return a.fire=function(e,t){var r=arguments;return 1===u.length&&1!==arguments.length&&(r=[s({},{type:e},t)]),u.apply(a,r)},e.map=a,e.events=n(e),e.ui=i(e),e.container=a.getContainer(),e.store=new o(e),t=e.ui.addButtons(),e.options.boxSelect&&(a.boxZoom.disable(),a.dragPan.disable(),a.dragPan.enable()),a.loaded()?l.connect():(a.on("load",l.connect),r=setInterval(function(){a.loaded()&&l.connect()},16)),e.events.start(),t},addLayers:function(){e.map.addSource(a.sources.COLD,{data:{type:a.geojsonTypes.FEATURE_COLLECTION,features:[]},type:"geojson"}),e.map.addSource(a.sources.HOT,{data:{type:a.geojsonTypes.FEATURE_COLLECTION,features:[]},type:"geojson"}),e.options.styles.forEach(function(t){e.map.addLayer(t)}),e.store.setDirty(!0),e.store.render()},removeLayers:function(){e.options.styles.forEach(function(t){e.map.getLayer(t.id)&&e.map.removeLayer(t.id)}),e.map.getSource(a.sources.COLD)&&e.map.removeSource(a.sources.COLD),e.map.getSource(a.sources.HOT)&&e.map.removeSource(a.sources.HOT)}};return e.setup=l,l}},function(e,t,r){var n=r(654),o=r(655),i=r(125),a=r(660),s=r(661),l=r(11),u=r(662);e.exports=function(e){var t=Object.keys(e.options.modes).reduce(function(t,r){return t[r]=u(e.options.modes[r]),t},{}),r={},c={},p={},h=null,f=null;p.drag=function(t,r){r({point:t.point,time:(new Date).getTime()})?(e.ui.queueMapClasses({mouse:l.cursors.DRAG}),f.drag(t)):t.originalEvent.stopPropagation()},p.mousedrag=function(e){p.drag(e,function(e){return!a(r,e)})},p.touchdrag=function(e){p.drag(e,function(e){return!s(c,e)})},p.mousemove=function(t){if(1===(void 0!==t.originalEvent.buttons?t.originalEvent.buttons:t.originalEvent.which))return p.mousedrag(t);var r=o(t,e);t.featureTarget=r,f.mousemove(t)},p.mousedown=function(t){r={time:(new Date).getTime(),point:t.point};var n=o(t,e);t.featureTarget=n,f.mousedown(t)},p.mouseup=function(t){var n=o(t,e);t.featureTarget=n,a(r,{point:t.point,time:(new Date).getTime()})?f.click(t):f.mouseup(t)},p.mouseout=function(e){f.mouseout(e)},p.touchstart=function(t){if(t.originalEvent.preventDefault(),e.options.touchEnabled){c={time:(new Date).getTime(),point:t.point};var r=i.touch(t,null,e)[0];t.featureTarget=r,f.touchstart(t)}},p.touchmove=function(t){if(t.originalEvent.preventDefault(),e.options.touchEnabled)return f.touchmove(t),p.touchdrag(t)},p.touchend=function(t){if(t.originalEvent.preventDefault(),e.options.touchEnabled){var r=i.touch(t,null,e)[0];t.featureTarget=r,s(c,{time:(new Date).getTime(),point:t.point})?f.tap(t):f.touchend(t)}};var d=function(e){return!(8===e||46===e||e>=48&&e<=57)};function m(r,o){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};f.stop();var a=t[r];if(void 0===a)throw new Error(r+" is not valid");h=r;var s=a(e,o);f=n(s,e),i.silent||e.map.fire(l.events.MODE_CHANGE,{mode:r}),e.store.setDirty(),e.store.render()}p.keydown=function(t){"mapboxgl-canvas"===(t.srcElement||t.target).classList[0]&&(8!==t.keyCode&&46!==t.keyCode||!e.options.controls.trash?d(t.keyCode)?f.keydown(t):49===t.keyCode&&e.options.controls.point?m(l.modes.DRAW_POINT):50===t.keyCode&&e.options.controls.line_string?m(l.modes.DRAW_LINE_STRING):51===t.keyCode&&e.options.controls.polygon&&m(l.modes.DRAW_POLYGON):(t.preventDefault(),f.trash()))},p.keyup=function(e){d(e.keyCode)&&f.keyup(e)},p.zoomend=function(){e.store.changeZoom()},p.data=function(t){if("style"===t.dataType){var r=e.setup,n=e.map,o=e.options,i=e.store;o.styles.some(function(e){return n.getLayer(e.id)})||(r.addLayers(),i.setDirty(),i.render())}};var y={trash:!1,combineFeatures:!1,uncombineFeatures:!1};return{start:function(){h=e.options.defaultMode,f=n(t[h](e),e)},changeMode:m,actionable:function(t){var r=!1;Object.keys(t).forEach(function(e){if(void 0===y[e])throw new Error("Invalid action type");y[e]!==t[e]&&(r=!0),y[e]=t[e]}),r&&e.map.fire(l.events.ACTIONABLE,{actions:y})},currentModeName:function(){return h},currentModeRender:function(e,t){return f.render(e,t)},fire:function(e,t){p[e]&&p[e](t)},addEventListeners:function(){e.map.on("mousemove",p.mousemove),e.map.on("mousedown",p.mousedown),e.map.on("mouseup",p.mouseup),e.map.on("data",p.data),e.map.on("touchmove",p.touchmove),e.map.on("touchstart",p.touchstart),e.map.on("touchend",p.touchend),e.container.addEventListener("mouseout",p.mouseout),e.options.keybindings&&(e.container.addEventListener("keydown",p.keydown),e.container.addEventListener("keyup",p.keyup))},removeEventListeners:function(){e.map.off("mousemove",p.mousemove),e.map.off("mousedown",p.mousedown),e.map.off("mouseup",p.mouseup),e.map.off("data",p.data),e.map.off("touchmove",p.touchmove),e.map.off("touchstart",p.touchstart),e.map.off("touchend",p.touchend),e.container.removeEventListener("mouseout",p.mouseout),e.options.keybindings&&(e.container.removeEventListener("keydown",p.keydown),e.container.removeEventListener("keyup",p.keyup))},trash:function(e){f.trash(e)},combineFeatures:function(){f.combineFeatures()},uncombineFeatures:function(){f.uncombineFeatures()},getMode:function(){return h}}}},function(e,t){e.exports=function(e,t){var r={drag:[],click:[],mousemove:[],mousedown:[],mouseup:[],mouseout:[],keydown:[],keyup:[],touchstart:[],touchmove:[],touchend:[],tap:[]},n={on:function(e,t,n){if(void 0===r[e])throw new Error("Invalid event type: "+e);r[e].push({selector:t,fn:n})},render:function(e){t.store.featureChanged(e)}},o=function(e,o){for(var i=r[e],a=i.length;a--;){var s=i[a];if(s.selector(o)){s.fn.call(n,o),t.store.render(),t.ui.updateMapClasses();break}}};return e.start.call(n),{render:e.render,stop:function(){e.stop&&e.stop()},trash:function(){e.trash&&(e.trash(),t.store.render())},combineFeatures:function(){e.combineFeatures&&e.combineFeatures()},uncombineFeatures:function(){e.uncombineFeatures&&e.uncombineFeatures()},drag:function(e){o("drag",e)},click:function(e){o("click",e)},mousemove:function(e){o("mousemove",e)},mousedown:function(e){o("mousedown",e)},mouseup:function(e){o("mouseup",e)},mouseout:function(e){o("mouseout",e)},keydown:function(e){o("keydown",e)},keyup:function(e){o("keyup",e)},touchstart:function(e){o("touchstart",e)},touchmove:function(e){o("touchmove",e)},touchend:function(e){o("touchend",e)},tap:function(e){o("tap",e)}}}},function(e,t,r){var n=r(125),o=r(11);e.exports=function(e,t){var r=n.click(e,null,t),i={mouse:o.cursors.NONE};return r[0]&&(i.mouse=r[0].properties.active===o.activeStates.ACTIVE?o.cursors.MOVE:o.cursors.POINTER,i.feature=r[0].properties.meta),-1!==t.events.currentModeName().indexOf("draw")&&(i.mouse=o.cursors.ADD),t.ui.queueMapClasses(i),t.ui.updateMapClasses(),r[0]}},function(e,t,r){var n=r(657),o=r(11),i={Point:0,LineString:1,Polygon:2};function a(e,t){var r=i[e.geometry.type]-i[t.geometry.type];return 0===r&&e.geometry.type===o.geojsonTypes.POLYGON?e.area-t.area:r}e.exports=function(e){return e.map(function(e){return e.geometry.type===o.geojsonTypes.POLYGON&&(e.area=n.geometry({type:o.geojsonTypes.FEATURE,property:{},geometry:e.geometry})),e}).sort(a).map(function(e){return delete e.area,e})}},function(e,t,r){var n=r(658);function o(e){var t=0;if(e&&e.length>0){t+=Math.abs(i(e[0]));for(var r=1;r<e.length;r++)t-=Math.abs(i(e[r]))}return t}function i(e){var t,r,o,i,s,l,u=0,c=e.length;if(c>2){for(l=0;l<c;l++)l===c-2?(o=c-2,i=c-1,s=0):l===c-1?(o=c-1,i=0,s=1):(o=l,i=l+1,s=l+2),t=e[o],r=e[i],u+=(a(e[s][0])-a(t[0]))*Math.sin(a(r[1]));u=u*n.RADIUS*n.RADIUS/2}return u}function a(e){return e*Math.PI/180}e.exports.geometry=function e(t){var r,n=0;switch(t.type){case"Polygon":return o(t.coordinates);case"MultiPolygon":for(r=0;r<t.coordinates.length;r++)n+=o(t.coordinates[r]);return n;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(r=0;r<t.geometries.length;r++)n+=e(t.geometries[r]);return n}},e.exports.ring=i},function(e,t){e.exports.RADIUS=6378137,e.exports.FLATTENING=1/298.257223563,e.exports.POLAR_RADIUS=6356752.3142},function(e,t){e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return[[e.point.x-t,e.point.y-t],[e.point.x+t,e.point.y+t]]}},function(e,t,r){var n=r(299);e.exports=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=null!=r.fineTolerance?r.fineTolerance:4,i=null!=r.grossTolerance?r.grossTolerance:12,a=null!=r.interval?r.interval:500;e.point=e.point||t.point,e.time=e.time||t.time;var s=n(e.point,t.point);return s<o||s<i&&t.time-e.time<a}},function(e,t,r){var n=r(299);e.exports=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=null!=r.tolerance?r.tolerance:25,i=null!=r.interval?r.interval:250;return e.point=e.point||t.point,e.time=e.time||t.time,n(e.point,t.point)<o&&t.time-e.time<i}},function(e,t,r){var n=r(663),o={drag:"onDrag",click:"onClick",mousemove:"onMouseMove",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseout:"onMouseOut",keyup:"onKeyUp",keydown:"onKeyDown",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd",tap:"onTap"},i=Object.keys(o);e.exports=function(e){var t=Object.keys(e);return function(r){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s={},l=t.reduce(function(t,r){return t[r]=e[r],t},new n(r));return{start:function(){var t=this;s=l.onSetup(a),i.forEach(function(r){var n,i=o[r],a=function(){return!1};e[i]&&(a=function(){return!0}),t.on(r,a,(n=i,function(e){l[n](s,e)}))})},stop:function(){l.onStop(s)},trash:function(){l.onTrash(s)},combineFeatures:function(){l.onCombineFeatures(s)},uncombineFeatures:function(){l.onUncombineFeatures(s)},render:function(e,t){l.toDisplayFeatures(s,e,t)}}}}},function(e,t,r){var n=e.exports=r(664);n.prototype.onSetup=function(){},n.prototype.onDrag=function(){},n.prototype.onClick=function(){},n.prototype.onMouseMove=function(){},n.prototype.onMouseDown=function(){},n.prototype.onMouseUp=function(){},n.prototype.onMouseOut=function(){},n.prototype.onKeyUp=function(){},n.prototype.onKeyDown=function(){},n.prototype.onTouchStart=function(){},n.prototype.onTouchMove=function(){},n.prototype.onTouchEnd=function(){},n.prototype.onTap=function(){},n.prototype.onStop=function(){},n.prototype.onTrash=function(){},n.prototype.onCombineFeature=function(){},n.prototype.onUncombineFeature=function(){},n.prototype.toDisplayFeatures=function(){throw new Error("You must overwrite toDisplayFeatures")}},function(e,t,r){var n=r(11),o=r(125),i=r(186),a=r(188),s=r(189),l=r(128),u=e.exports=function(e){this.map=e.map,this.drawConfig=JSON.parse(JSON.stringify(e.options||{})),this._ctx=e};u.prototype.setSelected=function(e){return this._ctx.store.setSelected(e)},u.prototype.setSelectedCoordinates=function(e){var t=this;this._ctx.store.setSelectedCoordinates(e),e.reduce(function(e,r){return void 0===e[r.feature_id]&&(e[r.feature_id]=!0,t._ctx.store.get(r.feature_id).changed()),e},{})},u.prototype.getSelected=function(){return this._ctx.store.getSelected()},u.prototype.getSelectedIds=function(){return this._ctx.store.getSelectedIds()},u.prototype.isSelected=function(e){return this._ctx.store.isSelected(e)},u.prototype.getFeature=function(e){return this._ctx.store.get(e)},u.prototype.select=function(e){return this._ctx.store.select(e)},u.prototype.deselect=function(e){return this._ctx.store.deselect(e)},u.prototype.deleteFeature=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._ctx.store.delete(e,t)},u.prototype.addFeature=function(e){return this._ctx.store.add(e)},u.prototype.clearSelectedFeatures=function(){return this._ctx.store.clearSelected()},u.prototype.clearSelectedCoordinates=function(){return this._ctx.store.clearSelectedCoordinates()},u.prototype.setActionableState=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={trash:e.trash||!1,combineFeatures:e.combineFeatures||!1,uncombineFeatures:e.uncombineFeatures||!1};return this._ctx.events.actionable(t)},u.prototype.changeMode=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._ctx.events.changeMode(e,t,r)},u.prototype.updateUIClasses=function(e){return this._ctx.ui.queueMapClasses(e)},u.prototype.activateUIButton=function(e){return this._ctx.ui.setActiveButton(e)},u.prototype.featuresAt=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"click";if("click"!==r&&"touch"!==r)throw new Error("invalid buffer type");return o[r](e,t,this._ctx)},u.prototype.newFeature=function(e){var t=e.geometry.type;return t===n.geojsonTypes.POINT?new i(this._ctx,e):t===n.geojsonTypes.LINE_STRING?new a(this._ctx,e):t===n.geojsonTypes.POLYGON?new s(this._ctx,e):new l(this._ctx,e)},u.prototype.isInstanceOf=function(e,t){if(e===n.geojsonTypes.POINT)return t instanceof i;if(e===n.geojsonTypes.LINE_STRING)return t instanceof a;if(e===n.geojsonTypes.POLYGON)return t instanceof s;if("MultiFeature"===e)return t instanceof l;throw new Error("Unknown feature class: "+e)},u.prototype.doRender=function(e){return this._ctx.store.featureChanged(e)}},function(e,t,r){var n=r(666),o=r(667),i=r(126),a=r(668),s=r(11).interactions,l=e.exports=function(e){this._features={},this._featureIds=new i,this._selectedFeatureIds=new i,this._selectedCoordinates=[],this._changedFeatureIds=new i,this._deletedFeaturesToEmit=[],this._emitSelectionChange=!1,this._mapInitialConfig={},this.ctx=e,this.sources={hot:[],cold:[]},this.render=n(a,16,this),this.isDirty=!1};function u(e){var t=this,r=this._selectedCoordinates.filter(function(e){return t._selectedFeatureIds.has(e.feature_id)});this._selectedCoordinates.length===r.length||e.silent||(this._emitSelectionChange=!0),this._selectedCoordinates=r}l.prototype.createRenderBatch=function(){var e=this,t=this.render,r=0;return this.render=function(){r++},function(){e.render=t,r>0&&e.render()}},l.prototype.setDirty=function(){return this.isDirty=!0,this},l.prototype.featureChanged=function(e){return this._changedFeatureIds.add(e),this},l.prototype.getChangedIds=function(){return this._changedFeatureIds.values()},l.prototype.clearChangedIds=function(){return this._changedFeatureIds.clear(),this},l.prototype.getAllIds=function(){return this._featureIds.values()},l.prototype.add=function(e){return this.featureChanged(e.id),this._features[e.id]=e,this._featureIds.add(e.id),this},l.prototype.delete=function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o(e).forEach(function(e){t._featureIds.has(e)&&(t._featureIds.delete(e),t._selectedFeatureIds.delete(e),r.silent||-1===t._deletedFeaturesToEmit.indexOf(t._features[e])&&t._deletedFeaturesToEmit.push(t._features[e]),delete t._features[e],t.isDirty=!0)}),u.call(this,r),this},l.prototype.get=function(e){return this._features[e]},l.prototype.getAll=function(){var e=this;return Object.keys(this._features).map(function(t){return e._features[t]})},l.prototype.select=function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o(e).forEach(function(e){t._selectedFeatureIds.has(e)||(t._selectedFeatureIds.add(e),t._changedFeatureIds.add(e),r.silent||(t._emitSelectionChange=!0))}),this},l.prototype.deselect=function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o(e).forEach(function(e){t._selectedFeatureIds.has(e)&&(t._selectedFeatureIds.delete(e),t._changedFeatureIds.add(e),r.silent||(t._emitSelectionChange=!0))}),u.call(this,r),this},l.prototype.clearSelected=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.deselect(this._selectedFeatureIds.values(),{silent:e.silent}),this},l.prototype.setSelected=function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=o(e),this.deselect(this._selectedFeatureIds.values().filter(function(t){return-1===e.indexOf(t)}),{silent:r.silent}),this.select(e.filter(function(e){return!t._selectedFeatureIds.has(e)}),{silent:r.silent}),this},l.prototype.setSelectedCoordinates=function(e){return this._selectedCoordinates=e,this._emitSelectionChange=!0,this},l.prototype.clearSelectedCoordinates=function(){return this._selectedCoordinates=[],this._emitSelectionChange=!0,this},l.prototype.getSelectedIds=function(){return this._selectedFeatureIds.values()},l.prototype.getSelected=function(){var e=this;return this._selectedFeatureIds.values().map(function(t){return e.get(t)})},l.prototype.getSelectedCoordinates=function(){var e=this;return this._selectedCoordinates.map(function(t){return{coordinates:e.get(t.feature_id).getCoordinate(t.coord_path)}})},l.prototype.isSelected=function(e){return this._selectedFeatureIds.has(e)},l.prototype.setFeatureProperty=function(e,t,r){this.get(e).setProperty(t,r),this.featureChanged(e)},l.prototype.storeMapConfig=function(){var e=this;s.forEach(function(t){e.ctx.map[t]&&(e._mapInitialConfig[t]=e.ctx.map[t].isEnabled())})},l.prototype.restoreMapConfig=function(){var e=this;Object.keys(this._mapInitialConfig).forEach(function(t){e._mapInitialConfig[t]?e.ctx.map[t].enable():e.ctx.map[t].disable()})},l.prototype.getInitialConfigValue=function(e){return void 0===this._mapInitialConfig[e]||this._mapInitialConfig[e]}},function(e,t){e.exports=function(e,t,r){var n=void 0,o=void 0;function i(){n=!1,o&&(a.apply(r,o),o=!1)}function a(){n?o=arguments:(n=!0,e.apply(r,arguments),setTimeout(i,t))}return a}},function(e,t){e.exports=function(e){return[].concat(e).filter(function(e){return void 0!==e})}},function(e,t,r){var n=r(11);e.exports=function(){var e=this;if(!(e.ctx.map&&void 0!==e.ctx.map.getSource(n.sources.HOT)))return u();var t=e.ctx.events.currentModeName();e.ctx.ui.queueMapClasses({mode:t});var r=[],o=[];e.isDirty?o=e.getAllIds():(r=e.getChangedIds().filter(function(t){return void 0!==e.get(t)}),o=e.sources.hot.filter(function(t){return t.properties.id&&-1===r.indexOf(t.properties.id)&&void 0!==e.get(t.properties.id)}).map(function(e){return e.properties.id})),e.sources.hot=[];var i=e.sources.cold.length;e.sources.cold=e.isDirty?[]:e.sources.cold.filter(function(e){var t=e.properties.id||e.properties.parent;return-1===r.indexOf(t)});var a=i!==e.sources.cold.length||o.length>0;function s(r,n){var o=e.get(r).internal(t);e.ctx.events.currentModeRender(o,function(t){e.sources[n].push(t)})}if(r.forEach(function(e){return s(e,"hot")}),o.forEach(function(e){return s(e,"cold")}),a&&e.ctx.map.getSource(n.sources.COLD).setData({type:n.geojsonTypes.FEATURE_COLLECTION,features:e.sources.cold}),e.ctx.map.getSource(n.sources.HOT).setData({type:n.geojsonTypes.FEATURE_COLLECTION,features:e.sources.hot}),e._emitSelectionChange&&(e.ctx.map.fire(n.events.SELECTION_CHANGE,{features:e.getSelected().map(function(e){return e.toGeoJSON()}),points:e.getSelectedCoordinates().map(function(e){return{type:n.geojsonTypes.FEATURE,properties:{},geometry:{type:n.geojsonTypes.POINT,coordinates:e.coordinates}}})}),e._emitSelectionChange=!1),e._deletedFeaturesToEmit.length){var l=e._deletedFeaturesToEmit.map(function(e){return e.toGeoJSON()});e._deletedFeaturesToEmit=[],e.ctx.map.fire(n.events.DELETE,{features:l})}function u(){e.isDirty=!1,e.clearChangedIds()}u(),e.ctx.map.fire(n.events.RENDER,{})}},function(e,t,r){var n=r(190),o=r(11),i=["mode","feature","mouse"];e.exports=function(e){var t={},r=null,a={mode:null,feature:null,mouse:null},s={mode:null,feature:null,mouse:null};function l(e){s=n(s,e)}function u(){if(e.container){var t=[],r=[];i.forEach(function(e){s[e]!==a[e]&&(t.push(e+"-"+a[e]),null!==s[e]&&r.push(e+"-"+s[e]))}),t.length>0&&e.container.classList.remove.apply(e.container.classList,t),r.length>0&&e.container.classList.add.apply(e.container.classList,r),a=n(a,s)}}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=document.createElement("button");return n.className=o.classes.CONTROL_BUTTON+" "+t.className,n.setAttribute("title",t.title),t.container.appendChild(n),n.addEventListener("click",function(n){n.preventDefault(),n.stopPropagation(),n.target!==r?(h(e),t.onActivate()):p()},!0),n}function p(){r&&(r.classList.remove(o.classes.ACTIVE_BUTTON),r=null)}function h(e){p();var n=t[e];n&&n&&"trash"!==e&&(n.classList.add(o.classes.ACTIVE_BUTTON),r=n)}return{setActiveButton:h,queueMapClasses:l,updateMapClasses:u,clearMapClasses:function(){l({mode:null,feature:null,mouse:null}),u()},addButtons:function(){var r=e.options.controls,n=document.createElement("div");return n.className=o.classes.CONTROL_GROUP+" "+o.classes.CONTROL_BASE,r?(r[o.types.LINE]&&(t[o.types.LINE]=c(o.types.LINE,{container:n,className:o.classes.CONTROL_BUTTON_LINE,title:"LineString tool "+(e.options.keybindings?"(l)":""),onActivate:function(){return e.events.changeMode(o.modes.DRAW_LINE_STRING)}})),r[o.types.POLYGON]&&(t[o.types.POLYGON]=c(o.types.POLYGON,{container:n,className:o.classes.CONTROL_BUTTON_POLYGON,title:"Polygon tool "+(e.options.keybindings?"(p)":""),onActivate:function(){return e.events.changeMode(o.modes.DRAW_POLYGON)}})),r[o.types.POINT]&&(t[o.types.POINT]=c(o.types.POINT,{container:n,className:o.classes.CONTROL_BUTTON_POINT,title:"Marker tool "+(e.options.keybindings?"(m)":""),onActivate:function(){return e.events.changeMode(o.modes.DRAW_POINT)}})),r.trash&&(t.trash=c("trash",{container:n,className:o.classes.CONTROL_BUTTON_TRASH,title:"Delete",onActivate:function(){e.events.trash()}})),r.combine_features&&(t.combine_features=c("combineFeatures",{container:n,className:o.classes.CONTROL_BUTTON_COMBINE_FEATURES,title:"Combine",onActivate:function(){e.events.combineFeatures()}})),r.uncombine_features&&(t.uncombine_features=c("uncombineFeatures",{container:n,className:o.classes.CONTROL_BUTTON_UNCOMBINE_FEATURES,title:"Uncombine",onActivate:function(){e.events.uncombineFeatures()}})),n):n},removeButtons:function(){Object.keys(t).forEach(function(e){var r=t[e];r.parentNode&&r.parentNode.removeChild(r),delete t[e]})}}}},function(e,t,r){var n=r(190),o=r(11),i={defaultMode:o.modes.SIMPLE_SELECT,keybindings:!0,touchEnabled:!0,clickBuffer:2,touchBuffer:25,boxSelect:!0,displayControlsDefault:!0,styles:r(671),modes:r(300),controls:{},userProperties:!1},a={point:!0,line_string:!0,polygon:!0,trash:!0,combine_features:!0,uncombine_features:!0},s={point:!1,line_string:!1,polygon:!1,trash:!1,combine_features:!1,uncombine_features:!1};function l(e,t){return e.map(function(e){return e.source?e:n(e,{id:e.id+"."+t,source:"hot"===t?o.sources.HOT:o.sources.COLD})})}e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n(e);return e.controls||(t.controls={}),!1===e.displayControlsDefault?t.controls=n(s,e.controls):t.controls=n(a,e.controls),(t=n(i,t)).styles=l(t.styles,"cold").concat(l(t.styles,"hot")),t}},function(e,t){e.exports=[{id:"gl-draw-polygon-fill-inactive",type:"fill",filter:["all",["==","active","false"],["==","$type","Polygon"],["!=","mode","static"]],paint:{"fill-color":"#3bb2d0","fill-outline-color":"#3bb2d0","fill-opacity":.1}},{id:"gl-draw-polygon-fill-active",type:"fill",filter:["all",["==","active","true"],["==","$type","Polygon"]],paint:{"fill-color":"#fbb03b","fill-outline-color":"#fbb03b","fill-opacity":.1}},{id:"gl-draw-polygon-midpoint",type:"circle",filter:["all",["==","$type","Point"],["==","meta","midpoint"]],paint:{"circle-radius":3,"circle-color":"#fbb03b"}},{id:"gl-draw-polygon-stroke-inactive",type:"line",filter:["all",["==","active","false"],["==","$type","Polygon"],["!=","mode","static"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#3bb2d0","line-width":2}},{id:"gl-draw-polygon-stroke-active",type:"line",filter:["all",["==","active","true"],["==","$type","Polygon"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#fbb03b","line-dasharray":[.2,2],"line-width":2}},{id:"gl-draw-line-inactive",type:"line",filter:["all",["==","active","false"],["==","$type","LineString"],["!=","mode","static"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#3bb2d0","line-width":2}},{id:"gl-draw-line-active",type:"line",filter:["all",["==","$type","LineString"],["==","active","true"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#fbb03b","line-dasharray":[.2,2],"line-width":2}},{id:"gl-draw-polygon-and-line-vertex-stroke-inactive",type:"circle",filter:["all",["==","meta","vertex"],["==","$type","Point"],["!=","mode","static"]],paint:{"circle-radius":5,"circle-color":"#fff"}},{id:"gl-draw-polygon-and-line-vertex-inactive",type:"circle",filter:["all",["==","meta","vertex"],["==","$type","Point"],["!=","mode","static"]],paint:{"circle-radius":3,"circle-color":"#fbb03b"}},{id:"gl-draw-point-point-stroke-inactive",type:"circle",filter:["all",["==","active","false"],["==","$type","Point"],["==","meta","feature"],["!=","mode","static"]],paint:{"circle-radius":5,"circle-opacity":1,"circle-color":"#fff"}},{id:"gl-draw-point-inactive",type:"circle",filter:["all",["==","active","false"],["==","$type","Point"],["==","meta","feature"],["!=","mode","static"]],paint:{"circle-radius":3,"circle-color":"#3bb2d0"}},{id:"gl-draw-point-stroke-active",type:"circle",filter:["all",["==","$type","Point"],["==","active","true"],["!=","meta","midpoint"]],paint:{"circle-radius":7,"circle-color":"#fff"}},{id:"gl-draw-point-active",type:"circle",filter:["all",["==","$type","Point"],["!=","meta","midpoint"],["==","active","true"]],paint:{"circle-radius":5,"circle-color":"#fbb03b"}},{id:"gl-draw-polygon-fill-static",type:"fill",filter:["all",["==","mode","static"],["==","$type","Polygon"]],paint:{"fill-color":"#404040","fill-outline-color":"#404040","fill-opacity":.1}},{id:"gl-draw-polygon-stroke-static",type:"line",filter:["all",["==","mode","static"],["==","$type","Polygon"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#404040","line-width":2}},{id:"gl-draw-line-static",type:"line",filter:["all",["==","mode","static"],["==","$type","LineString"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#404040","line-width":2}},{id:"gl-draw-point-static",type:"circle",filter:["all",["==","mode","static"],["==","$type","Point"]],paint:{"circle-radius":5,"circle-color":"#404040"}}]},function(e,t,r){var n=r(52),o=r(673),i=r(191),a=r(126),s=r(97),l=r(301),u=r(11),c={onSetup:function(e){var t=this,r={dragMoveLocation:null,boxSelectStartLocation:null,boxSelectElement:void 0,boxSelecting:!1,canBoxSelect:!1,dragMoveing:!1,canDragMove:!1,initiallySelectedFeatureIds:e.featureIds||[]};return this.setSelected(r.initiallySelectedFeatureIds.filter(function(e){return void 0!==t.getFeature(e)})),this.fireActionable(),this.setActionableState({combineFeatures:!0,uncombineFeatures:!0,trash:!0}),r},fireUpdate:function(){this.map.fire(u.events.UPDATE,{action:u.updateActions.MOVE,features:this.getSelected().map(function(e){return e.toGeoJSON()})})},fireActionable:function(){var e=this,t=this.getSelected(),r=t.filter(function(t){return e.isInstanceOf("MultiFeature",t)}),n=!1;if(t.length>1){n=!0;var o=t[0].type.replace("Multi","");t.forEach(function(e){e.type.replace("Multi","")!==o&&(n=!1)})}var i=r.length>0,a=t.length>0;this.setActionableState({combineFeatures:n,uncombineFeatures:i,trash:a})},getUniqueIds:function(e){return e.length?e.map(function(e){return e.properties.id}).filter(function(e){return void 0!==e}).reduce(function(e,t){return e.add(t),e},new a).values():[]},stopExtendedInteractions:function(e){e.boxSelectElement&&(e.boxSelectElement.parentNode&&e.boxSelectElement.parentNode.removeChild(e.boxSelectElement),e.boxSelectElement=null),this.map.dragPan.enable(),e.boxSelecting=!1,e.canBoxSelect=!1,e.dragMoving=!1,e.canDragMove=!1},onStop:function(){s.enable(this)},onMouseMove:function(e){return this.stopExtendedInteractions(e)},onMouseOut:function(e){if(e.dragMoving)return this.fireUpdate()}};c.onTap=c.onClick=function(e,t){return n.noTarget(t)?this.clickAnywhere(e,t):n.isOfMetaType(u.meta.VERTEX)(t)?this.clickOnVertex(e,t):n.isFeature(t)?this.clickOnFeature(e,t):void 0},c.clickAnywhere=function(e){var t=this,r=this.getSelectedIds();r.length&&(this.clearSelectedFeatures(),r.forEach(function(e){return t.doRender(e)})),s.enable(this),this.stopExtendedInteractions(e)},c.clickOnVertex=function(e,t){this.changeMode(u.modes.DIRECT_SELECT,{featureId:t.featureTarget.properties.parent,coordPath:t.featureTarget.properties.coord_path,startPos:t.lngLat}),this.updateUIClasses({mouse:u.cursors.MOVE})},c.startOnActiveFeature=function(e,t){this.stopExtendedInteractions(e),this.map.dragPan.disable(),this.doRender(t.featureTarget.properties.id),e.canDragMove=!0,e.dragMoveLocation=t.lngLat},c.clickOnFeature=function(e,t){var r=this;s.disable(this),this.stopExtendedInteractions(e);var o=n.isShiftDown(t),i=this.getSelectedIds(),a=t.featureTarget.properties.id,l=this.isSelected(a);if(!o&&l&&this.getFeature(a).type!==u.geojsonTypes.POINT)return this.changeMode(u.modes.DIRECT_SELECT,{featureId:a});l&&o?(this.deselect(a),this.updateUIClasses({mouse:u.cursors.POINTER}),1===i.length&&s.enable(this)):!l&&o?(this.select(a),this.updateUIClasses({mouse:u.cursors.MOVE})):l||o||(i.forEach(function(e){return r.doRender(e)}),this.setSelected(a),this.updateUIClasses({mouse:u.cursors.MOVE})),this.doRender(a)},c.onMouseDown=function(e,t){return n.isActiveFeature(t)?this.startOnActiveFeature(e,t):this.drawConfig.boxSelect&&n.isShiftMousedown(t)?this.startBoxSelect(e,t):void 0},c.startBoxSelect=function(e,t){this.stopExtendedInteractions(e),this.map.dragPan.disable(),e.boxSelectStartLocation=o(t.originalEvent,this.map.getContainer()),e.canBoxSelect=!0},c.onTouchStart=function(e,t){if(n.isActiveFeature(t))return this.startOnActiveFeature(e,t)},c.onDrag=function(e,t){return e.canDragMove?this.dragMove(e,t):this.drawConfig.boxSelect&&e.canBoxSelect?this.whileBoxSelect(e,t):void 0},c.whileBoxSelect=function(e,t){e.boxSelecting=!0,this.updateUIClasses({mouse:u.cursors.ADD}),e.boxSelectElement||(e.boxSelectElement=document.createElement("div"),e.boxSelectElement.classList.add(u.classes.BOX_SELECT),this.map.getContainer().appendChild(e.boxSelectElement));var r=o(t.originalEvent,this.map.getContainer()),n=Math.min(e.boxSelectStartLocation.x,r.x),i=Math.max(e.boxSelectStartLocation.x,r.x),a=Math.min(e.boxSelectStartLocation.y,r.y),s=Math.max(e.boxSelectStartLocation.y,r.y),l="translate("+n+"px, "+a+"px)";e.boxSelectElement.style.transform=l,e.boxSelectElement.style.WebkitTransform=l,e.boxSelectElement.style.width=i-n+"px",e.boxSelectElement.style.height=s-a+"px"},c.dragMove=function(e,t){e.dragMoving=!0,t.originalEvent.stopPropagation();var r={lng:t.lngLat.lng-e.dragMoveLocation.lng,lat:t.lngLat.lat-e.dragMoveLocation.lat};l(this.getSelected(),r),e.dragMoveLocation=t.lngLat},c.onMouseUp=function(e,t){var r=this;if(e.dragMoving)this.fireUpdate();else if(e.boxSelecting){var n=[e.boxSelectStartLocation,o(t.originalEvent,this.map.getContainer())],i=this.featuresAt(null,n,"click"),a=this.getUniqueIds(i).filter(function(e){return!r.isSelected(e)});a.length&&(this.select(a),a.forEach(function(e){return r.doRender(e)}),this.updateUIClasses({mouse:u.cursors.MOVE}))}this.stopExtendedInteractions(e)},c.toDisplayFeatures=function(e,t,r){t.properties.active=this.isSelected(t.properties.id)?u.activeStates.ACTIVE:u.activeStates.INACTIVE,r(t),this.fireActionable(),t.properties.active===u.activeStates.ACTIVE&&t.geometry.type!==u.geojsonTypes.POINT&&i(t).forEach(r)},c.onTrash=function(){this.deleteFeature(this.getSelectedIds()),this.fireActionable()},c.onCombineFeatures=function(){var e=this.getSelected();if(!(0===e.length||e.length<2)){for(var t=[],r=[],n=e[0].type.replace("Multi",""),o=0;o<e.length;o++){var i=e[o];if(i.type.replace("Multi","")!==n)return;i.type.includes("Multi")?i.getCoordinates().forEach(function(e){t.push(e)}):t.push(i.getCoordinates()),r.push(i.toGeoJSON())}if(r.length>1){var a=this.newFeature({type:u.geojsonTypes.FEATURE,properties:r[0].properties,geometry:{type:"Multi"+n,coordinates:t}});this.addFeature(a),this.deleteFeature(this.getSelectedIds(),{silent:!0}),this.setSelected([a.id]),this.map.fire(u.events.COMBINE_FEATURES,{createdFeatures:[a.toGeoJSON()],deletedFeatures:r})}this.fireActionable()}},c.onUncombineFeatures=function(){var e=this,t=this.getSelected();if(0!==t.length){for(var r=[],n=[],o=function(o){var i=t[o];e.isInstanceOf("MultiFeature",i)&&(i.getFeatures().forEach(function(t){e.addFeature(t),t.properties=i.properties,r.push(t.toGeoJSON()),e.select([t.id])}),e.deleteFeature(i.id,{silent:!0}),n.push(i.toGeoJSON()))},i=0;i<t.length;i++)o(i);r.length>1&&this.map.fire(u.events.UNCOMBINE_FEATURES,{createdFeatures:r,deletedFeatures:n}),this.fireActionable()}},e.exports=c},function(e,t,r){var n=r(674);e.exports=function(e,t){var r=t.getBoundingClientRect();return new n(e.clientX-r.left-(t.clientLeft||0),e.clientY-r.top-(t.clientTop||0))}},function(e,t,r){"use strict";function n(e,t){this.x=e,this.y=t}e.exports=n,n.prototype={clone:function(){return new n(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,r=e.y-this.y;return t*t+r*r},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[0]*this.x+e[1]*this.y,r=e[2]*this.x+e[3]*this.y;return this.x=t,this.y=r,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),r=Math.sin(e),n=t*this.x-r*this.y,o=r*this.x+t*this.y;return this.x=n,this.y=o,this},_rotateAround:function(e,t){var r=Math.cos(e),n=Math.sin(e),o=t.x+r*(this.x-t.x)-n*(this.y-t.y),i=t.y+n*(this.x-t.x)+r*(this.y-t.y);return this.x=o,this.y=i,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},n.convert=function(e){return e instanceof n?e:Array.isArray(e)?new n(e[0],e[1]):e}},function(e,t,r){var n=r(11);e.exports=function(e,t,r,o){var i=t.geometry.coordinates,a=r.geometry.coordinates;if(i[1]>n.LAT_RENDERED_MAX||i[1]<n.LAT_RENDERED_MIN||a[1]>n.LAT_RENDERED_MAX||a[1]<n.LAT_RENDERED_MIN)return null;var s=o.project([i[0],i[1]]),l=o.project([a[0],a[1]]),u=o.unproject([(s.x+l.x)/2,(s.y+l.y)/2]);return{type:n.geojsonTypes.FEATURE,properties:{meta:n.meta.MIDPOINT,parent:e,lng:u.lng,lat:u.lat,coord_path:r.properties.coord_path},geometry:{type:n.geojsonTypes.POINT,coordinates:[u.lng,u.lat]}}}},function(e,t,r){var n=r(677),o=r(680),i=r(681),a={features:["FeatureCollection"],coordinates:["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],geometry:["Feature"],geometries:["GeometryCollection"]},s=Object.keys(a);function l(e){for(var t=i(),r=n(e),o=0;o<r.length;o++)t.include(r[o]);return t}e.exports=function(e){return l(e).bbox()},e.exports.polygon=function(e){return l(e).polygon()},e.exports.bboxify=function(e){return o(e).map(function(e){e&&(s.some(function(t){return!!e[t]&&-1!==a[t].indexOf(e.type)})&&(e.bbox=l(e).bbox(),this.update(e)))})}},function(e,t,r){var n=r(302),o=r(678),i=r(679);e.exports=function(e){if(!e)return[];var t=[];return o(n(e)).features.forEach(function(e){e.geometry&&(t=t.concat(i(e.geometry.coordinates)))}),t}},function(e,t){e.exports=function e(t){switch(t&&t.type||null){case"FeatureCollection":return t.features=t.features.reduce(function(t,r){return t.concat(e(r))},[]),t;case"Feature":return t.geometry?e(t.geometry).map(function(e){var r={type:"Feature",properties:JSON.parse(JSON.stringify(t.properties)),geometry:e};return void 0!==t.id&&(r.id=t.id),r}):t;case"MultiPoint":return t.coordinates.map(function(e){return{type:"Point",coordinates:e}});case"MultiPolygon":return t.coordinates.map(function(e){return{type:"Polygon",coordinates:e}});case"MultiLineString":return t.coordinates.map(function(e){return{type:"LineString",coordinates:e}});case"GeometryCollection":return t.geometries.map(e).reduce(function(e,t){return e.concat(t)},[]);case"Point":case"Polygon":case"LineString":return[t]}}},function(e,t){e.exports=function(e){return function e(t){if(Array.isArray(t)&&t.length&&"number"===typeof t[0])return[t];return t.reduce(function(t,r){return Array.isArray(r)&&Array.isArray(r[0])?t.concat(e(r)):(t.push(r),t)},[])}(e)}},function(e,t){var r=e.exports=function(e){return new n(e)};function n(e){this.value=e}function o(e,t,r){var n=[],o=[],s=!0;return function e(p){var h={},f=!0,d={node:r?i(p):p,node_:p,path:[].concat(n),parent:o[o.length-1],parents:o,key:n.slice(-1)[0],isRoot:0===n.length,level:n.length,circular:null,update:function(e,t){d.isRoot||(d.parent.node[d.key]=e),d.node=e,t&&(f=!1)},delete:function(e){delete d.parent.node[d.key],e&&(f=!1)},remove:function(e){l(d.parent.node)?d.parent.node.splice(d.key,1):delete d.parent.node[d.key],e&&(f=!1)},keys:null,before:function(e){h.before=e},after:function(e){h.after=e},pre:function(e){h.pre=e},post:function(e){h.post=e},stop:function(){s=!1},block:function(){f=!1}};if(!s)return d;function m(){if("object"===typeof d.node&&null!==d.node){d.keys&&d.node_===d.node||(d.keys=a(d.node)),d.isLeaf=0==d.keys.length;for(var e=0;e<o.length;e++)if(o[e].node_===p){d.circular=o[e];break}}else d.isLeaf=!0,d.keys=null;d.notLeaf=!d.isLeaf,d.notRoot=!d.isRoot}m();var y=t.call(d,d.node);return void 0!==y&&d.update&&d.update(y),h.before&&h.before.call(d,d.node),f?("object"!=typeof d.node||null===d.node||d.circular||(o.push(d),m(),u(d.keys,function(t,o){n.push(t),h.pre&&h.pre.call(d,d.node[t],t);var i=e(d.node[t]);r&&c.call(d.node,t)&&(d.node[t]=i.node),i.isLast=o==d.keys.length-1,i.isFirst=0==o,h.post&&h.post.call(d,i),n.pop()}),o.pop()),h.after&&h.after.call(d,d.node),d):d}(e).node}function i(e){if("object"===typeof e&&null!==e){var t;if(l(e))t=[];else if("[object Date]"===s(e))t=new Date(e.getTime?e.getTime():e);else if(function(e){return"[object RegExp]"===s(e)}(e))t=new RegExp(e);else if(function(e){return"[object Error]"===s(e)}(e))t={message:e.message};else if(function(e){return"[object Boolean]"===s(e)}(e))t=new Boolean(e);else if(function(e){return"[object Number]"===s(e)}(e))t=new Number(e);else if(function(e){return"[object String]"===s(e)}(e))t=new String(e);else if(Object.create&&Object.getPrototypeOf)t=Object.create(Object.getPrototypeOf(e));else if(e.constructor===Object)t={};else{var r=e.constructor&&e.constructor.prototype||e.__proto__||{},n=function(){};n.prototype=r,t=new n}return u(a(e),function(r){t[r]=e[r]}),t}return e}n.prototype.get=function(e){for(var t=this.value,r=0;r<e.length;r++){var n=e[r];if(!t||!c.call(t,n)){t=void 0;break}t=t[n]}return t},n.prototype.has=function(e){for(var t=this.value,r=0;r<e.length;r++){var n=e[r];if(!t||!c.call(t,n))return!1;t=t[n]}return!0},n.prototype.set=function(e,t){for(var r=this.value,n=0;n<e.length-1;n++){var o=e[n];c.call(r,o)||(r[o]={}),r=r[o]}return r[e[n]]=t,t},n.prototype.map=function(e){return o(this.value,e,!0)},n.prototype.forEach=function(e){return this.value=o(this.value,e,!1),this.value},n.prototype.reduce=function(e,t){var r=1===arguments.length,n=r?this.value:t;return this.forEach(function(t){this.isRoot&&r||(n=e.call(this,n,t))}),n},n.prototype.paths=function(){var e=[];return this.forEach(function(t){e.push(this.path)}),e},n.prototype.nodes=function(){var e=[];return this.forEach(function(t){e.push(this.node)}),e},n.prototype.clone=function(){var e=[],t=[];return function r(n){for(var o=0;o<e.length;o++)if(e[o]===n)return t[o];if("object"===typeof n&&null!==n){var s=i(n);return e.push(n),t.push(s),u(a(n),function(e){s[e]=r(n[e])}),e.pop(),t.pop(),s}return n}(this.value)};var a=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};function s(e){return Object.prototype.toString.call(e)}var l=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},u=function(e,t){if(e.forEach)return e.forEach(t);for(var r=0;r<e.length;r++)t(e[r],r,e)};u(a(n.prototype),function(e){r[e]=function(t){var r=[].slice.call(arguments,1),o=new n(t);return o[e].apply(o,r)}});var c=Object.hasOwnProperty||function(e,t){return t in e}},function(e,t){function r(e){if(!(this instanceof r))return new r(e);this._bbox=e||[1/0,1/0,-1/0,-1/0],this._valid=!!e}e.exports=r,r.prototype.include=function(e){return this._valid=!0,this._bbox[0]=Math.min(this._bbox[0],e[0]),this._bbox[1]=Math.min(this._bbox[1],e[1]),this._bbox[2]=Math.max(this._bbox[2],e[0]),this._bbox[3]=Math.max(this._bbox[3],e[1]),this},r.prototype.equals=function(e){var t;return t=e instanceof r?e.bbox():e,this._bbox[0]==t[0]&&this._bbox[1]==t[1]&&this._bbox[2]==t[2]&&this._bbox[3]==t[3]},r.prototype.center=function(e){return this._valid?[(this._bbox[0]+this._bbox[2])/2,(this._bbox[1]+this._bbox[3])/2]:null},r.prototype.union=function(e){var t;return this._valid=!0,t=e instanceof r?e.bbox():e,this._bbox[0]=Math.min(this._bbox[0],t[0]),this._bbox[1]=Math.min(this._bbox[1],t[1]),this._bbox[2]=Math.max(this._bbox[2],t[2]),this._bbox[3]=Math.max(this._bbox[3],t[3]),this},r.prototype.bbox=function(){return this._valid?this._bbox:null},r.prototype.contains=function(e){if(!e)return this._fastContains();if(!this._valid)return null;var t=e[0],r=e[1];return this._bbox[0]<=t&&this._bbox[1]<=r&&this._bbox[2]>=t&&this._bbox[3]>=r},r.prototype.intersect=function(e){return this._valid?(t=e instanceof r?e.bbox():e,!(this._bbox[0]>t[2]||this._bbox[2]<t[0]||this._bbox[3]<t[1]||this._bbox[1]>t[3])):null;var t},r.prototype._fastContains=function(){if(!this._valid)return new Function("return null;");var e="return "+this._bbox[0]+"<= ll[0] &&"+this._bbox[1]+"<= ll[1] &&"+this._bbox[2]+">= ll[0] &&"+this._bbox[3]+">= ll[1]";return new Function("ll",e)},r.prototype.polygon=function(){return this._valid?{type:"Polygon",coordinates:[[[this._bbox[0],this._bbox[1]],[this._bbox[2],this._bbox[1]],[this._bbox[2],this._bbox[3]],[this._bbox[0],this._bbox[3]],[this._bbox[0],this._bbox[1]]]]}:null}},function(e,t,r){var n=r(52),o=n.noTarget,i=n.isOfMetaType,a=n.isInactiveFeature,s=n.isShiftDown,l=r(191),u=r(192),c=r(97),p=r(11),h=r(52),f=r(301),d=i(p.meta.VERTEX),m=i(p.meta.MIDPOINT),y={fireUpdate:function(){this.map.fire(p.events.UPDATE,{action:p.updateActions.CHANGE_COORDINATES,features:this.getSelected().map(function(e){return e.toGeoJSON()})})},fireActionable:function(e){this.setActionableState({combineFeatures:!1,uncombineFeatures:!1,trash:e.selectedCoordPaths.length>0})},startDragging:function(e,t){this.map.dragPan.disable(),e.canDragMove=!0,e.dragMoveLocation=t.lngLat},stopDragging:function(e){this.map.dragPan.enable(),e.dragMoving=!1,e.canDragMove=!1,e.dragMoveLocation=null},onVertex:function(e,t){this.startDragging(e,t);var r=t.featureTarget.properties,n=e.selectedCoordPaths.indexOf(r.coord_path);s(t)||-1!==n?s(t)&&-1===n&&e.selectedCoordPaths.push(r.coord_path):e.selectedCoordPaths=[r.coord_path];var o=this.pathsToCoordinates(e.featureId,e.selectedCoordPaths);this.setSelectedCoordinates(o)},onMidpoint:function(e,t){this.startDragging(e,t);var r=t.featureTarget.properties;e.feature.addCoordinate(r.coord_path,r.lng,r.lat),this.fireUpdate(),e.selectedCoordPaths=[r.coord_path]},pathsToCoordinates:function(e,t){return t.map(function(t){return{feature_id:e,coord_path:t}})},onFeature:function(e,t){0===e.selectedCoordPaths.length?this.startDragging(e,t):this.stopDragging(e)},dragFeature:function(e,t,r){f(this.getSelected(),r),e.dragMoveLocation=t.lngLat},dragVertex:function(e,t,r){for(var n=e.selectedCoordPaths.map(function(t){return e.feature.getCoordinate(t)}),o=n.map(function(e){return{type:p.geojsonTypes.FEATURE,properties:{},geometry:{type:p.geojsonTypes.POINT,coordinates:e}}}),i=u(o,r),a=0;a<n.length;a++){var s=n[a];e.feature.updateCoordinate(e.selectedCoordPaths[a],s[0]+i.lng,s[1]+i.lat)}},clickNoTarget:function(){this.changeMode(p.modes.SIMPLE_SELECT)},clickInactive:function(){this.changeMode(p.modes.SIMPLE_SELECT)},clickActiveFeature:function(e){e.selectedCoordPaths=[],this.clearSelectedCoordinates(),e.feature.changed()},onSetup:function(e){var t=e.featureId,r=this.getFeature(t);if(!r)throw new Error("You must provide a featureId to enter direct_select mode");if(r.type===p.geojsonTypes.POINT)throw new TypeError("direct_select mode doesn't handle point features");var n={featureId:t,feature:r,dragMoveLocation:e.startPos||null,dragMoving:!1,canDragMove:!1,selectedCoordPaths:e.coordPath?[e.coordPath]:[]};return this.setSelectedCoordinates(this.pathsToCoordinates(t,n.selectedCoordPaths)),this.setSelected(t),c.disable(this),this.setActionableState({trash:!0}),n},onStop:function(){c.enable(this),this.clearSelectedCoordinates()},toDisplayFeatures:function(e,t,r){e.featureId===t.properties.id?(t.properties.active=p.activeStates.ACTIVE,r(t),l(t,{map:this.map,midpoints:!0,selectedPaths:e.selectedCoordPaths}).forEach(r)):(t.properties.active=p.activeStates.INACTIVE,r(t)),this.fireActionable(e)},onTrash:function(e){e.selectedCoordPaths.sort().reverse().forEach(function(t){return e.feature.removeCoordinate(t)}),this.fireUpdate(),e.selectedCoordPaths=[],this.clearSelectedCoordinates(),this.fireActionable(e),!1===e.feature.isValid()&&(this.deleteFeature([e.featureId]),this.changeMode(p.modes.SIMPLE_SELECT,{}))},onMouseMove:function(e,t){var r=h.isActiveFeature(t),n=d(t),o=0===e.selectedCoordPaths.length;r&&o?this.updateUIClasses({mouse:p.cursors.MOVE}):n&&!o?this.updateUIClasses({mouse:p.cursors.MOVE}):this.updateUIClasses({mouse:p.cursors.NONE}),this.stopDragging(e)},onMouseOut:function(e){e.dragMoving&&this.fireUpdate()}};y.onTouchStart=y.onMouseDown=function(e,t){return d(t)?this.onVertex(e,t):h.isActiveFeature(t)?this.onFeature(e,t):m(t)?this.onMidpoint(e,t):void 0},y.onDrag=function(e,t){if(!0===e.canDragMove){e.dragMoving=!0,t.originalEvent.stopPropagation();var r={lng:t.lngLat.lng-e.dragMoveLocation.lng,lat:t.lngLat.lat-e.dragMoveLocation.lat};e.selectedCoordPaths.length>0?this.dragVertex(e,t,r):this.dragFeature(e,t,r),e.dragMoveLocation=t.lngLat}},y.onClick=function(e,t){return o(t)?this.clickNoTarget(e,t):h.isActiveFeature(t)?this.clickActiveFeature(e,t):a(t)?this.clickInactive(e,t):void this.stopDragging(e)},y.onTap=function(e,t){return o(t)?this.clickNoTarget(e,t):h.isActiveFeature(t)?this.clickActiveFeature(e,t):a(t)?this.clickInactive(e,t):void 0},y.onTouchEnd=y.onMouseUp=function(e){e.dragMoving&&this.fireUpdate(),this.stopDragging(e)},e.exports=y},function(e,t,r){var n=r(52),o=r(11),i={onSetup:function(){var e=this.newFeature({type:o.geojsonTypes.FEATURE,properties:{},geometry:{type:o.geojsonTypes.POINT,coordinates:[]}});return this.addFeature(e),this.clearSelectedFeatures(),this.updateUIClasses({mouse:o.cursors.ADD}),this.activateUIButton(o.types.POINT),this.setActionableState({trash:!0}),{point:e}},stopDrawingAndRemove:function(e){this.deleteFeature([e.point.id],{silent:!0}),this.changeMode(o.modes.SIMPLE_SELECT)}};i.onTap=i.onClick=function(e,t){this.updateUIClasses({mouse:o.cursors.MOVE}),e.point.updateCoordinate("",t.lngLat.lng,t.lngLat.lat),this.map.fire(o.events.CREATE,{features:[e.point.toGeoJSON()]}),this.changeMode(o.modes.SIMPLE_SELECT,{featureIds:[e.point.id]})},i.onStop=function(e){this.activateUIButton(),e.point.getCoordinate().length||this.deleteFeature([e.point.id],{silent:!0})},i.toDisplayFeatures=function(e,t,r){var n=t.properties.id===e.point.id;if(t.properties.active=n?o.activeStates.ACTIVE:o.activeStates.INACTIVE,!n)return r(t)},i.onTrash=i.stopDrawingAndRemove,i.onKeyUp=function(e,t){if(n.isEscapeKey(t)||n.isEnterKey(t))return this.stopDrawingAndRemove(e,t)},e.exports=i},function(e,t,r){var n=r(52),o=r(97),i=r(11),a=r(193),s=r(129),l={onSetup:function(){var e=this.newFeature({type:i.geojsonTypes.FEATURE,properties:{},geometry:{type:i.geojsonTypes.POLYGON,coordinates:[[]]}});return this.addFeature(e),this.clearSelectedFeatures(),o.disable(this),this.updateUIClasses({mouse:i.cursors.ADD}),this.activateUIButton(i.types.POLYGON),this.setActionableState({trash:!0}),{polygon:e,currentVertexPosition:0}},clickAnywhere:function(e,t){if(e.currentVertexPosition>0&&a(t,e.polygon.coordinates[0][e.currentVertexPosition-1]))return this.changeMode(i.modes.SIMPLE_SELECT,{featureIds:[e.polygon.id]});this.updateUIClasses({mouse:i.cursors.ADD}),e.polygon.updateCoordinate("0."+e.currentVertexPosition,t.lngLat.lng,t.lngLat.lat),e.currentVertexPosition++,e.polygon.updateCoordinate("0."+e.currentVertexPosition,t.lngLat.lng,t.lngLat.lat)},clickOnVertex:function(e){return this.changeMode(i.modes.SIMPLE_SELECT,{featureIds:[e.polygon.id]})},onMouseMove:function(e,t){e.polygon.updateCoordinate("0."+e.currentVertexPosition,t.lngLat.lng,t.lngLat.lat),n.isVertex(t)&&this.updateUIClasses({mouse:i.cursors.POINTER})}};l.onTap=l.onClick=function(e,t){return n.isVertex(t)?this.clickOnVertex(e,t):this.clickAnywhere(e,t)},l.onKeyUp=function(e,t){n.isEscapeKey(t)?(this.deleteFeature([e.polygon.id],{silent:!0}),this.changeMode(i.modes.SIMPLE_SELECT)):n.isEnterKey(t)&&this.changeMode(i.modes.SIMPLE_SELECT,{featureIds:[e.polygon.id]})},l.onStop=function(e){this.updateUIClasses({mouse:i.cursors.NONE}),o.enable(this),this.activateUIButton(),void 0!==this.getFeature(e.polygon.id)&&(e.polygon.removeCoordinate("0."+e.currentVertexPosition),e.polygon.isValid()?this.map.fire(i.events.CREATE,{features:[e.polygon.toGeoJSON()]}):(this.deleteFeature([e.polygon.id],{silent:!0}),this.changeMode(i.modes.SIMPLE_SELECT,{},{silent:!0})))},l.toDisplayFeatures=function(e,t,r){var n=t.properties.id===e.polygon.id;if(t.properties.active=n?i.activeStates.ACTIVE:i.activeStates.INACTIVE,!n)return r(t);if(0!==t.geometry.coordinates.length){var o=t.geometry.coordinates[0].length;if(!(o<3)){if(t.properties.meta=i.meta.FEATURE,r(s(e.polygon.id,t.geometry.coordinates[0][0],"0.0",!1)),o>3){var a=t.geometry.coordinates[0].length-3;r(s(e.polygon.id,t.geometry.coordinates[0][a],"0."+a,!1))}if(o<=4){var l=[[t.geometry.coordinates[0][0][0],t.geometry.coordinates[0][0][1]],[t.geometry.coordinates[0][1][0],t.geometry.coordinates[0][1][1]]];if(r({type:i.geojsonTypes.FEATURE,properties:t.properties,geometry:{coordinates:l,type:i.geojsonTypes.LINE_STRING}}),3===o)return}return r(t)}}},l.onTrash=function(e){this.deleteFeature([e.polygon.id],{silent:!0}),this.changeMode(i.modes.SIMPLE_SELECT)},e.exports=l},function(e,t,r){function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var o=r(52),i=r(193),a=r(97),s=r(11),l=r(129),u={onSetup:function(e){var t=(e=e||{}).featureId,r=void 0,o=void 0,i="forward";if(t){if(!(r=this.getFeature(t)))throw new Error("Could not find a feature with the provided featureId");var l=e.from;if(l&&"Feature"===l.type&&l.geometry&&"Point"===l.geometry.type&&(l=l.geometry),l&&"Point"===l.type&&l.coordinates&&2===l.coordinates.length&&(l=l.coordinates),!l||!Array.isArray(l))throw new Error("Please use the `from` property to indicate which point to continue the line from");var u=r.coordinates.length-1;if(r.coordinates[u][0]===l[0]&&r.coordinates[u][1]===l[1]){var c;o=u+1,(c=r).addCoordinate.apply(c,[o].concat(n(r.coordinates[u])))}else{if(r.coordinates[0][0]!==l[0]||r.coordinates[0][1]!==l[1])throw new Error("`from` should match the point at either the start or the end of the provided LineString");var p;i="backwards",o=0,(p=r).addCoordinate.apply(p,[o].concat(n(r.coordinates[0])))}}else r=this.newFeature({type:s.geojsonTypes.FEATURE,properties:{},geometry:{type:s.geojsonTypes.LINE_STRING,coordinates:[]}}),o=0,this.addFeature(r);return this.clearSelectedFeatures(),a.disable(this),this.updateUIClasses({mouse:s.cursors.ADD}),this.activateUIButton(s.types.LINE),this.setActionableState({trash:!0}),{line:r,currentVertexPosition:o,direction:i}},clickAnywhere:function(e,t){if(e.currentVertexPosition>0&&i(t,e.line.coordinates[e.currentVertexPosition-1])||"backwards"===e.direction&&i(t,e.line.coordinates[e.currentVertexPosition+1]))return this.changeMode(s.modes.SIMPLE_SELECT,{featureIds:[e.line.id]});this.updateUIClasses({mouse:s.cursors.ADD}),e.line.updateCoordinate(e.currentVertexPosition,t.lngLat.lng,t.lngLat.lat),"forward"===e.direction?(e.currentVertexPosition++,e.line.updateCoordinate(e.currentVertexPosition,t.lngLat.lng,t.lngLat.lat)):e.line.addCoordinate(0,t.lngLat.lng,t.lngLat.lat)},clickOnVertex:function(e){return this.changeMode(s.modes.SIMPLE_SELECT,{featureIds:[e.line.id]})},onMouseMove:function(e,t){e.line.updateCoordinate(e.currentVertexPosition,t.lngLat.lng,t.lngLat.lat),o.isVertex(t)&&this.updateUIClasses({mouse:s.cursors.POINTER})}};u.onTap=u.onClick=function(e,t){if(o.isVertex(t))return this.clickOnVertex(e,t);this.clickAnywhere(e,t)},u.onKeyUp=function(e,t){o.isEnterKey(t)?this.changeMode(s.modes.SIMPLE_SELECT,{featureIds:[e.line.id]}):o.isEscapeKey(t)&&(this.deleteFeature([e.line.id],{silent:!0}),this.changeMode(s.modes.SIMPLE_SELECT))},u.onStop=function(e){a.enable(this),this.activateUIButton(),void 0!==this.getFeature(e.line.id)&&(e.line.removeCoordinate(""+e.currentVertexPosition),e.line.isValid()?this.map.fire(s.events.CREATE,{features:[e.line.toGeoJSON()]}):(this.deleteFeature([e.line.id],{silent:!0}),this.changeMode(s.modes.SIMPLE_SELECT,{},{silent:!0})))},u.onTrash=function(e){this.deleteFeature([e.line.id],{silent:!0}),this.changeMode(s.modes.SIMPLE_SELECT)},u.toDisplayFeatures=function(e,t,r){var n=t.properties.id===e.line.id;if(t.properties.active=n?s.activeStates.ACTIVE:s.activeStates.INACTIVE,!n)return r(t);t.geometry.coordinates.length<2||(t.properties.meta=s.meta.FEATURE,r(l(e.line.id,t.geometry.coordinates["forward"===e.direction?t.geometry.coordinates.length-2:1],""+("forward"===e.direction?t.geometry.coordinates.length-2:1),!1)),r(t))},e.exports=u},function(e,t,r){var n=r(687),o=r(302),i=r(187),a=r(125),s=r(688),l=r(689),u=r(11),c=r(126),p={Polygon:r(189),LineString:r(188),Point:r(186),MultiPolygon:r(128),MultiLineString:r(128),MultiPoint:r(128)};e.exports=function(e,t){return t.modes=u.modes,t.getFeatureIdsAt=function(t){return a.click({point:t},null,e).map(function(e){return e.properties.id})},t.getSelectedIds=function(){return e.store.getSelectedIds()},t.getSelected=function(){return{type:u.geojsonTypes.FEATURE_COLLECTION,features:e.store.getSelectedIds().map(function(t){return e.store.get(t)}).map(function(e){return e.toGeoJSON()})}},t.getSelectedPoints=function(){return{type:u.geojsonTypes.FEATURE_COLLECTION,features:e.store.getSelectedCoordinates().map(function(e){return{type:u.geojsonTypes.FEATURE,properties:{},geometry:{type:u.geojsonTypes.POINT,coordinates:e.coordinates}}})}},t.set=function(r){if(void 0===r.type||r.type!==u.geojsonTypes.FEATURE_COLLECTION||!Array.isArray(r.features))throw new Error("Invalid FeatureCollection");var n=e.store.createRenderBatch(),o=e.store.getAllIds().slice(),i=t.add(r),a=new c(i);return(o=o.filter(function(e){return!a.has(e)})).length&&t.delete(o),n(),i},t.add=function(t){var r=l.hint(t,{precisionWarning:!1}).filter(function(e){return"message"!==e.level});if(r.length)throw new Error(r[0].message);var a=JSON.parse(JSON.stringify(o(t))).features.map(function(t){if(t.id=t.id||i(),null===t.geometry)throw new Error("Invalid geometry: null");if(void 0===e.store.get(t.id)||e.store.get(t.id).type!==t.geometry.type){var r=p[t.geometry.type];if(void 0===r)throw new Error("Invalid geometry type: "+t.geometry.type+".");var o=new r(e,t);e.store.add(o)}else{var a=e.store.get(t.id);a.properties=t.properties,n(a.getCoordinates(),t.geometry.coordinates)||a.incomingCoords(t.geometry.coordinates)}return t.id});return e.store.render(),a},t.get=function(t){var r=e.store.get(t);if(r)return r.toGeoJSON()},t.getAll=function(){return{type:u.geojsonTypes.FEATURE_COLLECTION,features:e.store.getAll().map(function(e){return e.toGeoJSON()})}},t.delete=function(r){return e.store.delete(r,{silent:!0}),t.getMode()!==u.modes.DIRECT_SELECT||e.store.getSelectedIds().length?e.store.render():e.events.changeMode(u.modes.SIMPLE_SELECT,void 0,{silent:!0}),t},t.deleteAll=function(){return e.store.delete(e.store.getAllIds(),{silent:!0}),t.getMode()===u.modes.DIRECT_SELECT?e.events.changeMode(u.modes.SIMPLE_SELECT,void 0,{silent:!0}):e.store.render(),t},t.changeMode=function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r===u.modes.SIMPLE_SELECT&&t.getMode()===u.modes.SIMPLE_SELECT?s(n.featureIds||[],e.store.getSelectedIds())?t:(e.store.setSelected(n.featureIds,{silent:!0}),e.store.render(),t):r===u.modes.DIRECT_SELECT&&t.getMode()===u.modes.DIRECT_SELECT&&n.featureId===e.store.getSelectedIds()[0]?t:(e.events.changeMode(r,n,{silent:!0}),t)},t.getMode=function(){return e.events.getMode()},t.trash=function(){return e.events.trash({silent:!0}),t},t.combineFeatures=function(){return e.events.combineFeatures({silent:!0}),t},t.uncombineFeatures=function(){return e.events.uncombineFeatures({silent:!0}),t},t.setFeatureProperty=function(r,n,o){return e.store.setFeatureProperty(r,n,o),t},t}},function(e,t,r){(function(e,r){var n=200,o="__lodash_hash_undefined__",i=1,a=2,s=9007199254740991,l="[object Arguments]",u="[object Array]",c="[object AsyncFunction]",p="[object Boolean]",h="[object Date]",f="[object Error]",d="[object Function]",m="[object GeneratorFunction]",y="[object Map]",v="[object Number]",g="[object Null]",_="[object Object]",b="[object Proxy]",x="[object RegExp]",w="[object Set]",E="[object String]",S="[object Symbol]",C="[object Undefined]",k="[object ArrayBuffer]",T="[object DataView]",O=/^\[object .+?Constructor\]$/,P=/^(?:0|[1-9]\d*)$/,A={};A["[object Float32Array]"]=A["[object Float64Array]"]=A["[object Int8Array]"]=A["[object Int16Array]"]=A["[object Int32Array]"]=A["[object Uint8Array]"]=A["[object Uint8ClampedArray]"]=A["[object Uint16Array]"]=A["[object Uint32Array]"]=!0,A[l]=A[u]=A[k]=A[p]=A[T]=A[h]=A[f]=A[d]=A[y]=A[v]=A[_]=A[x]=A[w]=A[E]=A["[object WeakMap]"]=!1;var I="object"==typeof e&&e&&e.Object===Object&&e,M="object"==typeof self&&self&&self.Object===Object&&self,R=I||M||Function("return this")(),L="object"==typeof t&&t&&!t.nodeType&&t,D=L&&"object"==typeof r&&r&&!r.nodeType&&r,j=D&&D.exports===L,z=j&&I.process,F=function(){try{return z&&z.binding&&z.binding("util")}catch(e){}}(),N=F&&F.isTypedArray;function B(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function U(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}function V(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}var G,q,H,W=Array.prototype,X=Function.prototype,Z=Object.prototype,Y=R["__core-js_shared__"],K=X.toString,$=Z.hasOwnProperty,J=(G=/[^.]+$/.exec(Y&&Y.keys&&Y.keys.IE_PROTO||""))?"Symbol(src)_1."+G:"",Q=Z.toString,ee=RegExp("^"+K.call($).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),te=j?R.Buffer:void 0,re=R.Symbol,ne=R.Uint8Array,oe=Z.propertyIsEnumerable,ie=W.splice,ae=re?re.toStringTag:void 0,se=Object.getOwnPropertySymbols,le=te?te.isBuffer:void 0,ue=(q=Object.keys,H=Object,function(e){return q(H(e))}),ce=Fe(R,"DataView"),pe=Fe(R,"Map"),he=Fe(R,"Promise"),fe=Fe(R,"Set"),de=Fe(R,"WeakMap"),me=Fe(Object,"create"),ye=Ve(ce),ve=Ve(pe),ge=Ve(he),_e=Ve(fe),be=Ve(de),xe=re?re.prototype:void 0,we=xe?xe.valueOf:void 0;function Ee(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Se(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ce(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ke(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new Ce;++t<r;)this.add(e[t])}function Te(e){var t=this.__data__=new Se(e);this.size=t.size}function Oe(e,t){var r=He(e),n=!r&&qe(e),o=!r&&!n&&We(e),i=!r&&!n&&!o&&$e(e),a=r||n||o||i,s=a?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],l=s.length;for(var u in e)!t&&!$.call(e,u)||a&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Ue(u,l))||s.push(u);return s}function Pe(e,t){for(var r=e.length;r--;)if(Ge(e[r][0],t))return r;return-1}function Ae(e){return null==e?void 0===e?C:g:ae&&ae in Object(e)?function(e){var t=$.call(e,ae),r=e[ae];try{e[ae]=void 0;var n=!0}catch(e){}var o=Q.call(e);n&&(t?e[ae]=r:delete e[ae]);return o}(e):function(e){return Q.call(e)}(e)}function Ie(e){return Ke(e)&&Ae(e)==l}function Me(e,t,r,n,o){return e===t||(null==e||null==t||!Ke(e)&&!Ke(t)?e!==e&&t!==t:function(e,t,r,n,o,s){var c=He(e),d=He(t),m=c?u:Be(e),g=d?u:Be(t),b=(m=m==l?_:m)==_,C=(g=g==l?_:g)==_,O=m==g;if(O&&We(e)){if(!We(t))return!1;c=!0,b=!1}if(O&&!b)return s||(s=new Te),c||$e(e)?De(e,t,r,n,o,s):function(e,t,r,n,o,s,l){switch(r){case T:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case k:return!(e.byteLength!=t.byteLength||!s(new ne(e),new ne(t)));case p:case h:case v:return Ge(+e,+t);case f:return e.name==t.name&&e.message==t.message;case x:case E:return e==t+"";case y:var u=U;case w:var c=n&i;if(u||(u=V),e.size!=t.size&&!c)return!1;var d=l.get(e);if(d)return d==t;n|=a,l.set(e,t);var m=De(u(e),u(t),n,o,s,l);return l.delete(e),m;case S:if(we)return we.call(e)==we.call(t)}return!1}(e,t,m,r,n,o,s);if(!(r&i)){var P=b&&$.call(e,"__wrapped__"),A=C&&$.call(t,"__wrapped__");if(P||A){var I=P?e.value():e,M=A?t.value():t;return s||(s=new Te),o(I,M,r,n,s)}}if(!O)return!1;return s||(s=new Te),function(e,t,r,n,o,a){var s=r&i,l=je(e),u=l.length,c=je(t).length;if(u!=c&&!s)return!1;for(var p=u;p--;){var h=l[p];if(!(s?h in t:$.call(t,h)))return!1}var f=a.get(e);if(f&&a.get(t))return f==t;var d=!0;a.set(e,t),a.set(t,e);for(var m=s;++p<u;){h=l[p];var y=e[h],v=t[h];if(n)var g=s?n(v,y,h,t,e,a):n(y,v,h,e,t,a);if(!(void 0===g?y===v||o(y,v,r,n,a):g)){d=!1;break}m||(m="constructor"==h)}if(d&&!m){var _=e.constructor,b=t.constructor;_!=b&&"constructor"in e&&"constructor"in t&&!("function"==typeof _&&_ instanceof _&&"function"==typeof b&&b instanceof b)&&(d=!1)}return a.delete(e),a.delete(t),d}(e,t,r,n,o,s)}(e,t,r,n,Me,o))}function Re(e){return!(!Ye(e)||J&&J in e)&&(Xe(e)?ee:O).test(Ve(e))}function Le(e){if(r=(t=e)&&t.constructor,n="function"==typeof r&&r.prototype||Z,t!==n)return ue(e);var t,r,n,o=[];for(var i in Object(e))$.call(e,i)&&"constructor"!=i&&o.push(i);return o}function De(e,t,r,n,o,s){var l=r&i,u=e.length,c=t.length;if(u!=c&&!(l&&c>u))return!1;var p=s.get(e);if(p&&s.get(t))return p==t;var h=-1,f=!0,d=r&a?new ke:void 0;for(s.set(e,t),s.set(t,e);++h<u;){var m=e[h],y=t[h];if(n)var v=l?n(y,m,h,t,e,s):n(m,y,h,e,t,s);if(void 0!==v){if(v)continue;f=!1;break}if(d){if(!B(t,function(e,t){if(i=t,!d.has(i)&&(m===e||o(m,e,r,n,s)))return d.push(t);var i})){f=!1;break}}else if(m!==y&&!o(m,y,r,n,s)){f=!1;break}}return s.delete(e),s.delete(t),f}function je(e){return function(e,t,r){var n=t(e);return He(e)?n:function(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}(n,r(e))}(e,Je,Ne)}function ze(e,t){var r,n,o=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof t?"string":"hash"]:o.map}function Fe(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return Re(r)?r:void 0}Ee.prototype.clear=function(){this.__data__=me?me(null):{},this.size=0},Ee.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Ee.prototype.get=function(e){var t=this.__data__;if(me){var r=t[e];return r===o?void 0:r}return $.call(t,e)?t[e]:void 0},Ee.prototype.has=function(e){var t=this.__data__;return me?void 0!==t[e]:$.call(t,e)},Ee.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=me&&void 0===t?o:t,this},Se.prototype.clear=function(){this.__data__=[],this.size=0},Se.prototype.delete=function(e){var t=this.__data__,r=Pe(t,e);return!(r<0)&&(r==t.length-1?t.pop():ie.call(t,r,1),--this.size,!0)},Se.prototype.get=function(e){var t=this.__data__,r=Pe(t,e);return r<0?void 0:t[r][1]},Se.prototype.has=function(e){return Pe(this.__data__,e)>-1},Se.prototype.set=function(e,t){var r=this.__data__,n=Pe(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},Ce.prototype.clear=function(){this.size=0,this.__data__={hash:new Ee,map:new(pe||Se),string:new Ee}},Ce.prototype.delete=function(e){var t=ze(this,e).delete(e);return this.size-=t?1:0,t},Ce.prototype.get=function(e){return ze(this,e).get(e)},Ce.prototype.has=function(e){return ze(this,e).has(e)},Ce.prototype.set=function(e,t){var r=ze(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},ke.prototype.add=ke.prototype.push=function(e){return this.__data__.set(e,o),this},ke.prototype.has=function(e){return this.__data__.has(e)},Te.prototype.clear=function(){this.__data__=new Se,this.size=0},Te.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Te.prototype.get=function(e){return this.__data__.get(e)},Te.prototype.has=function(e){return this.__data__.has(e)},Te.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Se){var o=r.__data__;if(!pe||o.length<n-1)return o.push([e,t]),this.size=++r.size,this;r=this.__data__=new Ce(o)}return r.set(e,t),this.size=r.size,this};var Ne=se?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var r=-1,n=null==e?0:e.length,o=0,i=[];++r<n;){var a=e[r];t(a,r,e)&&(i[o++]=a)}return i}(se(e),function(t){return oe.call(e,t)}))}:function(){return[]},Be=Ae;function Ue(e,t){return!!(t=null==t?s:t)&&("number"==typeof e||P.test(e))&&e>-1&&e%1==0&&e<t}function Ve(e){if(null!=e){try{return K.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ge(e,t){return e===t||e!==e&&t!==t}(ce&&Be(new ce(new ArrayBuffer(1)))!=T||pe&&Be(new pe)!=y||he&&"[object Promise]"!=Be(he.resolve())||fe&&Be(new fe)!=w||de&&"[object WeakMap]"!=Be(new de))&&(Be=function(e){var t=Ae(e),r=t==_?e.constructor:void 0,n=r?Ve(r):"";if(n)switch(n){case ye:return T;case ve:return y;case ge:return"[object Promise]";case _e:return w;case be:return"[object WeakMap]"}return t});var qe=Ie(function(){return arguments}())?Ie:function(e){return Ke(e)&&$.call(e,"callee")&&!oe.call(e,"callee")},He=Array.isArray;var We=le||function(){return!1};function Xe(e){if(!Ye(e))return!1;var t=Ae(e);return t==d||t==m||t==c||t==b}function Ze(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=s}function Ye(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ke(e){return null!=e&&"object"==typeof e}var $e=N?function(e){return function(t){return e(t)}}(N):function(e){return Ke(e)&&Ze(e.length)&&!!A[Ae(e)]};function Je(e){return null!=(t=e)&&Ze(t.length)&&!Xe(t)?Oe(e):Le(e);var t}r.exports=function(e,t){return Me(e,t)}}).call(t,r(32),r(185)(e))},function(e,t){e.exports=function(e,t){return e.length===t.length&&JSON.stringify(e.map(function(e){return e}).sort())===JSON.stringify(t.map(function(e){return e}).sort())}},function(e,t,r){var n=r(690),o=r(693);e.exports.hint=function(e,t){var r,i=[];if("object"===typeof e)r=e;else{if("string"!==typeof e)return[{message:"Expected string or object as input",line:0}];try{r=n.parse(e)}catch(e){var a=e.message.match(/line (\d+)/);return[{line:parseInt(a[1],10)-1,message:e.message,error:e}]}}return i=i.concat(o.hint(r,t))}},function(e,t,r){(function(e,n){var o=function(){var e=function(e,t,r,n){for(r=r||{},n=e.length;n--;r[e[n]]=t);return r},t=[1,12],r=[1,13],n=[1,9],o=[1,10],i=[1,11],a=[1,14],s=[1,15],l=[14,18,22,24],u=[18,22],c=[22,24],p={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(e,t,r,n,o,i,a){var s=i.length-1;switch(o){case 1:this.$=e.replace(/\\(\\|")/g,"$1").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b");break;case 2:this.$=Number(e);break;case 3:this.$=null;break;case 4:this.$=!0;break;case 5:this.$=!1;break;case 6:return this.$=i[s-1];case 13:this.$={},Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 14:case 19:this.$=i[s-1],Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 15:this.$=[i[s-2],i[s]];break;case 16:this.$={},this.$[i[s][0]]=i[s][1];break;case 17:this.$=i[s-2],void 0!==i[s-2][i[s][0]]&&(this.$.__duplicateProperties__||Object.defineProperty(this.$,"__duplicateProperties__",{value:[],enumerable:!1}),this.$.__duplicateProperties__.push(i[s][0])),i[s-2][i[s][0]]=i[s][1];break;case 18:this.$=[],Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 20:this.$=[i[s]];break;case 21:this.$=i[s-2],i[s-2].push(i[s])}},table:[{3:5,4:t,5:6,6:r,7:3,8:n,9:4,10:o,11:i,12:1,13:2,15:7,16:8,17:a,23:s},{1:[3]},{14:[1,16]},e(l,[2,7]),e(l,[2,8]),e(l,[2,9]),e(l,[2,10]),e(l,[2,11]),e(l,[2,12]),e(l,[2,3]),e(l,[2,4]),e(l,[2,5]),e([14,18,21,22,24],[2,1]),e(l,[2,2]),{3:20,4:t,18:[1,17],19:18,20:19},{3:5,4:t,5:6,6:r,7:3,8:n,9:4,10:o,11:i,13:23,15:7,16:8,17:a,23:s,24:[1,21],25:22},{1:[2,6]},e(l,[2,13]),{18:[1,24],22:[1,25]},e(u,[2,16]),{21:[1,26]},e(l,[2,18]),{22:[1,28],24:[1,27]},e(c,[2,20]),e(l,[2,14]),{3:20,4:t,20:29},{3:5,4:t,5:6,6:r,7:3,8:n,9:4,10:o,11:i,13:30,15:7,16:8,17:a,23:s},e(l,[2,19]),{3:5,4:t,5:6,6:r,7:3,8:n,9:4,10:o,11:i,13:31,15:7,16:8,17:a,23:s},e(u,[2,17]),e(u,[2,15]),e(c,[2,21])],defaultActions:{16:[2,6]},parseError:function(e,t){if(!t.recoverable){function r(e,t){this.message=e,this.hash=t}throw r.prototype=Error,new r(e,t)}this.trace(e)},parse:function(e){var t=this,r=[0],n=[null],o=[],i=this.table,a="",s=0,l=0,u=0,c=o.slice.call(arguments,1),p=Object.create(this.lexer),h={yy:{}};for(var f in this.yy)Object.prototype.hasOwnProperty.call(this.yy,f)&&(h.yy[f]=this.yy[f]);p.setInput(e,h.yy),h.yy.lexer=p,h.yy.parser=this,"undefined"==typeof p.yylloc&&(p.yylloc={});var d=p.yylloc;o.push(d);var m=p.options&&p.options.ranges;"function"===typeof h.yy.parseError?this.parseError=h.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var y,v,g,_,b,x,w,E,S,C=function(){var e;return"number"!==typeof(e=p.lex()||1)&&(e=t.symbols_[e]||e),e},k={};;){if(g=r[r.length-1],this.defaultActions[g]?_=this.defaultActions[g]:(null!==y&&"undefined"!=typeof y||(y=C()),_=i[g]&&i[g][y]),"undefined"===typeof _||!_.length||!_[0]){var T="";for(x in S=[],i[g])this.terminals_[x]&&x>2&&S.push("'"+this.terminals_[x]+"'");T=p.showPosition?"Parse error on line "+(s+1)+":\n"+p.showPosition()+"\nExpecting "+S.join(", ")+", got '"+(this.terminals_[y]||y)+"'":"Parse error on line "+(s+1)+": Unexpected "+(1==y?"end of input":"'"+(this.terminals_[y]||y)+"'"),this.parseError(T,{text:p.match,token:this.terminals_[y]||y,line:p.yylineno,loc:d,expected:S})}if(_[0]instanceof Array&&_.length>1)throw new Error("Parse Error: multiple actions possible at state: "+g+", token: "+y);switch(_[0]){case 1:r.push(y),n.push(p.yytext),o.push(p.yylloc),r.push(_[1]),y=null,v?(y=v,v=null):(l=p.yyleng,a=p.yytext,s=p.yylineno,d=p.yylloc,u>0&&u--);break;case 2:if(w=this.productions_[_[1]][1],k.$=n[n.length-w],k._$={first_line:o[o.length-(w||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(w||1)].first_column,last_column:o[o.length-1].last_column},m&&(k._$.range=[o[o.length-(w||1)].range[0],o[o.length-1].range[1]]),"undefined"!==typeof(b=this.performAction.apply(k,[a,l,s,h.yy,_[1],n,o].concat(c))))return b;w&&(r=r.slice(0,-1*w*2),n=n.slice(0,-1*w),o=o.slice(0,-1*w)),r.push(this.productions_[_[1]][0]),n.push(k.$),o.push(k._$),E=i[r[r.length-2]][r[r.length-1]],r.push(E);break;case 3:return!0}}return!0}},h={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,r=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),r.length-1&&(this.yylineno-=r.length-1);var o=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:r?(r.length===n.length?this.yylloc.first_column:0)+n[n.length-r.length].length-r[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var r,n,o;if(this.options.backtrack_lexer&&(o={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(o.yylloc.range=this.yylloc.range.slice(0))),(n=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],r=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),r)return r;if(this._backtrack){for(var i in o)this[i]=o[i];return!1}return!1},next:function(){if(this.done)return this.EOF;var e,t,r,n;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var o=this._currentRules(),i=0;i<o.length;i++)if((r=this._input.match(this.rules[o[i]]))&&(!t||r[0].length>t[0].length)){if(t=r,n=i,this.options.backtrack_lexer){if(!1!==(e=this.test_match(r,o[i])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,o[n]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return e||this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(e,t,r,n){switch(r){case 0:break;case 1:return 6;case 2:return t.yytext=t.yytext.substr(1,t.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt\/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}};function f(){this.yy={}}return p.lexer=h,f.prototype=p,p.Parser=f,new f}();t.parser=o,t.Parser=o.Parser,t.parse=function(){return o.parse.apply(o,arguments)},t.main=function(n){n[1]||(console.log("Usage: "+n[0]+" FILE"),e.exit(1));var o=r(691).readFileSync(r(692).normalize(n[1]),"utf8");return t.parser.parse(o)},"undefined"!==typeof n&&r.c[r.s]===n&&t.main(e.argv.slice(1))}).call(t,r(69),r(185)(e))},function(e,t){},function(e,t,r){(function(e){function r(e,t){for(var r=0,n=e.length-1;n>=0;n--){var o=e[n];"."===o?e.splice(n,1):".."===o?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}var n=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(e){return n.exec(e).slice(1)};function i(e,t){if(e.filter)return e.filter(t);for(var r=[],n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}t.resolve=function(){for(var t="",n=!1,o=arguments.length-1;o>=-1&&!n;o--){var a=o>=0?arguments[o]:e.cwd();if("string"!==typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,n="/"===a.charAt(0))}return t=r(i(t.split("/"),function(e){return!!e}),!n).join("/"),(n?"/":"")+t||"."},t.normalize=function(e){var n=t.isAbsolute(e),o="/"===a(e,-1);return(e=r(i(e.split("/"),function(e){return!!e}),!n).join("/"))||n||(e="."),e&&o&&(e+="/"),(n?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(i(e,function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,r){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=t.resolve(e).substr(1),r=t.resolve(r).substr(1);for(var o=n(e.split("/")),i=n(r.split("/")),a=Math.min(o.length,i.length),s=a,l=0;l<a;l++)if(o[l]!==i[l]){s=l;break}var u=[];for(l=s;l<o.length;l++)u.push("..");return(u=u.concat(i.slice(s))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=o(e),r=t[0],n=t[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},t.basename=function(e,t){var r=o(e)[2];return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r},t.extname=function(e){return o(e)[3]};var a="b"==="ab".substr(-1)?function(e,t,r){return e.substr(t,r)}:function(e,t,r){return t<0&&(t=e.length+t),e.substr(t,r)}}).call(t,r(69))},function(e,t,r){var n=r(694);e.exports.hint=function(e,t){var r=[],o=0,i=10,a=6;function s(e){if(t&&!1===t.noDuplicateMembers||!e.__duplicateProperties__||r.push({message:"An object contained duplicate members, making parsing ambigous: "+e.__duplicateProperties__.join(", "),line:e.__line__}),!u(e,"type","string"))if(m[e.type])e&&m[e.type](e);else{var n=y[e.type.toLowerCase()];void 0!==n?r.push({message:"Expected "+n+" but got "+e.type+" (case sensitive)",line:e.__line__}):r.push({message:"The type "+e.type+" is unknown",line:e.__line__})}}function l(e,t){return e.every(function(e){return null!==e&&typeof e===t})}function u(e,t,n){if("undefined"===typeof e[t])return r.push({message:'"'+t+'" member required',line:e.__line__});if("array"===n){if(!Array.isArray(e[t]))return r.push({message:'"'+t+'" member should be an array, but is an '+typeof e[t]+" instead",line:e.__line__})}else{if("object"===n&&e[t]&&"Object"!==e[t].constructor.name)return r.push({message:'"'+t+'" member should be '+n+", but is an "+e[t].constructor.name+" instead",line:e.__line__});if(n&&typeof e[t]!==n)return r.push({message:'"'+t+'" member should be '+n+", but is an "+typeof e[t]+" instead",line:e.__line__})}}function c(e,n){if(!Array.isArray(e))return r.push({message:"position should be an array, is a "+typeof e+" instead",line:e.__line__||n});if(e.length<2)return r.push({message:"position must have 2 or more elements",line:e.__line__||n});if(e.length>3)return r.push({message:"position should not have more than 3 elements",level:"message",line:e.__line__||n});if(!l(e,"number"))return r.push({message:"each element in a position must be a number",line:e.__line__||n});if(t&&t.precisionWarning){if(o===i)return o+=1,r.push({message:"truncated warnings: we've encountered coordinate precision warning "+i+" times, no more warnings will be reported",level:"message",line:e.__line__||n});o<i&&e.forEach(function(t){var i=0,s=String(t).split(".")[1];if(void 0!==s&&(i=s.length),i>a)return o+=1,r.push({message:"precision of coordinates should be reduced",level:"message",line:e.__line__||n})})}}function p(e,t,n,o){if(void 0===o&&void 0!==e.__line__&&(o=e.__line__),0===n)return c(e,o);if(1===n&&t)if("LinearRing"===t){if(!Array.isArray(e[e.length-1]))return r.push({message:"a number was found where a coordinate array should have been found: this needs to be nested more deeply",line:o}),!0;if(e.length<4&&r.push({message:"a LinearRing of coordinates needs to have four or more positions",line:o}),e.length&&(e[e.length-1].length!==e[0].length||!e[e.length-1].every(function(t,r){return e[0][r]===t})))return r.push({message:"the first and last positions in a LinearRing of coordinates must be the same",line:o}),!0}else if("Line"===t&&e.length<2)return r.push({message:"a line needs to have two or more coordinates to be valid",line:o});if(Array.isArray(e))return e.map(function(e){return p(e,t,n-1,e.__line__||o)}).some(function(e){return e});r.push({message:"a number was found where a coordinate array should have been found: this needs to be nested more deeply",line:o})}function h(e){e.crs&&("object"===typeof e.crs&&e.crs.properties&&"urn:ogc:def:crs:OGC:1.3:CRS84"===e.crs.properties.name?r.push({message:"old-style crs member is not recommended, this object is equivalent to the default and should be removed",line:e.__line__}):r.push({message:"old-style crs member is not recommended",line:e.__line__}))}function f(e){if(e.bbox)return Array.isArray(e.bbox)?(l(e.bbox,"number")||r.push({message:"each element in a bbox member must be a number",line:e.bbox.__line__}),4!==e.bbox.length&&6!==e.bbox.length&&r.push({message:"bbox must contain 4 elements (for 2D) or 6 elements (for 3D)",line:e.bbox.__line__}),r.length):void r.push({message:"bbox member must be an array of numbers, but is a "+typeof e.bbox,line:e.__line__})}function d(e){h(e),f(e),void 0!==e.id&&"string"!==typeof e.id&&"number"!==typeof e.id&&r.push({message:'Feature "id" member must have a string or number value',line:e.__line__}),void 0!==e.features&&r.push({message:'Feature object cannot contain a "features" member',line:e.__line__}),void 0!==e.coordinates&&r.push({message:'Feature object cannot contain a "coordinates" member',line:e.__line__}),"Feature"!==e.type&&r.push({message:"GeoJSON features must have a type=feature member",line:e.__line__}),u(e,"properties","object"),u(e,"geometry","object")||e.geometry&&s(e.geometry)}var m={Point:function(e){var t;h(e),f(e),void 0!==(t=e).properties&&r.push({message:'geometry object cannot contain a "properties" member',line:t.__line__}),void 0!==t.geometry&&r.push({message:'geometry object cannot contain a "geometry" member',line:t.__line__}),void 0!==t.features&&r.push({message:'geometry object cannot contain a "features" member',line:t.__line__}),u(e,"coordinates","array")||c(e.coordinates)},Feature:d,MultiPoint:function(e){h(e),f(e),u(e,"coordinates","array")||p(e.coordinates,"",1)},LineString:function(e){h(e),f(e),u(e,"coordinates","array")||p(e.coordinates,"Line",1)},MultiLineString:function(e){h(e),f(e),u(e,"coordinates","array")||p(e.coordinates,"Line",2)},FeatureCollection:function(e){if(h(e),f(e),void 0!==e.properties&&r.push({message:'FeatureCollection object cannot contain a "properties" member',line:e.__line__}),void 0!==e.coordinates&&r.push({message:'FeatureCollection object cannot contain a "coordinates" member',line:e.__line__}),!u(e,"features","array")){if(!l(e.features,"object"))return r.push({message:"Every feature must be an object",line:e.__line__});e.features.forEach(d)}},GeometryCollection:function(e){h(e),f(e),u(e,"geometries","array")||(l(e.geometries,"object")||r.push({message:"The geometries array in a GeometryCollection must contain only geometry objects",line:e.__line__}),1===e.geometries.length&&r.push({message:"GeometryCollection with a single geometry should be avoided in favor of single part or a single object of multi-part type",line:e.geometries.__line__}),e.geometries.forEach(function(t){t&&("GeometryCollection"===t.type&&r.push({message:"GeometryCollection should avoid nested geometry collections",line:e.geometries.__line__}),s(t))}))},Polygon:function(e){h(e),f(e),u(e,"coordinates","array")||p(e.coordinates,"LinearRing",2)||n(e,r)},MultiPolygon:function(e){h(e),f(e),u(e,"coordinates","array")||p(e.coordinates,"LinearRing",3)||n(e,r)}},y=Object.keys(m).reduce(function(e,t){return e[t.toLowerCase()]=t,e},{});return"object"!==typeof e||null===e||void 0===e?(r.push({message:"The root of a GeoJSON object must be an object.",line:0}),r):(s(e),r.forEach(function(e){({}).hasOwnProperty.call(e,"line")&&void 0===e.line&&delete e.line}),r)}},function(e,t){function r(e){return e*Math.PI/180}function n(e){var t=0;if(e.length>2)for(var n,o,i=0;i<e.length-1;i++)n=e[i],t+=r((o=e[i+1])[0]-n[0])*(2+Math.sin(r(n[1]))+Math.sin(r(o[1])));return t>=0}function o(e){if(e&&e.length>0){if(n(e[0]))return!1;if(!e.slice(1,e.length).every(n))return!1}return!0}e.exports=function(e,t){(function(e){return"Polygon"===e.type?o(e.coordinates):"MultiPolygon"===e.type?e.coordinates.every(o):void 0})(e)||t.push({message:"Polygons and MultiPolygons should follow the right-hand rule",level:"message",line:e.__line__})}},function(e,t,r){"use strict";r.d(t,"a",function(){return d});var n=r(11),o=r.n(n),i=r(52),a=r.n(i),s=r(192),l=r.n(s),u=r(191),c=r.n(u),p=r(5),h=Object(i.isOfMetaType)(o.a.meta.VERTEX),f=Object(i.isOfMetaType)(o.a.meta.MIDPOINT),d={fireUpdate:function(){this.map.fire(o.a.events.UPDATE,{action:o.a.updateActions.CHANGE_COORDINATES,features:this.getSelected().map(function(e){return e.toGeoJSON()})})},fireActionable:function(e){this.setActionableState({combineFeatures:!1,uncombineFeatures:!1,trash:e.selectedCoordPaths.length>0})},startDragging:function(e,t){this.map.dragPan.disable(),e.canDragMove=!0,e.dragMoveLocation=t.lngLat},stopDragging:function(e){this.map.dragPan.enable(),e.dragMoving=!1,e.canDragMove=!1,e.dragMoveLocation=null},onVertex:function(e,t){var r=this,n=t.featureTarget.properties;if(t.originalEvent.metaKey&&"LineString"===e.feature.type){var o=Number(n.coord_path);if([0,e.feature.coordinates.length-1].includes(o))return t.preventDefault(),void window.setTimeout(function(){r.changeMode("draw_line_string",{featureId:e.feature.id,fromIndex:o})},500)}this.startDragging(e,t);var a=e.selectedCoordPaths.indexOf(n.coord_path);Object(i.isShiftDown)(t)||-1!==a?Object(i.isShiftDown)(t)&&-1===a&&e.selectedCoordPaths.push(n.coord_path):e.selectedCoordPaths=[n.coord_path];var s=this.pathsToCoordinates(e.featureId,e.selectedCoordPaths);this.setSelectedCoordinates(s)},onMidpoint:function(e,t){this.startDragging(e,t);var r=t.featureTarget.properties;e.feature.addCoordinate(r.coord_path,r.lng,r.lat),this.fireUpdate(),e.selectedCoordPaths=[r.coord_path]},pathsToCoordinates:function(e,t){return t.map(function(t){return{feature_id:e,coord_path:t}})},dragVertex:function(e,t,r){for(var n=e.selectedCoordPaths.map(function(t){return e.feature.getCoordinate(t)}),i=n.map(function(e){return{type:o.a.geojsonTypes.FEATURE,properties:{},geometry:{type:o.a.geojsonTypes.POINT,coordinates:e}}}),a=l()(i,r),s=0;s<n.length;s++){var u=n[s];e.feature.updateCoordinate(e.selectedCoordPaths[s],u[0]+a.lng,u[1]+a.lat)}},clickActiveFeature:function(e){e.selectedCoordPaths=[],this.clearSelectedCoordinates(),e.feature.changed()},onSetup:function(e){var t=e.featureId,r=this.getFeature(t);if(!r)throw new Error("You must provide a featureId to enter direct_select mode");if(r.type===o.a.geojsonTypes.POINT)throw new TypeError("direct_select mode doesn't handle point features");var n={featureId:t,feature:r,dragMoveLocation:e.startPos||null,dragMoving:!1,canDragMove:!1,selectedCoordPaths:e.coordPath?[e.coordPath]:[]};return this.setSelected(t),this.setActionableState({trash:!0}),n},onStop:function(){this.clearSelectedCoordinates()},toDisplayFeatures:function(e,t,r){e.featureId===t.properties.id?(t.properties.active=o.a.activeStates.ACTIVE,r(t),c()(t,{map:this.map,midpoints:!0,selectedPaths:e.selectedCoordPaths}).forEach(r)):(t.properties.active=o.a.activeStates.INACTIVE,r(t)),this.fireActionable(e)},onTrash:function(e){var t=e.selectedCoordPaths.length;if("Polygon"===e.feature.type){if(e.feature.coordinates[0].length-t<3)return}else{if("LineString"!==e.feature.type)return void Object(p.b)("onTrash not Polygon or Polyline");if(e.feature.coordinates.length-t<2)return}e.selectedCoordPaths.sort().reverse().forEach(function(t){return e.feature.removeCoordinate(t)}),this.fireUpdate(),e.selectedCoordPaths=[],this.clearSelectedCoordinates(),this.fireActionable(e),!1===e.feature.isValid()&&(Object(p.b)("Deleted feature to invalid state"),this.deleteFeature([e.featureId]),this.changeMode("simple_select",{}))},onMouseMove:function(e,t){h(t)||f(t)?this.updateUIClasses({mouse:o.a.cursors.POINTER}):this.updateUIClasses({mouse:o.a.cursors.NONE}),this.stopDragging(e)},onMouseOut:function(e){e.dragMoving&&this.fireUpdate()}};d.onTouchStart=d.onMouseDown=function(e,t){return h(t)?this.onVertex(e,t):f(t)?this.onMidpoint(e,t):void 0},d.onDrag=function(e,t){if(!0===e.canDragMove){e.dragMoving=!0,t.originalEvent.stopPropagation();var r={lng:t.lngLat.lng-e.dragMoveLocation.lng,lat:t.lngLat.lat-e.dragMoveLocation.lat};e.selectedCoordPaths.length>0&&this.dragVertex(e,t,r),e.dragMoveLocation=t.lngLat}},d.onClick=function(e,t){if(a.a.isActiveFeature(t))return this.clickActiveFeature(e,t);this.stopDragging(e)},d.onTap=function(e,t){if(a.a.isActiveFeature(t))return this.clickActiveFeature(e,t)},d.onTouchEnd=d.onMouseUp=function(e){e.dragMoving&&this.fireUpdate(),this.stopDragging(e)}},function(e,t,r){"use strict";r.d(t,"a",function(){return m});var n=r(11),o=r.n(n),i=r(52),a=r.n(i),s=r(129),l=r.n(s),u=r(97),c=r.n(u),p=r(193),h=r.n(p),f=r(1);function d(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var m={onSetup:function(e){var t=(e=e||{}).featureId,r=void 0,n=void 0,i="forward";if(this.clearSelectedFeatures(),t){if(!(r=this.getFeature(t)))throw new Error("Could not find a feature with the provided featureId");this.setSelected(t);var a=e.fromIndex,s=r.coordinates.length-1;if(a===s){var l;n=s+1,(l=r).addCoordinate.apply(l,[n].concat(d(r.coordinates[s])))}else{if(0!==a)throw new Error("`from` should match the point at either the start or the end of the provided LineString");var u;i="backward",n=0,(u=r).addCoordinate.apply(u,[n].concat(d(r.coordinates[0])))}}else r=this.newFeature({type:o.a.geojsonTypes.FEATURE,properties:{},geometry:{type:o.a.geojsonTypes.LINE_STRING,coordinates:[]}}),n=0,this.addFeature(r);return c.a.disable(this),this.updateUIClasses({mouse:o.a.cursors.ADD}),this.activateUIButton(o.a.types.LINE),this.setActionableState({trash:!0}),{line:r,currentVertexPosition:n,direction:i}},clickAnywhere:function(e,t){if(e.currentVertexPosition>0&&h()(t,e.line.coordinates[e.currentVertexPosition-1])||"backward"===e.direction&&h()(t,e.line.coordinates[e.currentVertexPosition+1]))return this.changeMode(o.a.modes.SIMPLE_SELECT,{featureIds:[e.line.id]});this.updateUIClasses({mouse:o.a.cursors.ADD}),e.line.updateCoordinate(e.currentVertexPosition,t.lngLat.lng,t.lngLat.lat),"forward"===e.direction?(e.currentVertexPosition++,e.line.updateCoordinate(e.currentVertexPosition,t.lngLat.lng,t.lngLat.lat)):e.line.addCoordinate(0,t.lngLat.lng,t.lngLat.lat)},clickOnVertex:function(e,t){var r=t.featureTarget.properties,n=Number(r.coord_path),i=e.line.coordinates[n];return e.line.updateCoordinate(e.currentVertexPosition,i[0],i[1]),"forward"===e.direction?e.currentVertexPosition++:e.line.addCoordinate(1,i[0],i[1]),this.changeMode(o.a.modes.SIMPLE_SELECT,{featureIds:[e.line.id]})},onMouseMove:function(e,t){e.line.updateCoordinate(e.currentVertexPosition,t.lngLat.lng,t.lngLat.lat),a.a.isVertex(t)&&this.updateUIClasses({mouse:o.a.cursors.POINTER})}};m.onTap=m.onClick=function(e,t){if(a.a.isVertex(t))return this.clickOnVertex(e,t);this.clickAnywhere(e,t)},m.onStop=function(e){c.a.enable(this),this.activateUIButton(),void 0!==this.getFeature(e.line.id)&&(e.line.removeCoordinate(""+e.currentVertexPosition),e.line.isValid()?this.map.fire(o.a.events.CREATE,{features:[e.line.toGeoJSON()]}):(this.deleteFeature([e.line.id],{silent:!0}),this.changeMode(o.a.modes.SIMPLE_SELECT,{},{silent:!0})))},m.onTrash=function(e){e.line.coordinates.length-1<=(f.a.activeFeature&&f.a.activeFeature.editing?2:1)||("forward"===e.direction&&(e.line.removeCoordinate(""+e.currentVertexPosition),e.currentVertexPosition-=1),"backward"===e.direction&&e.line.removeCoordinate(""+e.currentVertexPosition))},m.toDisplayFeatures=function(e,t,r){var n=t.properties.id===e.line.id;if(t.properties.active=n?o.a.activeStates.ACTIVE:o.a.activeStates.INACTIVE,!n)return r(t);if(!(t.geometry.coordinates.length<2)){t.properties.meta=o.a.meta.FEATURE;var i="forward"===e.direction?t.geometry.coordinates.length-2:1,a="forward"===e.direction?0:t.geometry.coordinates.length-1;r(l()(e.line.id,t.geometry.coordinates[i],""+i,!1)),r(l()(e.line.id,t.geometry.coordinates[a],""+a,!1)),r(t)}}},function(e,t){var r="#3bb2d0";e.exports=[{id:"gl-draw-polygon-fill-inactive",type:"fill",filter:["all",["==","active","false"],["==","$type","Polygon"],["!=","mode","static"]],paint:{"fill-color":r,"fill-outline-color":r,"fill-opacity":.2}},{id:"gl-draw-polygon-fill-active",type:"fill",filter:["all",["==","active","true"],["==","$type","Polygon"]],paint:{"fill-color":"#3f79d1","fill-outline-color":"#3f79d1","fill-opacity":.2}},{id:"gl-draw-polygon-midpoint",type:"circle",filter:["all",["==","$type","Point"],["==","meta","midpoint"]],paint:{"circle-radius":5,"circle-color":"#3f79d1"}},{id:"gl-draw-polygon-stroke-inactive",type:"line",filter:["all",["==","active","false"],["==","$type","Polygon"],["!=","mode","static"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":r,"line-width":4}},{id:"gl-draw-polygon-stroke-active",type:"line",filter:["all",["==","active","true"],["==","$type","Polygon"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#3f79d1","line-dasharray":[.2,2],"line-width":4}},{id:"gl-draw-line-inactive",type:"line",filter:["all",["==","active","false"],["==","$type","LineString"],["!=","mode","static"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":r,"line-width":4}},{id:"gl-draw-line-active",type:"line",filter:["all",["==","$type","LineString"],["==","active","true"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#3f79d1","line-dasharray":[.2,2],"line-width":4}},{id:"gl-draw-polygon-and-line-vertex-stroke-inactive",type:"circle",filter:["all",["==","meta","vertex"],["==","$type","Point"],["!=","mode","static"]],paint:{"circle-radius":7,"circle-color":"#000"}},{id:"gl-draw-polygon-and-line-vertex-inactive",type:"circle",filter:["all",["==","meta","vertex"],["==","$type","Point"],["!=","mode","static"]],paint:{"circle-radius":6,"circle-color":"#fff"}},{id:"gl-draw-point-point-stroke-inactive",type:"circle",filter:["all",["==","active","false"],["==","$type","Point"],["==","meta","feature"],["!=","mode","static"]],paint:{"circle-radius":5,"circle-opacity":1,"circle-color":"#fff"}},{id:"gl-draw-point-inactive",type:"circle",filter:["all",["==","active","false"],["==","$type","Point"],["==","meta","feature"],["!=","mode","static"]],paint:{"circle-radius":3,"circle-color":r}},{id:"gl-draw-point-stroke-active-glow",type:"circle",filter:["all",["==","$type","Point"],["==","active","true"],["!=","meta","midpoint"]],paint:{"circle-radius":15,"circle-color":"#3cc954","circle-blur":1}},{id:"gl-draw-point-stroke-active",type:"circle",filter:["all",["==","$type","Point"],["==","active","true"],["!=","meta","midpoint"]],paint:{"circle-radius":7,"circle-color":"#000"}},{id:"gl-draw-point-active",type:"circle",filter:["all",["==","$type","Point"],["!=","meta","midpoint"],["==","active","true"]],paint:{"circle-radius":6,"circle-color":"#fff"}},{id:"gl-draw-polygon-fill-static",type:"fill",filter:["all",["==","mode","static"],["==","$type","Polygon"]],paint:{"fill-color":"#404040","fill-outline-color":"#404040","fill-opacity":.2}},{id:"gl-draw-polygon-stroke-static",type:"line",filter:["all",["==","mode","static"],["==","$type","Polygon"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#404040","line-width":4}},{id:"gl-draw-line-static",type:"line",filter:["all",["==","mode","static"],["==","$type","LineString"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#404040","line-width":4}},{id:"gl-draw-point-static",type:"circle",filter:["all",["==","mode","static"],["==","$type","Point"]],paint:{"circle-radius":5,"circle-color":"#404040"}}]},function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n={onSetup:function(){return this.setActionableState(),{}},toDisplayFeatures:function(e,t,r){r(t)}}},function(e,t,r){"use strict";t.b=function(){if(!n.a.activeFeature)return;if(!["point","label"].includes(n.a.activeFeature.type))return;n.a.pointDragging=!0,l.features=[Object(i.c)(n.a.activeFeature.geojsonMapBox)],f();var e="point"===n.a.activeFeature.type?"point-drag-outside":"label-drag";n.a.map.on("mousedown",e,u),n.a.map.on("touchstart",e,c),n.a.map.on("mouseenter",e,d),n.a.map.on("mouseleave",e,m),n.a.setEditorTool(n.a.activeFeature.type)},t.a=function(){if(!n.a.activeFeature||!n.a.pointDragging)return;if(!["point","label"].includes(n.a.activeFeature.type))return;Object(o.a)("disablePointDragging.1"),n.a.pointDragging=!1,n.a.activeFeature.setGeometry(l.features[0].geometry),Object(o.a)("disablePointDragging.2"),l.features=[],f(),Object(o.a)("disablePointDragging.3");var e="point"===n.a.activeFeature.type?"point-drag-outside":"label-drag";Object(o.a)("disablePointDragging.4"),n.a.map.off("mousedown",e,u),n.a.map.off("touchstart",e,c),n.a.map.off("mouseenter",e,d),n.a.map.off("mouseleave",e,m),n.a.map.off("mousemove",p),n.a.map.off("touchmove",p),Object(o.a)("disablePointDragging.5"),n.a.setEditorTool("select"),Object(o.a)("disablePointDragging.6")};var n=r(1),o=r(5),i=r(20),a=void 0,s=!1,l={type:"FeatureCollection",features:[]};function u(e){if(n.a.activeFeature){e.preventDefault(),s=!0;var t=[e.lngLat.lng,e.lngLat.lat],r=l.features[0].geometry.coordinates;a=[r[0]-t[0],r[1]-t[1]],n.a.map.on("mousemove",p),n.a.map.once("mouseup",h)}}function c(e){if(n.a.activeFeature&&1===e.points.length){e.preventDefault(),s=!0;var t=[e.lngLat.lng,e.lngLat.lat],r=l.features[0].geometry.coordinates;a=[r[0]-t[0],r[1]-t[1]],n.a.map.on("touchmove",p),n.a.map.once("touchend",h)}}function p(e){if(n.a.activeFeature)if(l.features[0])if(e.points&&1!==e.points.length||e.originalEvent.scale&&1!==e.originalEvent.scale)e.originalEvent.preventDefault();else{e.preventDefault(),s=!0;var t=[e.lngLat.lng,e.lngLat.lat];l.features[0].geometry.coordinates=[t[0]+a[0],t[1]+a[1]],f()}else Object(o.b)("pointDragging onMove error")}function h(e){n.a.activeFeature&&(e.preventDefault(),s=!1,n.a.map.off("mousemove",p),n.a.map.off("touchmove",p))}function f(){if(n.a.activeFeature&&["point","label"].includes(n.a.activeFeature.type)){var e="point"===n.a.activeFeature.type?"point-drag":"label-drag";n.a.map.getSource(e).setData(l)}}function d(e){n.a.activeFeature&&(n.a.map.getCanvas().style.cursor="move")}function m(e){n.a.activeFeature&&(s||(n.a.map.getCanvas().style.cursor=""))}},function(e,t,r){"use strict";t.a=function(e){if(!e)return null;if("Point"===e.type)return e.coordinates;if("Polygon"===e.type)return o()(e.coordinates);if("LineString"===e.type){var t=l()(e);return a()(e,t/2).geometry.coordinates}Object(u.b)("getCenter: unknown geometry type, "+e.type)};var n=r(701),o=r.n(n),i=r(703),a=r.n(i),s=r(304),l=r.n(s),u=r(5)},function(e,t,r){"use strict";var n=r(702);function o(e,t,r){var o,s,l,u;t=t||1;for(var c=0;c<e[0].length;c++){var p=e[0][c];(!c||p[0]<o)&&(o=p[0]),(!c||p[1]<s)&&(s=p[1]),(!c||p[0]>l)&&(l=p[0]),(!c||p[1]>u)&&(u=p[1])}var h=l-o,f=u-s,d=Math.min(h,f),m=d/2,y=new n(null,i);if(0===d)return[o,s];for(var v=o;v<l;v+=d)for(var g=s;g<u;g+=d)y.push(new a(v+m,g+m,m,e));var _=function(e){for(var t=0,r=0,n=0,o=e[0],i=0,s=o.length,l=s-1;i<s;l=i++){var u=o[i],c=o[l],p=u[0]*c[1]-c[0]*u[1];r+=(u[0]+c[0])*p,n+=(u[1]+c[1])*p,t+=3*p}return 0===t?new a(o[0][0],o[0][1],0,e):new a(r/t,n/t,0,e)}(e),b=new a(o+h/2,s+f/2,0,e);b.d>_.d&&(_=b);for(var x=y.length;y.length;){var w=y.pop();w.d>_.d&&(_=w,r&&console.log("found best %d after %d probes",Math.round(1e4*w.d)/1e4,x)),w.max-_.d<=t||(m=w.h/2,y.push(new a(w.x-m,w.y-m,m,e)),y.push(new a(w.x+m,w.y-m,m,e)),y.push(new a(w.x-m,w.y+m,m,e)),y.push(new a(w.x+m,w.y+m,m,e)),x+=4)}return r&&(console.log("num probes: "+x),console.log("best distance: "+_.d)),[_.x,_.y]}function i(e,t){return t.max-e.max}function a(e,t,r,n){this.x=e,this.y=t,this.h=r,this.d=function(e,t,r){for(var n=!1,o=1/0,i=0;i<r.length;i++)for(var a=r[i],l=0,u=a.length,c=u-1;l<u;c=l++){var p=a[l],h=a[c];p[1]>t!==h[1]>t&&e<(h[0]-p[0])*(t-p[1])/(h[1]-p[1])+p[0]&&(n=!n),o=Math.min(o,s(e,t,p,h))}return(n?1:-1)*Math.sqrt(o)}(e,t,n),this.max=this.d+this.h*Math.SQRT2}function s(e,t,r,n){var o=r[0],i=r[1],a=n[0]-o,s=n[1]-i;if(0!==a||0!==s){var l=((e-o)*a+(t-i)*s)/(a*a+s*s);l>1?(o=n[0],i=n[1]):l>0&&(o+=a*l,i+=s*l)}return(a=e-o)*a+(s=t-i)*s}e.exports=o,e.exports.default=o},function(e,t,r){"use strict";function n(e,t){if(!(this instanceof n))return new n(e,t);if(this.data=e||[],this.length=this.data.length,this.compare=t||o,this.length>0)for(var r=(this.length>>1)-1;r>=0;r--)this._down(r)}function o(e,t){return e<t?-1:e>t?1:0}e.exports=n,e.exports.default=n,n.prototype={push:function(e){this.data.push(e),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var e=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),e}},peek:function(){return this.data[0]},_up:function(e){for(var t=this.data,r=this.compare,n=t[e];e>0;){var o=e-1>>1,i=t[o];if(r(n,i)>=0)break;t[e]=i,e=o}t[e]=n},_down:function(e){for(var t=this.data,r=this.compare,n=this.length>>1,o=t[e];e<n;){var i=1+(e<<1),a=i+1,s=t[i];if(a<this.length&&r(t[a],s)<0&&(i=a,s=t[a]),r(s,o)>=0)break;t[e]=s,e=i}t[e]=o}}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(704)),i=n(r(705)),a=n(r(303)),s=r(74),l=r(130);t.default=function(e,t,r){void 0===r&&(r={});for(var n=l.getGeom(e).coordinates,u=0,c=0;c<n.length&&!(t>=u&&c===n.length-1);c++){if(u>=t){var p=t-u;if(p){var h=o.default(n[c],n[c-1])-180;return i.default(n[c],p,h,r)}return s.point(n[c])}u+=a.default(n[c],n[c+1],r)}return s.point(n[n.length-1])}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(74),o=r(130);function i(e,t,r){if(void 0===r&&(r={}),!0===r.final)return function(e,t){var r=i(t,e);return r=(r+180)%360}(e,t);var a=o.getCoord(e),s=o.getCoord(t),l=n.degreesToRadians(a[0]),u=n.degreesToRadians(s[0]),c=n.degreesToRadians(a[1]),p=n.degreesToRadians(s[1]),h=Math.sin(u-l)*Math.cos(p),f=Math.cos(c)*Math.sin(p)-Math.sin(c)*Math.cos(p)*Math.cos(u-l);return n.radiansToDegrees(Math.atan2(h,f))}t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(74),o=r(130);t.default=function(e,t,r,i){void 0===i&&(i={});var a=o.getCoord(e),s=n.degreesToRadians(a[0]),l=n.degreesToRadians(a[1]),u=n.degreesToRadians(r),c=n.lengthToRadians(t,i.units),p=Math.asin(Math.sin(l)*Math.cos(c)+Math.cos(l)*Math.sin(c)*Math.cos(u)),h=s+Math.atan2(Math.sin(u)*Math.sin(c)*Math.cos(l),Math.cos(c)-Math.sin(l)*Math.sin(p)),f=n.radiansToDegrees(h),d=n.radiansToDegrees(p);return n.point([f,d],i.properties)}},function(e,t,r){"use strict";e.exports=r(707)},function(e,t,r){"use strict";var n=r(248),o=r(708),i=r(275);n.inject();var a={renderToString:o.renderToString,renderToStaticMarkup:o.renderToStaticMarkup,version:i};e.exports=a},function(e,t,r){"use strict";var n=r(7),o=r(60),i=r(273),a=r(268),s=(r(35),r(274)),l=r(62),u=r(709),c=r(267),p=r(38),h=r(91),f=r(167),d=(r(2),0);function m(e,t){var r;try{return p.injection.injectBatchingStrategy(u),r=c.getPooled(t),d++,r.perform(function(){var n=f(e,!0),o=l.mountComponent(n,r,null,i(),h,0);return t||(o=s.addChecksumToMarkup(o)),o},null)}finally{d--,c.release(r),d||p.injection.injectBatchingStrategy(a)}}e.exports={renderToString:function(e){return o.isValidElement(e)||n("46"),m(e,!1)},renderToStaticMarkup:function(e){return o.isValidElement(e)||n("47"),m(e,!0)}}},function(e,t,r){"use strict";e.exports={isBatchingUpdates:!1,batchedUpdates:function(e){}}},function(e,t,r){"use strict";r.d(t,"a",function(){return g});var n=r(76),o=r(98),i=r(77),a=r(711),s=r(712),l=r(78),u=r(79),c=r(713),p=r(714),h=r(715),f=r(716),d=r(717),m=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var y=function(){return{handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1}},v={"click-rail":c.a,"drag-thumb":p.a,keyboard:h.a,wheel:f.a,touch:d.a},g=function(){function e(t){var r=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),"string"===typeof t&&(t=document.querySelector(t)),!t||!t.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");for(var c in this.element=t,t.classList.add(i.b.main),this.settings=y(),s)this.settings[c]=s[c];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var p,h,f=function(){return t.classList.add(i.b.state.focus)},d=function(){return t.classList.remove(i.b.state.focus)};this.isRtl="rtl"===n.a(t).direction,this.isNegativeScroll=(h=t.scrollLeft,t.scrollLeft=-1,p=t.scrollLeft<0,t.scrollLeft=h,p),this.negativeScrollAdjustment=this.isNegativeScroll?t.scrollWidth-t.clientWidth:0,this.event=new a.a,this.ownerDocument=t.ownerDocument||document,this.scrollbarXRail=o.a(i.b.element.rail("x")),t.appendChild(this.scrollbarXRail),this.scrollbarX=o.a(i.b.element.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",f),this.event.bind(this.scrollbarX,"blur",d),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var m=n.a(this.scrollbarXRail);this.scrollbarXBottom=parseInt(m.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=Object(u.d)(m.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=Object(u.d)(m.borderLeftWidth)+Object(u.d)(m.borderRightWidth),n.b(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=Object(u.d)(m.marginLeft)+Object(u.d)(m.marginRight),n.b(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=o.a(i.b.element.rail("y")),t.appendChild(this.scrollbarYRail),this.scrollbarY=o.a(i.b.element.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",f),this.event.bind(this.scrollbarY,"blur",d),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var g=n.a(this.scrollbarYRail);this.scrollbarYRight=0,isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=Object(u.d)(g.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?Object(u.c)(this.scrollbarY):null,this.railBorderYWidth=Object(u.d)(g.borderTopWidth)+Object(u.d)(g.borderBottomWidth),n.b(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=Object(u.d)(g.marginTop)+Object(u.d)(g.marginBottom),n.b(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:t.scrollLeft<=0?"start":t.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:t.scrollTop<=0?"start":t.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach(function(e){return v[e](r)}),this.lastScrollTop=Math.floor(t.scrollTop),this.lastScrollLeft=t.scrollLeft,this.event.bind(this.element,"scroll",function(e){return r.onScroll(e)}),Object(l.a)(this)}return m(e,[{key:"update",value:function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,n.b(this.scrollbarXRail,{display:"block"}),n.b(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=Object(u.d)(n.a(this.scrollbarXRail).marginLeft)+Object(u.d)(n.a(this.scrollbarXRail).marginRight),this.railYMarginHeight=Object(u.d)(n.a(this.scrollbarYRail).marginTop)+Object(u.d)(n.a(this.scrollbarYRail).marginBottom),n.b(this.scrollbarXRail,{display:"none"}),n.b(this.scrollbarYRail,{display:"none"}),Object(l.a)(this),Object(s.a)(this,"top",0,!1,!0),Object(s.a)(this,"left",0,!1,!0),n.b(this.scrollbarXRail,{display:""}),n.b(this.scrollbarYRail,{display:""}))}},{key:"onScroll",value:function(e){this.isAlive&&(Object(l.a)(this),Object(s.a)(this,"top",this.element.scrollTop-this.lastScrollTop),Object(s.a)(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)}},{key:"destroy",value:function(){this.isAlive&&(this.event.unbindAll(),o.d(this.scrollbarX),o.d(this.scrollbarY),o.d(this.scrollbarXRail),o.d(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)}},{key:"removePsClasses",value:function(){this.element.className=this.element.className.split(" ").filter(function(e){return!e.match(/^ps([-_].+|)$/)}).join(" ")}}]),e}()},function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(t){o(this,e),this.element=t,this.handlers={}}return n(e,[{key:"bind",value:function(e,t){"undefined"===typeof this.handlers[e]&&(this.handlers[e]=[]),this.handlers[e].push(t),this.element.addEventListener(e,t,!1)}},{key:"unbind",value:function(e,t){var r=this;this.handlers[e]=this.handlers[e].filter(function(n){return!(!t||n===t)||(r.element.removeEventListener(e,n,!1),!1)})}},{key:"unbindAll",value:function(){for(var e in this.handlers)this.unbind(e)}},{key:"isEmpty",get:function(){var e=this;return Object.keys(this.handlers).every(function(t){return 0===e.handlers[t].length})}}]),e}(),a=function(){function e(){o(this,e),this.eventElements=[]}return n(e,[{key:"eventElement",value:function(e){var t=this.eventElements.filter(function(t){return t.element===e})[0];return t||(t=new i(e),this.eventElements.push(t)),t}},{key:"bind",value:function(e,t,r){this.eventElement(e).bind(t,r)}},{key:"unbind",value:function(e,t,r){var n=this.eventElement(e);n.unbind(t,r),n.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(n),1)}},{key:"unbindAll",value:function(){this.eventElements.forEach(function(e){return e.unbindAll()}),this.eventElements=[]}},{key:"once",value:function(e,t,r){var n=this.eventElement(e);n.bind(t,function e(o){n.unbind(t,e),r(o)})}}]),e}()},function(e,t,r){"use strict";var n=r(77),o=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function i(e){if("function"===typeof window.CustomEvent)return new CustomEvent(e);var t=document.createEvent("CustomEvent");return t.initCustomEvent(e,!1,!1,void 0),t}t.a=function(e,t,r){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=void 0;if("top"===t)l=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==t)throw new Error("A proper axis should be provided");l=["contentWidth","containerWidth","scrollLeft","x","left","right"]}!function(e,t,r){var a=o(r,6),s=a[0],l=a[1],u=a[2],c=a[3],p=a[4],h=a[5],f=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],d=arguments.length>4&&void 0!==arguments[4]&&arguments[4],m=e.element;e.reach[c]=null,m[u]<1&&(e.reach[c]="start");m[u]>e[s]-e[l]-1&&(e.reach[c]="end");t&&(m.dispatchEvent(i("ps-scroll-"+c)),t<0?m.dispatchEvent(i("ps-scroll-"+p)):t>0&&m.dispatchEvent(i("ps-scroll-"+h)),f&&Object(n.d)(e,c));e.reach[c]&&(t||d)&&m.dispatchEvent(i("ps-"+c+"-reach-"+e.reach[c]))}(e,r,l,a,s)}},function(e,t,r){"use strict";var n=r(78);t.a=function(e){e.element;e.event.bind(e.scrollbarY,"mousedown",function(e){return e.stopPropagation()}),e.event.bind(e.scrollbarYRail,"mousedown",function(t){var r=t.pageY-window.pageYOffset-e.scrollbarYRail.getBoundingClientRect().top>e.scrollbarYTop?1:-1;e.element.scrollTop+=r*e.containerHeight,Object(n.a)(e),t.stopPropagation()}),e.event.bind(e.scrollbarX,"mousedown",function(e){return e.stopPropagation()}),e.event.bind(e.scrollbarXRail,"mousedown",function(t){var r=t.pageX-window.pageXOffset-e.scrollbarXRail.getBoundingClientRect().left>e.scrollbarXLeft?1:-1;e.element.scrollLeft+=r*e.containerWidth,Object(n.a)(e),t.stopPropagation()})}},function(e,t,r){"use strict";r(76),r(98);var n=r(77),o=r(78),i=(r(79),function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}());function a(e,t){var r=i(t,9),a=r[0],s=r[1],l=r[2],u=r[3],c=r[4],p=r[5],h=r[6],f=r[7],d=r[8],m=e.element,y=null,v=null,g=null;function _(t){m[h]=y+g*(t[l]-v),Object(n.a)(e,f),Object(o.a)(e),t.stopPropagation(),t.preventDefault()}function b(){Object(n.c)(e,f),e[d].classList.remove(n.b.state.clicking),e.event.unbind(e.ownerDocument,"mousemove",_)}e.event.bind(e[c],"mousedown",function(t){y=m[h],v=t[l],g=(e[s]-e[a])/(e[u]-e[p]),e.event.bind(e.ownerDocument,"mousemove",_),e.event.once(e.ownerDocument,"mouseup",b),e[d].classList.add(n.b.state.clicking),t.stopPropagation(),t.preventDefault()})}t.a=function(e){a(e,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),a(e,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])}},function(e,t,r){"use strict";var n=r(98),o=r(78),i=r(79);t.a=function(e){var t=e.element;e.event.bind(e.ownerDocument,"keydown",function(r){if(!(r.isDefaultPrevented&&r.isDefaultPrevented()||r.defaultPrevented)&&(n.b(t,":hover")||n.b(e.scrollbarX,":focus")||n.b(e.scrollbarY,":focus"))){var a=document.activeElement?document.activeElement:e.ownerDocument.activeElement;if(a){if("IFRAME"===a.tagName)a=a.contentDocument.activeElement;else for(;a.shadowRoot;)a=a.shadowRoot.activeElement;if(Object(i.b)(a))return}var s=0,l=0;switch(r.which){case 37:s=r.metaKey?-e.contentWidth:r.altKey?-e.containerWidth:-30;break;case 38:l=r.metaKey?e.contentHeight:r.altKey?e.containerHeight:30;break;case 39:s=r.metaKey?e.contentWidth:r.altKey?e.containerWidth:30;break;case 40:l=r.metaKey?-e.contentHeight:r.altKey?-e.containerHeight:-30;break;case 32:l=r.shiftKey?e.containerHeight:-e.containerHeight;break;case 33:l=e.containerHeight;break;case 34:l=-e.containerHeight;break;case 36:l=e.contentHeight;break;case 35:l=-e.contentHeight;break;default:return}e.settings.suppressScrollX&&0!==s||e.settings.suppressScrollY&&0!==l||(t.scrollTop-=l,t.scrollLeft+=s,Object(o.a)(e),function(r,n){var o=Math.floor(t.scrollTop);if(0===r){if(!e.scrollbarYActive)return!1;if(0===o&&n>0||o>=e.contentHeight-e.containerHeight&&n<0)return!e.settings.wheelPropagation}var i=t.scrollLeft;if(0===n){if(!e.scrollbarXActive)return!1;if(0===i&&r<0||i>=e.contentWidth-e.containerWidth&&r>0)return!e.settings.wheelPropagation}return!0}(s,l)&&r.preventDefault())}})}},function(e,t,r){"use strict";var n=r(76),o=r(77),i=r(78),a=r(79),s=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.a=function(e){var t=e.element;function r(r){var l=function(e){var t=e.deltaX,r=-1*e.deltaY;return"undefined"!==typeof t&&"undefined"!==typeof r||(t=-1*e.wheelDeltaX/6,r=e.wheelDeltaY/6),e.deltaMode&&1===e.deltaMode&&(t*=10,r*=10),t!==t&&r!==r&&(t=0,r=e.wheelDelta),e.shiftKey?[-r,-t]:[t,r]}(r),u=s(l,2),c=u[0],p=u[1];if(!function(e,r,i){if(!a.a.isWebKit&&t.querySelector("select:focus"))return!0;if(!t.contains(e))return!1;for(var s=e;s&&s!==t;){if(s.classList.contains(o.b.element.consuming))return!0;var l=n.a(s);if([l.overflow,l.overflowX,l.overflowY].join("").match(/(scroll|auto)/)){var u=s.scrollHeight-s.clientHeight;if(u>0&&!(0===s.scrollTop&&i>0)&&!(s.scrollTop===u&&i<0))return!0;var c=s.scrollWidth-s.clientWidth;if(c>0&&!(0===s.scrollLeft&&r<0)&&!(s.scrollLeft===c&&r>0))return!0}s=s.parentNode}return!1}(r.target,c,p)){var h=!1;e.settings.useBothWheelAxes?e.scrollbarYActive&&!e.scrollbarXActive?(p?t.scrollTop-=p*e.settings.wheelSpeed:t.scrollTop+=c*e.settings.wheelSpeed,h=!0):e.scrollbarXActive&&!e.scrollbarYActive&&(c?t.scrollLeft+=c*e.settings.wheelSpeed:t.scrollLeft-=p*e.settings.wheelSpeed,h=!0):(t.scrollTop-=p*e.settings.wheelSpeed,t.scrollLeft+=c*e.settings.wheelSpeed),Object(i.a)(e),(h=h||function(r,n){var o=Math.floor(t.scrollTop),i=0===t.scrollTop,a=o+t.offsetHeight===t.scrollHeight,s=0===t.scrollLeft,l=t.scrollLeft+t.offsetWidth===t.scrollWidth;return!(Math.abs(n)>Math.abs(r)?i||a:s||l)||!e.settings.wheelPropagation}(c,p))&&!r.ctrlKey&&(r.stopPropagation(),r.preventDefault())}}"undefined"!==typeof window.onwheel?e.event.bind(t,"wheel",r):"undefined"!==typeof window.onmousewheel&&e.event.bind(t,"mousewheel",r)}},function(e,t,r){"use strict";var n=r(78),o=r(77),i=r(76),a=r(79);t.a=function(e){if(a.a.supportsTouch||a.a.supportsIePointer){var t=e.element,r={},s=0,l={},u=null;a.a.supportsTouch?(e.event.bind(t,"touchstart",f),e.event.bind(t,"touchmove",d),e.event.bind(t,"touchend",m)):a.a.supportsIePointer&&(window.PointerEvent?(e.event.bind(t,"pointerdown",f),e.event.bind(t,"pointermove",d),e.event.bind(t,"pointerup",m)):window.MSPointerEvent&&(e.event.bind(t,"MSPointerDown",f),e.event.bind(t,"MSPointerMove",d),e.event.bind(t,"MSPointerUp",m)))}function c(r,o){t.scrollTop-=o,t.scrollLeft-=r,Object(n.a)(e)}function p(e){return e.targetTouches?e.targetTouches[0]:e}function h(e){return(!e.pointerType||"pen"!==e.pointerType||0!==e.buttons)&&(!(!e.targetTouches||1!==e.targetTouches.length)||!(!e.pointerType||"mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE))}function f(e){if(h(e)){var t=p(e);r.pageX=t.pageX,r.pageY=t.pageY,s=(new Date).getTime(),null!==u&&clearInterval(u)}}function d(n){if(h(n)){var u=p(n),f={pageX:u.pageX,pageY:u.pageY},d=f.pageX-r.pageX,m=f.pageY-r.pageY;if(function(e,r,n){if(!t.contains(e))return!1;for(var a=e;a&&a!==t;){if(a.classList.contains(o.b.element.consuming))return!0;var s=i.a(a);if([s.overflow,s.overflowX,s.overflowY].join("").match(/(scroll|auto)/)){var l=a.scrollHeight-a.clientHeight;if(l>0&&!(0===a.scrollTop&&n>0)&&!(a.scrollTop===l&&n<0))return!0;var u=a.scrollLeft-a.clientWidth;if(u>0&&!(0===a.scrollLeft&&r<0)&&!(a.scrollLeft===u&&r>0))return!0}a=a.parentNode}return!1}(n.target,d,m))return;c(d,m),r=f;var y=(new Date).getTime(),v=y-s;v>0&&(l.x=d/v,l.y=m/v,s=y),function(r,n){var o=Math.floor(t.scrollTop),i=t.scrollLeft,s=Math.abs(r),l=Math.abs(n);if(l>s){if(n<0&&o===e.contentHeight-e.containerHeight||n>0&&0===o)return 0===window.scrollY&&n>0&&a.a.isChrome}else if(s>l&&(r<0&&i===e.contentWidth-e.containerWidth||r>0&&0===i))return!0;return!0}(d,m)&&n.preventDefault()}}function m(){e.settings.swipeEasing&&(clearInterval(u),u=setInterval(function(){e.isInitialized?clearInterval(u):l.x||l.y?Math.abs(l.x)<.01&&Math.abs(l.y)<.01?clearInterval(u):(c(30*l.x,30*l.y),l.x*=.8,l.y*=.8):clearInterval(u)},10))}}},function(e,t,r){"use strict";r.d(t,"a",function(){return m});var n,o,i,a,s=r(22),l=r(18),u=r(48),c=r(1),p=r(20),h=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function f(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function d(e,t,r,n,o){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var m=(n=function(){function e(t){var r=t.title,n=t.id,s=t.visible;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),f(this,"title",o,this),f(this,"expanded",i,this),f(this,"visible",a,this),this.setTitle(r,!0),!1===s&&(this.visible=!1),this.id=Number.isInteger(n)?n:Object(p.e)(1,4294967296)}return h(e,[{key:"setExpanded",value:function(e){this.expanded=e}},{key:"setTitle",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e=e||"",this.title=e,t||c.a.saveOn()}},{key:"setVisible",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.visible=!!e,t||c.a.saveOn()}},{key:"geojsonExport",value:function(){var e={title:this.title,id:this.id};return this.visible||(e.visible=!1),e}},{key:"featureArray",get:function(){var e=this;return c.a.ready?l.a.featureArray.filter(function(t){return t.group_id===e.id}):[]}},{key:"treeNodeArray",get:function(){if(u.a.hasFilter){var e=this.featureArray.filter(function(e){return u.a.featureMap.has(e.id)});if(!e.length)return[];var t=[{group:this,id:this.id}];return t=t.concat(e.map(function(e){return e.treeNode}))}var r=[{group:this,id:this.id}];return this.expanded&&(r=r.concat(this.featureArray.map(function(e){return e.treeNode}))),r}}]),e}(),o=d(n.prototype,"title",[s.m],{enumerable:!0,initializer:null}),i=d(n.prototype,"expanded",[s.m],{enumerable:!0,initializer:function(){return!1}}),a=d(n.prototype,"visible",[s.m],{enumerable:!0,initializer:function(){return!0}}),d(n.prototype,"featureArray",[s.f],Object.getOwnPropertyDescriptor(n.prototype,"featureArray"),n.prototype),d(n.prototype,"setExpanded",[s.d],Object.getOwnPropertyDescriptor(n.prototype,"setExpanded"),n.prototype),d(n.prototype,"setTitle",[s.d],Object.getOwnPropertyDescriptor(n.prototype,"setTitle"),n.prototype),d(n.prototype,"setVisible",[s.d],Object.getOwnPropertyDescriptor(n.prototype,"setVisible"),n.prototype),d(n.prototype,"treeNodeArray",[s.f],Object.getOwnPropertyDescriptor(n.prototype,"treeNodeArray"),n.prototype),n)},function(e,t,r){"use strict";r.d(t,"a",function(){return c});var n,o,i=r(22),a=r(720),s=r(132),l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function u(e,t,r,n,o){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var c=(n=function(){function e(t){var r,n,i,l,u=this,c=t.id;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,n="loaded",l=this,(i=o)&&Object.defineProperty(r,n,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(l):void 0}),!c)throw new Error("Marker id missing");if(!window.data_json.urls.custom_markers)throw new Error("URL missing: custom_markers");this.id=c,this.url=""+window.data_json.urls.custom_markers+Object(s.c)(c)+"/80.png",Object(a.a)(this.id,this.url,function(){u.setLoaded(!0)})}return l(e,[{key:"geojsonExport",value:function(){return{id:this.id}}},{key:"setLoaded",value:function(e){this.loaded=e}}]),e}(),o=u(n.prototype,"loaded",[i.m],{enumerable:!0,initializer:function(){return!1}}),u(n.prototype,"setLoaded",[i.d],Object.getOwnPropertyDescriptor(n.prototype,"setLoaded"),n.prototype),n)},function(e,t,r){"use strict";t.a=function(e,t,r){if(!t.startsWith("http"))throw new Error("loadImage absolute URL needed");if(n.a.map.hasImage(e))return;n.a.map.loadImage(t,function(t,i){if(t)return Object(o.a)(t),void Object(o.b)("Error getting marker");n.a.map.addImage(e,i),r&&r()})};var n=r(1),o=r(5)},function(e,t,r){var n=r(119);e.exports=function(){return n.Date.now()}},function(e,t,r){var n=r(120),o=r(723),i=NaN,a=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return i;if(n(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=n(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var r=l.test(e);return r||u.test(e)?c(e.slice(2),r?2:8):s.test(e)?i:+e}},function(e,t,r){var n=r(179),o=r(123),i="[object Symbol]";e.exports=function(e){return"symbol"==typeof e||o(e)&&n(e)==i}},function(e,t,r){"use strict";r.d(t,"a",function(){return m});var n,o,i=r(73),a=r.n(i),s=r(22),l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var u,c,p,h,f,d,m=(n=function(){function e(){var t,r,n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=this,r="id",i=this,(n=o)&&Object.defineProperty(t,r,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(i):void 0}),this.boundsNorthEast={lat:void 0,lng:void 0},this.boundsSouthWest={lat:void 0,lng:void 0},this.position={lat:void 0,lng:void 0}}return l(e,[{key:"getPosition",value:function(){return[this.position.lng,this.position.lat]}},{key:"getBounds",value:function(){var e=new a.a.LngLat(this.boundsSouthWest.lng,this.boundsSouthWest.lat),t=new a.a.LngLat(this.boundsNorthEast.lng,this.boundsNorthEast.lat);return new a.a.LngLatBounds(e,t)}}]),e}(),u=n.prototype,c="id",p=[s.m],h={enumerable:!0,initializer:null},d={},Object.keys(h).forEach(function(e){d[e]=h[e]}),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=p.slice().reverse().reduce(function(e,t){return t(u,c,e)||e},d),f&&void 0!==d.initializer&&(d.value=d.initializer?d.initializer.call(f):void 0,d.initializer=void 0),void 0===d.initializer&&(Object.defineProperty(u,c,d),d=null),o=d,n)},function(e,t,r){"use strict";r.d(t,"a",function(){return k});var n,o=r(8),i=r.n(o),a=r(73),s=r.n(a),l=r(3),u=r(0),c=r.n(u),p=r(726),h=r(75),f=r(728),d=r(729),m=r(731),y=r(279),v=r(176),g=r(1),_=r(15),b=r(194),x=r(63),w=r(5),E=r(733),S=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var C=void 0,k=Object(l.a)(n=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u["Component"]),S(t,[{key:"componentDidUpdate",value:function(){C&&g.a.map.resize()}},{key:"componentDidMount",value:function(){if(!(C=s.a.supported())){var e=void 0;Object(b.c)()?(e="Unsupported browser",Object(w.a)("getBrowserSupportData",Object(b.b)()),Object(w.b)("Browser not supported")):(e="Your browser doesn't support WebGL",Object(w.b)("WebGL not supported"));var t=Object(E.a)();return _.a.showCustom(c.a.createElement("div",null,c.a.createElement("p",{className:"overlay-title"},e),!!t.length&&c.a.createElement("p",{className:"text-center"},"Please try a different browser"),!!t.length&&c.a.createElement("p",{className:"text-center"},"We recommend ",t.join(" or ")),!t.length&&c.a.createElement("p",{className:"text-center"},"Please try updating your device")),null,"Close"),void Object(v.d)()}s.a.setRTLTextPlugin(window.location.origin+"/static/js/@mapbox/mapbox-gl-rtl-text/mapbox-gl-rtl-text.min.js",function(e){Object(w.a)(e)});var r=new s.a.Map({container:this.mapContainer,style:{version:8,glyphs:"/static/pbf/{fontstack}/{range}.pbf",sources:{},layers:[],transition:{duration:0,delay:0}},center:[0,0],zoom:17,boxZoom:!1,pitchWithRotate:!1,dragRotate:!1,attributionControl:!1,trackResize:!1});if(r.touchZoomRotate.disableRotation(),g.a.map=r,!g.a.captureMode){r.addControl(new s.a.NavigationControl({showCompass:!1}),"top-right"),r.addControl(new s.a.AttributionControl({compact:!1}),g.a.embedMode?"bottom-left":"bottom-right");var n=new s.a.ScaleControl({unit:"metric"}),o=new s.a.ScaleControl({unit:"imperial"});r.addControl(o,"bottom-left"),r.addControl(n,"bottom-left"),Object(x.a)(n._container,"ctrl-scale-top"),Object(x.a)(o._container,"ctrl-scale-bottom"),g.a.embedMode||r.addControl(new s.a.GeolocateControl({positionOptions:{enableHighAccuracy:!0,timeout:15e3},fitBoundsOptions:{maxZoom:16,linear:!0,animate:!1}}),"bottom-left")}Object(y.a)(),Object(m.a)(),Object(d.a)(),Object(h.d)(),Object(p.a)(),Object(f.a)()}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{id:"map",className:i()("size_"+g.a.panelSize,{embed:g.a.embedMode,embedpanel:g.a.embedPanel})},c.a.createElement("div",{ref:function(t){return e.mapContainer=t},className:"map-inner"}))}}]),t}())||n},function(e,t,r){"use strict";t.a=function(){if(l.a.embedMode)return;var e=new c;l.a.map.addControl(e,"bottom-right"),a.a.render(o.a.createElement(s.a,null),e._container)};var n=r(0),o=r.n(n),i=r(37),a=r.n(i),s=r(727),l=r(1),u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return u(e,[{key:"onAdd",value:function(){return this._container=document.createElement("div"),this._container.className="mapboxgl-ctrl map-bar",this._container.addEventListener("contextmenu",function(e){return e.preventDefault()}),this._container}},{key:"onRemove",value:function(){this._container.parentNode.removeChild(this._container)}}]),e}()},function(e,t,r){"use strict";r.d(t,"a",function(){return p});var n,o=r(3),i=r(0),a=r.n(i),s=r(1),l=r(40),u=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var p=Object(o.a)(n=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),c(t,[{key:"handleClick",value:function(){var e=u(s.a.activeFeature.geometry.coordinates,2),t=e[0],r=e[1];"desktop"===s.a.osFamily&&window.open(h(r,t)),"android"===s.a.osFamily&&window.open(h(r,t)),"ios"===s.a.osFamily&&window.open(h(r,t))}},{key:"render",value:function(){var e=s.a.activeFeature;return e&&"point"===e.type&&e.geometry?a.a.createElement("a",{className:"maphub-control-icon",title:"Directions",onClick:this.handleClick},a.a.createElement(l.a,{iconName:"directions"})):null}}]),t}())||n;function h(e,t){return"https://maps.google.com/maps?daddr="+e+","+t+"&saddr=My+Location"}},function(e,t,r){"use strict";t.a=function(){if(o.a.embedMode)return;document.addEventListener("keydown",function(e){i.a.keyboard||"TEXTAREA"!==e.target.tagName&&"INPUT"!==e.target.tagName&&(o.a.editMode?(8===e.keyCode&&e.preventDefault(),8!==e.keyCode&&46!==e.keyCode||(o.a.draw?Object(s.a)():(o.a.deleteActiveFeature(),o.a.deleteActiveGroup())),27!==e.keyCode&&13!==e.keyCode||o.a.tutorialMode&&o.a.tutorialActive&&0===o.a.tutorialStep||(o.a.activeFeature&&o.a.activeFeature.editing?o.a.activeFeature.disableEdit():Object(s.e)({newMode:"select"})),27===e.keyCode&&(a.a.reset({}),n.a.reset()),a.a.hasResults&&(40===e.keyCode&&a.a.moveSelectionDown(),38===e.keyCode&&a.a.moveSelectionUp())):27!==e.keyCode&&13!==e.keyCode||(n.a.reset(),o.a.deactivateAll()))})};var n=r(48),o=r(1),i=r(15),a=r(99),s=r(75)},function(e,t,r){"use strict";t.a=function(){if(!u.a.editMode)return;window.onbeforeunload=function(){if(u.a.changed&&l.f)return"You have unsaved changes!"};var e=new p;u.a.map.addControl(e,"top-right"),a.a.render(o.a.createElement(s.a,null),e._container)};var n=r(0),o=r.n(n),i=r(37),a=r.n(i),s=r(730),l=r(28),u=r(1),c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var p=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return c(e,[{key:"onAdd",value:function(){return this._container=document.createElement("div"),this._container.className="mapboxgl-ctrl map-bar maphub-save-control",this._container.addEventListener("contextmenu",function(e){return e.preventDefault()}),this._container}},{key:"onRemove",value:function(){this._container.parentNode.removeChild(this._container)}}]),e}()},function(e,t,r){"use strict";r.d(t,"a",function(){return v});var n,o=r(8),i=r.n(o),a=r(307),s=r.n(a),l=r(3),u=r(0),c=r.n(u),p=r(124),h=r.n(p),f=r(281),d=r(1),m=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var v=Object(l.a)(n=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=n=y(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.handleClick=s()(function(){d.a.changed&&(d.a.setSaving(!0),Object(f.b)())},1e3,{leading:!0,trailing:!1}),y(n,r)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u["Component"]),m(t,[{key:"componentDidMount",value:function(){this.node.addEventListener("dblclick",function(e){e.stopPropagation()})}},{key:"render",value:function(){var e=this;return c.a.createElement("a",{className:i()("maphub-save-icon",{"ready-for-save":d.a.changed&&!d.a.saving,"saving-in-progress":d.a.saving}),title:"Save",onClick:this.handleClick,ref:function(t){return e.node=t}},c.a.createElement("span",{className:"desktop-only"},"Save"),c.a.createElement("span",{className:i()("icon","mobile-only","icon-"+h.a.save)}))}}]),t}())||n},function(e,t,r){"use strict";t.a=function(){if(!l.a.editMode||l.a.embedMode)return;var e=new c;l.a.map.addControl(e,"top-left"),a.a.render(o.a.createElement(s.a,null),e._container),l.a.searchVisible=!0};var n=r(0),o=r.n(n),i=r(37),a=r.n(i),s=r(732),l=r(1),u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return u(e,[{key:"onAdd",value:function(){return this._container=document.createElement("div"),this._container.className="mapboxgl-ctrl map-bar",this._container.addEventListener("contextmenu",function(e){return e.preventDefault()}),this._container}},{key:"onRemove",value:function(){this._container.parentNode.removeChild(this._container)}}]),e}()},function(e,t,r){"use strict";r.d(t,"a",function(){return y});var n,o,i=r(8),a=r.n(i),s=r(3),l=r(0),u=r.n(l),c=r(99),p=r(177),h=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=Object(s.a)(n=function(e){function t(){var e,r,n;f(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=n=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.handleKeyPress=function(e){"Escape"===e.key&&c.a.reset({}),c.a.hasResults?"Enter"===e.key?c.a.reset({marker:!1}):"ArrowUp"===e.key?c.a.moveSelectionUp():"ArrowDown"===e.key&&c.a.moveSelectionDown():"Enter"===e.key&&c.a.search()},d(n,r)}return m(t,l["Component"]),h(t,[{key:"componentDidMount",value:function(){var e=!0,t=!1,r=void 0;try{for(var n,o=["dblclick","touchstart"][Symbol.iterator]();!(e=(n=o.next()).done);e=!0){var i=n.value;Object(p.a)(this.node,i,function(e){e.stopPropagation()},{passive:!0})}}catch(e){t=!0,r=e}finally{try{!e&&o.return&&o.return()}finally{if(t)throw r}}}},{key:"render",value:function(){var e=this;return u.a.createElement("div",{ref:function(t){return e.node=t},className:a()("map-search-control",{expanded:c.a.expanded})},c.a.expanded&&u.a.createElement("input",{value:c.a.searchText,className:"map-search-input",spellCheck:"false",title:"Search",placeholder:"Search",onChange:function(e){c.a.setInputText(e.target.value),c.a.reset({text:!1})},onKeyDown:this.handleKeyPress,ref:function(t){return e.input=t}}),u.a.createElement("span",{title:"Search",className:a()("map-search-search-icon",{"map-search-loading":c.a.waiting}),onClick:function(){var t=!c.a.expanded;c.a.setExpanded(t),t&&window.setTimeout(function(){e.input&&e.input.select()},0)}}),c.a.expanded&&(c.a.searchText||c.a.hasResults)&&u.a.createElement("div",{onClick:function(){return c.a.reset({})},className:"map-search-close",title:"Reset"},"\xd7"),u.a.createElement(v,null))}}]),t}())||n,v=Object(s.a)(o=function(e){function t(){return f(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m(t,l["Component"]),h(t,[{key:"render",value:function(){return c.a.expanded&&(c.a.message||c.a.hasResults)?u.a.createElement("div",{className:"map-search-results"},c.a.message&&u.a.createElement("div",{className:"map-search-message"},c.a.message),!c.a.message&&u.a.createElement("ul",{className:"map-search-list"},c.a.results.map(function(e){return u.a.createElement("li",{onClick:function(){return c.a.activateResult(e)},className:a()("map-search-result",{"map-search-selected":c.a.selectedId===e.id}),key:e.id},e.text)}))):null}}]),t}())||o},function(e,t,r){"use strict";t.a=function(){var e=function(){if(!i){var e=new o.a;i=e.getResult()}return i}(),t=void 0,r=e.browser.name;t="Mac OS"===e.os.name?["Firefox","Chrome","Safari"]:"Windows"===e.os.name?["Firefox","Chrome"]:"Android"===e.os.name?["Chrome","Firefox"]:"iOS"===e.os.name?["Mobile Safari"]:"Chromium OS"===e.os.name?["Chrome"]:["Firefox","Chrome"];return t.filter(function(e){return e!==r}).map(function(e){return"Mobile Safari"===e?"Safari":e})};var n=r(734),o=r.n(n),i=void 0},function(e,t,r){var n;!function(o,i){"use strict";var a="model",s="name",l="type",u="vendor",c="version",p="mobile",h="tablet",f={extend:function(e,t){var r={};for(var n in e)t[n]&&t[n].length%2===0?r[n]=t[n].concat(e[n]):r[n]=e[n];return r},has:function(e,t){return"string"===typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return"string"===typeof e?e.replace(/[^\d\.]/g,"").split(".")[0]:void 0},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},d={rgx:function(e,t){for(var r,n,o,i,a,s,l=0;l<t.length&&!a;){var u=t[l],c=t[l+1];for(r=n=0;r<u.length&&!a;)if(a=u[r++].exec(e))for(o=0;o<c.length;o++)s=a[++n],"object"===typeof(i=c[o])&&i.length>0?2==i.length?"function"==typeof i[1]?this[i[0]]=i[1].call(this,s):this[i[0]]=i[1]:3==i.length?"function"!==typeof i[1]||i[1].exec&&i[1].test?this[i[0]]=s?s.replace(i[1],i[2]):void 0:this[i[0]]=s?i[1].call(this,s,i[2]):void 0:4==i.length&&(this[i[0]]=s?i[3].call(this,s.replace(i[1],i[2])):void 0):this[i]=s||void 0;l+=2}},str:function(e,t){for(var r in t)if("object"===typeof t[r]&&t[r].length>0){for(var n=0;n<t[r].length;n++)if(f.has(t[r][n],e))return"?"===r?void 0:r}else if(f.has(t[r],e))return"?"===r?void 0:r;return e}},m={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},y={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[s,c],[/(opios)[\/\s]+([\w\.]+)/i],[[s,"Opera Mini"],c],[/\s(opr)\/([\w\.]+)/i],[[s,"Opera"],c],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark)\/([\w\.-]+)/i],[s,c],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[s,"IE"],c],[/(edge|edgios|edga)\/((\d+)?[\w\.]+)/i],[[s,"Edge"],c],[/(yabrowser)\/([\w\.]+)/i],[[s,"Yandex"],c],[/(puffin)\/([\w\.]+)/i],[[s,"Puffin"],c],[/(focus)\/([\w\.]+)/i],[[s,"Firefox Focus"],c],[/(opt)\/([\w\.]+)/i],[[s,"Opera Touch"],c],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[s,"UCBrowser"],c],[/(comodo_dragon)\/([\w\.]+)/i],[[s,/_/g," "],c],[/(micromessenger)\/([\w\.]+)/i],[[s,"WeChat"],c],[/(brave)\/([\w\.]+)/i],[[s,"Brave"],c],[/(qqbrowserlite)\/([\w\.]+)/i],[s,c],[/(QQ)\/([\d\.]+)/i],[s,c],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[s,c],[/(BIDUBrowser)[\/\s]?([\w\.]+)/i],[s,c],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[s,c],[/(MetaSr)[\/\s]?([\w\.]+)/i],[s],[/(LBBROWSER)/i],[s],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[c,[s,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[c,[s,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/android.+(line)\/([\w\.]+)\/iab/i],[s,c],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[c,[s,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[s,/(.+)/,"$1 WebView"],c],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[s,/(.+(?:g|us))(.+)/,"$1 $2"],c],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[c,[s,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[s,c],[/(dolfin)\/([\w\.]+)/i],[[s,"Dolphin"],c],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[s,"Chrome"],c],[/(coast)\/([\w\.]+)/i],[[s,"Opera Coast"],c],[/fxios\/([\w\.-]+)/i],[c,[s,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[c,[s,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[c,s],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[s,"GSA"],c],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[s,[c,d.str,m.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[s,c],[/(navigator|netscape)\/([\w\.-]+)/i],[[s,"Netscape"],c],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[s,c]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",f.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",f.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+[;l]))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[["architecture",f.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[a,u,[l,h]],[/applecoremedia\/[\w\.]+ \((ipad)/],[a,[u,"Apple"],[l,h]],[/(apple\s{0,1}tv)/i],[[a,"Apple TV"],[u,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[u,a,[l,h]],[/(kf[A-z]+)\sbuild\/.+silk\//i],[a,[u,"Amazon"],[l,h]],[/(sd|kf)[0349hijorstuw]+\sbuild\/.+silk\//i],[[a,d.str,m.device.amazon.model],[u,"Amazon"],[l,p]],[/android.+aft([bms])\sbuild/i],[a,[u,"Amazon"],[l,"smarttv"]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[a,u,[l,p]],[/\((ip[honed|\s\w*]+);/i],[a,[u,"Apple"],[l,p]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[u,a,[l,p]],[/\(bb10;\s(\w+)/i],[a,[u,"BlackBerry"],[l,p]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],[a,[u,"Asus"],[l,h]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[u,"Sony"],[a,"Xperia Tablet"],[l,h]],[/android.+\s([c-g]\d{4}|so[-l]\w+)\sbuild\//i],[a,[u,"Sony"],[l,p]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[u,a,[l,"console"]],[/android.+;\s(shield)\sbuild/i],[a,[u,"Nvidia"],[l,"console"]],[/(playstation\s[34portablevi]+)/i],[a,[u,"Sony"],[l,"console"]],[/(sprint\s(\w+))/i],[[u,d.str,m.device.sprint.vendor],[a,d.str,m.device.sprint.model],[l,p]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[u,a,[l,h]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[u,[a,/_/g," "],[l,p]],[/(nexus\s9)/i],[a,[u,"HTC"],[l,h]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p)/i],[a,[u,"Huawei"],[l,p]],[/(microsoft);\s(lumia[\s\w]+)/i],[u,a,[l,p]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[a,[u,"Microsoft"],[l,"console"]],[/(kin\.[onetw]{3})/i],[[a,/\./g," "],[u,"Microsoft"],[l,p]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[a,[u,"Motorola"],[l,p]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[a,[u,"Motorola"],[l,h]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[u,f.trim],[a,f.trim],[l,"smarttv"]],[/hbbtv.+maple;(\d+)/i],[[a,/^/,"SmartTV"],[u,"Samsung"],[l,"smarttv"]],[/\(dtv[\);].+(aquos)/i],[a,[u,"Sharp"],[l,"smarttv"]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[u,"Samsung"],a,[l,h]],[/smart-tv.+(samsung)/i],[u,[l,"smarttv"],a],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[u,"Samsung"],a,[l,p]],[/sie-(\w*)/i],[a,[u,"Siemens"],[l,p]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[u,"Nokia"],a,[l,p]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[a,[u,"Acer"],[l,h]],[/android.+([vl]k\-?\d{3})\s+build/i],[a,[u,"LG"],[l,h]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[u,"LG"],a,[l,h]],[/(lg) netcast\.tv/i],[u,a,[l,"smarttv"]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[a,[u,"LG"],[l,p]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[a,[u,"Lenovo"],[l,h]],[/linux;.+((jolla));/i],[u,a,[l,p]],[/((pebble))app\/[\d\.]+\s/i],[u,a,[l,"wearable"]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[u,a,[l,p]],[/crkey/i],[[a,"Chromecast"],[u,"Google"]],[/android.+;\s(glass)\s\d/i],[a,[u,"Google"],[l,"wearable"]],[/android.+;\s(pixel c)[\s)]/i],[a,[u,"Google"],[l,h]],[/android.+;\s(pixel( [23])?( xl)?)\s/i],[a,[u,"Google"],[l,p]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d?\w?)[\s_]*(?:plus)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+))\s+build/i],[[a,/_/g," "],[u,"Xiaomi"],[l,p]],[/android.+(mi[\s\-_]*(?:pad)(?:[\s_]*[\w\s]+))\s+build/i],[[a,/_/g," "],[u,"Xiaomi"],[l,h]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[a,[u,"Meizu"],[l,h]],[/(mz)-([\w-]{2,})/i],[[u,"Meizu"],a,[l,p]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})\s+build/i],[a,[u,"OnePlus"],[l,p]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[a,[u,"RCA"],[l,h]],[/android.+[;\/\s]+(Venue[\d\s]{2,7})\s+build/i],[a,[u,"Dell"],[l,h]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[a,[u,"Verizon"],[l,h]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[u,"Barnes & Noble"],a,[l,h]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[a,[u,"NuVision"],[l,h]],[/android.+;\s(k88)\sbuild/i],[a,[u,"ZTE"],[l,h]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[a,[u,"Swiss"],[l,p]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[a,[u,"Swiss"],[l,h]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[a,[u,"Zeki"],[l,h]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[u,"Dragon Touch"],a,[l,h]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[a,[u,"Insignia"],[l,h]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[a,[u,"NextBook"],[l,h]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[u,"Voice"],a,[l,p]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[u,"LvTel"],a,[l,p]],[/android.+;\s(PH-1)\s/i],[a,[u,"Essential"],[l,p]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[a,[u,"Envizen"],[l,h]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[u,a,[l,h]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[a,[u,"MachSpeed"],[l,h]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[u,a,[l,h]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[a,[u,"Rotor"],[l,h]],[/android.+(KS(.+))\s+build/i],[a,[u,"Amazon"],[l,h]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[u,a,[l,h]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[l,f.lowerize],u,a],[/(android[\w\.\s\-]{0,9});.+build/i],[a,[u,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[c,[s,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[s,c],[/rv\:([\w\.]{1,9}).+(gecko)/i],[c,s]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[s,c],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[s,[c,d.str,m.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[s,"Windows"],[c,d.str,m.os.windows.version]],[/\((bb)(10);/i],[[s,"BlackBerry"],c],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]*)/i,/linux;.+(sailfish);/i],[s,c],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[s,"Symbian"],c],[/\((series40);/i],[s],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[s,"Firefox OS"],c],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[s,c],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[s,"Chromium OS"],c],[/(sunos)\s?([\w\.\d]*)/i],[[s,"Solaris"],c],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[s,c],[/(haiku)\s(\w+)/i],[s,c],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[c,/_/g,"."],[s,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[s,"Mac OS"],[c,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[s,c]]},v=function(e,t){if("object"===typeof e&&(t=e,e=void 0),!(this instanceof v))return new v(e,t).getResult();var r=e||(o&&o.navigator&&o.navigator.userAgent?o.navigator.userAgent:""),n=t?f.extend(y,t):y;return this.getBrowser=function(){var e={name:void 0,version:void 0};return d.rgx.call(e,r,n.browser),e.major=f.major(e.version),e},this.getCPU=function(){var e={architecture:void 0};return d.rgx.call(e,r,n.cpu),e},this.getDevice=function(){var e={vendor:void 0,model:void 0,type:void 0};return d.rgx.call(e,r,n.device),e},this.getEngine=function(){var e={name:void 0,version:void 0};return d.rgx.call(e,r,n.engine),e},this.getOS=function(){var e={name:void 0,version:void 0};return d.rgx.call(e,r,n.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=e,this},this};v.VERSION="0.7.19",v.BROWSER={NAME:s,MAJOR:"major",VERSION:c},v.CPU={ARCHITECTURE:"architecture"},v.DEVICE={MODEL:a,VENDOR:u,TYPE:l,CONSOLE:"console",MOBILE:p,SMARTTV:"smarttv",TABLET:h,WEARABLE:"wearable",EMBEDDED:"embedded"},v.ENGINE={NAME:s,VERSION:c},v.OS={NAME:s,VERSION:c},"undefined"!==typeof t?("undefined"!==typeof e&&e.exports&&(t=e.exports=v),t.UAParser=v):r(735)?void 0===(n=function(){return v}.call(t,r,t,e))||(e.exports=n):o&&(o.UAParser=v);var g=o&&(o.jQuery||o.Zepto);if("undefined"!==typeof g&&!g.ua){var _=new v;g.ua=_.getResult(),g.ua.get=function(){return _.getUA()},g.ua.set=function(e){_.setUA(e);var t=_.getResult();for(var r in t)g.ua[r]=t[r]}}}("object"===typeof window?window:this)},function(e,t){(function(t){e.exports=t}).call(t,{})},function(e,t,r){"use strict";r.d(t,"a",function(){return d});var n,o=r(8),i=r.n(o),a=r(3),s=r(0),l=r.n(s),u=r(1),c=r(737),p=r(845),h=r(846),f=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var d=Object(a.a)(n=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s["Component"]),f(t,[{key:"render",value:function(){return u.a.captureMode||u.a.embedMode&&!u.a.embedPanel?null:l.a.createElement("div",{id:"panel",className:i()("size_"+u.a.panelSize,{embedpanel:u.a.embedPanel})},!u.a.embedPanel&&l.a.createElement(p.a,null),!u.a.embedPanel&&l.a.createElement(h.a,null),l.a.createElement(c.a,null))}}]),t}())||n},function(e,t,r){"use strict";r.d(t,"a",function(){return b});var n,o=r(8),i=r.n(o),a=r(3),s=r(0),l=r.n(s),u=r(133),c=r(18),p=r(48),h=r(47),f=r(23),d=r(1),m=r(81),y=r(738),v=r(739),g=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var b=Object(a.a)(n=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=n=_(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.addNewGroup=function(){var e=h.a.addGroup({generateName:!0});d.a.saveOn(),window.setTimeout(function(){d.a.activateGroup(e),e.titleTextarea&&e.titleTextarea.select()},0)},_(n,r)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s["Component"]),g(t,[{key:"render",value:function(){return d.a.panelSize?l.a.createElement("div",{id:"panel-items",className:i()({fullpanel:!d.a.editMode&&"item"===d.a.state||d.a.embedPanel,embedpanel:d.a.embedPanel})},l.a.createElement("div",{className:"panel-middle-buttons"},!!c.a.count&&l.a.createElement(y.a,null),!!c.a.count&&l.a.createElement(m.a,{text:"Show all",iconName:"fitAll",onClick:function(){return Object(u.a)(c.a.featureArray)}}),f.a.id&&!d.a.embedMode&&!p.a.expanded&&(d.a.editMode||!(f.a.disableDownload&&f.a.disableEmbed))&&l.a.createElement(m.a,{text:"Share",onClick:function(){return d.a.setPanelState("share")}}),d.a.editMode&&!p.a.expanded&&l.a.createElement(m.a,{text:"Import",onClick:function(){return d.a.setPanelState("import")},style:{marginLeft:c.a.count?0:30}})),l.a.createElement(v.a,null),d.a.editMode&&l.a.createElement("div",{id:"panel-items-bottom-bar",className:"panel-bottom-buttons desktop-only"},l.a.createElement(m.a,{text:"New group",onClick:this.addNewGroup}))):null}}]),t}())||n},function(e,t,r){"use strict";r.d(t,"a",function(){return h});var n,o=r(8),i=r.n(o),a=r(3),s=r(0),l=r.n(s),u=r(48),c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var h=Object(a.a)(n=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=n=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.handleKeyPress=function(e){"Escape"===e.key&&u.a.reset({})},p(n,r)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s["Component"]),c(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"map-filter-box"},l.a.createElement("input",{value:u.a.searchText,className:i()("map-filter-input",{expanded:u.a.expanded}),spellCheck:"false",title:"Filter items",placeholder:"Filter items",onChange:function(e){u.a.updateFilter(e.target.value)},onKeyDown:this.handleKeyPress,ref:function(t){return e.input=t}}),l.a.createElement("span",{title:"Filter items",className:"map-filter-filter-icon",onClick:function(){var t=!u.a.expanded;u.a.setExpanded(t),t&&window.setTimeout(function(){e.input&&e.input.select()},0)}}),(u.a.expanded||u.a.searchText)&&l.a.createElement("div",{onClick:function(){return u.a.reset({})},className:"map-filter-close",title:"Reset"},"\xd7"))}}]),t}())||n},function(e,t,r){"use strict";r.d(t,"a",function(){return w});var n,o,i=r(96),a=r.n(i),s=r(3),l=r(0),u=r.n(l),c=r(740),p=(r.n(c),r(742)),h=r(18),f=r(48),d=r(47),m=r(1),y=r(177),v=r(844),g=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function x(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var w=Object(s.a)(n=function(e){function t(){var e,r,n;_(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=n=b(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.onSortStart=function(e,t){var r=e.index,o=h.a.treeNodes[r];n.targetGroup=null,n.startX=Object(y.b)(t).x,m.a.setItemTreeDragging(o.feature?"feature":"group")},n.onSortMove=function(e){var t=Object(y.b)(e).x;if(t&&n.startX&&(n.endX=t-n.startX),e.target&&e.target.sortableInfo){var r=h.a.treeNodes[e.target.sortableInfo.index];r.group?n.targetGroup=r.group:n.targetGroup=null}else n.targetGroup=null},n.onSortEnd=function(e){var t=e.oldIndex,r=e.newIndex;m.a.setItemTreeDragging(null);var o=h.a.treeNodes[t],i=Object(c.arrayMove)(h.a.treeNodes,t,r);if(o.feature){var a=void 0;if(n.targetGroup)return o.feature.setGroup(n.targetGroup.id),void n.targetGroup.setExpanded(!0);n.endX<-25&&(a=null);var s=[],l=!0,u=!1,p=void 0;try{for(var f,y=i[Symbol.iterator]();!(l=(f=y.next()).done);l=!0){var v=f.value;v.group&&(v.group.expanded||(s=s.concat(v.group.featureArray.map(function(e){return e.id})))),v.feature&&s.push(v.feature.id)}}catch(e){u=!0,p=e}finally{try{!l&&y.return&&y.return()}finally{if(u)throw p}}if(void 0===a){for(var g=0;g<r;g++){var _=i[g];if(_.group&&(a=_.group.expanded?_.group.id:null),_.feature&&!_.feature.group_id){a=null;break}}for(var b=void 0,x=i.length-1;x>=0;x--){var w=i[x];if(w.feature&&w.feature.group_id){b=x;break}}(r===b||r===b+1&&void 0!==n.endX)&&(n.endX<-20||n.endX>0&&n.endX<20)&&(a=null)}o.feature.setGroup(a),h.a.sortTo(s)}if(o.group){var E=i.filter(function(e){return e.group}).map(function(e){return e.id});d.a.sortTo(E)}},b(n,r)}return x(t,l["Component"]),g(t,[{key:"render",value:function(){var e=this;if(!m.a.ready)return null;var t={};return"mouse"===a.a.primaryInput?t.distance=5:t.pressDelay=200,u.a.createElement("div",{id:"panel-items-list"},u.a.createElement(p.a,null,function(r){var n=r.height,o=r.width;return m.a.editMode?u.a.createElement(C,Object.assign({},t,{width:o,height:n,onSortEnd:e.onSortEnd,onSortStart:e.onSortStart,onSortMove:e.onSortMove})):u.a.createElement(E,{width:o,height:n})}))}}]),t}())||n,E=Object(s.a)(o=function(e){function t(){var e,r,n;_(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=n=b(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.rowRenderer=function(e){var t=e.index,r=e.key,n=e.style,o=h.a.treeNodes[t];return m.a.editMode&&!f.a.hasFilter?u.a.createElement(S,{key:r,index:t,style:n,node:o}):u.a.createElement(v.a,{key:r,style:n,node:o})},b(n,r)}return x(t,l["Component"]),g(t,[{key:"render",value:function(){var e=this.props,t=e.width,r=e.height;return u.a.createElement(p.b,{rowHeight:31,rowRenderer:this.rowRenderer,rowCount:h.a.treeNodes.length,width:t,height:r,scrollToIndex:m.a.scrollToIndex,updateNr:m.a.itemTreeUpdateNr})}}]),t}())||o,S=Object(c.SortableElement)(function(e){var t=e.node,r=e.style;return u.a.createElement(v.a,{style:r,node:t})}),C=Object(c.SortableContainer)(E)},function(e,t,r){(function(e,t,r,n){"use strict";function o(e,t){return e(t={exports:{}},t.exports),t.exports}r=r&&r.hasOwnProperty("default")?r.default:r;var i=o(function(e){function t(){return e.exports=t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t.apply(this,arguments)}e.exports=t});var a=function(e){if(Array.isArray(e))return e};var s=function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r};var l=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")};var u=function(e,t){return a(e)||s(e,t)||l()};var c=function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}};var p=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)};var h=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")};var f=function(e){return c(e)||p(e)||h()};var d=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var y=function(e,t,r){return t&&m(e.prototype,t),r&&m(e,r),e},v=o(function(e){function t(e){return(t="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(n){return"function"===typeof Symbol&&"symbol"===t(Symbol.iterator)?e.exports=r=function(e){return t(e)}:e.exports=r=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":t(e)},r(n)}e.exports=r});var g=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e};var _=function(e,t){return!t||"object"!==v(t)&&"function"!==typeof t?g(e):t},b=o(function(e){function t(r){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},t(r)}e.exports=t}),x=o(function(e){function t(r,n){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},t(r,n)}e.exports=t});var w=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)};var E=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},S=function(e,t,r,n,o,i,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,n,o,i,a,s],c=0;(l=new Error(t.replace(/%s/g,function(){return u[c++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}},C=function(){function e(){d(this,e),E(this,"refs",{})}return y(e,[{key:"add",value:function(e,t){this.refs[e]||(this.refs[e]=[]),this.refs[e].push(t)}},{key:"remove",value:function(e,t){var r=this.getIndex(e,t);-1!==r&&this.refs[e].splice(r,1)}},{key:"isActive",value:function(){return this.active}},{key:"getActive",value:function(){var e=this;return this.refs[this.active.collection].find(function(t){return t.node.sortableInfo.index==e.active.index})}},{key:"getIndex",value:function(e,t){return this.refs[e].indexOf(t)}},{key:"getOrderedRefs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.active.collection;return this.refs[e].sort(k)}}]),e}();function k(e,t){return e.node.sortableInfo.index-t.node.sortableInfo.index}function T(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return Object.keys(e).reduce(function(t,n){return-1===r.indexOf(n)&&(t[n]=e[n]),t},{})}var O={start:["touchstart","mousedown"],move:["touchmove","mousemove"],end:["touchend","touchcancel","mouseup"]},P=function(){if("undefined"===typeof window||"undefined"===typeof document)return"";var e=window.getComputedStyle(document.documentElement,"")||["-moz-hidden-iframe"],t=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1];switch(t){case"ms":return"ms";default:return t&&t.length?t[0].toUpperCase()+t.substr(1):""}}();function A(e,t){for(;e;){if(t(e))return e;e=e.parentNode}return null}function I(e,t,r){return Math.max(e,Math.min(r,t))}function M(e){return"px"===e.substr(-2)?parseFloat(e):0}function R(e,t){var r=t.displayName||t.name;return r?"".concat(e,"(").concat(r,")"):e}function L(e){return e.touches&&e.touches.length?{x:e.touches[0].pageX,y:e.touches[0].pageY}:e.changedTouches&&e.changedTouches.length?{x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY}:{x:e.pageX,y:e.pageY}}function D(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,left:0};if(e){var n={top:r.top+e.offsetTop,left:r.left+e.offsetLeft};return e.parentNode===t?n:D(e.parentNode,t,n)}}function j(e){var t=e.lockOffset,r=e.width,n=e.height,o=t,i=t,a="px";if("string"===typeof t){var s=/^[+-]?\d*(?:\.\d*)?(px|%)$/.exec(t);S(null!==s,'lockOffset value should be a number or a string of a number followed by "px" or "%". Given %s',t),o=parseFloat(t),i=parseFloat(t),a=s[1]}return S(isFinite(o)&&isFinite(i),"lockOffset value should be a finite. Given %s",t),"%"===a&&(o=o*r/100,i=i*n/100),{x:o,y:i}}function z(e){var o,a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return a=o=function(r){function o(e){var t;return d(this,o),t=_(this,b(o).call(this,e)),E(g(g(t)),"handleStart",function(e){var r=t.props,n=r.distance,o=r.shouldCancelStart;if(2!==e.button&&!o(e)){t._touched=!0,t._pos=L(e);var i=A(e.target,function(e){return null!=e.sortableInfo});if(i&&i.sortableInfo&&t.nodeIsChild(i)&&!t.state.sorting){var a=t.props.useDragHandle,s=i.sortableInfo,l=s.index,u=s.collection;if(s.disabled)return;if(a&&!A(e.target,function(e){return null!=e.sortableHandle}))return;t.manager.active={index:l,collection:u},function(e){return e.touches&&e.touches.length||e.changedTouches&&e.changedTouches.length}(e)||"a"!==e.target.tagName.toLowerCase()||e.preventDefault(),n||(0===t.props.pressDelay?t.handlePress(e):t.pressTimer=setTimeout(function(){return t.handlePress(e)},t.props.pressDelay))}}}),E(g(g(t)),"nodeIsChild",function(e){return e.sortableInfo.manager===t.manager}),E(g(g(t)),"handleMove",function(e){var r=t.props,n=r.distance,o=r.pressThreshold;if(!t.state.sorting&&t._touched&&!t._awaitingUpdateBeforeSortStart){var i=L(e),a={x:t._pos.x-i.x,y:t._pos.y-i.y},s=Math.abs(a.x)+Math.abs(a.y);t.delta=a,n||o&&!(o&&s>=o)?n&&s>=n&&t.manager.isActive()&&t.handlePress(e):(clearTimeout(t.cancelTimer),t.cancelTimer=setTimeout(t.cancel,0))}}),E(g(g(t)),"handleEnd",function(){t._touched=!1,t.cancel()}),E(g(g(t)),"cancel",function(){var e=t.props.distance;t.state.sorting||(e||clearTimeout(t.pressTimer),t.manager.active=null)}),E(g(g(t)),"handlePress",function(e){try{var r=t.manager.getActive(),n=function(){if(r){var n=function(){var r,n,o=(r=h,{top:M((n=window.getComputedStyle(r)).marginTop),right:M(n.marginRight),bottom:M(n.marginBottom),left:M(n.marginLeft)}),u=t.container.getBoundingClientRect(),y=a({index:m,node:h,collection:d});t.node=h,t.margin=o,t.width=y.width,t.height=y.height,t.marginOffset={x:t.margin.left+t.margin.right,y:Math.max(t.margin.top,t.margin.bottom)},t.boundingClientRect=h.getBoundingClientRect(),t.containerBoundingRect=u,t.index=m,t.newIndex=m,t.axis={x:i.indexOf("x")>=0,y:i.indexOf("y")>=0},t.offsetEdge=D(h,t.container),t.initialOffset=L(e),t.initialScroll={top:t.container.scrollTop,left:t.container.scrollLeft},t.initialWindowScroll={top:window.pageYOffset,left:window.pageXOffset};var v,g=h.querySelectorAll("input, textarea, select"),_=h.cloneNode(!0);(f(_.querySelectorAll("input, textarea, select")).forEach(function(e,t){"file"!==e.type&&g[m]&&(e.value=g[t].value)}),t.helper=t.helperContainer.appendChild(_),t.helper.style.position="fixed",t.helper.style.top="".concat(t.boundingClientRect.top-o.top,"px"),t.helper.style.left="".concat(t.boundingClientRect.left-o.left,"px"),t.helper.style.width="".concat(t.width,"px"),t.helper.style.height="".concat(t.height,"px"),t.helper.style.boxSizing="border-box",t.helper.style.pointerEvents="none",l&&(t.sortableGhost=h,h.style.visibility="hidden",h.style.opacity=0),t.minTranslate={},t.maxTranslate={},t.axis.x&&(t.minTranslate.x=(p?0:u.left)-t.boundingClientRect.left-t.width/2,t.maxTranslate.x=(p?t.contentWindow.innerWidth:u.left+u.width)-t.boundingClientRect.left-t.width/2),t.axis.y&&(t.minTranslate.y=(p?0:u.top)-t.boundingClientRect.top-t.height/2,t.maxTranslate.y=(p?t.contentWindow.innerHeight:u.top+u.height)-t.boundingClientRect.top-t.height/2),s)&&(v=t.helper.classList).add.apply(v,f(s.split(" ")));t.listenerNode=e.touches?h:t.contentWindow,O.move.forEach(function(e){return t.listenerNode.addEventListener(e,t.handleSortMove,!1)}),O.end.forEach(function(e){return t.listenerNode.addEventListener(e,t.handleSortEnd,!1)}),t.setState({sorting:!0,sortingIndex:m}),c&&c({node:h,index:m,collection:d},e)},o=t.props,i=o.axis,a=o.getHelperDimensions,s=o.helperClass,l=o.hideSortableGhost,u=o.updateBeforeSortStart,c=o.onSortStart,p=o.useWindowAsScrollContainer,h=r.node,d=r.collection,m=h.sortableInfo.index,y=function(){if("function"===typeof u){t._awaitingUpdateBeforeSortStart=!0;var r=function(e,t){try{var r=e()}catch(e){return t(!0,e)}return r&&r.then?r.then(t.bind(null,!1),t.bind(null,!0)):t(!1,value)}(function(){return Promise.resolve(u({node:h,index:m,collection:d},e)).then(function(){})},function(e,r){if(t._awaitingUpdateBeforeSortStart=!1,e)throw r;return r});if(r&&r.then)return r.then(function(){})}}();return y&&y.then?y.then(n):n()}}();return Promise.resolve(n&&n.then?n.then(function(){}):void 0)}catch(e){return Promise.reject(e)}}),E(g(g(t)),"handleSortMove",function(e){var r=t.props.onSortMove;e.preventDefault(),t.updatePosition(e),t.animateNodes(),t.autoscroll(),r&&r(e)}),E(g(g(t)),"handleSortEnd",function(e){var r=t.props,n=r.hideSortableGhost,o=r.onSortEnd,i=t.manager.active.collection;t.listenerNode&&(O.move.forEach(function(e){return t.listenerNode.removeEventListener(e,t.handleSortMove)}),O.end.forEach(function(e){return t.listenerNode.removeEventListener(e,t.handleSortEnd)})),t.helper.parentNode.removeChild(t.helper),n&&t.sortableGhost&&(t.sortableGhost.style.visibility="",t.sortableGhost.style.opacity="");for(var a=t.manager.refs[i],s=0,l=a.length;s<l;s++){var u=a[s],c=u.node;u.edgeOffset=null,c.style["".concat(P,"Transform")]="",c.style["".concat(P,"TransitionDuration")]=""}clearInterval(t.autoscrollInterval),t.autoscrollInterval=null,t.manager.active=null,t.setState({sorting:!1,sortingIndex:null}),"function"===typeof o&&o({oldIndex:t.index,newIndex:t.newIndex,collection:i},e),t._touched=!1}),E(g(g(t)),"autoscroll",function(){if(!t.props.disableAutoscroll){var e=t.translate,r={x:0,y:0},n={x:1,y:1},o=10,i=10,a=t.scrollContainer,s=a.scrollTop,l=a.scrollLeft,u=a.scrollHeight,c=a.scrollWidth,p=0===s,h=u-s-a.clientHeight===0,f=0===l,d=c-l-a.clientWidth===0;e.y>=t.maxTranslate.y-t.height/2&&!h?(r.y=1,n.y=i*Math.abs((t.maxTranslate.y-t.height/2-e.y)/t.height)):e.x>=t.maxTranslate.x-t.width/2&&!d?(r.x=1,n.x=o*Math.abs((t.maxTranslate.x-t.width/2-e.x)/t.width)):e.y<=t.minTranslate.y+t.height/2&&!p?(r.y=-1,n.y=i*Math.abs((e.y-t.height/2-t.minTranslate.y)/t.height)):e.x<=t.minTranslate.x+t.width/2&&!f&&(r.x=-1,n.x=o*Math.abs((e.x-t.width/2-t.minTranslate.x)/t.width)),t.autoscrollInterval&&(clearInterval(t.autoscrollInterval),t.autoscrollInterval=null,t.isAutoScrolling=!1),0===r.x&&0===r.y||(t.autoscrollInterval=setInterval(function(){t.isAutoScrolling=!0;var e=n.x*r.x,o=n.y*r.y;t.scrollContainer.scrollTop+=o,t.scrollContainer.scrollLeft+=e,t.translate.x+=e,t.translate.y+=o,t.animateNodes()},5))}}),t.manager=new C,t.events={start:t.handleStart,move:t.handleMove,end:t.handleEnd},S(!(e.distance&&e.pressDelay),"Attempted to set both `pressDelay` and `distance` on SortableContainer, you may only use one or the other, not both at the same time."),t.state={},t}return w(o,r),y(o,[{key:"getChildContext",value:function(){return{manager:this.manager}}},{key:"componentDidMount",value:function(){var e=this,t=this.props.useWindowAsScrollContainer,r=this.getContainer();Promise.resolve(r).then(function(r){e.container=r,e.document=e.container.ownerDocument||document;var n=e.props.contentWindow||e.document.defaultView||window;e.contentWindow="function"===typeof n?n():n,e.scrollContainer=t?e.document.scrollingElement||e.document.documentElement:e.container;var o=function(t){e.events.hasOwnProperty(t)&&O[t].forEach(function(r){return e.container.addEventListener(r,e.events[t],!1)})};for(var i in e.events)o(i)})}},{key:"componentWillUnmount",value:function(){var e=this;if(this.container){var t=function(t){e.events.hasOwnProperty(t)&&O[t].forEach(function(r){return e.container.removeEventListener(r,e.events[t])})};for(var r in this.events)t(r)}}},{key:"getLockPixelOffsets",value:function(){var e=this.width,t=this.height,r=this.props.lockOffset,n=Array.isArray(r)?r:[r,r];S(2===n.length,"lockOffset prop of SortableContainer should be a single value or an array of exactly two values. Given %s",r);var o=u(n,2),i=o[0],a=o[1];return[j({lockOffset:i,width:e,height:t}),j({lockOffset:a,width:e,height:t})]}},{key:"updatePosition",value:function(e){var t=this.props,r=t.lockAxis,n=t.lockToContainerEdges,o=L(e),i={x:o.x-this.initialOffset.x,y:o.y-this.initialOffset.y};if(i.y-=window.pageYOffset-this.initialWindowScroll.top,i.x-=window.pageXOffset-this.initialWindowScroll.left,this.translate=i,n){var a=this.getLockPixelOffsets(),s=u(a,2),l=s[0],c=s[1],p={x:this.width/2-l.x,y:this.height/2-l.y},h={x:this.width/2-c.x,y:this.height/2-c.y};i.x=I(this.minTranslate.x+p.x,this.maxTranslate.x-h.x,i.x),i.y=I(this.minTranslate.y+p.y,this.maxTranslate.y-h.y,i.y)}"x"===r?i.y=0:"y"===r&&(i.x=0),this.helper.style["".concat(P,"Transform")]="translate3d(".concat(i.x,"px,").concat(i.y,"px, 0)")}},{key:"animateNodes",value:function(){var e=this.props,t=e.transitionDuration,r=e.hideSortableGhost,n=e.onSortOver,o=this.manager.getOrderedRefs(),i=this.container.scrollLeft-this.initialScroll.left,a=this.container.scrollTop-this.initialScroll.top,s=this.offsetEdge.left+this.translate.x+i,l=this.offsetEdge.top+this.translate.y+a,u=window.pageYOffset-this.initialWindowScroll.top,c=window.pageXOffset-this.initialWindowScroll.left,p=this.newIndex;this.newIndex=null;for(var h=0,f=o.length;h<f;h++){var d=o[h].node,m=d.sortableInfo.index,y=d.offsetWidth,v=d.offsetHeight,g={width:this.width>y?y/2:this.width/2,height:this.height>v?v/2:this.height/2},_={x:0,y:0},b=o[h].edgeOffset;b||(b=D(d,this.container),o[h].edgeOffset=b);var x=h<o.length-1&&o[h+1],w=h>0&&o[h-1];x&&!x.edgeOffset&&(x.edgeOffset=D(x.node,this.container)),m!==this.index?(t&&(d.style["".concat(P,"TransitionDuration")]="".concat(t,"ms")),this.axis.x?this.axis.y?m<this.index&&(s+c-g.width<=b.left&&l+u<=b.top+g.height||l+u+g.height<=b.top)?(_.x=this.width+this.marginOffset.x,b.left+_.x>this.containerBoundingRect.width-g.width&&x&&(_.x=x.edgeOffset.left-b.left,_.y=x.edgeOffset.top-b.top),null===this.newIndex&&(this.newIndex=m)):m>this.index&&(s+c+g.width>=b.left&&l+u+g.height>=b.top||l+u+g.height>=b.top+v)&&(_.x=-(this.width+this.marginOffset.x),b.left+_.x<this.containerBoundingRect.left+g.width&&w&&(_.x=w.edgeOffset.left-b.left,_.y=w.edgeOffset.top-b.top),this.newIndex=m):m>this.index&&s+c+g.width>=b.left?(_.x=-(this.width+this.marginOffset.x),this.newIndex=m):m<this.index&&s+c<=b.left+g.width&&(_.x=this.width+this.marginOffset.x,null==this.newIndex&&(this.newIndex=m)):this.axis.y&&(m>this.index&&l+u+g.height>=b.top?(_.y=-(this.height+this.marginOffset.y),this.newIndex=m):m<this.index&&l+u<=b.top+g.height&&(_.y=this.height+this.marginOffset.y,null==this.newIndex&&(this.newIndex=m))),d.style["".concat(P,"Transform")]="translate3d(".concat(_.x,"px,").concat(_.y,"px,0)")):r&&(this.sortableGhost=d,d.style.visibility="hidden",d.style.opacity=0)}null==this.newIndex&&(this.newIndex=this.index),n&&this.newIndex!==p&&n({newIndex:this.newIndex,oldIndex:p,index:this.index,collection:this.manager.active.collection})}},{key:"getWrappedInstance",value:function(){return S(s.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableContainer() call"),this.refs.wrappedInstance}},{key:"getContainer",value:function(){var e=this.props.getContainer;return"function"!==typeof e?n.findDOMNode(this):e(s.withRef?this.getWrappedInstance():void 0)}},{key:"render",value:function(){var r=s.withRef?"wrappedInstance":null;return t.createElement(e,i({ref:r},T(this.props,"contentWindow","useWindowAsScrollContainer","distance","helperClass","hideSortableGhost","transitionDuration","useDragHandle","pressDelay","pressThreshold","shouldCancelStart","updateBeforeSortStart","onSortStart","onSortMove","onSortEnd","axis","lockAxis","lockOffset","lockToContainerEdges","getContainer","getHelperDimensions","helperContainer","disableAutoscroll")))}},{key:"helperContainer",get:function(){var e=this.props.helperContainer;return"function"===typeof e?e():this.props.helperContainer||this.document.body}}]),o}(t.Component),E(o,"displayName",R("sortableList",e)),E(o,"defaultProps",{axis:"y",transitionDuration:300,pressDelay:0,pressThreshold:5,distance:0,useWindowAsScrollContainer:!1,hideSortableGhost:!0,shouldCancelStart:function(e){return-1!==["input","textarea","select","option","button"].indexOf(e.target.tagName.toLowerCase())},lockToContainerEdges:!1,lockOffset:"50%",getHelperDimensions:function(e){var t=e.node;return{width:t.offsetWidth,height:t.offsetHeight}},disableAutoscroll:!1}),E(o,"propTypes",{axis:r.oneOf(["x","y","xy"]),distance:r.number,lockAxis:r.string,helperClass:r.string,transitionDuration:r.number,contentWindow:r.any,updateBeforeSortStart:r.func,onSortStart:r.func,onSortMove:r.func,onSortOver:r.func,onSortEnd:r.func,shouldCancelStart:r.func,pressDelay:r.number,pressThreshold:r.number,useDragHandle:r.bool,useWindowAsScrollContainer:r.bool,hideSortableGhost:r.bool,lockToContainerEdges:r.bool,lockOffset:r.oneOfType([r.number,r.string,r.arrayOf(r.oneOfType([r.number,r.string]))]),getContainer:r.func,getHelperDimensions:r.func,helperContainer:r.oneOfType([r.func,"undefined"===typeof HTMLElement?r.any:r.instanceOf(HTMLElement)]),disableAutoscroll:r.bool}),E(o,"childContextTypes",{manager:r.object.isRequired}),a}function F(e){var o,a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return a=o=function(r){function o(){return d(this,o),_(this,b(o).apply(this,arguments))}return w(o,r),y(o,[{key:"componentDidMount",value:function(){this.register()}},{key:"componentDidUpdate",value:function(e){this.node&&(e.index!==this.props.index&&(this.node.sortableInfo.index=this.props.index),e.disabled!==this.props.disabled&&(this.node.sortableInfo.disabled=this.props.disabled)),e.collection!==this.props.collection&&(this.unregister(e.collection),this.register())}},{key:"componentWillUnmount",value:function(){this.unregister()}},{key:"register",value:function(){var e=this.props,t=e.collection,r=e.disabled,o=e.index,i=n.findDOMNode(this);i.sortableInfo={index:o,collection:t,disabled:r,manager:this.context.manager},this.node=i,this.ref={node:i},this.context.manager.add(t,this.ref)}},{key:"unregister",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.collection;this.context.manager.remove(e,this.ref)}},{key:"getWrappedInstance",value:function(){return S(s.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableElement() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var r=s.withRef?"wrappedInstance":null;return t.createElement(e,i({ref:r},T(this.props,"collection","disabled","index")))}}]),o}(t.Component),E(o,"displayName",R("sortableElement",e)),E(o,"contextTypes",{manager:r.object.isRequired}),E(o,"propTypes",{index:r.number.isRequired,collection:r.oneOfType([r.number,r.string]),disabled:r.bool}),E(o,"defaultProps",{collection:0}),a}function N(e){var r,o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return o=r=function(r){function o(){return d(this,o),_(this,b(o).apply(this,arguments))}return w(o,r),y(o,[{key:"componentDidMount",value:function(){n.findDOMNode(this).sortableHandle=!0}},{key:"getWrappedInstance",value:function(){return S(a.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableHandle() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var r=a.withRef?"wrappedInstance":null;return t.createElement(e,i({ref:r},this.props))}}]),o}(t.Component),E(r,"displayName",R("sortableHandle",e)),o}e.SortableContainer=z,e.sortableContainer=z,e.SortableElement=F,e.sortableElement=F,e.SortableHandle=N,e.sortableHandle=N,e.arrayMove=function(e,t,r){return(e=e.slice()).splice(r<0?e.length+r:r,0,e.splice(t,1)[0]),e},Object.defineProperty(e,"__esModule",{value:!0})})(t,r(0),r(10),r(37))},function(e,t,r){"use strict";var n=r(246);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,r,o,i,a){if(a!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return r.PropTypes=r,r}},function(e,t,r){"use strict";r(743);var n=r(802);r.d(t,"a",function(){return n.a});r(335),r(805),r(812),r(31),r(814);var o=r(816);r.d(t,"b",function(){return o.a});r(820),r(833),r(836),r(838),r(841)},function(e,t,r){"use strict";r(309),r(332)},function(e,t,r){r(745),e.exports=r(17).Object.getPrototypeOf},function(e,t,r){var n=r(134),o=r(310);r(199)("getPrototypeOf",function(){return function(e){return o(n(e))}})},function(e,t,r){r(747);var n=r(17).Object;e.exports=function(e,t,r){return n.defineProperty(e,t,r)}},function(e,t,r){var n=r(41);n(n.S+n.F*!r(55),"Object",{defineProperty:r(53).f})},function(e,t,r){e.exports={default:r(749),__esModule:!0}},function(e,t,r){r(138),r(140),e.exports=r(205).f("iterator")},function(e,t,r){var n=r(202),o=r(196);e.exports=function(e){return function(t,r){var i,a,s=String(o(t)),l=n(r),u=s.length;return l<0||l>=u?e?"":void 0:(i=s.charCodeAt(l))<55296||i>56319||l+1===u||(a=s.charCodeAt(l+1))<56320||a>57343?e?s.charAt(l):i:e?s.slice(l,l+2):a-56320+(i-55296<<10)+65536}}},function(e,t,r){"use strict";var n=r(203),o=r(137),i=r(139),a={};r(65)(a,r(30)("iterator"),function(){return this}),e.exports=function(e,t,r){e.prototype=n(a,{next:o(1,r)}),i(e,t+" Iterator")}},function(e,t,r){var n=r(53),o=r(42),i=r(102);e.exports=r(55)?Object.defineProperties:function(e,t){o(e);for(var r,a=i(t),s=a.length,l=0;s>l;)n.f(e,r=a[l++],t[r]);return e}},function(e,t,r){var n=r(66),o=r(318),i=r(754);e.exports=function(e){return function(t,r,a){var s,l=n(t),u=o(l.length),c=i(a,u);if(e&&r!=r){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===r)return e||c||0;return!e&&-1}}},function(e,t,r){var n=r(202),o=Math.max,i=Math.min;e.exports=function(e,t){return(e=n(e))<0?o(e+t,0):i(e,t)}},function(e,t,r){"use strict";var n=r(756),o=r(757),i=r(83),a=r(66);e.exports=r(314)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?r:"values"==t?e[r]:[r,e[r]])},"values"),i.Arguments=i.Array,n("keys"),n("values"),n("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,r){e.exports={default:r(759),__esModule:!0}},function(e,t,r){r(760),r(321),r(765),r(766),e.exports=r(17).Symbol},function(e,t,r){"use strict";var n=r(29),o=r(64),i=r(55),a=r(41),s=r(315),l=r(761).KEY,u=r(82),c=r(198),p=r(139),h=r(135),f=r(30),d=r(205),m=r(206),y=r(762),v=r(763),g=r(42),_=r(54),b=r(66),x=r(201),w=r(137),E=r(203),S=r(764),C=r(208),k=r(53),T=r(102),O=C.f,P=k.f,A=S.f,I=n.Symbol,M=n.JSON,R=M&&M.stringify,L=f("_hidden"),D=f("toPrimitive"),j={}.propertyIsEnumerable,z=c("symbol-registry"),F=c("symbols"),N=c("op-symbols"),B=Object.prototype,U="function"==typeof I,V=n.QObject,G=!V||!V.prototype||!V.prototype.findChild,q=i&&u(function(){return 7!=E(P({},"a",{get:function(){return P(this,"a",{value:7}).a}})).a})?function(e,t,r){var n=O(B,t);n&&delete B[t],P(e,t,r),n&&e!==B&&P(B,t,n)}:P,H=function(e){var t=F[e]=E(I.prototype);return t._k=e,t},W=U&&"symbol"==typeof I.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof I},X=function(e,t,r){return e===B&&X(N,t,r),g(e),t=x(t,!0),g(r),o(F,t)?(r.enumerable?(o(e,L)&&e[L][t]&&(e[L][t]=!1),r=E(r,{enumerable:w(0,!1)})):(o(e,L)||P(e,L,w(1,{})),e[L][t]=!0),q(e,t,r)):P(e,t,r)},Z=function(e,t){g(e);for(var r,n=y(t=b(t)),o=0,i=n.length;i>o;)X(e,r=n[o++],t[r]);return e},Y=function(e){var t=j.call(this,e=x(e,!0));return!(this===B&&o(F,e)&&!o(N,e))&&(!(t||!o(this,e)||!o(F,e)||o(this,L)&&this[L][e])||t)},K=function(e,t){if(e=b(e),t=x(t,!0),e!==B||!o(F,t)||o(N,t)){var r=O(e,t);return!r||!o(F,t)||o(e,L)&&e[L][t]||(r.enumerable=!0),r}},$=function(e){for(var t,r=A(b(e)),n=[],i=0;r.length>i;)o(F,t=r[i++])||t==L||t==l||n.push(t);return n},J=function(e){for(var t,r=e===B,n=A(r?N:b(e)),i=[],a=0;n.length>a;)!o(F,t=n[a++])||r&&!o(B,t)||i.push(F[t]);return i};U||(s((I=function(){if(this instanceof I)throw TypeError("Symbol is not a constructor!");var e=h(arguments.length>0?arguments[0]:void 0),t=function(r){this===B&&t.call(N,r),o(this,L)&&o(this[L],e)&&(this[L][e]=!1),q(this,e,w(1,r))};return i&&G&&q(B,e,{configurable:!0,set:t}),H(e)}).prototype,"toString",function(){return this._k}),C.f=K,k.f=X,r(320).f=S.f=$,r(141).f=Y,r(207).f=J,i&&!r(100)&&s(B,"propertyIsEnumerable",Y,!0),d.f=function(e){return H(f(e))}),a(a.G+a.W+a.F*!U,{Symbol:I});for(var Q="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;Q.length>ee;)f(Q[ee++]);for(var te=T(f.store),re=0;te.length>re;)m(te[re++]);a(a.S+a.F*!U,"Symbol",{for:function(e){return o(z,e+="")?z[e]:z[e]=I(e)},keyFor:function(e){if(!W(e))throw TypeError(e+" is not a symbol!");for(var t in z)if(z[t]===e)return t},useSetter:function(){G=!0},useSimple:function(){G=!1}}),a(a.S+a.F*!U,"Object",{create:function(e,t){return void 0===t?E(e):Z(E(e),t)},defineProperty:X,defineProperties:Z,getOwnPropertyDescriptor:K,getOwnPropertyNames:$,getOwnPropertySymbols:J}),M&&a(a.S+a.F*(!U||u(function(){var e=I();return"[null]"!=R([e])||"{}"!=R({a:e})||"{}"!=R(Object(e))})),"JSON",{stringify:function(e){for(var t,r,n=[e],o=1;arguments.length>o;)n.push(arguments[o++]);if(r=t=n[1],(_(t)||void 0!==e)&&!W(e))return v(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!W(t))return t}),n[1]=t,R.apply(M,n)}}),I.prototype[D]||r(65)(I.prototype,D,I.prototype.valueOf),p(I,"Symbol"),p(Math,"Math",!0),p(n.JSON,"JSON",!0)},function(e,t,r){var n=r(135)("meta"),o=r(54),i=r(64),a=r(53).f,s=0,l=Object.isExtensible||function(){return!0},u=!r(82)(function(){return l(Object.preventExtensions({}))}),c=function(e){a(e,n,{value:{i:"O"+ ++s,w:{}}})},p=e.exports={KEY:n,NEED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,n)){if(!l(e))return"F";if(!t)return"E";c(e)}return e[n].i},getWeak:function(e,t){if(!i(e,n)){if(!l(e))return!0;if(!t)return!1;c(e)}return e[n].w},onFreeze:function(e){return u&&p.NEED&&l(e)&&!i(e,n)&&c(e),e}}},function(e,t,r){var n=r(102),o=r(207),i=r(141);e.exports=function(e){var t=n(e),r=o.f;if(r)for(var a,s=r(e),l=i.f,u=0;s.length>u;)l.call(e,a=s[u++])&&t.push(a);return t}},function(e,t,r){var n=r(103);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,r){var n=r(66),o=r(320).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==i.call(e)?function(e){try{return o(e)}catch(e){return a.slice()}}(e):o(n(e))}},function(e,t,r){r(206)("asyncIterator")},function(e,t,r){r(206)("observable")},function(e,t,r){e.exports={default:r(768),__esModule:!0}},function(e,t,r){r(769),e.exports=r(17).Object.setPrototypeOf},function(e,t,r){var n=r(41);n(n.S,"Object",{setPrototypeOf:r(770).set})},function(e,t,r){var n=r(54),o=r(42),i=function(e,t){if(o(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{(n=r(101)(Function.call,r(208).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,r){return i(e,r),t?e.__proto__=r:n(e,r),e}}({},!1):void 0),check:i}},function(e,t,r){e.exports={default:r(772),__esModule:!0}},function(e,t,r){r(773);var n=r(17).Object;e.exports=function(e,t){return n.create(e,t)}},function(e,t,r){var n=r(41);n(n.S,"Object",{create:r(203)})},function(e,t,r){r(775),e.exports=r(17).Object.assign},function(e,t,r){var n=r(41);n(n.S+n.F,"Object",{assign:r(776)})},function(e,t,r){"use strict";var n=r(102),o=r(207),i=r(141),a=r(134),s=r(317),l=Object.assign;e.exports=!l||r(82)(function(){var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach(function(e){t[e]=e}),7!=l({},e)[r]||Object.keys(l({},t)).join("")!=n})?function(e,t){for(var r=a(e),l=arguments.length,u=1,c=o.f,p=i.f;l>u;)for(var h,f=s(arguments[u++]),d=c?n(f).concat(c(f)):n(f),m=d.length,y=0;m>y;)p.call(f,h=d[y++])&&(r[h]=f[h]);return r}:l},function(e,t,r){"use strict";t.a=function(e){var t=e.cellCount,r=e.cellSize,n=e.computeMetadataCallback,o=e.computeMetadataCallbackProps,i=e.nextCellsCount,a=e.nextCellSize,s=e.nextScrollToIndex,l=e.scrollToIndex,u=e.updateScrollOffsetForScrollToIndex;t===i&&("number"!==typeof r&&"number"!==typeof a||r===a)||(n(o),l>=0&&l===s&&u())}},function(e,t,r){"use strict";var n=r(13),o=r.n(n),i=r(16),a=r.n(i),s=(r(4),function(){function e(t){var r=t.cellCount,n=t.cellSizeGetter,i=t.estimatedCellSize;o()(this,e),this._cellSizeAndPositionData={},this._lastMeasuredIndex=-1,this._lastBatchedIndex=-1,this._cellSizeGetter=n,this._cellCount=r,this._estimatedCellSize=i}return a()(e,[{key:"areOffsetsAdjusted",value:function(){return!1}},{key:"configure",value:function(e){var t=e.cellCount,r=e.estimatedCellSize,n=e.cellSizeGetter;this._cellCount=t,this._estimatedCellSize=r,this._cellSizeGetter=n}},{key:"getCellCount",value:function(){return this._cellCount}},{key:"getEstimatedCellSize",value:function(){return this._estimatedCellSize}},{key:"getLastMeasuredIndex",value:function(){return this._lastMeasuredIndex}},{key:"getOffsetAdjustment",value:function(){return 0}},{key:"getSizeAndPositionOfCell",value:function(e){if(e<0||e>=this._cellCount)throw Error("Requested index "+e+" is outside of range 0.."+this._cellCount);if(e>this._lastMeasuredIndex)for(var t=this.getSizeAndPositionOfLastMeasuredCell(),r=t.offset+t.size,n=this._lastMeasuredIndex+1;n<=e;n++){var o=this._cellSizeGetter({index:n});if(void 0===o||isNaN(o))throw Error("Invalid size returned for cell "+n+" of value "+o);null===o?(this._cellSizeAndPositionData[n]={offset:r,size:0},this._lastBatchedIndex=e):(this._cellSizeAndPositionData[n]={offset:r,size:o},r+=o,this._lastMeasuredIndex=e)}return this._cellSizeAndPositionData[e]}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._lastMeasuredIndex>=0?this._cellSizeAndPositionData[this._lastMeasuredIndex]:{offset:0,size:0}}},{key:"getTotalSize",value:function(){var e=this.getSizeAndPositionOfLastMeasuredCell();return e.offset+e.size+(this._cellCount-this._lastMeasuredIndex-1)*this._estimatedCellSize}},{key:"getUpdatedOffsetForIndex",value:function(e){var t=e.align,r=void 0===t?"auto":t,n=e.containerSize,o=e.currentOffset,i=e.targetIndex;if(n<=0)return 0;var a=this.getSizeAndPositionOfCell(i),s=a.offset,l=s-n+a.size,u=void 0;switch(r){case"start":u=s;break;case"end":u=l;break;case"center":u=s-(n-a.size)/2;break;default:u=Math.max(l,Math.min(s,o))}var c=this.getTotalSize();return Math.max(0,Math.min(c-n,u))}},{key:"getVisibleCellRange",value:function(e){var t=e.containerSize,r=e.offset;if(0===this.getTotalSize())return{};var n=r+t,o=this._findNearestCell(r),i=this.getSizeAndPositionOfCell(o);r=i.offset+i.size;for(var a=o;r<n&&a<this._cellCount-1;)a++,r+=this.getSizeAndPositionOfCell(a).size;return{start:o,stop:a}}},{key:"resetCell",value:function(e){this._lastMeasuredIndex=Math.min(this._lastMeasuredIndex,e-1)}},{key:"_binarySearch",value:function(e,t,r){for(;t<=e;){var n=t+Math.floor((e-t)/2),o=this.getSizeAndPositionOfCell(n).offset;if(o===r)return n;o<r?t=n+1:o>r&&(e=n-1)}return t>0?t-1:0}},{key:"_exponentialSearch",value:function(e,t){for(var r=1;e<this._cellCount&&this.getSizeAndPositionOfCell(e).offset<t;)e+=r,r*=2;return this._binarySearch(Math.min(e,this._cellCount-1),Math.floor(e/2),t)}},{key:"_findNearestCell",value:function(e){if(isNaN(e))throw Error("Invalid offset "+e+" specified");e=Math.max(0,e);var t=this.getSizeAndPositionOfLastMeasuredCell(),r=Math.max(0,this._lastMeasuredIndex);return t.offset>=e?this._binarySearch(r,0,e):this._exponentialSearch(r,e)}}]),e}());t.a=s},function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n=function(){return"undefined"!==typeof window&&window.chrome&&window.chrome.webstore?16777100:15e5}},function(e,t,r){r(781),e.exports=r(17).Object.keys},function(e,t,r){var n=r(134),o=r(102);r(199)("keys",function(){return function(e){return o(n(e))}})},function(e,t,r){"use strict";t.a=function(e){var t=e.cellSize,r=e.cellSizeAndPositionManager,n=e.previousCellsCount,o=e.previousCellSize,i=e.previousScrollToAlignment,a=e.previousScrollToIndex,s=e.previousSize,l=e.scrollOffset,u=e.scrollToAlignment,c=e.scrollToIndex,p=e.size,h=e.sizeJustIncreasedFromZero,f=e.updateScrollIndexCallback,d=r.getCellCount(),m=c>=0&&c<d;m&&(p!==s||h||!o||"number"===typeof t&&t!==o||u!==i||c!==a)?f(c):!m&&d>0&&(p<s||d<n)&&l>r.getTotalSize()-p&&f(d-1)};r(209),r(4)},function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=!("undefined"===typeof window||!window.document||!window.document.createElement);t.default=n,e.exports=t.default},function(e,t,r){e.exports={default:r(786),__esModule:!0}},function(e,t,r){r(321),r(138),r(140),r(787),r(798),r(799),e.exports=r(17).Promise},function(e,t,r){"use strict";var n,o,i,a,s=r(100),l=r(29),u=r(101),c=r(213),p=r(41),h=r(54),f=r(136),d=r(788),m=r(789),y=r(328),v=r(329).set,g=r(793)(),_=r(214),b=r(330),x=r(794),w=r(331),E=l.TypeError,S=l.process,C=S&&S.versions,k=C&&C.v8||"",T=l.Promise,O="process"==c(S),P=function(){},A=o=_.f,I=!!function(){try{var e=T.resolve(1),t=(e.constructor={})[r(30)("species")]=function(e){e(P,P)};return(O||"function"==typeof PromiseRejectionEvent)&&e.then(P)instanceof t&&0!==k.indexOf("6.6")&&-1===x.indexOf("Chrome/66")}catch(e){}}(),M=function(e){var t;return!(!h(e)||"function"!=typeof(t=e.then))&&t},R=function(e,t){if(!e._n){e._n=!0;var r=e._c;g(function(){for(var n=e._v,o=1==e._s,i=0,a=function(t){var r,i,a,s=o?t.ok:t.fail,l=t.resolve,u=t.reject,c=t.domain;try{s?(o||(2==e._h&&j(e),e._h=1),!0===s?r=n:(c&&c.enter(),r=s(n),c&&(c.exit(),a=!0)),r===t.promise?u(E("Promise-chain cycle")):(i=M(r))?i.call(r,l,u):l(r)):u(n)}catch(e){c&&!a&&c.exit(),u(e)}};r.length>i;)a(r[i++]);e._c=[],e._n=!1,t&&!e._h&&L(e)})}},L=function(e){v.call(l,function(){var t,r,n,o=e._v,i=D(e);if(i&&(t=b(function(){O?S.emit("unhandledRejection",o,e):(r=l.onunhandledrejection)?r({promise:e,reason:o}):(n=l.console)&&n.error&&n.error("Unhandled promise rejection",o)}),e._h=O||D(e)?2:1),e._a=void 0,i&&t.e)throw t.v})},D=function(e){return 1!==e._h&&0===(e._a||e._c).length},j=function(e){v.call(l,function(){var t;O?S.emit("rejectionHandled",e):(t=l.onrejectionhandled)&&t({promise:e,reason:e._v})})},z=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),R(t,!0))},F=function(e){var t,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw E("Promise can't be resolved itself");(t=M(e))?g(function(){var n={_w:r,_d:!1};try{t.call(e,u(F,n,1),u(z,n,1))}catch(e){z.call(n,e)}}):(r._v=e,r._s=1,R(r,!1))}catch(e){z.call({_w:r,_d:!1},e)}}};I||(T=function(e){d(this,T,"Promise","_h"),f(e),n.call(this);try{e(u(F,this,1),u(z,this,1))}catch(e){z.call(this,e)}},(n=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=r(795)(T.prototype,{then:function(e,t){var r=A(y(this,T));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=O?S.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&R(this,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new n;this.promise=e,this.resolve=u(F,e,1),this.reject=u(z,e,1)},_.f=A=function(e){return e===T||e===a?new i(e):o(e)}),p(p.G+p.W+p.F*!I,{Promise:T}),r(139)(T,"Promise"),r(796)("Promise"),a=r(17).Promise,p(p.S+p.F*!I,"Promise",{reject:function(e){var t=A(this);return(0,t.reject)(e),t.promise}}),p(p.S+p.F*(s||!I),"Promise",{resolve:function(e){return w(s&&this===a?T:this,e)}}),p(p.S+p.F*!(I&&r(797)(function(e){T.all(e).catch(P)})),"Promise",{all:function(e){var t=this,r=A(t),n=r.resolve,o=r.reject,i=b(function(){var r=[],i=0,a=1;m(e,!1,function(e){var s=i++,l=!1;r.push(void 0),a++,t.resolve(e).then(function(e){l||(l=!0,r[s]=e,--a||n(r))},o)}),--a||n(r)});return i.e&&o(i.v),r.promise},race:function(e){var t=this,r=A(t),n=r.reject,o=b(function(){m(e,!1,function(e){t.resolve(e).then(r.resolve,n)})});return o.e&&n(o.v),r.promise}})},function(e,t){e.exports=function(e,t,r,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(r+": incorrect invocation!");return e}},function(e,t,r){var n=r(101),o=r(790),i=r(791),a=r(42),s=r(318),l=r(327),u={},c={};(t=e.exports=function(e,t,r,p,h){var f,d,m,y,v=h?function(){return e}:l(e),g=n(r,p,t?2:1),_=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(i(v)){for(f=s(e.length);f>_;_++)if((y=t?g(a(d=e[_])[0],d[1]):g(e[_]))===u||y===c)return y}else for(m=v.call(e);!(d=m.next()).done;)if((y=o(m,g,d.value,t))===u||y===c)return y}).BREAK=u,t.RETURN=c},function(e,t,r){var n=r(42);e.exports=function(e,t,r,o){try{return o?t(n(r)[0],r[1]):t(r)}catch(t){var i=e.return;throw void 0!==i&&n(i.call(e)),t}}},function(e,t,r){var n=r(83),o=r(30)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||i[o]===e)}},function(e,t){e.exports=function(e,t,r){var n=void 0===r;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},function(e,t,r){var n=r(29),o=r(329).set,i=n.MutationObserver||n.WebKitMutationObserver,a=n.process,s=n.Promise,l="process"==r(103)(a);e.exports=function(){var e,t,r,u=function(){var n,o;for(l&&(n=a.domain)&&n.exit();e;){o=e.fn,e=e.next;try{o()}catch(n){throw e?r():t=void 0,n}}t=void 0,n&&n.enter()};if(l)r=function(){a.nextTick(u)};else if(!i||n.navigator&&n.navigator.standalone)if(s&&s.resolve){var c=s.resolve(void 0);r=function(){c.then(u)}}else r=function(){o.call(n,u)};else{var p=!0,h=document.createTextNode("");new i(u).observe(h,{characterData:!0}),r=function(){h.data=p=!p}}return function(n){var o={fn:n,next:void 0};t&&(t.next=o),e||(e=o,r()),t=o}}},function(e,t,r){var n=r(29).navigator;e.exports=n&&n.userAgent||""},function(e,t,r){var n=r(65);e.exports=function(e,t,r){for(var o in t)r&&e[o]?e[o]=t[o]:n(e,o,t[o]);return e}},function(e,t,r){"use strict";var n=r(29),o=r(17),i=r(53),a=r(55),s=r(30)("species");e.exports=function(e){var t="function"==typeof o[e]?o[e]:n[e];a&&t&&!t[s]&&i.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,r){var n=r(30)("iterator"),o=!1;try{var i=[7][n]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var r=!1;try{var i=[7],a=i[n]();a.next=function(){return{done:r=!0}},i[n]=function(){return a},e(i)}catch(e){}return r}},function(e,t,r){"use strict";var n=r(41),o=r(17),i=r(29),a=r(328),s=r(331);n(n.P+n.R,"Promise",{finally:function(e){var t=a(this,o.Promise||i.Promise),r="function"==typeof e;return this.then(r?function(r){return s(t,e()).then(function(){return r})}:e,r?function(r){return s(t,e()).then(function(){throw r})}:e)}})},function(e,t,r){"use strict";var n=r(41),o=r(214),i=r(330);n(n.S,"Promise",{try:function(e){var t=o.f(this),r=i(e);return(r.e?t.reject:t.resolve)(r.v),t.promise}})},function(e,t,r){"use strict";r.d(t,"b",function(){return o}),r.d(t,"a",function(){return i});var n=void 0,o=(n="undefined"!==typeof window?window:"undefined"!==typeof self?self:{}).requestAnimationFrame||n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame||n.oRequestAnimationFrame||n.msRequestAnimationFrame||function(e){return n.setTimeout(e,1e3/60)},i=n.cancelAnimationFrame||n.webkitCancelAnimationFrame||n.mozCancelAnimationFrame||n.oCancelAnimationFrame||n.msCancelAnimationFrame||function(e){n.clearTimeout(e)}},function(e,t,r){"use strict";t.a=function(e){var t=e.cellCount,r=e.overscanCellsCount,o=e.scrollDirection,i=e.startIndex,a=e.stopIndex;return r=Math.max(1,r),o===n?{overscanStartIndex:Math.max(0,i-1),overscanStopIndex:Math.min(t-1,a+r)}:{overscanStartIndex:Math.max(0,i-r),overscanStopIndex:Math.min(t-1,a+1)}};r(4);var n=1},function(e,t,r){"use strict";var n=r(333);r.d(t,"a",function(){return n.a})},function(e,t,r){"use strict";var n=r(24),o=r.n(n),i=r(13),a=r.n(i),s=r(16),l=r.n(s),u=r(25),c=r.n(u),p=r(26),h=r.n(p),f=r(0),d=(r.n(f),r(37)),m=(r.n(d),r(336),r(10)),y=(r.n(m),function(e){function t(){var e,r,n,i;a()(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return r=n=c()(this,(e=t.__proto__||o()(t)).call.apply(e,[this].concat(l))),n._measure=function(){var e=n.props,t=e.cache,r=e.columnIndex,o=void 0===r?0:r,i=e.parent,a=e.rowIndex,s=void 0===a?n.props.index||0:a,l=n._getCellMeasurements(),u=l.height,c=l.width;u===t.getHeight(s,o)&&c===t.getWidth(s,o)||(t.set(s,o,c,u),i&&"function"===typeof i.recomputeGridSize&&i.recomputeGridSize({columnIndex:o,rowIndex:s}))},i=r,c()(n,i)}return h()(t,e),l()(t,[{key:"componentDidMount",value:function(){this._maybeMeasureCell()}},{key:"componentDidUpdate",value:function(){this._maybeMeasureCell()}},{key:"render",value:function(){var e=this.props.children;return"function"===typeof e?e({measure:this._measure}):e}},{key:"_getCellMeasurements",value:function(){var e=this.props.cache,t=Object(d.findDOMNode)(this);if(t&&t.ownerDocument&&t.ownerDocument.defaultView&&t instanceof t.ownerDocument.defaultView.HTMLElement){var r=t.style.width,n=t.style.height;e.hasFixedWidth()||(t.style.width="auto"),e.hasFixedHeight()||(t.style.height="auto");var o=Math.ceil(t.offsetHeight),i=Math.ceil(t.offsetWidth);return r&&(t.style.width=r),n&&(t.style.height=n),{height:o,width:i}}return{height:0,width:0}}},{key:"_maybeMeasureCell",value:function(){var e=this.props,t=e.cache,r=e.columnIndex,n=void 0===r?0:r,o=e.parent,i=e.rowIndex,a=void 0===i?this.props.index||0:i;if(!t.has(a,n)){var s=this._getCellMeasurements(),l=s.height,u=s.width;t.set(a,n,u,l),o&&"function"===typeof o.invalidateCellSizeAfterRender&&o.invalidateCellSizeAfterRender({columnIndex:n,rowIndex:a})}}}]),t}(f.PureComponent));y.__internalCellMeasurerFlag=!1,y.propTypes=null,t.a=y},function(e,t,r){"use strict";var n=r(13),o=r.n(n),i=r(16),a=r.n(i),s=(r(336),30),l=100;!function(){function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o()(this,e),this._cellHeightCache={},this._cellWidthCache={},this._columnWidthCache={},this._rowHeightCache={},this._columnCount=0,this._rowCount=0,this.columnWidth=function(e){var r=e.index,n=t._keyMapper(0,r);return t._columnWidthCache.hasOwnProperty(n)?t._columnWidthCache[n]:t._defaultWidth},this.rowHeight=function(e){var r=e.index,n=t._keyMapper(r,0);return t._rowHeightCache.hasOwnProperty(n)?t._rowHeightCache[n]:t._defaultHeight};var n=r.defaultHeight,i=r.defaultWidth,a=r.fixedHeight,c=r.fixedWidth,p=r.keyMapper,h=r.minHeight,f=r.minWidth;this._hasFixedHeight=!0===a,this._hasFixedWidth=!0===c,this._minHeight=h||0,this._minWidth=f||0,this._keyMapper=p||u,this._defaultHeight=Math.max(this._minHeight,"number"===typeof n?n:s),this._defaultWidth=Math.max(this._minWidth,"number"===typeof i?i:l)}a()(e,[{key:"clear",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this._keyMapper(e,t);delete this._cellHeightCache[r],delete this._cellWidthCache[r],this._updateCachedColumnAndRowSizes(e,t)}},{key:"clearAll",value:function(){this._cellHeightCache={},this._cellWidthCache={},this._columnWidthCache={},this._rowHeightCache={},this._rowCount=0,this._columnCount=0}},{key:"hasFixedHeight",value:function(){return this._hasFixedHeight}},{key:"hasFixedWidth",value:function(){return this._hasFixedWidth}},{key:"getHeight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this._hasFixedHeight)return this._defaultHeight;var r=this._keyMapper(e,t);return this._cellHeightCache.hasOwnProperty(r)?Math.max(this._minHeight,this._cellHeightCache[r]):this._defaultHeight}},{key:"getWidth",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this._hasFixedWidth)return this._defaultWidth;var r=this._keyMapper(e,t);return this._cellWidthCache.hasOwnProperty(r)?Math.max(this._minWidth,this._cellWidthCache[r]):this._defaultWidth}},{key:"has",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this._keyMapper(e,t);return this._cellHeightCache.hasOwnProperty(r)}},{key:"set",value:function(e,t,r,n){var o=this._keyMapper(e,t);t>=this._columnCount&&(this._columnCount=t+1),e>=this._rowCount&&(this._rowCount=e+1),this._cellHeightCache[o]=n,this._cellWidthCache[o]=r,this._updateCachedColumnAndRowSizes(e,t)}},{key:"_updateCachedColumnAndRowSizes",value:function(e,t){if(!this._hasFixedWidth){for(var r=0,n=0;n<this._rowCount;n++)r=Math.max(r,this.getWidth(n,t));var o=this._keyMapper(0,t);this._columnWidthCache[o]=r}if(!this._hasFixedHeight){for(var i=0,a=0;a<this._columnCount;a++)i=Math.max(i,this.getHeight(e,a));var s=this._keyMapper(e,0);this._rowHeightCache[s]=i}}},{key:"defaultHeight",get:function(){return this._defaultHeight}},{key:"defaultWidth",get:function(){return this._defaultWidth}}])}();function u(e,t){return e+"-"+t}},function(e,t,r){"use strict";r(806).a},function(e,t,r){"use strict";var n=r(43),o=r.n(n),i=r(210),a=r.n(i),s=r(24),l=r.n(s),u=r(13),c=r.n(u),p=r(16),h=r.n(p),f=r(25),d=r.n(f),m=r(26),y=r.n(m),v=r(10),g=(r.n(v),r(0)),_=(r.n(g),r(807)),b=r(808),x=r(811),w=(r(84),function(e){function t(e,r){c()(this,t);var n=d()(this,(t.__proto__||l()(t)).call(this,e,r));return n._cellMetadata=[],n._lastRenderedCellIndices=[],n._cellCache=[],n._isScrollingChange=n._isScrollingChange.bind(n),n._setCollectionViewRef=n._setCollectionViewRef.bind(n),n}return y()(t,e),h()(t,[{key:"forceUpdate",value:function(){void 0!==this._collectionView&&this._collectionView.forceUpdate()}},{key:"recomputeCellSizesAndPositions",value:function(){this._cellCache=[],this._collectionView.recomputeCellSizesAndPositions()}},{key:"render",value:function(){var e=a()(this.props,[]);return g.createElement(_.a,o()({cellLayoutManager:this,isScrollingChange:this._isScrollingChange,ref:this._setCollectionViewRef},e))}},{key:"calculateSizeAndPositionData",value:function(){var e=this.props,t=e.cellCount,r=e.cellSizeAndPositionGetter,n=e.sectionSize,o=Object(b.a)({cellCount:t,cellSizeAndPositionGetter:r,sectionSize:n});this._cellMetadata=o.cellMetadata,this._sectionManager=o.sectionManager,this._height=o.height,this._width=o.width}},{key:"getLastRenderedIndices",value:function(){return this._lastRenderedCellIndices}},{key:"getScrollPositionForCell",value:function(e){var t=e.align,r=e.cellIndex,n=e.height,o=e.scrollLeft,i=e.scrollTop,a=e.width,s=this.props.cellCount;if(r>=0&&r<s){var l=this._cellMetadata[r];o=Object(x.a)({align:t,cellOffset:l.x,cellSize:l.width,containerSize:a,currentOffset:o,targetIndex:r}),i=Object(x.a)({align:t,cellOffset:l.y,cellSize:l.height,containerSize:n,currentOffset:i,targetIndex:r})}return{scrollLeft:o,scrollTop:i}}},{key:"getTotalSize",value:function(){return{height:this._height,width:this._width}}},{key:"cellRenderers",value:function(e){var t=this,r=e.height,n=e.isScrolling,o=e.width,i=e.x,a=e.y,s=this.props,l=s.cellGroupRenderer,u=s.cellRenderer;return this._lastRenderedCellIndices=this._sectionManager.getCellIndices({height:r,width:o,x:i,y:a}),l({cellCache:this._cellCache,cellRenderer:u,cellSizeAndPositionGetter:function(e){var r=e.index;return t._sectionManager.getCellMetadata({index:r})},indices:this._lastRenderedCellIndices,isScrolling:n})}},{key:"_isScrollingChange",value:function(e){e||(this._cellCache=[])}},{key:"_setCollectionViewRef",value:function(e){this._collectionView=e}}]),t}(g.PureComponent));w.defaultProps={"aria-label":"grid",cellGroupRenderer:function(e){var t=e.cellCache,r=e.cellRenderer,n=e.cellSizeAndPositionGetter,o=e.indices,i=e.isScrolling;return o.map(function(e){var o=n({index:e}),a={index:e,isScrolling:i,key:e,style:{height:o.height,left:o.x,position:"absolute",top:o.y,width:o.width}};return i?(e in t||(t[e]=r(a)),t[e]):r(a)}).filter(function(e){return!!e})}},t.a=w,w.propTypes={}},function(e,t,r){"use strict";var n=r(43),o=r.n(n),i=r(24),a=r.n(i),s=r(13),l=r.n(s),u=r(16),c=r.n(u),p=r(25),h=r.n(p),f=r(26),d=r.n(f),m=r(8),y=r.n(m),v=r(10),g=(r.n(v),r(0)),_=(r.n(g),r(104)),b=r(211),x=r(326),w=r.n(x),E={OBSERVED:"observed",REQUESTED:"requested"},S=function(e){function t(){var e;l()(this,t);for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];var i=h()(this,(e=t.__proto__||a()(t)).call.apply(e,[this].concat(n)));return i.state={isScrolling:!1,scrollLeft:0,scrollTop:0},i._calculateSizeAndPositionDataOnNextUpdate=!1,i._onSectionRenderedMemoizer=Object(b.a)(),i._onScrollMemoizer=Object(b.a)(!1),i._invokeOnSectionRenderedHelper=function(){var e=i.props,t=e.cellLayoutManager,r=e.onSectionRendered;i._onSectionRenderedMemoizer({callback:r,indices:{indices:t.getLastRenderedIndices()}})},i._setScrollingContainerRef=function(e){i._scrollingContainer=e},i._updateScrollPositionForScrollToCell=function(){var e=i.props,t=e.cellLayoutManager,r=e.height,n=e.scrollToAlignment,o=e.scrollToCell,a=e.width,s=i.state,l=s.scrollLeft,u=s.scrollTop;if(o>=0){var c=t.getScrollPositionForCell({align:n,cellIndex:o,height:r,scrollLeft:l,scrollTop:u,width:a});c.scrollLeft===l&&c.scrollTop===u||i._setScrollPosition(c)}},i._onScroll=function(e){if(e.target===i._scrollingContainer){i._enablePointerEventsAfterDelay();var t=i.props,r=t.cellLayoutManager,n=t.height,o=t.isScrollingChange,a=t.width,s=i._scrollbarSize,l=r.getTotalSize(),u=l.height,c=l.width,p=Math.max(0,Math.min(c-a+s,e.target.scrollLeft)),h=Math.max(0,Math.min(u-n+s,e.target.scrollTop));if(i.state.scrollLeft!==p||i.state.scrollTop!==h){var f=e.cancelable?E.OBSERVED:E.REQUESTED;i.state.isScrolling||o(!0),i.setState({isScrolling:!0,scrollLeft:p,scrollPositionChangeReason:f,scrollTop:h})}i._invokeOnScrollMemoizer({scrollLeft:p,scrollTop:h,totalWidth:c,totalHeight:u})}},i._scrollbarSize=w()(),void 0===i._scrollbarSize?(i._scrollbarSizeMeasured=!1,i._scrollbarSize=0):i._scrollbarSizeMeasured=!0,i}return d()(t,e),c()(t,[{key:"recomputeCellSizesAndPositions",value:function(){this._calculateSizeAndPositionDataOnNextUpdate=!0,this.forceUpdate()}},{key:"componentDidMount",value:function(){var e=this.props,t=e.cellLayoutManager,r=e.scrollLeft,n=e.scrollToCell,o=e.scrollTop;this._scrollbarSizeMeasured||(this._scrollbarSize=w()(),this._scrollbarSizeMeasured=!0,this.setState({})),n>=0?this._updateScrollPositionForScrollToCell():(r>=0||o>=0)&&this._setScrollPosition({scrollLeft:r,scrollTop:o}),this._invokeOnSectionRenderedHelper();var i=t.getTotalSize(),a=i.height,s=i.width;this._invokeOnScrollMemoizer({scrollLeft:r||0,scrollTop:o||0,totalHeight:a,totalWidth:s})}},{key:"componentDidUpdate",value:function(e,t){var r=this.props,n=r.height,o=r.scrollToAlignment,i=r.scrollToCell,a=r.width,s=this.state,l=s.scrollLeft,u=s.scrollPositionChangeReason,c=s.scrollTop;u===E.REQUESTED&&(l>=0&&l!==t.scrollLeft&&l!==this._scrollingContainer.scrollLeft&&(this._scrollingContainer.scrollLeft=l),c>=0&&c!==t.scrollTop&&c!==this._scrollingContainer.scrollTop&&(this._scrollingContainer.scrollTop=c)),n===e.height&&o===e.scrollToAlignment&&i===e.scrollToCell&&a===e.width||this._updateScrollPositionForScrollToCell(),this._invokeOnSectionRenderedHelper()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var e=this.props,t=e.autoHeight,r=e.cellCount,n=e.cellLayoutManager,i=e.className,a=e.height,s=e.horizontalOverscanSize,l=e.id,u=e.noContentRenderer,c=e.style,p=e.verticalOverscanSize,h=e.width,f=this.state,d=f.isScrolling,m=f.scrollLeft,v=f.scrollTop;(this._lastRenderedCellCount!==r||this._lastRenderedCellLayoutManager!==n||this._calculateSizeAndPositionDataOnNextUpdate)&&(this._lastRenderedCellCount=r,this._lastRenderedCellLayoutManager=n,this._calculateSizeAndPositionDataOnNextUpdate=!1,n.calculateSizeAndPositionData());var _=n.getTotalSize(),b=_.height,x=_.width,w=Math.max(0,m-s),E=Math.max(0,v-p),S=Math.min(x,m+h+s),C=Math.min(b,v+a+p),k=a>0&&h>0?n.cellRenderers({height:C-E,isScrolling:d,width:S-w,x:w,y:E}):[],T={boxSizing:"border-box",direction:"ltr",height:t?"auto":a,position:"relative",WebkitOverflowScrolling:"touch",width:h,willChange:"transform"},O=b>a?this._scrollbarSize:0,P=x>h?this._scrollbarSize:0;return T.overflowX=x+O<=h?"hidden":"auto",T.overflowY=b+P<=a?"hidden":"auto",g.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:y()("ReactVirtualized__Collection",i),id:l,onScroll:this._onScroll,role:"grid",style:o()({},T,c),tabIndex:0},r>0&&g.createElement("div",{className:"ReactVirtualized__Collection__innerScrollContainer",style:{height:b,maxHeight:b,maxWidth:x,overflow:"hidden",pointerEvents:d?"none":"",width:x}},k),0===r&&u())}},{key:"_enablePointerEventsAfterDelay",value:function(){var e=this;this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=setTimeout(function(){(0,e.props.isScrollingChange)(!1),e._disablePointerEventsTimeoutId=null,e.setState({isScrolling:!1})},150)}},{key:"_invokeOnScrollMemoizer",value:function(e){var t=this,r=e.scrollLeft,n=e.scrollTop,o=e.totalHeight,i=e.totalWidth;this._onScrollMemoizer({callback:function(e){var r=e.scrollLeft,n=e.scrollTop,a=t.props,s=a.height;(0,a.onScroll)({clientHeight:s,clientWidth:a.width,scrollHeight:o,scrollLeft:r,scrollTop:n,scrollWidth:i})},indices:{scrollLeft:r,scrollTop:n}})}},{key:"_setScrollPosition",value:function(e){var t=e.scrollLeft,r=e.scrollTop,n={scrollPositionChangeReason:E.REQUESTED};t>=0&&(n.scrollLeft=t),r>=0&&(n.scrollTop=r),(t>=0&&t!==this.state.scrollLeft||r>=0&&r!==this.state.scrollTop)&&this.setState(n)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return 0!==e.cellCount||0===t.scrollLeft&&0===t.scrollTop?e.scrollLeft!==t.scrollLeft||e.scrollTop!==t.scrollTop?{scrollLeft:null!=e.scrollLeft?e.scrollLeft:t.scrollLeft,scrollTop:null!=e.scrollTop?e.scrollTop:t.scrollTop}:null:{scrollLeft:0,scrollTop:0}}}]),t}(g.PureComponent);S.defaultProps={"aria-label":"grid",horizontalOverscanSize:0,noContentRenderer:function(){return null},onScroll:function(){return null},onSectionRendered:function(){return null},scrollToAlignment:"auto",scrollToCell:-1,style:{},verticalOverscanSize:0},S.propTypes={},Object(_.a)(S),t.a=S},function(e,t,r){"use strict";t.a=function(e){for(var t=e.cellCount,r=e.cellSizeAndPositionGetter,o=e.sectionSize,i=[],a=new n.a(o),s=0,l=0,u=0;u<t;u++){var c=r({index:u});if(null==c.height||isNaN(c.height)||null==c.width||isNaN(c.width)||null==c.x||isNaN(c.x)||null==c.y||isNaN(c.y))throw Error("Invalid metadata returned for cell "+u+":\n        x:"+c.x+", y:"+c.y+", width:"+c.width+", height:"+c.height);s=Math.max(s,c.y+c.height),l=Math.max(l,c.x+c.width),i[u]=c,a.registerCell({cellMetadatum:c,index:u})}return{cellMetadata:i,height:s,sectionManager:a,width:l}};var n=r(809)},function(e,t,r){"use strict";var n=r(212),o=r.n(n),i=r(13),a=r.n(i),s=r(16),l=r.n(s),u=r(810),c=(r(84),100),p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;a()(this,e),this._sectionSize=t,this._cellMetadata=[],this._sections={}}return l()(e,[{key:"getCellIndices",value:function(e){var t=e.height,r=e.width,n=e.x,i=e.y,a={};return this.getSections({height:t,width:r,x:n,y:i}).forEach(function(e){return e.getCellIndices().forEach(function(e){a[e]=e})}),o()(a).map(function(e){return a[e]})}},{key:"getCellMetadata",value:function(e){var t=e.index;return this._cellMetadata[t]}},{key:"getSections",value:function(e){for(var t=e.height,r=e.width,n=e.x,o=e.y,i=Math.floor(n/this._sectionSize),a=Math.floor((n+r-1)/this._sectionSize),s=Math.floor(o/this._sectionSize),l=Math.floor((o+t-1)/this._sectionSize),c=[],p=i;p<=a;p++)for(var h=s;h<=l;h++){var f=p+"."+h;this._sections[f]||(this._sections[f]=new u.a({height:this._sectionSize,width:this._sectionSize,x:p*this._sectionSize,y:h*this._sectionSize})),c.push(this._sections[f])}return c}},{key:"getTotalSectionCount",value:function(){return o()(this._sections).length}},{key:"toString",value:function(){var e=this;return o()(this._sections).map(function(t){return e._sections[t].toString()})}},{key:"registerCell",value:function(e){var t=e.cellMetadatum,r=e.index;this._cellMetadata[r]=t,this.getSections(t).forEach(function(e){return e.addCellIndex({index:r})})}}]),e}();t.a=p},function(e,t,r){"use strict";var n=r(13),o=r.n(n),i=r(16),a=r.n(i),s=(r(84),function(){function e(t){var r=t.height,n=t.width,i=t.x,a=t.y;o()(this,e),this.height=r,this.width=n,this.x=i,this.y=a,this._indexMap={},this._indices=[]}return a()(e,[{key:"addCellIndex",value:function(e){var t=e.index;this._indexMap[t]||(this._indexMap[t]=!0,this._indices.push(t))}},{key:"getCellIndices",value:function(){return this._indices}},{key:"toString",value:function(){return this.x+","+this.y+" "+this.width+"x"+this.height}}]),e}());t.a=s},function(e,t,r){"use strict";t.a=function(e){var t=e.align,r=void 0===t?"auto":t,n=e.cellOffset,o=e.cellSize,i=e.containerSize,a=e.currentOffset,s=n,l=s-i+o;switch(r){case"start":return s;case"end":return l;case"center":return s-(i-o)/2;default:return Math.max(l,Math.min(s,a))}}},function(e,t,r){"use strict";r(813).a},function(e,t,r){"use strict";var n=r(24),o=r.n(n),i=r(13),a=r.n(i),s=r(16),l=r.n(s),u=r(25),c=r.n(u),p=r(26),h=r.n(p),f=r(10),d=(r.n(f),r(0)),m=(r.n(d),function(e){function t(e,r){a()(this,t);var n=c()(this,(t.__proto__||o()(t)).call(this,e,r));return n._registerChild=n._registerChild.bind(n),n}return h()(t,e),l()(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.columnMaxWidth,n=t.columnMinWidth,o=t.columnCount,i=t.width;r===e.columnMaxWidth&&n===e.columnMinWidth&&o===e.columnCount&&i===e.width||this._registeredChild&&this._registeredChild.recomputeGridSize()}},{key:"render",value:function(){var e=this.props,t=e.children,r=e.columnMaxWidth,n=e.columnMinWidth,o=e.columnCount,i=e.width,a=n||1,s=r?Math.min(r,i):i,l=i/o;return l=Math.max(a,l),l=Math.min(s,l),l=Math.floor(l),t({adjustedWidth:Math.min(i,l*o),columnWidth:l,getColumnWidth:function(){return l},registerChild:this._registerChild})}},{key:"_registerChild",value:function(e){if(e&&"function"!==typeof e.recomputeGridSize)throw Error("Unexpected child type registered; only Grid/MultiGrid children are supported.");this._registeredChild=e,this._registeredChild&&this._registeredChild.recomputeGridSize()}}]),t}(d.PureComponent));t.a=m,m.propTypes={}},function(e,t,r){"use strict";r(815).a},function(e,t,r){"use strict";var n=r(24),o=r.n(n),i=r(13),a=r.n(i),s=r(16),l=r.n(s),u=r(25),c=r.n(u),p=r(26),h=r.n(p),f=r(0),d=(r.n(f),r(10)),m=(r.n(d),r(211)),y=function(e){function t(e,r){a()(this,t);var n=c()(this,(t.__proto__||o()(t)).call(this,e,r));return n._loadMoreRowsMemoizer=Object(m.a)(),n._onRowsRendered=n._onRowsRendered.bind(n),n._registerChild=n._registerChild.bind(n),n}return h()(t,e),l()(t,[{key:"resetLoadMoreRowsCache",value:function(e){this._loadMoreRowsMemoizer=Object(m.a)(),e&&this._doStuff(this._lastRenderedStartIndex,this._lastRenderedStopIndex)}},{key:"render",value:function(){return(0,this.props.children)({onRowsRendered:this._onRowsRendered,registerChild:this._registerChild})}},{key:"_loadUnloadedRanges",value:function(e){var t=this,r=this.props.loadMoreRows;e.forEach(function(e){var n=r(e);n&&n.then(function(){var r,n,o,i,a;r={lastRenderedStartIndex:t._lastRenderedStartIndex,lastRenderedStopIndex:t._lastRenderedStopIndex,startIndex:e.startIndex,stopIndex:e.stopIndex},n=r.lastRenderedStartIndex,o=r.lastRenderedStopIndex,i=r.startIndex,a=r.stopIndex,i>o||a<n||t._registeredChild&&function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r="function"===typeof e.recomputeGridSize?e.recomputeGridSize:e.recomputeRowHeights;r?r.call(e,t):e.forceUpdate()}(t._registeredChild,t._lastRenderedStartIndex)})})}},{key:"_onRowsRendered",value:function(e){var t=e.startIndex,r=e.stopIndex;this._lastRenderedStartIndex=t,this._lastRenderedStopIndex=r,this._doStuff(t,r)}},{key:"_doStuff",value:function(e,t){var r=this,n=this.props,o=n.isRowLoaded,i=n.minimumBatchSize,a=n.rowCount,s=n.threshold,l=function(e){for(var t=e.isRowLoaded,r=e.minimumBatchSize,n=e.rowCount,o=e.startIndex,i=e.stopIndex,a=[],s=null,l=null,u=o;u<=i;u++){var c=t({index:u});c?null!==l&&(a.push({startIndex:s,stopIndex:l}),s=l=null):(l=u,null===s&&(s=u))}if(null!==l){for(var p=Math.min(Math.max(l,s+r-1),n-1),h=l+1;h<=p&&!t({index:h});h++)l=h;a.push({startIndex:s,stopIndex:l})}if(a.length)for(var f=a[0];f.stopIndex-f.startIndex+1<r&&f.startIndex>0;){var d=f.startIndex-1;if(t({index:d}))break;f.startIndex=d}return a}({isRowLoaded:o,minimumBatchSize:i,rowCount:a,startIndex:Math.max(0,e-s),stopIndex:Math.min(a-1,t+s)}),u=l.reduce(function(e,t){return e.concat([t.startIndex,t.stopIndex])},[]);this._loadMoreRowsMemoizer({callback:function(){r._loadUnloadedRanges(l)},indices:{squashedUnloadedRanges:u}})}},{key:"_registerChild",value:function(e){this._registeredChild=e}}]),t}(f.PureComponent);y.defaultProps={minimumBatchSize:10,rowCount:0,threshold:15},t.a=y,y.propTypes={}},function(e,t,r){"use strict";var n=r(337);r.d(t,"a",function(){return n.a});r(142)},function(e,t,r){e.exports={default:r(818),__esModule:!0}},function(e,t,r){r(819);var n=r(17).Object;e.exports=function(e,t){return n.getOwnPropertyDescriptor(e,t)}},function(e,t,r){var n=r(66),o=r(208).f;r(199)("getOwnPropertyDescriptor",function(){return function(e,t){return o(n(e),t)}})},function(e,t,r){"use strict";r(821),r(215).a},function(e,t,r){"use strict";r(215)},function(e,t,r){"use strict";t.__esModule=!0;var n,o=r(312),i=(n=o)&&n.__esModule?n:{default:n};t.default=function(e,t,r){return t in e?(0,i.default)(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},function(e,t,r){"use strict";var n=r(824),o=r.n(n),i=r(13),a=r.n(i),s=r(16),l=r.n(s),u=r(831),c=function(){function e(){a()(this,e),this._columnSizeMap={},this._intervalTree=Object(u.a)(),this._leftMap={}}return l()(e,[{key:"estimateTotalHeight",value:function(e,t,r){var n=e-this.count;return this.tallestColumnSize+Math.ceil(n/t)*r}},{key:"range",value:function(e,t,r){var n=this;this._intervalTree.queryInterval(e,e+t,function(e){var t=o()(e,3),i=t[0],a=(t[1],t[2]);return r(a,n._leftMap[a],i)})}},{key:"setPosition",value:function(e,t,r,n){this._intervalTree.insert([r,r+n,e]),this._leftMap[e]=t;var o=this._columnSizeMap,i=o[t];o[t]=void 0===i?r+n:Math.max(i,r+n)}},{key:"count",get:function(){return this._intervalTree.count}},{key:"shortestColumnSize",get:function(){var e=this._columnSizeMap,t=0;for(var r in e){var n=e[r];t=0===t?n:Math.min(t,n)}return t}},{key:"tallestColumnSize",get:function(){var e=this._columnSizeMap,t=0;for(var r in e){var n=e[r];t=Math.max(t,n)}return t}}]),e}();t.a=c},function(e,t,r){"use strict";t.__esModule=!0;var n=i(r(825)),o=i(r(828));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(){return function(e,t){if(Array.isArray(e))return e;if((0,n.default)(Object(e)))return function(e,t){var r=[],n=!0,i=!1,a=void 0;try{for(var s,l=(0,o.default)(e);!(n=(s=l.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{!n&&l.return&&l.return()}finally{if(i)throw a}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(e,t,r){e.exports={default:r(826),__esModule:!0}},function(e,t,r){r(140),r(138),e.exports=r(827)},function(e,t,r){var n=r(213),o=r(30)("iterator"),i=r(83);e.exports=r(17).isIterable=function(e){var t=Object(e);return void 0!==t[o]||"@@iterator"in t||i.hasOwnProperty(n(t))}},function(e,t,r){e.exports={default:r(829),__esModule:!0}},function(e,t,r){r(140),r(138),e.exports=r(830)},function(e,t,r){var n=r(42),o=r(327);e.exports=r(17).getIterator=function(e){var t=o(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return n(t.call(e))}},function(e,t,r){"use strict";t.a=function(e){if(!e||0===e.length)return new _(null);return new _(g(e))};var n=r(832),o=0,i=1;function a(e,t,r,n,o){this.mid=e,this.left=t,this.right=r,this.leftPoints=n,this.rightPoints=o,this.count=(t?t.count:0)+(r?r.count:0)+n.length}var s=a.prototype;function l(e,t){e.mid=t.mid,e.left=t.left,e.right=t.right,e.leftPoints=t.leftPoints,e.rightPoints=t.rightPoints,e.count=t.count}function u(e,t){var r=g(t);e.mid=r.mid,e.left=r.left,e.right=r.right,e.leftPoints=r.leftPoints,e.rightPoints=r.rightPoints,e.count=r.count}function c(e,t){var r=e.intervals([]);r.push(t),u(e,r)}function p(e,t){var r=e.intervals([]),n=r.indexOf(t);return n<0?o:(r.splice(n,1),u(e,r),i)}function h(e,t,r){for(var n=0;n<e.length&&e[n][0]<=t;++n){var o=r(e[n]);if(o)return o}}function f(e,t,r){for(var n=e.length-1;n>=0&&e[n][1]>=t;--n){var o=r(e[n]);if(o)return o}}function d(e,t){for(var r=0;r<e.length;++r){var n=t(e[r]);if(n)return n}}function m(e,t){return e-t}function y(e,t){var r=e[0]-t[0];return r||e[1]-t[1]}function v(e,t){var r=e[1]-t[1];return r||e[0]-t[0]}function g(e){if(0===e.length)return null;for(var t=[],r=0;r<e.length;++r)t.push(e[r][0],e[r][1]);t.sort(m);var n=t[t.length>>1],o=[],i=[],s=[];for(r=0;r<e.length;++r){var l=e[r];l[1]<n?o.push(l):n<l[0]?i.push(l):s.push(l)}var u=s,c=s.slice();return u.sort(y),c.sort(v),new a(n,g(o),g(i),u,c)}function _(e){this.root=e}s.intervals=function(e){return e.push.apply(e,this.leftPoints),this.left&&this.left.intervals(e),this.right&&this.right.intervals(e),e},s.insert=function(e){var t=this.count-this.leftPoints.length;if(this.count+=1,e[1]<this.mid)this.left?4*(this.left.count+1)>3*(t+1)?c(this,e):this.left.insert(e):this.left=g([e]);else if(e[0]>this.mid)this.right?4*(this.right.count+1)>3*(t+1)?c(this,e):this.right.insert(e):this.right=g([e]);else{var r=n.a.ge(this.leftPoints,e,y),o=n.a.ge(this.rightPoints,e,v);this.leftPoints.splice(r,0,e),this.rightPoints.splice(o,0,e)}},s.remove=function(e){var t=this.count-this.leftPoints;if(e[1]<this.mid){return this.left?4*(this.right?this.right.count:0)>3*(t-1)?p(this,e):2===(u=this.left.remove(e))?(this.left=null,this.count-=1,i):(u===i&&(this.count-=1),u):o}else{if(!(e[0]>this.mid)){if(1===this.count)return this.leftPoints[0]===e?2:o;if(1===this.leftPoints.length&&this.leftPoints[0]===e){if(this.left&&this.right){for(var r=this,a=this.left;a.right;)r=a,a=a.right;if(r===this)a.right=this.right;else{var s=this.left;u=this.right;r.count-=a.count,r.right=a.left,a.left=s,a.right=u}l(this,a),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?l(this,this.left):l(this,this.right);return i}for(s=n.a.ge(this.leftPoints,e,y);s<this.leftPoints.length&&this.leftPoints[s][0]===e[0];++s)if(this.leftPoints[s]===e){this.count-=1,this.leftPoints.splice(s,1);for(u=n.a.ge(this.rightPoints,e,v);u<this.rightPoints.length&&this.rightPoints[u][1]===e[1];++u)if(this.rightPoints[u]===e)return this.rightPoints.splice(u,1),i}return o}return this.right?4*(this.left?this.left.count:0)>3*(t-1)?p(this,e):2===(u=this.right.remove(e))?(this.right=null,this.count-=1,i):(u===i&&(this.count-=1),u):o;var u}},s.queryPoint=function(e,t){if(e<this.mid){if(this.left)if(r=this.left.queryPoint(e,t))return r;return h(this.leftPoints,e,t)}if(e>this.mid){var r;if(this.right)if(r=this.right.queryPoint(e,t))return r;return f(this.rightPoints,e,t)}return d(this.leftPoints,t)},s.queryInterval=function(e,t,r){var n;if(e<this.mid&&this.left&&(n=this.left.queryInterval(e,t,r)))return n;if(t>this.mid&&this.right&&(n=this.right.queryInterval(e,t,r)))return n;return t<this.mid?h(this.leftPoints,t,r):e>this.mid?f(this.rightPoints,e,r):d(this.leftPoints,r)};var b=_.prototype;b.insert=function(e){this.root?this.root.insert(e):this.root=new a(e[0],null,null,[e],[e])},b.remove=function(e){if(this.root){var t=this.root.remove(e);return 2===t&&(this.root=null),t!==o}return!1},b.queryPoint=function(e,t){if(this.root)return this.root.queryPoint(e,t)},b.queryInterval=function(e,t,r){if(e<=t&&this.root)return this.root.queryInterval(e,t,r)},Object.defineProperty(b,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(b,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}})},function(e,t,r){"use strict";t.a={ge:function(e,t,r,n,o){return"function"===typeof r?function(e,t,r,n,o){for(var i=r+1;t<=r;){var a=t+r>>>1;o(e[a],n)>=0?(i=a,r=a-1):t=a+1}return i}(e,void 0===n?0:0|n,void 0===o?e.length-1:0|o,t,r):function(e,t,r,n){for(var o=r+1;t<=r;){var i=t+r>>>1;e[i]>=n?(o=i,r=i-1):t=i+1}return o}(e,void 0===r?0:0|r,void 0===n?e.length-1:0|n,t)},gt:function(e,t,r,n,o){return"function"===typeof r?function(e,t,r,n,o){for(var i=r+1;t<=r;){var a=t+r>>>1;o(e[a],n)>0?(i=a,r=a-1):t=a+1}return i}(e,void 0===n?0:0|n,void 0===o?e.length-1:0|o,t,r):function(e,t,r,n){for(var o=r+1;t<=r;){var i=t+r>>>1;e[i]>n?(o=i,r=i-1):t=i+1}return o}(e,void 0===r?0:0|r,void 0===n?e.length-1:0|n,t)},lt:function(e,t,r,n,o){return"function"===typeof r?function(e,t,r,n,o){for(var i=t-1;t<=r;){var a=t+r>>>1;o(e[a],n)<0?(i=a,t=a+1):r=a-1}return i}(e,void 0===n?0:0|n,void 0===o?e.length-1:0|o,t,r):function(e,t,r,n){for(var o=t-1;t<=r;){var i=t+r>>>1;e[i]<n?(o=i,t=i+1):r=i-1}return o}(e,void 0===r?0:0|r,void 0===n?e.length-1:0|n,t)},le:function(e,t,r,n,o){return"function"===typeof r?function(e,t,r,n,o){for(var i=t-1;t<=r;){var a=t+r>>>1;o(e[a],n)<=0?(i=a,t=a+1):r=a-1}return i}(e,void 0===n?0:0|n,void 0===o?e.length-1:0|o,t,r):function(e,t,r,n){for(var o=t-1;t<=r;){var i=t+r>>>1;e[i]<=n?(o=i,t=i+1):r=i-1}return o}(e,void 0===r?0:0|r,void 0===n?e.length-1:0|n,t)},eq:function(e,t,r,n,o){return"function"===typeof r?function(e,t,r,n,o){for(;t<=r;){var i=t+r>>>1,a=o(e[i],n);if(0===a)return i;a<=0?t=i+1:r=i-1}return-1}(e,void 0===n?0:0|n,void 0===o?e.length-1:0|o,t,r):function(e,t,r,n){for(;t<=r;){var o=t+r>>>1,i=e[o];if(i===n)return o;i<=n?t=o+1:r=o-1}return-1}(e,void 0===r?0:0|r,void 0===n?e.length-1:0|n,t)}}},function(e,t,r){"use strict";r(834).a},function(e,t,r){"use strict";var n=r(43),o=r.n(n),i=r(210),a=r.n(i),s=r(24),l=r.n(s),u=r(13),c=r.n(u),p=r(16),h=r.n(p),f=r(25),d=r.n(f),m=r(26),y=r.n(m),v=r(10),g=(r.n(v),r(0)),_=(r.n(g),r(104)),b=r(835),x=r(31),w=function(e){function t(e,r){c()(this,t);var n=d()(this,(t.__proto__||l()(t)).call(this,e,r));E.call(n);var o=e.deferredMeasurementCache,i=e.fixedColumnCount,a=e.fixedRowCount;return n._maybeCalculateCachedStyles(!0),o&&(n._deferredMeasurementCacheBottomLeftGrid=a>0?new b.a({cellMeasurerCache:o,columnIndexOffset:0,rowIndexOffset:a}):o,n._deferredMeasurementCacheBottomRightGrid=i>0||a>0?new b.a({cellMeasurerCache:o,columnIndexOffset:i,rowIndexOffset:a}):o,n._deferredMeasurementCacheTopRightGrid=i>0?new b.a({cellMeasurerCache:o,columnIndexOffset:i,rowIndexOffset:0}):o),n}return y()(t,e),h()(t,[{key:"forceUpdateGrids",value:function(){this._bottomLeftGrid&&this._bottomLeftGrid.forceUpdate(),this._bottomRightGrid&&this._bottomRightGrid.forceUpdate(),this._topLeftGrid&&this._topLeftGrid.forceUpdate(),this._topRightGrid&&this._topRightGrid.forceUpdate()}},{key:"invalidateCellSizeAfterRender",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,r=void 0===t?0:t,n=e.rowIndex,o=void 0===n?0:n;this._deferredInvalidateColumnIndex="number"===typeof this._deferredInvalidateColumnIndex?Math.min(this._deferredInvalidateColumnIndex,r):r,this._deferredInvalidateRowIndex="number"===typeof this._deferredInvalidateRowIndex?Math.min(this._deferredInvalidateRowIndex,o):o}},{key:"measureAllCells",value:function(){this._bottomLeftGrid&&this._bottomLeftGrid.measureAllCells(),this._bottomRightGrid&&this._bottomRightGrid.measureAllCells(),this._topLeftGrid&&this._topLeftGrid.measureAllCells(),this._topRightGrid&&this._topRightGrid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,r=void 0===t?0:t,n=e.rowIndex,o=void 0===n?0:n,i=this.props,a=i.fixedColumnCount,s=i.fixedRowCount,l=Math.max(0,r-a),u=Math.max(0,o-s);this._bottomLeftGrid&&this._bottomLeftGrid.recomputeGridSize({columnIndex:r,rowIndex:u}),this._bottomRightGrid&&this._bottomRightGrid.recomputeGridSize({columnIndex:l,rowIndex:u}),this._topLeftGrid&&this._topLeftGrid.recomputeGridSize({columnIndex:r,rowIndex:o}),this._topRightGrid&&this._topRightGrid.recomputeGridSize({columnIndex:l,rowIndex:o}),this._leftGridWidth=null,this._topGridHeight=null,this._maybeCalculateCachedStyles(!0)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.scrollLeft,r=e.scrollTop;if(t>0||r>0){var n={};t>0&&(n.scrollLeft=t),r>0&&(n.scrollTop=r),this.setState(n)}this._handleInvalidatedGridSize()}},{key:"componentDidUpdate",value:function(){this._handleInvalidatedGridSize()}},{key:"render",value:function(){var e=this.props,t=e.onScroll,r=e.onSectionRendered,n=(e.onScrollbarPresenceChange,e.scrollLeft,e.scrollToColumn),i=(e.scrollTop,e.scrollToRow),s=a()(e,["onScroll","onSectionRendered","onScrollbarPresenceChange","scrollLeft","scrollToColumn","scrollTop","scrollToRow"]);if(this._prepareForRender(),0===this.props.width||0===this.props.height)return null;var l=this.state,u=l.scrollLeft,c=l.scrollTop;return g.createElement("div",{style:this._containerOuterStyle},g.createElement("div",{style:this._containerTopStyle},this._renderTopLeftGrid(s),this._renderTopRightGrid(o()({},s,{onScroll:t,scrollLeft:u}))),g.createElement("div",{style:this._containerBottomStyle},this._renderBottomLeftGrid(o()({},s,{onScroll:t,scrollTop:c})),this._renderBottomRightGrid(o()({},s,{onScroll:t,onSectionRendered:r,scrollLeft:u,scrollToColumn:n,scrollToRow:i,scrollTop:c}))))}},{key:"_getBottomGridHeight",value:function(e){return e.height-this._getTopGridHeight(e)}},{key:"_getLeftGridWidth",value:function(e){var t=e.fixedColumnCount,r=e.columnWidth;if(null==this._leftGridWidth)if("function"===typeof r){for(var n=0,o=0;o<t;o++)n+=r({index:o});this._leftGridWidth=n}else this._leftGridWidth=r*t;return this._leftGridWidth}},{key:"_getRightGridWidth",value:function(e){return e.width-this._getLeftGridWidth(e)}},{key:"_getTopGridHeight",value:function(e){var t=e.fixedRowCount,r=e.rowHeight;if(null==this._topGridHeight)if("function"===typeof r){for(var n=0,o=0;o<t;o++)n+=r({index:o});this._topGridHeight=n}else this._topGridHeight=r*t;return this._topGridHeight}},{key:"_handleInvalidatedGridSize",value:function(){if("number"===typeof this._deferredInvalidateColumnIndex){var e=this._deferredInvalidateColumnIndex,t=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:e,rowIndex:t}),this.forceUpdate()}}},{key:"_maybeCalculateCachedStyles",value:function(e){var t=this.props,r=t.columnWidth,n=t.enableFixedColumnScroll,i=t.enableFixedRowScroll,a=t.height,s=t.fixedColumnCount,l=t.fixedRowCount,u=t.rowHeight,c=t.style,p=t.styleBottomLeftGrid,h=t.styleBottomRightGrid,f=t.styleTopLeftGrid,d=t.styleTopRightGrid,m=t.width,y=e||a!==this._lastRenderedHeight||m!==this._lastRenderedWidth,v=e||r!==this._lastRenderedColumnWidth||s!==this._lastRenderedFixedColumnCount,g=e||l!==this._lastRenderedFixedRowCount||u!==this._lastRenderedRowHeight;(e||y||c!==this._lastRenderedStyle)&&(this._containerOuterStyle=o()({height:a,overflow:"visible",width:m},c)),(e||y||g)&&(this._containerTopStyle={height:this._getTopGridHeight(this.props),position:"relative",width:m},this._containerBottomStyle={height:a-this._getTopGridHeight(this.props),overflow:"visible",position:"relative",width:m}),(e||p!==this._lastRenderedStyleBottomLeftGrid)&&(this._bottomLeftGridStyle=o()({left:0,overflowX:"hidden",overflowY:n?"auto":"hidden",position:"absolute"},p)),(e||v||h!==this._lastRenderedStyleBottomRightGrid)&&(this._bottomRightGridStyle=o()({left:this._getLeftGridWidth(this.props),position:"absolute"},h)),(e||f!==this._lastRenderedStyleTopLeftGrid)&&(this._topLeftGridStyle=o()({left:0,overflowX:"hidden",overflowY:"hidden",position:"absolute",top:0},f)),(e||v||d!==this._lastRenderedStyleTopRightGrid)&&(this._topRightGridStyle=o()({left:this._getLeftGridWidth(this.props),overflowX:i?"auto":"hidden",overflowY:"hidden",position:"absolute",top:0},d)),this._lastRenderedColumnWidth=r,this._lastRenderedFixedColumnCount=s,this._lastRenderedFixedRowCount=l,this._lastRenderedHeight=a,this._lastRenderedRowHeight=u,this._lastRenderedStyle=c,this._lastRenderedStyleBottomLeftGrid=p,this._lastRenderedStyleBottomRightGrid=h,this._lastRenderedStyleTopLeftGrid=f,this._lastRenderedStyleTopRightGrid=d,this._lastRenderedWidth=m}},{key:"_prepareForRender",value:function(){this._lastRenderedColumnWidth===this.props.columnWidth&&this._lastRenderedFixedColumnCount===this.props.fixedColumnCount||(this._leftGridWidth=null),this._lastRenderedFixedRowCount===this.props.fixedRowCount&&this._lastRenderedRowHeight===this.props.rowHeight||(this._topGridHeight=null),this._maybeCalculateCachedStyles(),this._lastRenderedColumnWidth=this.props.columnWidth,this._lastRenderedFixedColumnCount=this.props.fixedColumnCount,this._lastRenderedFixedRowCount=this.props.fixedRowCount,this._lastRenderedRowHeight=this.props.rowHeight}},{key:"_renderBottomLeftGrid",value:function(e){var t=e.enableFixedColumnScroll,r=e.fixedColumnCount,n=e.fixedRowCount,i=e.rowCount,a=e.hideBottomLeftGridScrollbar,s=this.state.showVerticalScrollbar;if(!r)return null;var l=s?1:0,u=this._getBottomGridHeight(e),c=this._getLeftGridWidth(e),p=this.state.showVerticalScrollbar?this.state.scrollbarSize:0,h=a?c+p:c,f=g.createElement(x.b,o()({},e,{cellRenderer:this._cellRendererBottomLeftGrid,className:this.props.classNameBottomLeftGrid,columnCount:r,deferredMeasurementCache:this._deferredMeasurementCacheBottomLeftGrid,height:u,onScroll:t?this._onScrollTop:void 0,ref:this._bottomLeftGridRef,rowCount:Math.max(0,i-n)+l,rowHeight:this._rowHeightBottomGrid,style:this._bottomLeftGridStyle,tabIndex:null,width:h}));return a?g.createElement("div",{className:"BottomLeftGrid_ScrollWrapper",style:o()({},this._bottomLeftGridStyle,{height:u,width:c,overflowY:"hidden"})},f):f}},{key:"_renderBottomRightGrid",value:function(e){var t=e.columnCount,r=e.fixedColumnCount,n=e.fixedRowCount,i=e.rowCount,a=e.scrollToColumn,s=e.scrollToRow;return g.createElement(x.b,o()({},e,{cellRenderer:this._cellRendererBottomRightGrid,className:this.props.classNameBottomRightGrid,columnCount:Math.max(0,t-r),columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheBottomRightGrid,height:this._getBottomGridHeight(e),onScroll:this._onScroll,onScrollbarPresenceChange:this._onScrollbarPresenceChange,ref:this._bottomRightGridRef,rowCount:Math.max(0,i-n),rowHeight:this._rowHeightBottomGrid,scrollToColumn:a-r,scrollToRow:s-n,style:this._bottomRightGridStyle,width:this._getRightGridWidth(e)}))}},{key:"_renderTopLeftGrid",value:function(e){var t=e.fixedColumnCount,r=e.fixedRowCount;return t&&r?g.createElement(x.b,o()({},e,{className:this.props.classNameTopLeftGrid,columnCount:t,height:this._getTopGridHeight(e),ref:this._topLeftGridRef,rowCount:r,style:this._topLeftGridStyle,tabIndex:null,width:this._getLeftGridWidth(e)})):null}},{key:"_renderTopRightGrid",value:function(e){var t=e.columnCount,r=e.enableFixedRowScroll,n=e.fixedColumnCount,i=e.fixedRowCount,a=e.scrollLeft,s=e.hideTopRightGridScrollbar,l=this.state,u=l.showHorizontalScrollbar,c=l.scrollbarSize;if(!i)return null;var p=u?1:0,h=this._getTopGridHeight(e),f=this._getRightGridWidth(e),d=u?c:0,m=h,y=this._topRightGridStyle;s&&(m=h+d,y=o()({},this._topRightGridStyle,{left:0}));var v=g.createElement(x.b,o()({},e,{cellRenderer:this._cellRendererTopRightGrid,className:this.props.classNameTopRightGrid,columnCount:Math.max(0,t-n)+p,columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheTopRightGrid,height:m,onScroll:r?this._onScrollLeft:void 0,ref:this._topRightGridRef,rowCount:i,scrollLeft:a,style:y,tabIndex:null,width:f}));return s?g.createElement("div",{className:"TopRightGrid_ScrollWrapper",style:o()({},this._topRightGridStyle,{height:h,width:f,overflowX:"hidden"})},v):v}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.scrollLeft!==t.scrollLeft||e.scrollTop!==t.scrollTop?{scrollLeft:null!=e.scrollLeft&&e.scrollLeft>=0?e.scrollLeft:t.scrollLeft,scrollTop:null!=e.scrollTop&&e.scrollTop>=0?e.scrollTop:t.scrollTop}:null}}]),t}(g.PureComponent);w.defaultProps={classNameBottomLeftGrid:"",classNameBottomRightGrid:"",classNameTopLeftGrid:"",classNameTopRightGrid:"",enableFixedColumnScroll:!1,enableFixedRowScroll:!1,fixedColumnCount:0,fixedRowCount:0,scrollToColumn:-1,scrollToRow:-1,style:{},styleBottomLeftGrid:{},styleBottomRightGrid:{},styleTopLeftGrid:{},styleTopRightGrid:{},hideTopRightGridScrollbar:!1,hideBottomLeftGridScrollbar:!1};var E=function(){var e=this;this.state={scrollLeft:0,scrollTop:0,scrollbarSize:0,showHorizontalScrollbar:!1,showVerticalScrollbar:!1},this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this._bottomLeftGridRef=function(t){e._bottomLeftGrid=t},this._bottomRightGridRef=function(t){e._bottomRightGrid=t},this._cellRendererBottomLeftGrid=function(t){var r=t.rowIndex,n=a()(t,["rowIndex"]),i=e.props,s=i.cellRenderer,l=i.fixedRowCount;return r===i.rowCount-l?g.createElement("div",{key:n.key,style:o()({},n.style,{height:20})}):s(o()({},n,{parent:e,rowIndex:r+l}))},this._cellRendererBottomRightGrid=function(t){var r=t.columnIndex,n=t.rowIndex,i=a()(t,["columnIndex","rowIndex"]),s=e.props,l=s.cellRenderer,u=s.fixedColumnCount,c=s.fixedRowCount;return l(o()({},i,{columnIndex:r+u,parent:e,rowIndex:n+c}))},this._cellRendererTopRightGrid=function(t){var r=t.columnIndex,n=a()(t,["columnIndex"]),i=e.props,s=i.cellRenderer,l=i.columnCount,u=i.fixedColumnCount;return r===l-u?g.createElement("div",{key:n.key,style:o()({},n.style,{width:20})}):s(o()({},n,{columnIndex:r+u,parent:e}))},this._columnWidthRightGrid=function(t){var r=t.index,n=e.props,o=n.columnCount,i=n.fixedColumnCount,a=n.columnWidth,s=e.state,l=s.scrollbarSize;return s.showHorizontalScrollbar&&r===o-i?l:"function"===typeof a?a({index:r+i}):a},this._onScroll=function(t){var r=t.scrollLeft,n=t.scrollTop;e.setState({scrollLeft:r,scrollTop:n});var o=e.props.onScroll;o&&o(t)},this._onScrollbarPresenceChange=function(t){var r=t.horizontal,n=t.size,o=t.vertical,i=e.state,a=i.showHorizontalScrollbar,s=i.showVerticalScrollbar;if(r!==a||o!==s){e.setState({scrollbarSize:n,showHorizontalScrollbar:r,showVerticalScrollbar:o});var l=e.props.onScrollbarPresenceChange;"function"===typeof l&&l({horizontal:r,size:n,vertical:o})}},this._onScrollLeft=function(t){var r=t.scrollLeft;e._onScroll({scrollLeft:r,scrollTop:e.state.scrollTop})},this._onScrollTop=function(t){var r=t.scrollTop;e._onScroll({scrollTop:r,scrollLeft:e.state.scrollLeft})},this._rowHeightBottomGrid=function(t){var r=t.index,n=e.props,o=n.fixedRowCount,i=n.rowCount,a=n.rowHeight,s=e.state,l=s.scrollbarSize;return s.showVerticalScrollbar&&r===i-o?l:"function"===typeof a?a({index:r+o}):a},this._topLeftGridRef=function(t){e._topLeftGrid=t},this._topRightGridRef=function(t){e._topRightGrid=t}};w.propTypes={},Object(_.a)(w),t.a=w},function(e,t,r){"use strict";var n=r(13),o=r.n(n),i=r(16),a=r.n(i),s=(r(335),function(){function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o()(this,e),this.columnWidth=function(e){var r=e.index;t._cellMeasurerCache.columnWidth({index:r+t._columnIndexOffset})},this.rowHeight=function(e){var r=e.index;t._cellMeasurerCache.rowHeight({index:r+t._rowIndexOffset})};var n=r.cellMeasurerCache,i=r.columnIndexOffset,a=void 0===i?0:i,s=r.rowIndexOffset,l=void 0===s?0:s;this._cellMeasurerCache=n,this._columnIndexOffset=a,this._rowIndexOffset=l}return a()(e,[{key:"clear",value:function(e,t){this._cellMeasurerCache.clear(e+this._rowIndexOffset,t+this._columnIndexOffset)}},{key:"clearAll",value:function(){this._cellMeasurerCache.clearAll()}},{key:"hasFixedHeight",value:function(){return this._cellMeasurerCache.hasFixedHeight()}},{key:"hasFixedWidth",value:function(){return this._cellMeasurerCache.hasFixedWidth()}},{key:"getHeight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._cellMeasurerCache.getHeight(e+this._rowIndexOffset,t+this._columnIndexOffset)}},{key:"getWidth",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._cellMeasurerCache.getWidth(e+this._rowIndexOffset,t+this._columnIndexOffset)}},{key:"has",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._cellMeasurerCache.has(e+this._rowIndexOffset,t+this._columnIndexOffset)}},{key:"set",value:function(e,t,r,n){this._cellMeasurerCache.set(e+this._rowIndexOffset,t+this._columnIndexOffset,r,n)}},{key:"defaultHeight",get:function(){return this._cellMeasurerCache.defaultHeight}},{key:"defaultWidth",get:function(){return this._cellMeasurerCache.defaultWidth}}]),e}());t.a=s},function(e,t,r){"use strict";r(837).a},function(e,t,r){"use strict";var n=r(24),o=r.n(n),i=r(13),a=r.n(i),s=r(16),l=r.n(s),u=r(25),c=r.n(u),p=r(26),h=r.n(p),f=r(10),d=(r.n(f),r(0)),m=(r.n(d),function(e){function t(e,r){a()(this,t);var n=c()(this,(t.__proto__||o()(t)).call(this,e,r));return n.state={clientHeight:0,clientWidth:0,scrollHeight:0,scrollLeft:0,scrollTop:0,scrollWidth:0},n._onScroll=n._onScroll.bind(n),n}return h()(t,e),l()(t,[{key:"render",value:function(){var e=this.props.children,t=this.state,r=t.clientHeight,n=t.clientWidth,o=t.scrollHeight,i=t.scrollLeft,a=t.scrollTop,s=t.scrollWidth;return e({clientHeight:r,clientWidth:n,onScroll:this._onScroll,scrollHeight:o,scrollLeft:i,scrollTop:a,scrollWidth:s})}},{key:"_onScroll",value:function(e){var t=e.clientHeight,r=e.clientWidth,n=e.scrollHeight,o=e.scrollLeft,i=e.scrollTop,a=e.scrollWidth;this.setState({clientHeight:t,clientWidth:r,scrollHeight:n,scrollLeft:o,scrollTop:i,scrollWidth:a})}}]),t}(d.PureComponent));t.a=m,m.propTypes={}},function(e,t,r){"use strict";r(839),r(338),r(339),r(340),r(341),r(343),r(344),r(143),r(342),r(840).a},function(e,t,r){"use strict";var n=r(212);r.n(n)},function(e,t,r){"use strict";var n=r(43),o=r.n(n),i=r(24),a=r.n(i),s=r(13),l=r.n(s),u=r(16),c=r.n(u),p=r(25),h=r.n(p),f=r(26),d=r.n(f),m=r(8),y=r.n(m),v=(r(344),r(10)),g=(r.n(v),r(0)),_=(r.n(g),r(37)),b=(r.n(_),r(31)),x=r(343),w=r(340),E=r(143),S=function(e){function t(e){l()(this,t);var r=h()(this,(t.__proto__||a()(t)).call(this,e));return r.state={scrollbarWidth:0},r._createColumn=r._createColumn.bind(r),r._createRow=r._createRow.bind(r),r._onScroll=r._onScroll.bind(r),r._onSectionRendered=r._onSectionRendered.bind(r),r._setRef=r._setRef.bind(r),r}return d()(t,e),c()(t,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(e){var t=e.alignment,r=e.index;return this.Grid?this.Grid.getOffsetForCell({alignment:t,rowIndex:r}).scrollTop:0}},{key:"invalidateCellSizeAfterRender",value:function(e){var t=e.columnIndex,r=e.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:r,columnIndex:t})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,r=void 0===t?0:t,n=e.rowIndex,o=void 0===n?0:n;this.Grid&&this.Grid.recomputeGridSize({rowIndex:o,columnIndex:r})}},{key:"recomputeRowHeights",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:e})}},{key:"scrollToPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:e})}},{key:"scrollToRow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:e})}},{key:"componentDidMount",value:function(){this._setScrollbarWidth()}},{key:"componentDidUpdate",value:function(){this._setScrollbarWidth()}},{key:"render",value:function(){var e=this,t=this.props,r=t.children,n=t.className,i=t.disableHeader,a=t.gridClassName,s=t.gridStyle,l=t.headerHeight,u=t.headerRowRenderer,c=t.height,p=t.id,h=t.noRowsRenderer,f=t.rowClassName,d=t.rowStyle,m=t.scrollToIndex,v=t.style,_=t.width,x=this.state.scrollbarWidth,w=i?c:c-l,E="function"===typeof f?f({index:-1}):f,S="function"===typeof d?d({index:-1}):d;return this._cachedColumnStyles=[],g.Children.toArray(r).forEach(function(t,r){var n=e._getFlexStyleForColumn(t,t.props.style);e._cachedColumnStyles[r]=o()({},n,{overflow:"hidden"})}),g.createElement("div",{"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-colcount":g.Children.toArray(r).length,"aria-rowcount":this.props.rowCount,className:y()("ReactVirtualized__Table",n),id:p,role:"grid",style:v},!i&&u({className:y()("ReactVirtualized__Table__headerRow",E),columns:this._getHeaderColumns(),style:o()({height:l,overflow:"hidden",paddingRight:x,width:_},S)}),g.createElement(b.b,o()({},this.props,{autoContainerWidth:!0,className:y()("ReactVirtualized__Table__Grid",a),cellRenderer:this._createRow,columnWidth:_,columnCount:1,height:w,id:void 0,noContentRenderer:h,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,role:"rowgroup",scrollbarWidth:x,scrollToRow:m,style:o()({},s,{overflowX:"hidden"})})))}},{key:"_createColumn",value:function(e){var t=e.column,r=e.columnIndex,n=e.isScrolling,o=e.parent,i=e.rowData,a=e.rowIndex,s=this.props.onColumnClick,l=t.props,u=l.cellDataGetter,c=l.cellRenderer,p=l.className,h=l.columnData,f=l.dataKey,d=l.id,m=c({cellData:u({columnData:h,dataKey:f,rowData:i}),columnData:h,columnIndex:r,dataKey:f,isScrolling:n,parent:o,rowData:i,rowIndex:a}),v=this._cachedColumnStyles[r],_="string"===typeof m?m:null;return g.createElement("div",{"aria-colindex":r+1,"aria-describedby":d,className:y()("ReactVirtualized__Table__rowColumn",p),key:"Row"+a+"-Col"+r,onClick:function(e){s&&s({columnData:h,dataKey:f,event:e})},role:"gridcell",style:v,title:_},m)}},{key:"_createHeader",value:function(e){var t=e.column,r=e.index,n=this.props,i=n.headerClassName,a=n.headerStyle,s=n.onHeaderClick,l=n.sort,u=n.sortBy,c=n.sortDirection,p=t.props,h=p.columnData,f=p.dataKey,d=p.defaultSortDirection,m=p.disableSort,v=p.headerRenderer,_=p.id,b=p.label,x=!m&&l,w=y()("ReactVirtualized__Table__headerColumn",i,t.props.headerClassName,{ReactVirtualized__Table__sortableHeaderColumn:x}),S=this._getFlexStyleForColumn(t,o()({},a,t.props.headerStyle)),C=v({columnData:h,dataKey:f,disableSort:m,label:b,sortBy:u,sortDirection:c}),k=void 0,T=void 0,O=void 0,P=void 0,A=void 0;if(x||s){var I=u!==f?d:c===E.a.DESC?E.a.ASC:E.a.DESC,M=function(e){x&&l({defaultSortDirection:d,event:e,sortBy:f,sortDirection:I}),s&&s({columnData:h,dataKey:f,event:e})};A=t.props["aria-label"]||b||f,P="none",O=0,k=M,T=function(e){"Enter"!==e.key&&" "!==e.key||M(e)}}return u===f&&(P=c===E.a.ASC?"ascending":"descending"),g.createElement("div",{"aria-label":A,"aria-sort":P,className:w,id:_,key:"Header-Col"+r,onClick:k,onKeyDown:T,role:"columnheader",style:S,tabIndex:O},C)}},{key:"_createRow",value:function(e){var t=this,r=e.rowIndex,n=e.isScrolling,i=e.key,a=e.parent,s=e.style,l=this.props,u=l.children,c=l.onRowClick,p=l.onRowDoubleClick,h=l.onRowRightClick,f=l.onRowMouseOver,d=l.onRowMouseOut,m=l.rowClassName,v=l.rowGetter,_=l.rowRenderer,b=l.rowStyle,x=this.state.scrollbarWidth,w="function"===typeof m?m({index:r}):m,E="function"===typeof b?b({index:r}):b,S=v({index:r}),C=g.Children.toArray(u).map(function(e,o){return t._createColumn({column:e,columnIndex:o,isScrolling:n,parent:a,rowData:S,rowIndex:r,scrollbarWidth:x})}),k=y()("ReactVirtualized__Table__row",w),T=o()({},s,{height:this._getRowHeight(r),overflow:"hidden",paddingRight:x},E);return _({className:k,columns:C,index:r,isScrolling:n,key:i,onRowClick:c,onRowDoubleClick:p,onRowRightClick:h,onRowMouseOver:f,onRowMouseOut:d,rowData:S,style:T})}},{key:"_getFlexStyleForColumn",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.props.flexGrow+" "+e.props.flexShrink+" "+e.props.width+"px",n=o()({},t,{flex:r,msFlex:r,WebkitFlex:r});return e.props.maxWidth&&(n.maxWidth=e.props.maxWidth),e.props.minWidth&&(n.minWidth=e.props.minWidth),n}},{key:"_getHeaderColumns",value:function(){var e=this,t=this.props,r=t.children;return(t.disableHeader?[]:g.Children.toArray(r)).map(function(t,r){return e._createHeader({column:t,index:r})})}},{key:"_getRowHeight",value:function(e){var t=this.props.rowHeight;return"function"===typeof t?t({index:e}):t}},{key:"_onScroll",value:function(e){var t=e.clientHeight,r=e.scrollHeight,n=e.scrollTop;(0,this.props.onScroll)({clientHeight:t,scrollHeight:r,scrollTop:n})}},{key:"_onSectionRendered",value:function(e){var t=e.rowOverscanStartIndex,r=e.rowOverscanStopIndex,n=e.rowStartIndex,o=e.rowStopIndex;(0,this.props.onRowsRendered)({overscanStartIndex:t,overscanStopIndex:r,startIndex:n,stopIndex:o})}},{key:"_setRef",value:function(e){this.Grid=e}},{key:"_setScrollbarWidth",value:function(){if(this.Grid){var e=Object(_.findDOMNode)(this.Grid),t=e.clientWidth||0,r=(e.offsetWidth||0)-t;this.setState({scrollbarWidth:r})}}}]),t}(g.PureComponent);S.defaultProps={disableHeader:!1,estimatedRowSize:30,headerHeight:0,headerStyle:{},noRowsRenderer:function(){return null},onRowsRendered:function(){return null},onScroll:function(){return null},overscanIndicesGetter:b.a,overscanRowCount:10,rowRenderer:x.a,headerRowRenderer:w.a,rowStyle:{},scrollToAlignment:"auto",scrollToIndex:-1,style:{}},t.a=S,S.propTypes={}},function(e,t,r){"use strict";r(345).a},function(e,t,r){"use strict";t.a=function(e,t){o.some(function(e){return e.props.scrollElement===t})||t.addEventListener("scroll",u);o.push(e)},t.b=function(e,t){(o=o.filter(function(t){return t!==e})).length||(t.removeEventListener("scroll",u),a&&(Object(n.a)(a),s()))};var n=r(105),o=(r(345),[]),i=null,a=null;function s(){a&&(a=null,document.body&&null!=i&&(document.body.style.pointerEvents=i),i=null)}function l(){s(),o.forEach(function(e){return e.__resetIsScrolling()})}function u(e){e.currentTarget===window&&null==i&&document.body&&(i=document.body.style.pointerEvents,document.body.style.pointerEvents="none"),function(){a&&Object(n.a)(a);var e=0;o.forEach(function(t){e=Math.max(e,t.props.scrollingResetTimeInterval)}),a=Object(n.b)(l,e)}(),o.forEach(function(t){t.props.scrollElement===e.currentTarget&&t.__handleWindowScrollEvent()})}},function(e,t,r){"use strict";t.a=function(e,t){if(e){if(n(e)){var r=window,i=r.innerHeight,a=r.innerWidth;return{height:"number"===typeof i?i:0,width:"number"===typeof a?a:0}}return o(e)}return{height:t.serverHeight,width:t.serverWidth}},t.b=function(e,t){if(n(t)&&document.documentElement){var r=document.documentElement,a=o(e),s=o(r);return{top:a.top-s.top,left:a.left-s.left}}var l=i(t),u=o(e),c=o(t);return{top:u.top+l.top-c.top,left:u.left+l.left-c.left}},t.c=i;var n=function(e){return e===window},o=function(e){return e.getBoundingClientRect()};function i(e){return n(e)&&document.documentElement?{top:"scrollY"in window?window.scrollY:document.documentElement.scrollTop,left:"scrollX"in window?window.scrollX:document.documentElement.scrollLeft}:{top:e.scrollTop,left:e.scrollLeft}}},function(e,t,r){"use strict";r.d(t,"a",function(){return m});var n,o=r(8),i=r.n(o),a=r(96),s=r.n(a),l=r(3),u=r(0),c=r.n(u),p=r(133),h=r(1),f=r(40),d=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var m=Object(l.a)(n=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u["Component"]),d(t,[{key:"render",value:function(){var e=this,t=this.props,r=t.node,n=t.style,o=r.feature&&(r.feature===h.a.activeFeature||r.feature.selected)||r.group&&r.group===h.a.activeGroup&&!h.a.itemTreeDragging,a=r.feature&&r.feature.group_id,l="mouse"===s.a.primaryInput&&(r.group&&"group"!==h.a.itemTreeDragging||r.feature&&!h.a.itemTreeDragging),u=r.feature&&(!r.feature.visible||a&&!r.feature.group.visible)||r.group&&!r.group.visible;return c.a.createElement("div",{className:i()("panel-itemtree-node",{"node-active":o,"node-children":a,"node-hoverable":l,"node-invisible":u}),style:n,onClick:function(t){if(Date.now()-e.lastClicked<300)return h.a.activeFeature&&h.a.activeFeature.titleTextarea&&h.a.activeFeature.titleTextarea.select(),void(h.a.activeGroup&&h.a.activeGroup.titleTextarea&&h.a.activeGroup.titleTextarea.select());if(e.lastClicked=Date.now(),r.feature)if(t.shiftKey&&h.a.editMode){if(h.a.activeFeature){var n=new Map;n.set(h.a.activeFeature.id,1),n.set(r.feature.id,1),h.a.setSelected(n),Object(p.a)(h.a.selectedArray),h.a.deactivateFeature()}else if(h.a.hasSelected){var o=h.a.selectedMap.toJS();o.set(r.feature.id,1),h.a.setSelected(o),Object(p.a)(h.a.selectedArray)}}else if(t.altKey&&h.a.editMode&&h.a.hasSelected){var i=h.a.selectedMap.toJS();i.delete(r.feature.id),h.a.setSelected(i),Object(p.a)(h.a.selectedArray)}else h.a.activateFeature(r.feature,{setViewToFeature:!0,scrollTo:!1});r.group&&(r.group.setExpanded(!r.group.expanded),h.a.activateGroup(r.group))}},r.group&&c.a.createElement(f.a,{iconName:r.group.expanded?"groupExpanded":"groupCollapsed",additionalClasses:"dropdown"}),r.group&&c.a.createElement(f.a,{iconName:r.group.visible?"visible":"hidden",additionalClasses:"visibility-group",onClick:function(e){e.stopPropagation(),r.group.setVisible(!r.group.visible)}}),r.feature&&c.a.createElement("span",{className:"item-color",style:{backgroundColor:r.feature.color}}),r.feature&&c.a.createElement(f.a,{iconName:r.feature.visible?"visible":"hidden",additionalClasses:"visibility-feature",onClick:function(e){e.stopPropagation(),r.feature.setVisible(!r.feature.visible)}}),r.feature&&c.a.createElement(f.a,{iconName:r.feature.type,additionalClasses:"feature-icon"}),r.feature&&c.a.createElement("span",{className:"node-title"},r.feature.title),r.group&&c.a.createElement("span",{className:"node-title"},r.group.title))}}]),t}())||n},function(e,t,r){"use strict";r.d(t,"a",function(){return f});var n,o=r(8),i=r.n(o),a=r(3),s=r(0),l=r.n(s),u=r(124),c=r.n(u),p=r(1),h=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var f=Object(a.a)(n=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s["Component"]),h(t,[{key:"render",value:function(){return l.a.createElement("div",{id:"panel-size-buttons"},l.a.createElement("span",{className:i()("icon","icon-"+c.a.panelLeft,{disabled:p.a.panelSize===p.a.maxPanelSize}),id:"panel-size-left",onClick:function(){return p.a.setPanelSize(null,1)}}),l.a.createElement("span",{className:i()("icon","icon-"+c.a.panelRight,{disabled:0===p.a.panelSize}),id:"panel-size-right",onClick:function(){return p.a.setPanelSize(null,-1)}}))}}]),t}())||n},function(e,t,r){"use strict";r.d(t,"a",function(){return _});var n,o=r(8),i=r.n(o),a=r(3),s=r(0),l=r.n(s),u=r(1),c=r(847),p=r(848),h=r(849),f=r(865),d=r(868),m=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _=Object(a.a)(n=function(e){function t(){return y(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return g(t,s["Component"]),m(t,[{key:"render",value:function(){var e=x[u.a.state].content,t=!u.a.editMode&&"item"===u.a.state;return l.a.createElement("div",{id:"panel-meta",className:i()({fullpanel:t})},!!u.a.panelSize&&l.a.createElement("div",{id:"panel-meta-tabs"},l.a.createElement(b,{slug:"info",text:"Info",onClick:function(){return u.a.setPanelState("map_info")}}),l.a.createElement(b,{slug:"item",text:"Item",onClick:function(){return u.a.setPanelState("item")}}),l.a.createElement(b,{slug:"basemaps",text:"Basemap",onClick:function(){return u.a.setPanelState("basemaps")}})),!!u.a.panelSize&&!t&&l.a.createElement("div",{id:"panel-meta-div"},e))}}]),t}())||n,b=function(e){function t(){return y(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return g(t,s["Component"]),m(t,[{key:"render",value:function(){var e=this.props,t=e.text,r=e.slug,n=x[u.a.state].tab;return l.a.createElement("span",{className:i()({"panel-meta-tab":!0,active:n===r}),onClick:this.props.onClick},l.a.createElement("span",null,t))}}]),t}(),x={map_info:{tab:"info",content:l.a.createElement(f.a,null)},item:{tab:"item",content:l.a.createElement(h.a,null)},basemaps:{tab:"basemaps",content:l.a.createElement(c.a,null)},share:{tab:"item",content:l.a.createElement(d.a,null)},import:{tab:"item",content:l.a.createElement(p.a,null)}}},function(e,t,r){"use strict";r.d(t,"a",function(){return u});var n,o=r(3),i=r(0),a=r.n(i),s=r(23),l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var u=Object(o.a)(n=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),l(t,[{key:"render",value:function(){var e=window.data_json.basemaps;return a.a.createElement("ul",null,e.map(function(e){return a.a.createElement("li",{className:"map-panel-basemap-group",key:e.name},a.a.createElement("p",null,e.name),a.a.createElement("ul",null,e.maps.map(function(e){return a.a.createElement("li",{key:e.slug},a.a.createElement("span",{className:"map-panel-basemap-map-a"+(e.slug===s.a.basemap_slug?" active":""),onClick:function(){return s.a.setBasemap(e.slug)}},e.name))})))}))}}]),t}())||n},function(e,t,r){"use strict";r.d(t,"a",function(){return b});var n,o,i,a=r(22),s=r(3),l=r(0),u=r.n(l),c=r(28),p=r(18),h=r(23),f=r(1),d=r(15),m=r(51),y=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function v(e,t,r,n,o){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce(function(r,n){return n(e,t,r)||r},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var b=Object(s.a)(n=function(e){function t(){var e,r,n;g(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=n=_(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.handleUpload=function(e){var t=e.target;if(!t.files.length)return f.a.isIE11||d.a.showText("Please select a file"),void(t.value=null);var r=t.files[0],n=new window.FormData;n.append("file",r);x.setInfo("Processing, please wait..."),Object(m.a)({url:"/ajax/map_upload",data:n},function(e,n){if(x.setInfo(""),n)return"unsupported_file_type"===n?d.a.showText("Wrong file type","Please choose a KML / KMZ, GPX or GeoJSON file"):"file_too_big"===n?d.a.showText("Uploaded file is too big","Maximum file size is 15 MB"):"empty_data"===n||"empty_file"===n?d.a.showText("Empty data","The uploaded file was empty"):"kml_error"===n?d.a.showText("Problem with importing KML/KMZ","Try re-saving the file in Google Earth"):"geojson_error"===n?d.a.showText("Problem with importing GeoJSON","The uploaded file is not valid GeoJSON"):"gpx_error"===n?d.a.showText("Problem with importing GPX",u.a.createElement("div",null,"Try to fix the file by converting to GPX on",u.a.createElement("br",null),u.a.createElement("a",{style:{textDecoration:"underline"},target:"_blank",rel:"noopener noreferrer",href:"http://www.gpsvisualizer.com/convert_input"},"gpsvisualizer.com"))):"connection_error"===n||d.a.showText(n),void(t.value=null);if(e.geojson){var o=void 0,i=void 0;e.image?i=e.image_gps?c.j:c.k:o="Imported from "+r.name,p.a.loadGeoJSON(e.geojson,{append:!0,newGroup:o,groupTitle:i,activateFeature:e.image}),f.a.saveOn()}!h.a.title&&e.title&&h.a.setTitle(e.title),t.value=null},!0)},_(n,r)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l["Component"]),y(t,[{key:"render",value:function(){return u.a.createElement("div",null,u.a.createElement("p",{className:"panel-label"},"Import"),u.a.createElement("p",{className:"panel-meta-upload-text"},"You can import data from KML/KMZ, GPX and GeoJSON files."),u.a.createElement("input",{type:"file",onChange:this.handleUpload}),u.a.createElement("p",null,x.info))}}]),t}())||n,x=new(o=function(){function e(){var t,r,n,o;g(this,e),t=this,r="info",o=this,(n=i)&&Object.defineProperty(t,r,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}return y(e,[{key:"setInfo",value:function(e){this.info=e}}]),e}(),i=v(o.prototype,"info",[a.m],{enumerable:!0,initializer:null}),v(o.prototype,"setInfo",[a.d],Object.getOwnPropertyDescriptor(o.prototype,"setInfo"),o.prototype),o)},function(e,t,r){"use strict";r.d(t,"a",function(){return f});var n,o=r(3),i=r(0),a=r.n(i),s=r(1),l=r(346),u=r(347),c=r(354),p=r(864),h=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var f=Object(o.a)(n=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),h(t,[{key:"render",value:function(){return s.a.activeFeature?a.a.createElement(u.a,null):s.a.activeGroup?a.a.createElement(c.a,null):s.a.hasSelected?a.a.createElement(p.a,null):a.a.createElement(l.b,null)}}]),t}())||n},function(e,t,r){"use strict";r.d(t,"h",function(){return N}),r.d(t,"i",function(){return B}),r.d(t,"c",function(){return U}),r.d(t,"a",function(){return V}),r.d(t,"b",function(){return G}),r.d(t,"e",function(){return q}),r.d(t,"d",function(){return H}),r.d(t,"f",function(){return X}),r.d(t,"g",function(){return Z});var n,o,i,a,s,l,u,c,p,h,f=r(8),d=r.n(f),m=r(3),y=r(0),v=r.n(y),g=r(144),_=r(28),b=r(75),x=r(47),w=r(1),E=r(132),S=r(5),C=r(81),k=r(348),T=r(349),O=r(350),P=r(40),A=r(855),I=r(856),M=r(351),R=r(352),L=r(353),D=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function F(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var N=Object(m.a)(n=function(e){function t(){return j(this,t),z(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return F(t,y["Component"]),D(t,[{key:"render",value:function(){var e=w.a.activeFeature;return w.a.editMode&&e?e.hide_text?null:v.a.createElement("div",{key:e.id},v.a.createElement("p",{className:"panel-label"},"title"),v.a.createElement(g.a,{className:"panel-meta-div-textarea",onChange:function(t){return e.setTitle(t.target.value)},placeholder:"title",value:e.title,inputRef:function(t){return e.titleTextarea=t}})):null}}]),t}())||n,B=Object(m.a)(o=function(e){function t(){return j(this,t),z(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return F(t,y["Component"]),D(t,[{key:"render",value:function(){var e=w.a.activeFeature;return w.a.editMode&&e?"label"===e.type?null:v.a.createElement("div",{key:e.id},v.a.createElement("p",{className:"panel-label"},"link"),v.a.createElement("input",{className:"panel-meta-input-text",onChange:function(t){return e.setURL(t.target.value)},defaultValue:e.url||"",spellCheck:"false",title:"title",placeholder:"http://..."})):null}}]),t}())||o,U=Object(m.a)(i=function(e){function t(){return j(this,t),z(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return F(t,y["Component"]),D(t,[{key:"render",value:function(){var e=w.a.activeFeature;return w.a.editMode&&e?"label"===e.type?null:e.geometry?e.hide_text?null:v.a.createElement("div",null,v.a.createElement("p",{className:"panel-label"},"description"),v.a.createElement(g.a,{className:"panel-meta-div-textarea",onChange:function(t){return e.setDescription(t.target.value)},placeholder:"description (Markdown supported)",value:e.description})):null:null}}]),t}())||i,V=Object(m.a)(a=function(e){function t(){return j(this,t),z(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return F(t,y["Component"]),D(t,[{key:"render",value:function(){var e=w.a.activeFeature;if(!w.a.editMode||!e)return null;var t=void 0,r=void 0;return e.editing?(t=function(){e.disableEdit(),e.openPopup({})},["point","label"].includes(e.type)||(r=function(){return Object(b.a)()})):(t=function(){return e.enableEdit()},r=function(){return w.a.deleteActiveFeature()}),v.a.createElement("div",{className:"panel-meta-div-buttons"},e.geometry&&v.a.createElement(P.a,{iconName:"edit",onClick:t,additionalClasses:d()("button","button-fix",{active:e.editing})}),v.a.createElement(P.a,{iconName:"delete",onClick:r,additionalClasses:d()("button","button-fix",{"button-disabled":!r})}))}}]),t}())||a,G=Object(m.a)(s=function(e){function t(){return j(this,t),z(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return F(t,y["Component"]),D(t,[{key:"render",value:function(){var e=w.a.activeFeature;return w.a.editMode&&e?"label"===e.type?null:e.geometry?v.a.createElement("div",null,v.a.createElement("p",{className:"panel-label panel-space-top"},"color"),v.a.createElement(k.a,{actualColor:e.color,onClick:function(t){return e.setColor(t)}})):null:null}}]),t}())||s,q=Object(m.a)(l=function(e){function t(){return j(this,t),z(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return F(t,y["Component"]),D(t,[{key:"render",value:function(){var e=w.a.activeFeature;if(!w.a.editMode||!e)return null;if("point"!==e.type)return null;if(!e.geometry)return null;var t=e.marker_id?void 0:e.icon;return v.a.createElement("div",null,v.a.createElement("p",{className:"panel-label panel-space-top"},"icon"),v.a.createElement(O.a,{activeIcon:t,onClick:function(t){return e.setIcon(t)}}),v.a.createElement(M.a,{activeMarkerId:e.marker_id,onClick:function(t){return e.setMarker(t)}}),v.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},v.a.createElement(L.a,null),v.a.createElement(R.a,{activeMarkerId:e.marker_id})))}}]),t}())||l,H=Object(m.a)(u=function(e){function t(){var e,r,n;j(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=n=z(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.handleChange=function(e){var t=e.target.value,r=w.a.activeFeature;if("no_group"===t)r.setGroup(null);else if("new_group"===t){var n=x.a.addGroup({generateName:!0});r.setGroup(n.id),n.setExpanded(!0)}else{var o=Number(t),i=x.a.groupMap.get(o);if(!i)return void Object(S.b)("FeatureEditGroup.group_missing");r.setGroup(i.id),i.setExpanded(!0)}w.a.scrollToFeature(r)},z(n,r)}return F(t,y["Component"]),D(t,[{key:"render",value:function(){var e=w.a.activeFeature;return w.a.editMode&&e?v.a.createElement("div",null,v.a.createElement("p",{className:"panel-label panel-space-top"},"group"),v.a.createElement(T.a,{groupArray:x.a.groupArray,value:e.group_id||"no_group",onChange:this.handleChange,style:{width:"100%"}})):null}}]),t}())||u,W=Object(m.a)(c=function(e){function t(){return j(this,t),z(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return F(t,y["Component"]),D(t,[{key:"render",value:function(){var e=w.a.activeFeature;return w.a.editMode&&e?"label"===e.type?null:e.image?v.a.createElement("div",{className:"form-checkbox panel-form-checkbox"},v.a.createElement("input",{type:"checkbox",checked:e.hide_text,onChange:function(){return e.setHideText(!e.hide_text)},id:"hide_text"}),v.a.createElement("label",{className:"panel-label",htmlFor:"hide_text",style:{letterSpacing:w.a.mobile?0:null}},"Hide Text")):null:null}}]),t}())||c,X=Object(m.a)(p=function(e){function t(){return j(this,t),z(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return F(t,y["Component"]),D(t,[{key:"render",value:function(){var e=w.a.activeFeature;return w.a.editMode&&e?"label"===e.type?null:v.a.createElement("div",null,(!e.image||e.geometry)&&v.a.createElement("p",{className:"panel-label panel-space-top"},"image"),e.image&&!e.geometry&&v.a.createElement("img",{className:"panel-meta-img",src:Object(E.a)(e,document.getElementById("panel").clientWidth-20,200),alt:"Preview",style:{marginBottom:20}}),e.geometry&&v.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:10}},v.a.createElement(W,null),e.image&&v.a.createElement(A.a,null),!e.image&&v.a.createElement("div",null),!e.image&&v.a.createElement(I.a,null))):null}}]),t}())||p,Z=Object(m.a)(h=function(e){function t(e){j(this,t);var r=z(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.handleLocate=function(){r.setState({placing:!0}),w.a.map._container.classList.add("mapboxgl-crosshair"),w.a.map.once("click",function(e){r.setState({placing:!1}),w.a.map._container.classList.remove("mapboxgl-crosshair");var t=w.a.activeFeature;if(t)if(e.lngLat){var n={type:"Point",coordinates:[e.lngLat.lng,e.lngLat.lat]};t.setGeometry(n);var o=x.a.getOrCreateWithTitle(_.j);t.setGroup(o.id),o.setExpanded(!0);var i=x.a.getWithTitle(_.k);i&&!i.featureArray.length&&x.a.removeGroup(i),t.openPopup({}),w.a.saveOn()}else Object(S.b)("handleLocate no e.lngLat")})},r.state={placing:!1},r}return F(t,y["Component"]),D(t,[{key:"render",value:function(){var e=w.a.activeFeature;return w.a.editMode&&e?"label"===e.type?null:e.geometry||!e.image?null:v.a.createElement("div",null,v.a.createElement("p",{className:"panel-label panel-space-top",style:{marginBottom:10}},"locate image"),!this.state.placing&&v.a.createElement("p",null,"This image has no GPS data, please place it on the map."),this.state.placing&&v.a.createElement("p",null,"Click on the map to place the image."),v.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginTop:17,marginBottom:27}},v.a.createElement(C.a,{text:"Place Image",onClick:this.handleLocate}))):null}}]),t}())||h},function(e,t,r){"use strict";function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}t.a=n},function(e,t,r){"use strict";t.a=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}},function(e,t,r){"use strict";t.a=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},function(e,t,r){"use strict";t.a=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,r){"use strict";r.d(t,"a",function(){return h});var n,o=r(3),i=r(0),a=r.n(i),s=r(1),l=r(15),u=r(81),c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var h=Object(o.a)(n=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return r=n=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.handleDelete=function(){s.a.activeFeature&&l.a.showCustom(a.a.createElement("div",null,a.a.createElement("p",{className:"overlay-title"},"Remove image"),a.a.createElement("p",{className:"text-center"},"Would you like to remove this image?")),function(){s.a.activeFeature.setImage(null)},"Remove","Cancel")},p(n,r)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),c(t,[{key:"render",value:function(){return a.a.createElement(u.a,{text:s.a.mobile?"Remove img":"Remove image",onClick:this.handleDelete,style:{marginLeft:10,fontSize:s.a.mobile?"13px":null}})}}]),t}())||n},function(e,t,r){"use strict";r.d(t,"a",function(){return d});var n=r(0),o=r.n(n),i=r(1),a=r(15),s=r(51),l=r(5),u=r(81),c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=function(e){function t(){return p(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,n["Component"]),c(t,[{key:"render",value:function(){return i.a.activeFeature?o.a.createElement(u.a,{text:"Add Image",onClick:function(){a.a.showCustom(o.a.createElement(m,null),function(){},"Close")}}):null}}]),t}(),m=function(e){function t(e){p(this,t);var r=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.handleUpload=function(e){i.a.activeFeature||a.a.clear();var t=e.target;if(!t.files.length)return i.a.isIE11||r.setState({info:"Please select a file"}),void(t.value=null);var n=t.files[0],o=new window.FormData;o.append("file",n);r.setState({info:"Processing, please wait..."}),Object(s.a)({url:"/ajax/image_upload",data:o},function(e,n){if(r.setState({info:""}),t.value=null,n)"unsupported_file_type"===n?a.a.showText("Wrong file type","Please upload a file in a supported format"):"file_too_big"===n?a.a.showText("Uploaded file is too big","Maximum file size is 15 MB"):"empty_data"===n||"empty_file"===n?a.a.showText("Empty data","The uploaded file was empty"):"map_obj_missing"===n?a.a.showText("Error uploading image","Please try reloading your browser"):"connection_error"===n||a.a.showText(n);else{if(!e.image_data||!e.image_data.id||!Number.isInteger(e.image_data.w)||!Number.isInteger(e.image_data.h))return a.a.showText("Error uploading image","Please try again"),void Object(l.b)("data.image missing");i.a.activeFeature&&i.a.activeFeature.setImage(e.image_data),i.a.saveOn(),a.a.clear()}})},r.state={info:""},r}return f(t,n["Component"]),c(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("p",{className:"overlay-title"},"Upload image"),o.a.createElement("p",null,"Supported formats: JPG, PNG"),o.a.createElement("input",{type:"file",onChange:this.handleUpload}),o.a.createElement("p",null,this.state.info))}}]),t}()},function(e,t,r){"use strict";r.d(t,"a",function(){return f});var n,o=r(3),i=r(0),a=r.n(i),s=r(1),l=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var f=Object(o.a)(n=function(e){function t(){var e,r,n;c(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=n=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.handleChange=function(e){var t=s.a.activeFeature,r=e.target.value,n=e.target.dataset.name;t.setLatLng(function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},n,r)),t.closePopup(),t.openPopup({fitView:!1}),s.a.map.jumpTo({center:t.geometry.coordinates})},p(n,r)}return h(t,i["Component"]),u(t,[{key:"render",value:function(){var e=s.a.activeFeature;if(!e||!e.geometry)return null;var t=l(e.geometry.coordinates,2),r=t[0],n=t[1];if("point"!==e.type)return null;var o=s.a.editMode;return a.a.createElement("div",{key:e.id},a.a.createElement("p",{className:"panel-label panel-space-top"},"coordinates"),a.a.createElement(d,{kind:"lat",value:n,onChange:o?this.handleChange:null,readOnly:!o}),a.a.createElement(d,{kind:"lng",value:r,onChange:o?this.handleChange:null,readOnly:!o}))}}]),t}())||n,d=function(e){function t(){return c(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,i["Component"]),u(t,[{key:"render",value:function(){var e=this.props,t=e.kind,r=e.value.toFixed(5);return a.a.createElement("div",{className:"panel-meta-div-coords"},a.a.createElement("label",{className:"panel-meta-div-coords-label",htmlFor:"panel-meta-div-item-coords-input-"+t},"lat"===t?"latitude (N-S)":"longitude (E-W)"),a.a.createElement("input",{className:"panel-input-text panel-meta-div-coords-input","data-name":t,id:"panel-meta-div-item-coords-input-"+t,onChange:this.props.onChange,readOnly:this.props.readOnly,value:this.props.readOnly?r:void 0,defaultValue:this.props.readOnly?void 0:r}))}}]),t}()},function(e,t,r){"use strict";r.d(t,"b",function(){return w}),r.d(t,"c",function(){return E}),r.d(t,"a",function(){return S});var n,o,i,a=r(859),s=r.n(a),l=r(304),u=r.n(l),c=r(8),p=r.n(c),h=r(3),f=r(0),d=r.n(f),m=r(1),y=r(860),v=r(305),g=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function x(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var w=Object(h.a)(n=function(e){function t(){return _(this,t),b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return x(t,f["Component"]),g(t,[{key:"render",value:function(){if(m.a.editMode)return null;var e=m.a.activeFeature;return e?d.a.createElement("div",{className:p()("panel-text",{"nice-font":!m.a.hasCyrillicData,"ui-font":m.a.hasCyrillicData})},d.a.createElement(v.a,{feature:e}),d.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.descriptionHTML}})):null}}]),t}())||n,E=Object(h.a)(o=function(e){function t(){return _(this,t),b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return x(t,f["Component"]),g(t,[{key:"render",value:function(){var e=m.a.activeFeature;if(!e)return null;if("polyline"!==e.type)return null;var t=u()(e.geometry,{units:"meters"}),r=Object(y.b)(t,"metric"),n=Object(y.b)(t,"imperial");return d.a.createElement("div",null,d.a.createElement("p",{className:"panel-label panel-space-top"},"length"),d.a.createElement("p",null,r," / ",n))}}]),t}())||o,S=Object(h.a)(i=function(e){function t(){return _(this,t),b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return x(t,f["Component"]),g(t,[{key:"render",value:function(){var e=m.a.activeFeature;if(!e)return null;if("polygon"!==e.type)return null;var t=s()(e.geometry),r=Object(y.a)(t,"metric"),n=Object(y.a)(t,"imperial");return d.a.createElement("div",null,d.a.createElement("p",{className:"panel-label panel-space-top"},"area"),d.a.createElement("p",null,r," / ",n))}}]),t}())||i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(175),o=6378137;function i(e){var t=0;if(e&&e.length>0){t+=Math.abs(a(e[0]));for(var r=1;r<e.length;r++)t-=Math.abs(a(e[r]))}return t}function a(e){var t,r,n,i,a,l,u=0,c=e.length;if(c>2){for(l=0;l<c;l++)l===c-2?(n=c-2,i=c-1,a=0):l===c-1?(n=c-1,i=0,a=1):(n=l,i=l+1,a=l+2),t=e[n],r=e[i],u+=(s(e[a][0])-s(t[0]))*Math.sin(s(r[1]));u=u*o*o/2}return u}function s(e){return e*Math.PI/180}t.default=function(e){return n.geomReduce(e,function(e,t){return e+function(e){var t,r=0;switch(e.type){case"Polygon":return i(e.coordinates);case"MultiPolygon":for(t=0;t<e.coordinates.length;t++)r+=i(e.coordinates[t]);return r;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}(t)},0)}},function(e,t,r){"use strict";t.b=function(e,t){var r=void 0;"metric"===t?r=e<.1?"mm":e<1?"cm":e<1e3?"m":"km":"imperial"===t?r=e<.3048?"in":e<1e3?"ft":"mi":Object(n.b)("Unsupported unit system for lengthToString: "+t);var i=a(e,r);return Object(o.d)(i,3)+" "+r},t.a=function(e,t){var r=void 0;if("metric"===t){var i=a(a(e,r=e<.1*.1?"mm":e<1?"cm":e<1e4?"m":"km"),r);return Object(o.d)(i,3)+" "+r+"2"}if("imperial"===t){if(e<2e3){var s=a(a(e,r="ft"),r);return Object(o.d)(s,3)+" "+r+"2"}var l=e/4046.86;return Object(o.d)(l,3)+" acre"}Object(n.b)("Unsupported unit system for areaToString: "+t);var u=a(a(e,r),r);return Object(o.d)(u,3)+" "+r+"2"};var n=r(5),o=r(20),i={mm:.001,cm:.01,m:1,km:1e3,in:.0254,ft:.3048,mi:1609.344};function a(e,t){if(i.hasOwnProperty(t))return e/i[t];Object(n.b)("Not supported unit for convertUnitDivide: "+t)}},function(e,t,r){(function(t){var r="object"===typeof window&&window.window===window?window:"object"===typeof self&&self.self===self?self:"object"===typeof t&&t.global===t?t:this;function n(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){a(n.response,t,r)},n.onerror=function(){console.error("could not download file")},n.send()}function o(e){var t=new XMLHttpRequest;return t.open("HEAD",e,!1),t.send(),t.status>=200&&t.status<=299}function i(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(r){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var a=r.saveAs||("object"!==typeof window||window!==r?function(){}:"download"in HTMLAnchorElement.prototype?function(e,t,a){var s=r.URL||r.webkitURL,l=document.createElement("a");t=t||e.name||"download",l.download=t,l.rel="noopener","string"===typeof e?(l.href=e,l.origin!==location.origin?o(l.href)?n(e,t,a):i(l,l.target="_blank"):i(l)):(l.href=s.createObjectURL(e),setTimeout(function(){s.revokeObjectURL(l.href)},4e4),setTimeout(function(){i(l)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download","string"===typeof e)if(o(e))n(e,t,r);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout(function(){i(a)})}else navigator.msSaveOrOpenBlob(function(e,t){return"undefined"===typeof t?t={autoBom:!1}:"object"!==typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}(e,r),t)}:function(e,t,o,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"===typeof e)return n(e,t,o);var a="application/octet-stream"===e.type,s=/constructor/i.test(r.HTMLElement)||r.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||a&&s)&&"object"===typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=l?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=e:location=e,i=null},u.readAsDataURL(e)}else{var c=r.URL||r.webkitURL,p=c.createObjectURL(e);i?i.location=p:location.href=p,i=null,setTimeout(function(){c.revokeObjectURL(p)},4e4)}});r.saveAs=a.saveAs=a,e.exports=a}).call(t,r(32))},function(e,t,r){"use strict";r.d(t,"b",function(){return y}),r.d(t,"a",function(){return v});var n,o,i=r(8),a=r.n(i),s=r(3),l=r(0),u=r.n(l),c=r(1),p=r(40),h=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=Object(s.a)(n=function(e){function t(){return f(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m(t,l["Component"]),h(t,[{key:"render",value:function(){var e=c.a.activeGroup;return c.a.editMode&&e?u.a.createElement("div",{key:e.id},u.a.createElement("p",{className:"panel-label"},"title"),u.a.createElement("input",{className:"panel-meta-input-text",onChange:function(t){return e.setTitle(t.target.value)},value:e.title,ref:function(t){return e.titleTextarea=t},spellCheck:"false",title:"title",placeholder:"title"})):null}}]),t}())||n,v=Object(s.a)(o=function(e){function t(){return f(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return m(t,l["Component"]),h(t,[{key:"render",value:function(){return c.a.editMode&&c.a.activeGroup?u.a.createElement("div",{className:"panel-meta-div-buttons"},u.a.createElement(p.a,{iconName:"delete",onClick:function(){return c.a.deleteActiveGroup()},additionalClasses:a()("button","button-fix")})):null}}]),t}())||o},function(e,t,r){"use strict";r.d(t,"a",function(){return p});var n,o=r(8),i=r.n(o),a=r(3),s=r(0),l=r.n(s),u=r(1),c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var p=Object(a.a)(n=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s["Component"]),c(t,[{key:"render",value:function(){if(u.a.editMode)return null;var e=u.a.activeGroup;return e?l.a.createElement("div",{className:i()("panel-text",{"nice-font":!u.a.hasCyrillicData,"ui-font":u.a.hasCyrillicData})},l.a.createElement("h1",null,e.title)):null}}]),t}())||n},function(e,t,r){"use strict";r.d(t,"a",function(){return p});var n,o=r(3),i=r(0),a=r.n(i),s=r(1),l=r(355),u=r(356),c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var p=Object(o.a)(n=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),c(t,[{key:"render",value:function(){if(s.a.editMode){var e=!!s.a.selectedArray.filter(function(e){return e.geometry}).length;return a.a.createElement("div",null,a.a.createElement(l.b,{items:s.a.selectedArray}),a.a.createElement(u.b,{items:s.a.selectedArray,title:"selected"}),e&&a.a.createElement(l.c,{items:s.a.selectedArray}),e&&a.a.createElement(l.a,{items:s.a.selectedArray}),e&&a.a.createElement(l.d,{items:s.a.selectedArray}),e&&a.a.createElement(u.a,{items:s.a.selectedArray,title:"Selected items"}))}return null}}]),t}())||n},function(e,t,r){"use strict";r.d(t,"a",function(){return f});var n,o=r(3),i=r(0),a=r.n(i),s=r(1),l=r(347),u=r(354),c=r(866),p=r(357),h=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var f=Object(o.a)(n=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),h(t,[{key:"render",value:function(){return s.a.editMode?a.a.createElement(c.a,null):s.a.activeFeature?a.a.createElement(l.a,null):s.a.activeGroup?a.a.createElement(u.a,null):a.a.createElement(p.b,null)}}]),t}())||n},function(e,t,r){"use strict";r.d(t,"a",function(){return b});var n,o,i=r(3),a=r(0),s=r.n(a),l=r(144),u=r(131),c=r(23),p=r(1),h=r(15),f=r(81),d=r(867),m=r(357),y=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=Object(i.a)(n=function(e){function t(){return v(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _(t,a["Component"]),y(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("p",{className:"panel-label"},"title"),s.a.createElement(l.a,{className:"panel-meta-div-textarea",placeholder:"title",value:c.a.title,onChange:function(e){return c.a.setTitle(e.target.value)}}),s.a.createElement("p",{className:"panel-label"},"description"),s.a.createElement(l.a,{className:"panel-meta-div-textarea",placeholder:"description (Markdown supported)",value:c.a.description,onChange:function(e){return c.a.setDescription(e.target.value)}}),s.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-end"}},s.a.createElement("div",null,s.a.createElement("p",{className:"panel-label"},"visibility"),s.a.createElement("select",{className:"form-select panel-meta-div-select",value:c.a.public?"public":"private",onChange:function(e){return c.a.setPublic("public"===e.target.value)}},s.a.createElement("option",{value:"public"},"public"),s.a.createElement("option",{value:"private"},"private"))),c.a.id&&s.a.createElement("button",{className:"button button-grey ellipsis",style:{marginBottom:14,marginLeft:10},onClick:function(){return h.a.showCustom(s.a.createElement(d.a,null),null,"Close",null,null,{width:572})}},"Advanced Settings")),s.a.createElement(x,null),s.a.createElement(m.a,null))}}]),t}())||n,x=Object(i.a)(o=function(e){function t(){var e,r,n;v(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=n=g(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.handleCheckbox=function(e){if(e.target.checked){var t=p.a.map.getZoom(),r=Math.ceil(t);c.a.setSimplify(r)}else c.a.setSimplify(0);p.a.map.getZoom()===c.a.simplify&&p.a.map.setZoom(p.a.map.getZoom()-.01),Object(u.d)({update:!0})},n.handleValue=function(e){var t=parseFloat(e.target.value);c.a.setSimplify(t)},g(n,r)}return _(t,a["Component"]),y(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"form-checkbox panel-form-checkbox",style:{marginTop:10}},s.a.createElement("input",{type:"checkbox",checked:!!c.a.simplify,onChange:this.handleCheckbox,id:"simplify_map"}),s.a.createElement("label",{className:"panel-label",htmlFor:"simplify_map"},"simplify map")),!!c.a.simplify&&s.a.createElement("div",null,s.a.createElement("div",{className:"panel-meta-div-simplify"},s.a.createElement("label",{style:{marginLeft:19,flexGrow:1,fontSize:14}},"zoom level"),s.a.createElement("input",{className:"panel-input-text",readOnly:!0,value:c.a.simplify}),s.a.createElement(f.a,{additionalClasses:"button-square-small",text:"+",onClick:function(){return c.a.setSimplify(c.a.simplify+1)},style:{marginRight:3}}),s.a.createElement(f.a,{additionalClasses:"button-square-small",text:"\u2013",onClick:function(){return c.a.setSimplify(c.a.simplify-1)}})),s.a.createElement("p",{className:"note",style:{marginLeft:19}},"Try zooming and changing the level")))}}]),t}())||o},function(e,t,r){"use strict";r.d(t,"a",function(){return c});var n,o=r(3),i=r(0),a=r.n(i),s=r(144),l=r(23),u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var c=Object(o.a)(n=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),u(t,[{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement("p",{className:"overlay-title"},"Advanced Settings"),a.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",marginBottom:10}},a.a.createElement("div",{className:"form-checkbox panel-form-checkbox",style:{marginRight:20}},a.a.createElement("input",{type:"checkbox",checked:l.a.disableDownload,onChange:function(e){l.a.setDisableDownload(e.target.checked)},id:"advanced-disable-download"}),a.a.createElement("label",{className:"panel-label",htmlFor:"advanced-disable-download",style:{fontWeight:"inherit"}},"Disable download")),a.a.createElement("div",{className:"form-checkbox panel-form-checkbox"},a.a.createElement("input",{type:"checkbox",checked:l.a.disableEmbed,onChange:function(e){l.a.setDisableEmbed(e.target.checked)},id:"advanced-disable-embed"}),a.a.createElement("label",{className:"panel-label",htmlFor:"advanced-disable-embed",style:{fontWeight:"inherit"}},"Disable embed"))),a.a.createElement("p",{className:"panel-label",style:{marginBottom:0}},"short name (for URL)"),a.a.createElement(s.a,{className:"panel-meta-div-textarea",placeholder:"short name (for URL)",value:l.a.slug,onChange:function(e){return l.a.setSlug(e.target.value)},style:{marginTop:2}}))}}]),t}())||n},function(e,t,r){"use strict";r.d(t,"a",function(){return b});var n,o=r(3),i=r(0),a=r.n(i),s=r(144),l=r(869),u=r.n(l),c=r(23),p=r(1),h=r(15),f=r(132),d=r(20),m=r(870),y=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=Object(o.a)(n=function(e){function t(){var e,r,n;v(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return r=n=g(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.showSave=function(e){p.a.changed&&(h.a.showText("Please save the map first"),e.preventDefault())},n.showJPEG=function(e){if(e.preventDefault(),p.a.changed)n.showSave(e);else if(p.a.screenshot_hash){var t=document.getElementsByClassName("mapboxgl-ctrl-attrib")[0].textContent;h.a.showCustom(a.a.createElement("div",null,a.a.createElement("p",{className:"overlay-title"},"Download Static Map Image"),a.a.createElement("p",{className:"text-center",style:{marginBottom:12}},a.a.createElement("b",null,"Available sizes")),a.a.createElement("div",null,u.a.slice(-3).map(function(e){return a.a.createElement(x,{key:""+e.w+e.h,width:e.w*e.retina*e.scale,height:e.h*e.retina*e.scale})})),a.a.createElement("p",{className:"text-center",style:{marginTop:10}},a.a.createElement("b",null,"Attribution")),a.a.createElement("p",null,"Please make sure the following attribution is visible when using the image."),a.a.createElement(s.a,{value:t,readOnly:!0,maxRows:2})),null,"OK")}else h.a.showCustom(a.a.createElement("div",null,a.a.createElement("p",{className:"overlay-title"},"Generating image"),a.a.createElement("p",null,"Please save the map and wait a minute while the image is being generated.")),null,"OK")},g(n,r)}return _(t,i["Component"]),y(t,[{key:"render",value:function(){var e=p.a.url;return a.a.createElement("div",{className:"panel-meta-download"},(p.a.editMode||!c.a.disableDownload)&&a.a.createElement("p",{className:"panel-label",style:{marginBottom:5}},"download"),(p.a.editMode||!c.a.disableDownload)&&a.a.createElement("div",null,a.a.createElement("a",{href:e+"/download/geojson",className:"button",onClick:this.showSave},"MapHub GeoJSON"),a.a.createElement("div",null,a.a.createElement("a",{href:e+"/download/kml",className:"button",onClick:this.showSave},"KML"),a.a.createElement("a",{href:e+"/download/gpx",className:"button",onClick:this.showSave},"GPX"),a.a.createElement("a",{href:e+"/download/csv",className:"button",onClick:this.showSave},"CSV")),p.a.editMode&&a.a.createElement("div",null,a.a.createElement("a",{href:"#",className:"button",onClick:this.showJPEG},"Static Map Image"))),a.a.createElement("p",{className:"panel-label panel-space-top"},"link"),a.a.createElement("p",null,a.a.createElement("input",{className:"panel-meta-url",readOnly:!0,defaultValue:e,onFocus:function(e){return e.target.select()}})),!p.a.mobile&&(p.a.editMode||!c.a.disableEmbed)&&a.a.createElement("p",{className:"panel-label panel-space-top",style:{marginBottom:5}},"embed"),!p.a.mobile&&(p.a.editMode||!c.a.disableEmbed)&&a.a.createElement("button",{className:"button",onClick:function(){return h.a.showCustom(a.a.createElement(m.a,null),null,"Close",null,null,{width:572})}},"Embed on Website"))}}]),t}())||n,x=function(e){function t(){return v(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _(t,i["Component"]),y(t,[{key:"render",value:function(){var e=this.props,t=e.width,r=e.height,n=Object(d.e)(1,4294967296),o=t+"_"+r,i=""+window.data_json.urls.screenshots_new+Object(f.c)(p.a.screenshot_hash)+"/"+o+".jpg?ver="+n,s=c.a.mapUserName+"_"+c.a.slug+"_"+o+".jpg";return a.a.createElement("a",{href:i,target:"_blank",className:"button",download:s,style:{margin:"0 5px 6px"}},t," x ",r)}}]),t}()},function(e,t){e.exports=[{w:314,h:200,retina:1,scale:2,quality:60},{w:512,h:384,retina:2,scale:1,quality:60},{w:768,h:576,retina:2,scale:1,quality:60},{w:1152,h:864,retina:2,scale:1,quality:60},{w:1536,h:1152,retina:2,scale:1,quality:60}]},function(e,t,r){"use strict";r.d(t,"a",function(){return c});var n,o=r(3),i=r(0),a=r.n(i),s=r(871),l=r.n(s),u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var c=Object(o.a)(n=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={width:768,height:576,panel:!0,preview:!0,wordpress:!1,fullwidth:!1,button:!0},r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["Component"]),u(t,[{key:"render",value:function(){var e=this,t=window.data_json.embed_url,r=l.a.stringify({panel:this.state.panel?1:void 0,button:this.state.button?void 0:0});r&&(t+="?"+r);var n=this.state.fullwidth?"100%":this.state.width,o='<iframe width="'+n+'" height="'+this.state.height+'" src="'+t+'" frameborder="0"></iframe>',i='[iframe width="'+n+'" height="'+this.state.height+'" src="'+t+'" frameborder="0"]';return a.a.createElement("div",null,a.a.createElement("p",{className:"overlay-title"},"Embed Map on Website"),a.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:10}},a.a.createElement("div",{className:"form-checkbox panel-form-checkbox"},a.a.createElement("input",{type:"checkbox",checked:this.state.panel,onChange:function(){return e.setState({panel:!e.state.panel})},id:"embed-enable-panel"}),a.a.createElement("label",{className:"panel-label",htmlFor:"embed-enable-panel",style:{fontWeight:"inherit"}},"Panel")),a.a.createElement("div",{className:"form-checkbox panel-form-checkbox"},a.a.createElement("input",{type:"checkbox",checked:this.state.button,onChange:function(){return e.setState({button:!e.state.button})},id:"embed-enable-button"}),a.a.createElement("label",{className:"panel-label",htmlFor:"embed-enable-button",style:{fontWeight:"inherit"}},"Button")),a.a.createElement("div",{className:"form-checkbox panel-form-checkbox"},a.a.createElement("input",{type:"checkbox",checked:this.state.fullwidth,onChange:function(){return e.setState({fullwidth:!e.state.fullwidth})},id:"embed-enable-fullwidth"}),a.a.createElement("label",{className:"panel-label",htmlFor:"embed-enable-fullwidth",style:{fontWeight:"inherit"}},"Responsive")),a.a.createElement("div",{className:"form-checkbox panel-form-checkbox"},a.a.createElement("input",{type:"checkbox",checked:this.state.wordpress,onChange:function(){return e.setState({wordpress:!e.state.wordpress})},id:"embed-enable-wordpress"}),a.a.createElement("label",{className:"panel-label",htmlFor:"embed-enable-wordpress",style:{fontWeight:"inherit"}},"Wordpress"))),a.a.createElement("div",{style:{display:"flex",marginBottom:10}},a.a.createElement("div",{style:{display:"flex",alignItems:"center",width:205}},a.a.createElement("p",{className:"panel-label",style:{marginBottom:0}},"width ",this.state.fullwidth?"":"(pixels)"),a.a.createElement("input",{className:"panel-meta-input-text",onChange:function(t){return e.setState({width:t.target.value})},value:n,title:"width",style:{width:65,margin:"0 0 0 10px",textAlign:"center"},type:this.state.fullwidth?null:"number",readOnly:this.state.fullwidth})),a.a.createElement("div",{style:{display:"flex",alignItems:"center"}},a.a.createElement("p",{className:"panel-label",style:{marginBottom:0}},"height (pixels)"),a.a.createElement("input",{className:"panel-meta-input-text",onChange:function(t){return e.setState({height:t.target.value})},value:this.state.height,title:"height",style:{width:65,margin:"0 0 0 10px",textAlign:"center"},type:"number"}))),!this.state.wordpress&&a.a.createElement("div",null,a.a.createElement("label",{className:"panel-label",style:{display:"block"}},"Code"),a.a.createElement("textarea",{rows:"3",readOnly:!0,value:o,onFocus:function(e){return e.target.select()},style:{marginTop:0}}),a.a.createElement("label",{className:"panel-label"},"Preview"),a.a.createElement("span",{style:{marginLeft:10,fontSize:"13px",cursor:"pointer"},onClick:function(){return e.setState({preview:!e.state.preview})}},"(",this.state.preview?"hide":"show",")"),this.state.preview&&a.a.createElement(function(){return a.a.createElement("iframe",{width:512,height:300,src:t,frameBorder:"0",title:"Embed preview"})},null)),this.state.wordpress&&a.a.createElement("div",{className:"nicetext",style:{marginTop:20}},a.a.createElement("label",{className:"panel-label"},"How to insert map on Wordpress website"),a.a.createElement("p",{style:{marginTop:10}},"1. Install and activate the"," ",a.a.createElement("a",{href:"https://wordpress.org/plugins/iframe",target:"_blank",rel:"noopener noreferrer"},'"iframe" plugin'),".",a.a.createElement("br",null),"2. Copy and paste the following code in the editor:"),a.a.createElement("textarea",{rows:"3",readOnly:!0,value:i,onFocus:function(e){return e.target.select()},style:{marginTop:0}})))}}]),t}())||n},function(e,t,r){"use strict";var n=r(872),o=r(12),i=r(873);function a(e,t){return t.encode?t.strict?n(e):encodeURIComponent(e):e}function s(e){var t=e.indexOf("?");return-1===t?"":e.slice(t+1)}function l(e,t){var r=function(e){var t;switch(e.arrayFormat){case"index":return function(e,r,n){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===n[e]&&(n[e]={}),n[e][t[1]]=r):n[e]=r};case"bracket":return function(e,r,n){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==n[e]?n[e]=[].concat(n[e],r):n[e]=[r]:n[e]=r};default:return function(e,t,r){void 0!==r[e]?r[e]=[].concat(r[e],t):r[e]=t}}}(t=o({arrayFormat:"none"},t)),n=Object.create(null);return"string"!==typeof e?n:(e=e.trim().replace(/^[?#&]/,""))?(e.split("&").forEach(function(e){var t=e.replace(/\+/g," ").split("="),o=t.shift(),a=t.length>0?t.join("="):void 0;a=void 0===a?null:i(a),r(i(o),a,n)}),Object.keys(n).sort().reduce(function(e,t){var r=n[t];return Boolean(r)&&"object"===typeof r&&!Array.isArray(r)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"===typeof t?e(Object.keys(t)).sort(function(e,t){return Number(e)-Number(t)}).map(function(e){return t[e]}):t}(r):e[t]=r,e},Object.create(null))):n}t.extract=s,t.parse=l,t.stringify=function(e,t){!1===(t=o({encode:!0,strict:!0,arrayFormat:"none"},t)).sort&&(t.sort=function(){});var r=function(e){switch(e.arrayFormat){case"index":return function(t,r,n){return null===r?[a(t,e),"[",n,"]"].join(""):[a(t,e),"[",a(n,e),"]=",a(r,e)].join("")};case"bracket":return function(t,r){return null===r?a(t,e):[a(t,e),"[]=",a(r,e)].join("")};default:return function(t,r){return null===r?a(t,e):[a(t,e),"=",a(r,e)].join("")}}}(t);return e?Object.keys(e).sort(t.sort).map(function(n){var o=e[n];if(void 0===o)return"";if(null===o)return a(n,t);if(Array.isArray(o)){var i=[];return o.slice().forEach(function(e){void 0!==e&&i.push(r(n,e,i.length))}),i.join("&")}return a(n,t)+"="+a(o,t)}).filter(function(e){return e.length>0}).join("&"):""},t.parseUrl=function(e,t){return{url:e.split("?")[0]||"",query:l(s(e),t)}}},function(e,t,r){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}},function(e,t,r){"use strict";var n=new RegExp("%[a-f0-9]{2}","gi"),o=new RegExp("(%[a-f0-9]{2})+","gi");function i(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var r=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],i(r),i(n))}function a(e){try{return decodeURIComponent(e)}catch(o){for(var t=e.match(n),r=1;r<t.length;r++)t=(e=i(t,r).join("")).match(n);return e}}e.exports=function(e){if("string"!==typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"},r=o.exec(e);r;){try{t[r[0]]=decodeURIComponent(r[0])}catch(e){var n=a(r[0]);n!==r[0]&&(t[r[0]]=n)}r=o.exec(e)}t["%C2"]="\ufffd";for(var i=Object.keys(t),s=0;s<i.length;s++){var l=i[s];e=e.replace(new RegExp(l,"g"),t[l])}return e}(e)}}},function(e,t,r){"use strict";t.a=function(){if(!document.getElementById("menu"))return;o=document.getElementById("menu-pages"),i=document.getElementById("menu-user-items"),a=document.getElementById("menu-pages-icon"),s=document.getElementById("menu-user-icon"),(l=document.getElementById("menu-cover")).onclick=function(){u=!1,c=!1,p()},a&&(a.onclick=function(){u=!u,c=!1,p()});s&&(s.onclick=function(){c=!c,u=!1,p()})};var n=r(63),o=void 0,i=void 0,a=void 0,s=void 0,l=void 0,u=!1,c=!1;function p(){h(o,u),h(i,c);var e=u||c;h(l,e),Object(n.g)(document.body,"body-fixed",e)}function h(e,t){if(e){var r=t?"block":"none";e.style.display=r}}},function(e,t,r){"use strict";t.a=function(){var e=document.getElementById("mymaps");if(e){var t=e.getElementsByClassName("delete-button");if(!t)return;var r=function(e){var t=e.getAttribute("data-id");e.onclick=function(e){i.a.showCustom(o.a.createElement("div",null,o.a.createElement("p",{className:"overlay-title"},"Delete map"),o.a.createElement("p",null,"Are you sure you want to delete this map?")),function(){!function(e,t){Object(a.a)({url:"/ajax/map_delete/"+e},function(e,r){r?window.location.reload():t.remove()})}(t,e.target.parentNode)},"Delete","Cancel")}},n=!0,s=!1,l=void 0;try{for(var u,c=t[Symbol.iterator]();!(n=(u=c.next()).done);n=!0){var p=u.value;r(p)}}catch(e){s=!0,l=e}finally{try{!n&&c.return&&c.return()}finally{if(s)throw l}}}};var n=r(0),o=r.n(n),i=r(15),a=r(51)}]);
//# sourceMappingURL=main_4f48fcec.js.map